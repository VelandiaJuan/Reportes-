[{"id":"5f404c88.fa75a4","type":"tab","label":"Funcion principal","disabled":false,"info":""},{"id":"e86f0ca4.7feb5","type":"tab","label":"Perifericos","disabled":false,"info":""},{"id":"6c7d2db7.37ef34","type":"tab","label":"Protecciones","disabled":false,"info":""},{"id":"43b51d90.0b47f4","type":"tab","label":"Configuración VSD","disabled":false,"info":""},{"id":"ef673f81.6ec95","type":"tab","label":"SWC","disabled":false,"info":""},{"id":"8528a254.70837","type":"tab","label":"Eventos/Alarmas","disabled":false,"info":""},{"id":"827787d0.ede678","type":"tab","label":"Usuarios","disabled":false,"info":""},{"id":"68deacdf.9a36f4","type":"tab","label":"Datos","disabled":false,"info":""},{"id":"5ef5b1ce.d3899","type":"tab","label":"Navegación","disabled":false,"info":""},{"id":"d35c32b9.6419b","type":"tab","label":"Datalogger","disabled":false,"info":""},{"id":"3df4c8d9.0bdc38","type":"tab","label":"Funciones de control","disabled":false,"info":""},{"id":"8ba0552a.e27ca8","type":"tab","label":"Otro","disabled":false,"info":""},{"id":"d2972edf.3d6c1","type":"tab","label":"AVAS","disabled":false,"info":""},{"id":"ed83123a.a1745","type":"subflow","name":"VSDBasic","info":"# Información\nUn Subflujo que escribe commandos de Start, Stop, Reset y Sentido de giro a un Drive PowerFlex 755.\n\n\n**Requiere que se declare la variable global \"IP\".**\n\n# Entradas\n\n## Start, Stop, Reset.\nEl topic del mensaje debe ser \"Basic\" y el payload debe contener el commando deseado\n\"Start\", \"Stop\" o \"Reset\".\n\n## Sentido de giro.\nEl topic del mensaje debe ser \"Direction\" y el payload debe contener un valor de tipo bool.\n\n0 = Forward.\n1 = Reverse.\n\n# Salidas\n\nEl msg.payload contiene el equivalente decimal de la palabra de commando.\n\nEl msg completo contiene además:\n - Tema inyectado.\n - Commando deseado.\n - Sentido de giro solicitado.\n - buffer en binario de la palabra de control.","category":"VSD","in":[{"x":60,"y":160,"wires":[{"id":"f21a3359.cabb8"}]}],"out":[{"x":1500,"y":120,"wires":[{"id":"f7ea2ba1.d56728","port":2}]}],"env":[],"color":"#E9967A","icon":"font-awesome/fa-share-square","status":{"x":920,"y":140,"wires":[{"id":"212f0e9f.602f22","port":0}]}},{"id":"c32b74bc.a74b98","type":"subflow","name":"VSDParam","info":"# Información\nUn Subflujo que escribe parámetros a un Drive PowerFlex 755.\n\n\n**Requiere que se declare la variable global \"IP\".**\n\n# Entradas\n\n## Parámetro.\nEl topic del mensaje debe ser \"Parameter\" y el payload es el número del parámetro que se desea modificar\n\n## Dato a escribir.\nEl topic del mensaje debe ser \"Data\" y el payload debe contener el valor a escribir\n\n## Tipo de Dato.\nEl topic del mensaje deber ser \"Datatype\" y el payload debe contener el tipo de dato deseado entre los siguientes disponibles.\n\n\"REAL\", \"INT\", \"DINT\"\n\n## Dirección IP.\nEl topic del mensaje debe ser \"IP\" el payload es un string con el valor completo de la dirección IP.\n\nEjemplo: 192.168.2.10\n\n# Salidas.\n\nA la salida del nodo se obtiene el código de error proveniente del bloque interno de escritura de commandos.\n\ncode =0; Parámetro escrito correctamente.\n\ncode != 0; Error de escritura de parámetro","category":"VSD","in":[{"x":120,"y":100,"wires":[{"id":"c18f6110.baf78"}]}],"out":[{"x":700,"y":160,"wires":[{"id":"72fd7ed.498238","port":2}]}],"env":[],"color":"#E9967A","icon":"font-awesome/fa-wrench"},{"id":"11d568a7.09a5c7","type":"subflow","name":"SWC_OS","info":"","category":"SWC OS","in":[{"x":140,"y":110,"wires":[{"id":"1083899a.1b4716"},{"id":"9cc3f117.42857"}]}],"out":[{"x":620,"y":80,"wires":[{"id":"1083899a.1b4716","port":0}]},{"x":840,"y":130,"wires":[{"id":"3228637d.9e937c","port":0}]}],"env":[],"color":"#3FADB5","inputLabels":["Request"],"outputLabels":["CPU Temperature","CPU Freq"],"icon":"font-awesome/fa-desktop"},{"id":"bb78a8e.f8e5f58","type":"subflow","name":"VSDConfig","info":"","category":"VSD","in":[{"x":110,"y":180,"wires":[{"id":"aa3fafd7.15572"}]}],"out":[{"x":760,"y":180,"wires":[{"id":"7e6f340b.51d68c","port":0},{"id":"e5af86f9.f67c98","port":0},{"id":"39a68012.d603b","port":0},{"id":"78c6c402.eb8c0c","port":0}]}],"env":[],"color":"#E9967A","icon":"font-awesome/fa-line-chart"},{"id":"842d67ff.00f188","type":"subflow","name":"VSDRef","info":"","category":"VSD","in":[{"x":50,"y":40,"wires":[{"id":"603f9fa7.2436f"}]}],"out":[{"x":420,"y":40,"wires":[{"id":"1ab8ffa2.1e15e","port":0}]}],"env":[],"color":"#E9967A","icon":"node-red-dashboard/ui_gauge.png"},{"id":"1ae6c379.02ea3d","type":"subflow","name":"VSDWrite","info":"","category":"VSD","in":[{"x":60,"y":60,"wires":[{"id":"aa1b627f.089b4"}]}],"out":[{"x":640,"y":60,"wires":[{"id":"8c24ec8f.cf43c","port":2},{"id":"8c24ec8f.cf43c","port":0}]}],"env":[{"name":"Parameter","type":"num","value":"0","ui":{"icon":"font-awesome/fa-sort-numeric-asc","label":{"en-US":"Parámetro:"},"type":"input","opts":{"types":["num"]}}},{"name":"Datatype","type":"str","value":"REAL","ui":{"icon":"font-awesome/fa-file-text-o","label":{"en-US":"Tipo de dato:"},"type":"input","opts":{"types":["str"]}}}],"color":"#E9967A","icon":"font-awesome/fa-cogs"},{"id":"2657da37.013b66","type":"subflow","name":"User","info":"","category":"Users","in":[{"x":40,"y":90,"wires":[{"id":"f771788a.2843f8"}]}],"out":[{"x":530,"y":120,"wires":[{"id":"8f64c5d0.2e2de8","port":0},{"id":"7ac7e5a3.05d60c","port":0}]}],"env":[],"color":"#E9967A","icon":"font-awesome/fa-user-plus","status":{"x":710,"y":160,"wires":[{"id":"1c0ced5.0f93b13","port":0}]}},{"id":"f4a6b35e.fd0a3","type":"subflow","name":"Protection","info":"","category":"Protections","in":[{"x":150,"y":540,"wires":[{"id":"a15a7cb4.b3f51"},{"id":"e0f0c721.2f0368"},{"id":"600fc043.eaa6b"},{"id":"20131cf7.f33024"}]}],"out":[{"x":1190,"y":590,"wires":[{"id":"32df09df.1438a6","port":0},{"id":"f2e977d8.049be8","port":0}]},{"x":1190,"y":500,"wires":[{"id":"99413ec8.d0ac9","port":0}]},{"x":1190,"y":690,"wires":[{"id":"4db5015.cde76","port":0}]}],"env":[{"name":"Topic","type":"num","value":"","ui":{"label":{"en-US":"Topic"},"type":"input","opts":{"types":["num"]}}}],"color":"#E9967A","outputLabels":["Eventos","Disparo",""],"icon":"node-red/status.svg","status":{"x":960,"y":640,"wires":[{"id":"4e7c8a55.a1ffa4","port":0}]}},{"id":"46543e54.1f89d","type":"subflow","name":"DO Module","info":"","category":"SWC OS","in":[{"x":30,"y":30,"wires":[{"id":"ec6f2e76.31eb9"}]}],"out":[],"env":[{"name":"Channel","type":"num","value":"","ui":{"label":{"en-US":"Channel"},"type":"input","opts":{"types":["num"]}}}],"color":"#C0DEED","inputLabels":["Value"],"icon":"node-red/trigger.svg","status":{"x":450,"y":70,"wires":[{"id":"a561d7b5.e3c2e8","port":0}]}},{"id":"51296ca5.0c0cb4","type":"subflow","name":"DI Module","info":"","category":"SWC OS","in":[],"out":[{"x":360,"y":70,"wires":[{"id":"c9b9512f.10fa","port":0}]}],"env":[{"name":"Channel","type":"num","value":"","ui":{"type":"input","opts":{"types":["num"]}}}],"color":"#C0DEED","icon":"node-red/trigger.svg","status":{"x":360,"y":120,"wires":[{"id":"c9b9512f.10fa","port":0}]}},{"id":"4973034f.ff5fac","type":"subflow","name":"AI Module","info":"","category":"SWC OS","in":[],"out":[{"x":320,"y":30,"wires":[{"id":"3d932183.a9966e","port":0}]}],"env":[{"name":"Channel","type":"num","value":"","ui":{"type":"input","opts":{"types":["num"]}}}],"color":"#C0DEED","icon":"node-red-node-smooth/smooth.png","status":{"x":320,"y":80,"wires":[{"id":"3d932183.a9966e","port":0}]}},{"id":"c8b77ff3.ab501","type":"subflow","name":"VSDBasic","info":"","category":"VSD","in":[{"x":90,"y":200,"wires":[{"id":"d411e0cd.a63f9"}]}],"out":[{"x":1070,"y":190,"wires":[{"id":"d5c3f10c.5e2e1","port":0}]}],"env":[],"color":"#E9967A","icon":"font-awesome/fa-mail-forward","status":{"x":1070,"y":240,"wires":[{"id":"bfda390e.8957b8","port":0}]}},{"id":"e6caea2d.94f508","type":"subflow","name":"VSDReadPar","info":"","category":"VSD","in":[{"x":90,"y":70,"wires":[{"id":"430e037a.b0c2ec"}]}],"out":[{"x":590,"y":60,"wires":[{"id":"977ba8de.b9cf38","port":0}]}],"env":[{"name":"Parameter","type":"num","value":"","ui":{"label":{"en-US":"Parámetro"},"type":"input","opts":{"types":["num"]}}},{"name":"Datatype","type":"str","value":"REAL"}],"color":"#E9967A","icon":"node-red/parser-csv.svg"},{"id":"669c188.bd26ee8","type":"subflow","name":"Load Protection","info":"","category":"Protections","in":[{"x":140,"y":540,"wires":[{"id":"f1812910.8d9828"},{"id":"634c5f4b.e2a1f"},{"id":"2937bd81.e5c532"},{"id":"efd9769a.59f568"}]}],"out":[{"x":1140,"y":590,"wires":[{"id":"e8d0ffe2.c759e","port":0},{"id":"f8001e7b.b1dab","port":0}]},{"x":1140,"y":500,"wires":[{"id":"863970a6.f49b7","port":0}]},{"x":1140,"y":690,"wires":[{"id":"166fc0d1.96b29f","port":0}]}],"env":[{"name":"Topic","type":"num","value":"","ui":{"type":"input","opts":{"types":["num"]}}}],"color":"#E9967A","icon":"font-awesome/fa-flash","status":{"x":910,"y":640,"wires":[{"id":"4902be9c.2fed1","port":0}]}},{"id":"3383e29e.9b29fe","type":"group","z":"ef673f81.6ec95","name":"","style":{"fill":"#bfdbef","label":true},"nodes":["798ac169.6edda","20490d7e.8acac2","88ac83a3.561a3","4906fc64.1e6a14","4aca35c3.0308ac","1cb59f89.cf5d7","bd579703.22d958","1478ddff.860e02","98ca0b1c.cda4f8","bb03c26f.a7a22","b234b8c9.aaba78","d43fb27a.273b3","82d933f2.bf653","215d0cd9.9dbe64","b3d012ad.1b24c","606043c3.15614c","2939a4d0.1f6b6c"],"x":144,"y":19},{"id":"95e4279e.465018","type":"group","z":"68deacdf.9a36f4","name":"","style":{"fill":"#bfbfbf","fill-opacity":"0.5","label":true},"nodes":["3f228908.0d0696","58926891.1f2dd8","991382e7.7f2e6","91feb623.ce89e8","a035a752.10f9d8","195d3093.36368f"],"x":84,"y":13},{"id":"f7ed166d.1aa528","type":"group","z":"827787d0.ede678","name":"Usuarios","style":{"fill":"#ffbfbf","fill-opacity":"0.5","label":true,"color":"#000000"},"nodes":["f3c2e7cf.5ed158","eb91dac5.690838"],"x":128,"y":13},{"id":"6b3fc99d.7d45d8","type":"group","z":"e86f0ca4.7feb5","name":"Diagnóstico de Red SWC","style":{"fill":"#bfc7d7","label":true,"color":"#000000"},"nodes":["a6590a31.100138","856da30f.2df08","e9b62f95.1b77f","7342b43f.bedb2c","df476a8b.883118","3663f735.969b68","fb855c25.47e4a","babc7e0a.35af5","ef1ec9d.e6ba638","4933a716.e0ed08","ccd73af1.690d48"],"x":14,"y":2769},{"id":"25cd4464.cad59c","type":"group","z":"ef673f81.6ec95","name":"Piezo Buzzer Control","style":{"fill":"#bfdbef","label":true,"color":"#000000"},"nodes":["8034138b.0dc72","10568812.f7a178","9fc0b21f.a5027","13963619.b19a6a","1a75f72d.2bf409"],"x":144,"y":631.5},{"id":"c0366b36.2372f8","type":"group","z":"ef673f81.6ec95","name":"Configuración de Red SWC","style":{"fill":"#bfdbef","label":true,"color":"#000000"},"nodes":["dad30d1f.4d19","afcd8074.a7f4c","f9b02319.63798","1f8da294.c0c84d","e6585c00.e504c","20f79db3.234842","77ee5b63.0c04b4","4667d023.b612f","2aac0837.208b38"],"x":144,"y":299},{"id":"e0133d8.e6db5c","type":"group","z":"5ef5b1ce.d3899","name":"","style":{"fill":"#bfc7d7","label":true},"nodes":["4c8f5a04.095bc4","abd0a82a.ab2348","7f485fc5.63768","90937545.972c78","2409fb72.507894"],"x":1754,"y":19},{"id":"31baddff.ea0922","type":"group","z":"8528a254.70837","name":"","style":{"fill":"#dbcbe7","label":true},"nodes":["5538dea3.2170d","ba93352a.05c2c8","71a2d93c.a0e7b8","9a7b58a2.fb2708","e8691e07.796b8","33074282.f772de","1de5018d.f87c5e","f4d7e7b4.768fa8","c3828a55.9caf08","4700d2e1.64485c","510145ab.b5bd4c","6dac98f7.ec5cb8","f2cccf9c.cf4c4","e36370f8.236cc","ea2cdff7.1ca41","453f1499.9c3efc","61696fdd.aa672","704ad7b8.7027e8","6a8c02f7.f4d81c","6c6274de.8a002c","cb3f54ff.b48688","750edf0f.0b80d","3b18545b.ad536c","b2ff0ea9.38896","23a4de49.b420d2"],"x":14,"y":239},{"id":"7a498b99.415234","type":"group","z":"5ef5b1ce.d3899","name":"","style":{"fill":"#bfc7d7","label":true},"nodes":["c9848ab6.981718","ac1f5c0.f7b06a"],"x":18,"y":13},{"id":"7b6f4b41.106164","type":"group","z":"8528a254.70837","name":"","style":{"fill":"#dbcbe7","label":true},"nodes":["11f55817.139c18","cf57802e.7d258"],"x":4,"y":13},{"id":"f2c899e7.e9eac8","type":"group","z":"e86f0ca4.7feb5","name":"Entradas","style":{"label":true,"fill":"#3f5787","color":"#ffffff"},"nodes":["23bbdddc.b8c5c2","1027a10.a1e515f"],"x":12,"y":7},{"id":"c17de691.f363c8","type":"group","z":"e86f0ca4.7feb5","name":"Salidas","style":{"fill":"#3f5787","label":true,"color":"#ffffff"},"nodes":["d22a2793.24a988","ac67f4df.445778","de6d41a4.0f4d2"],"x":12,"y":1637},{"id":"68e6bb30.d1fce4","type":"group","z":"43b51d90.0b47f4","name":"","style":{"fill":"#ffbfbf","label":true},"nodes":["6cdd72bc.8124cc","a7e99088.c8108"],"x":269,"y":73},{"id":"43bab036.712ca","type":"group","z":"43b51d90.0b47f4","name":"","style":{"fill":"#ffbfbf","label":true},"nodes":["27c43941.e9e0c6","e9d2f5f0.86a518"],"x":268,"y":533},{"id":"27a0641a.d154dc","type":"group","z":"43b51d90.0b47f4","name":"","style":{"fill":"#ffbfbf","label":true},"nodes":["c41a251e.427c98","1306de9a.9ba341"],"x":268,"y":1243},{"id":"8a04702.34fd29","type":"group","z":"43b51d90.0b47f4","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["6817551.a1c08ac","fa33f7fa.bf0bd8","824358e3.5e87b8","e1b497b2.06f878","8166c609.8e8328","49534500.cd9cdc"],"x":2029,"y":75},{"id":"f7d4f68f.ac6a38","type":"group","z":"5ef5b1ce.d3899","name":"","style":{"fill":"#bfc7d7","label":true},"nodes":["25d1d69b.64e0ca","9132da2c.b8c6b8","f78dcb63.bde038","90ebdbed.1907a8","311890ad.cc4ed","8a7f783.a732b88","8c3082f9.73975","215bed4c.7858c2"],"x":818,"y":13},{"id":"aa1ba550.cbd9d8","type":"group","z":"5f404c88.fa75a4","name":"Nombre del pozo","style":{"fill":"#dbcbe7","label":true,"color":"#000000"},"nodes":["41a6416e.309fb","ddd3ba80.4f0788","2acca295.66b21e","8d4d7.c3fc3b29","47e5c17d.f308"],"x":614,"y":1469,"w":872,"h":122},{"id":"1dd5b051.a95e6","type":"group","z":"d35c32b9.6419b","name":"Datalogger","style":{"label":true,"fill":"#ffefbf","color":"#000000"},"nodes":["4ea7eb06.9f2174","7e0625da.a5746c","ccef2ff8.d103a","4a152bf2.aedbf4","ac8dba55.436ca8","b92820bf.a85cd","53de6e8d.a41ec","7409201c.daf43","793ef4d5.ef60dc","556daeb1.5f8c4","458b1cd4.6b15f4","c16175a3.4e3dc8","6e2e57d6.1acb68","c0a93ee0.0bece","bb20b02b.93fbf","87d327f9.2d5698","a5965533.262318","8b735152.e0f1d","a88b1b0d.338558","1770e069.fa06e","a1296c3e.0467d","7fcfdd93.ac45a4","15d31797.55bf88","96675df9.60de8","65c0afcd.8388","70eee707.21eb08","3b3e865c.e649aa","89541385.7f5a6","bc74ae1c.8050f","7d3c0e90.bc175","64bd474c.8651a8","c2a083b6.80ece","e19ab68f.2ca7d8","7e9f72bb.cc0ccc","f125f8dc.4fc0e8","acd83647.191f48","ac947de3.26a6d","3300d502.d9f2da","669ee12e.3c9e4","bedc0725.f22738","3c51eaef.2751d6","e3de11a.525d4f","2ffd423b.f2a4ae","4cb76011.15326","6b7af496.0913bc","5c0f44f8.2977bc","b59d2d9c.bc7c8","a222d060.87b67","27ab586e.ff3e28","4c30ceb7.d240a","4e129740.b3ea78","a28ff141.b8c37","b9ed60ab.26f43","882afa67.5605e8"],"x":24,"y":19},{"id":"74789700.1df498","type":"group","z":"e86f0ca4.7feb5","name":"","style":{"fill":"#bfc7d7","label":true},"nodes":["d55ab14e.37d05","1ebf6b2.52e8695","609f652a.1629bc","b73ecfac.dd9a5","8b8bceb8.c893b","5ffa1ec7.3e093","8197176b.7639a8","8406554a.894a38","9e2b819.de0ee8","cbe5848c.3678c8","11e153a8.ba3aac","23a2e534.c227ba","61519ed8.7e8ec","535d826.d0f777c","72b052e5.3c117c","87f9add.d16445","767c6edd.e99ef","b5f98fab.54e65","ad35e08b.93dd","4671117b.65e3c","385d9987.52a636","225b9d03.874c32","d42fcc39.f4823","18bd4053.0ce7f","2faeafb3.f06ad","b25a670a.e0cc68","6204d467.e3a61c","8d22ea2a.213e08","82f203e8.c02ef"],"x":2844,"y":9},{"id":"8341562d.ffacc8","type":"group","z":"d35c32b9.6419b","name":"Tendencias","style":{"label":true,"fill":"#ffefbf","color":"#000000"},"nodes":["5ff12c29.d4cc64","4eb2e67c.e57628","da3ae781.998328","e60e8bfd.7a3248","b19ef7d3.42ea68","9dbc79d1.85ede8","9e9a162d.d4b0a8","b509ce91.c5418"],"x":28,"y":473},{"id":"58f712f1.3e5eec","type":"group","z":"ef673f81.6ec95","name":"Fijar dirección IP del Drive","style":{"fill":"#bfdbef","label":true,"color":"#000000"},"nodes":["6ba29ec9.ca738","225e0422.f4c54c","e5d62358.6f646","5bdfa98d.170d08","82e7028e.38e78"],"x":644,"y":299},{"id":"353eeed0.7959d2","type":"group","z":"3df4c8d9.0bdc38","name":"","style":{"fill":"#addb7b","label":true},"nodes":["fbbdc4b7.95b5c8","84c9494b.d4dbe8","ab7a4a2c.17d8a8"],"x":48,"y":643},{"id":"e3aa057d.09fb18","type":"group","z":"3df4c8d9.0bdc38","name":"","style":{"fill":"#c8e7a7","label":true},"nodes":["dad84feb.d4773","7aad629d.de652c","8f8a192b.bb2ef8","b9df7528.923398"],"x":48,"y":1753},{"id":"a163450f.bc4438","type":"group","z":"ef673f81.6ec95","name":"Iniciar el servicio kiosk desde Node-Red","style":{"fill":"#bfdbef","label":true,"color":"#000000"},"nodes":["316f57da.0f2fc8","f4208b50.a8abc8","5f07f1b.ac4631"],"x":144,"y":521.5},{"id":"b55b6178.ef377","type":"group","z":"5ef5b1ce.d3899","name":"Menú Monitoreo Entradas/Salidas SWCPRO","style":{"label":true,"fill":"#7f8faf","color":"#ffffff"},"nodes":["c1b971d5.d569b","e803a739.db17f8","1b4be866.c708e8","ad513f4.2f74fc","503b4883.fb3c68","efd996cd.90e648","e6e875a0.3f91d8","476a789d.6fd428","b4f36c30.74091","53875927.5a9b18","9b29345d.646748"],"x":814,"y":1859},{"id":"4888c9a8.82cb88","type":"group","z":"68deacdf.9a36f4","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["17c31216.1aa6ce","9560ef4.a49141","f185a628.7c4598","b5305a67.80d008","52cef377.daab5c","f84640f8.5f42e","847c409b.80c02","76192ad6.067fa4"],"x":1298,"y":13},{"id":"2fc65bf7.d30fb4","type":"group","z":"e86f0ca4.7feb5","name":"","style":{"fill":"#bfc7d7","label":true},"nodes":["cb16cea3.9311e","56b9f9c.38c5208","5039e78a.ed1d88"],"x":14,"y":2679},{"id":"96c06653.552da8","type":"group","z":"d35c32b9.6419b","name":"Trend Staggered Start","style":{"fill":"#ffefbf","label":true,"color":"#000000"},"nodes":["8849a3f7.9bc5c","55ada7e8.48e908","da1755b1.3969a8","87c65176.454a3","8dc70b63.8db398","6cb6e6d5.480798","d1fecbd.301b138","cea13bfe.739068","ed0df9a.c740c08","f6342c49.36019","a561eba3.47a5f8","d7f76c0e.485b3","5bacb488.41284c","55be084e.2ad3b8"],"x":24,"y":1709},{"id":"440775ff.2a92fc","type":"group","z":"3df4c8d9.0bdc38","name":"Información para gráfica Arranque Escalonado","style":{"label":true,"fill":"#e3f3d3","color":"#000000"},"nodes":["a283dc1b.7c48f","d7a20d07.4ac76","ba5f4e4b.e55a2"],"x":1204,"y":1209},{"id":"aafad2ba.dcc8b","type":"group","z":"d35c32b9.6419b","name":"Trend Harmonics","style":{"fill":"#ffefbf","label":true,"color":"#000000"},"nodes":["5b529f4c.7ffeb","6c9ed5d3.e7799c","76a74813.5dd3f8","23815ef1.931a32","2b47642.2404d9c","eddefb96.175bf8","a5c181ee.2efe1","b54a4559.022378","3ea5879e.bf0588","c8aa3a95.12b518","20b8681c.81fd48","ec03441d.979088","8c73338.8deb8d","3ccbaa0b.2db096"],"x":24,"y":1939},{"id":"c57d2588.a42f68","type":"group","z":"5f404c88.fa75a4","name":"Local/Remoto","style":{"label":true,"fill":"#ffbfbf","color":"#000000"},"nodes":["463cab1e.a805d4","2e03fe57.8c60b2","5f8495ce.db632c","7b33059d.fa394c","ce30a63b.0bdbd8","938aa2d6.74dae","d3482e86.9d4d5","1995f952.35b347","8f8e4fb5.2d9b2","935ca480.525e98","17133f68.94e5f1","40c12bb3.ead9f4","3cbffb1f.402f24","49449801.c79e48","bed2c4af.623ff8","ee32febf.664d4","ba17111f.99209","a0ac95a3.e40228"],"x":1074,"y":69,"w":1302,"h":242},{"id":"63291ccb.08e434","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#addb7b","label":true},"nodes":["aa324282.4f554","bf91bfd8.84eda","f58295c0.4d4228","f7a3cb7b.69e4d8","f981eb1b.025a78"],"x":58,"y":63},{"id":"b586885.2404778","type":"group","z":"5f404c88.fa75a4","name":"","style":{"fill":"#ff3f3f","label":true},"nodes":["dc098d16.abc16","dde9e22c.88ef2"],"x":92,"y":17,"w":4450,"h":1216},{"id":"57eba231.4d56dc","type":"group","z":"5f404c88.fa75a4","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["e2589faa.5b6d2","e9e93a2c.deeb18"],"x":98,"y":1443,"w":374,"h":264},{"id":"75ca0b0c.5ff524","type":"group","z":"e86f0ca4.7feb5","name":"Eventos I/O","style":{"fill":"#3f5787","label":true,"color":"#ffffff"},"nodes":["7d437608.8781c8","6e837680.b705c8","58faeca6.e95934","edf47f97.68e64","675d7e0d.b5798","e45d336f.9503d","40bc37d4.aa90f8","c099945b.08bf98"],"x":14,"y":2509},{"id":"40cf1345.13cc7c","type":"group","z":"e86f0ca4.7feb5","name":"","style":{"fill":"#3f5787","label":true},"nodes":["46208c12.9b8aa4","7f0ad68d.a88dc8"],"x":2848,"y":1123},{"id":"aa2fba7e.146688","type":"group","z":"e86f0ca4.7feb5","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["3a6bee4b.22d342","ebb7241e.548d68","f059af07.db923","beae8e2f.5f80b","2c9e0a71.c34ce6","341c89fa.21c126"],"x":2858,"y":1953},{"id":"aaa733ec.38139","type":"group","z":"68deacdf.9a36f4","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["2d99a6be.27522a","1603eae4.5882e5","791c434e.8fdfcc","cc9cb39c.18827","f6083665.184228","a03df1c0.039fd","c952a4a7.338728","c7928d3f.6b95f","48ae9e90.9011b","9bfc4b14.b3c7a8"],"x":84,"y":1389},{"id":"262051d5.79c84e","type":"group","z":"8ba0552a.e27ca8","name":"Cambiar Splash","style":{"label":true,"color":"#000000"},"nodes":["aa3c422d.31446","4a92f2f5.dac4fc","6b91a284.15037c","5e35a538.cad0cc"],"x":14,"y":251.5},{"id":"93269d6d.f01df","type":"group","z":"e86f0ca4.7feb5","name":"","style":{"fill":"#3f5787","label":true},"nodes":["70d8d562.df63ac","e2e299a6.d3c5c8","f6e30287.8d13d","f6e30287.8d13d","f6e30287.8d13d","f6e30287.8d13d"],"x":2868,"y":453},{"id":"f766f95b.4e6278","type":"group","z":"e86f0ca4.7feb5","name":"SCADA TCP / SCADA RTU","style":{"fill":"#c8e7a7","label":true,"color":"#000000"},"nodes":["590465b6.4ae93c","1f5ba763.537da9","daab098.dcf81f8","72d596c0.d63af8","e9678f2c.47c62","c4c078bf.1f98e8","285b480c.d0f7a8","779d3154.c1b8e","43a584bc.6d66ec","70af4a89.bf1b84","1e165b65.d6c425"],"x":3334,"y":2869},{"id":"8f02baa.cd86a48","type":"group","z":"e86f0ca4.7feb5","name":"Control RTU","style":{"label":true,"color":"#000000"},"nodes":["139c1f0e.abade1","7f604934.3e3958","9205d7e0.ff53d8","87774c25.375c4","ed6013f0.33cee","a47abf3e.b59be","afc5c849.968498"],"x":4194,"y":1219},{"id":"e41c42c4.24372","type":"group","z":"e86f0ca4.7feb5","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["ff7e622b.cbe3","6c2761b2.1cac7","10f739e5.6ce8d6","7940a891.ccd658"],"x":4194,"y":1129},{"id":"7dbc5902.4206c8","type":"group","z":"e86f0ca4.7feb5","name":"Control TCP","style":{"label":true,"color":"#000000"},"nodes":["8ad5beb8.173b5","d26ae57.89e2118","e0e98cce.54d61","3f39afa6.aebe1","fe05fe43.ad5f9","eba2d655.522b48","923454af.73d8c8","ec35814f.e4c98"],"x":4194,"y":1719},{"id":"51885913.764608","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#e3f3d3","fill-opacity":"0.5","label":true},"nodes":["f20d743b.8f1ae8","9879ef49.93bf","51d04077.f80bf","deaa0e2e.28e19","1cc2d728.54fb09","7c70377c.b4ae48","6622800d.ba7da","a9faa567.a64398","d116f23d.cc4a3","1b55dcc8.5819d3","fc17c06c.acffa","f102662c.8f0fc8","97925335.78553","8f90abd2.71ca98","471b8ebe.ebd96","5b1d2927.d1b308","ebea3def.ed3e8","21eed523.11447a","6542eb5f.278a44","dff3293.985e0d8","a13aa793.6d5958","417b61dc.3bc9c","96202ced.2d14f","b0c6f4cf.8adde8","3384822b.910e1e","9621ae2b.31111","cb12dde6.c272c","3c3fc25f.9c4dce","f06b900e.9d7cc","55ade534.9df4fc","dec10cf6.2f956","c1246694.d07138","2cd079.27675f88","806e7b59.38e138","a210ddee.c7129","6d73a85a.f42f18","f016e07e.fbcde","cb0d324.9efa3d"],"x":1634,"y":149},{"id":"35440cdc.e5d764","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#e3f3d3","fill-opacity":"0.5","label":true},"nodes":["5cde6087.192be","c247524.b0573b","ea323d75.a5cf1","cfbb9853.8b8ac8","badfd33e.f1ea","7cf8f013.bc0ad","7064736d.16021c","47dd7297.3c11fc","91e27d4d.24ec7","2da503f8.07291c","9369e45e.ca1fa8","1ec15d40.fd09f3","bd3ac661.673888","cd0132de.28ef2","9b498fd7.493cf","2b999efc.767842","d37e22c7.8958f","2c25b9aa.58cde6","28f973b0.1c354c","6829005.b62e3","112f0c7f.98c2c4","5131bc8d.e72484","8638e91.f1d9618","9f6c778c.dd65f8","807ce42f.663038","d596bd95.36ac7","c16ccd29.4c0fd","7489c0c1.72eaa","c7386ae5.f34358","9fad8a58.994598","bf640dd0.241e2","ceffd9dc.9d9c28","d54f3181.5d7ad","3e39b5ec.dda60a","15aef3d2.fbcebc","ca4807a6.e20fa8","527b631b.e975ec","5bf3fb88.25b264"],"x":2614,"y":149},{"id":"888265d9.138288","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#e3f3d3","fill-opacity":"0.5","label":true},"nodes":["c49b79d1.a4a3b8","35830ee2.4789a2","9431bf1.ace564","4406e6f2.49d418","402fd21b.93e37c","be419375.1309a","3aab3d8a.4f5cb2","fdc58cf2.60fb5","cdda7c15.9b834","a3005f26.9c6f9","f9e3db2e.79bad8","e552bb7f.7cd1b8","1d496804.d2c2f8","4160bf9.173304","f9d899c1.161488","1e6715c8.358b2a","4a19a55c.029b5c","b2b661cd.df409","dbacee46.2b006","faa2c727.765558","f924bdb0.5be41","1865ce38.af04e2","29688391.2998dc","7463a6d.8f98458","4b0117c9.906a28","735fcd8c.139204","62792eb4.ed585","b215f346.b41bf","15cdc18c.2d1afe","e940bc9d.487ab","3927678c.1ba258","efdfec7f.80deb","4d839d32.72a8f4","28fd8b2e.2b37e4","49f4bc47.e792b4","b2bf10ae.1293f","2a0281a3.689efe","ea97a2e4.6a67d"],"x":3554,"y":149},{"id":"54b245d3.9431dc","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#e3f3d3","fill-opacity":"0.5","label":true},"nodes":["e61d4a61.e53858","c2250f98.0d359","a526c702.97fae8","e5d51105.c7ff6","e0cc3f40.9ec5c","3886347c.05aadc","db30b407.1a7568","aa7fc893.e7f238","f5bb9109.f3ee9","c121793e.08fd78","953d1543.ba90f8","aeb719f5.a80828","4a731ce4.a7a854","54781f62.2457e","3d5fce47.6c25d2","5798187e.286368","7a934c21.2ecb84","3bb485e.5c59e7a","54738e5b.62f9d","8a8eddbb.01d1b","a454cef5.af8fc","bfcf1d22.6a633","cff15ba9.0519d8","403e0e9.7738af","68dc5746.f43798","5705aa78.5d51a4","ce9bc7e2.b5ae88","20a20d73.57b622","e280d419.905258","3f5e77fb.ba40f8","561da518.30b27c","e386a315.a703f","33575158.040bce","f1b01bce.f6aca8","3dd23d60.3a9252","217a7e83.476b12","5ba4a28e.be396c","b636759a.1af358"],"x":1634,"y":749},{"id":"58747709.2ffd98","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#e3f3d3","fill-opacity":"0.5","label":true},"nodes":["bb0d981d.727c38","c6237d3d.8ab13","e4d77b34.0e69e8","f15261a7.5b9b7","597d509a.97049","d88d36e1.6c1a78","f2e33ee6.334d6","1fa6726c.71384e","5c22c963.73c3c8","2e5d68dc.858698","bb669792.76b798","cd53a4b1.02cee8","7458a005.66f77","9bea7e46.26625","3113c7be.11c838","a6333e19.ef71e","9146ae0d.3af17","2bd5723a.161dee","24ff573d.b4ad38","fa92c1eb.77342","4d772326.e83ecc","4ec0aff2.fb6d","e01553c7.65a86","d84150ed.51b5c","5bf3855e.8a14bc","3bced553.64606a","1aa3aef6.22fa21","10708263.2b625e","4fa4208b.9e6ec","f262ad5b.79dde","bc1d2c03.fbe0e","8504e8d.5781318","fa27ee3.dd7941","11e71592.43ecba","12d295a5.7cda8a","5eb0694e.8b93e8","174a50b7.39ca9f","86aeff9f.23163"],"x":2694,"y":749},{"id":"4b571a8f.d70524","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#e3f3d3","fill-opacity":"0.5","label":true},"nodes":["81ff8c6b.e369f","55ba2fb8.d5992","f179284a.884a28","7e134a.7a0facb8","b65f868e.fb2a88","8c436e.5a8edc9","c92bfd00.2798e","2f46d7ce.92d298","11676fef.03085","1f22fc42.e793e4","e6e945d1.72b968","f5287419.d23a28","f6a753ca.d6306","49379c96.283dd4","32f9531b.a08ddc","6576783e.0b9e38","64363868.0e3af8","f0ff8de3.8e9a7","f20a0ccd.95dc1","e5a465ce.be26d8","c9db83bd.21e72","ab4f9b0e.b58748","62cfa401.544bfc","fa38bc67.7796a","224de176.531cbe","2d9b97ec.afb1f8","defdcfa2.787fe","40dcb368.34489c","c07a38bc.f59cb8","2988bb53.335914","a5ab5c99.0daba","41e32d9c.3f35a4","99ff714a.7a819","49ed0754.2b0538","8391ee25.6681c","612144c8.db8e4c","ef41c61b.f2f998","3368017a.de213e"],"x":3794,"y":749},{"id":"b7d3914a.2a17","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#e3f3d3","fill-opacity":"0.5","label":true},"nodes":["22d301f6.875ece","6025a752.a41498","acb547dc.dacae8","e4c38850.c159e8","944db7b8.e26aa8","d3c40146.c0499","72890c6a.8ea9b4","abd14615.8c65b8","8c9d72ab.fe0b3","806c85f.8dd7f78","9bf3743f.352588","76f117ca.92d3c8","516c4379.8b3fdc","92c3216b.2a08e","696af8b.6cc2208","4ce429b2.16f6c8","fe3c6368.9f449","8ffa507a.b48d9","1fd0f6dd.0e2919","45c7a3ac.94d28c","f9ffe747.d73e68","7ab3478d.9c0738","352fd76d.913c58","5effee23.67b21","6962b205.fc1aac","5f190ad1.a98134","605b4eac.e17f5","81c4a37d.8c2cd","62e71307.8e355c","3e1aa9bb.34b5e6","2037d4fa.74488c","eb0a77ea.6300e8","64688fe5.072df","8a84bba5.928628","de936866.24ffb8","c3763f57.e2b75","c7c53db4.79034","ada97752.874638"],"x":1634,"y":1349},{"id":"a3b836be.d5cde8","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#e3f3d3","fill-opacity":"0.5","label":true},"nodes":["d0aea037.561e6","da6b73c3.c5088","c3ac0f93.10065","8744b13d.803ec","25f0acc3.0a6fc4","76a3c3a8.b87a3c","5a5b3612.b68658","5a8d8eed.904ce","3722b470.b0f71c","c6106d57.b8b1a","154aa5c9.dabe0a","4ecc9d3b.ddab74","5f37b60a.040e98","c507c3c.4a6f44","6f1ff079.8108","605ef006.c23d","2502b655.62606a","d5b43321.fafb7","4e35be9.a66a84","b5a8c2ca.49dc9","5e1757df.5b1588","71026936.0a1168","6e9d6483.a1fe8c","2513b275.f44c6e","2fd7693.e40dd96","1d418876.417d38","b25b555c.1ced68","d55ef8f4.b385f8","f08b112f.2c935","bed22736.50e648","96adec74.08397","722cbad5.ee51b4","e44c2e4e.679a2","3cab3ca5.8a90e4","46731d6f.af2214","4b370d9f.00c294","dfebd1a5.7fa3f","739b4fcf.1c18"],"x":2734,"y":1349},{"id":"53806295.7831ac","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#e3f3d3","fill-opacity":"0.5","label":true},"nodes":["191ae243.ac0bde","7540e2.26d57f2","a733b9b9.cda278","2adccd69.57bb72","26cf091b.0dbae6","69b368d7.dcea78","353e5f5c.3308c","deaa71f0.41ac4","2ccb33c5.6a40ac","29c58a6d.2469b6","a5239eba.e811","b256fdee.aab19","15fa8e12.ecb012","305c4471.75d26c","2f390198.4111ce","c72f1ab6.e07358","ecc85f63.cecce","3cc53ea.7b20ec2","a42f96d0.192458","77bf0d67.408d84","ac20c1c9.e237b","f3237f0e.ad13c","b8413d80.707c1","45ab58b1.dff618","d69924a4.339048","b3ff66ec.1baab8","5b8035f.4577ccc","60cb248.67e94dc","f20f1ff3.7073b","db468536.d0b718","7e59ed5e.19cdf4","ef36995d.9e4a68","aba058eb.11c338","4d351b9.638afe4","b9eeec2b.8259d","b116daf7.152128","6456f2d9.f929ac","4fe0e535.f16e5c"],"x":3834,"y":1349},{"id":"dabbb1f4.9b65e","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#e3f3d3","label":true},"nodes":["485a456c.532fdc","a72a1eba.19d99"],"x":1634,"y":59},{"id":"96de1dd.d202ce","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#e3f3d3","fill-opacity":"0.5","label":true},"nodes":["11192115.39c13f","13694017.27b08","24e1264d.fdabba","122ef64c.3ae8ba","97bcc143.4e578","31819568.f63f7a","3db49137.d5777e","2001f459.49ea2c","31f81a59.68eba6","38731e53.dd7e22","2dda1a49.745af6","4e291eb7.b1f7c","c9fa9954.495de8","65ea504.1463cb","76a86372.a1c97c","5057ee41.f1c8b","aea41d11.08627","d220dc59.d47fd","5329f860.06e4c8","c59e8276.240c1","da4fbd04.a0b7b","115a3a1e.04bb26","5daa492e.21ad28","1081aab9.d37e15","c1fd6519.eb42c8","6059faf.ec6b604","84312088.0f427","67445fcb.79ff5","a6ba668b.f81658","43a5b905.741b68","84f916c4.487e88","2b6367d9.53f3b8","12d0ed7b.82c653","38307403.cf947c","7f0a6aac.56c2e4","510f7e2d.19768","fee22da1.cf7a3","5f1b7de2.8dd7c4"],"x":1634,"y":1949},{"id":"d0981fa6.05ffc","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#e3f3d3","fill-opacity":"0.5","label":true},"nodes":["fe4f7d6d.c4038","8a4a9f49.b18b","bb5d099e.f64628","656848a9.9a2568","5e363d00.a7f024","1c8bfe50.8ea0b2","d790dd2a.82ed9","70434377.3fc80c","2c29b518.c8c7ba","4c248421.50946c","8fe07de0.4b197","9e4ab8bb.7df648","ab336375.882a6","9d31b550.f3b658","e62d61a0.792be","712a8c14.fba014","ce95b4b3.558f78","df0fb4c1.829758","80d09d23.145ab","3b458b9.d308c74","9e4c0e3a.b2c81","32d5db5f.28b024","8e72b846.480408","cfb548e6.5535c8","fea12b7e.cf54e8","ff965b9d.04ab08","b70c316c.bf762","e98b8d42.39fc1","a2b8f5f8.dc1458","44bee41f.d6b33c","afc6dc93.d1b5e","7f1e1729.4d9648","77f1774e.dbb788","bacec764.887808","68d09f4c.75c3","b1d4c6c7.e41b28","762d9b5e.dd2f54","9481caa7.5d67e8"],"x":2615,"y":1959},{"id":"4b9b7d58.136ec4","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#e3f3d3","fill-opacity":"0.5","label":true},"nodes":["7966caaa.ae6604","ccdff3fc.77dad","ef1708b5.6dbf08","505848.311547b8","1010a1ff.9efcae","4264f6a5.05a978","c3477d22.a2bf2","1606e92f.343d27","94e22883.b2ca28","28eb0f54.f6344","5c4bf7c1.28d038","c7f64966.e52118","5ac92d83.8ef464","609a01fb.e9bd2","2ca6962e.bea82a","ccee1f01.d86f6","3f36fdbf.bcd202","3eb3799b.991206","e5db77c8.d80ac8","5e2c2b0b.2a6574","a1b33434.e6b6f8","c3b0de8.3c9f62","74ae13b2.d84b2c","d92ab143.a5fbd","e8e6cc8a.db8a4","22b69227.d337ce","60014555.42fc6c","cf13db1b.794678","f2b12728.28f7f8","3063907c.0ca7c","8b597893.8c03c8","e9eaa4a5.b63938","8eb993d8.86438","6d92a416.15af1c","de47dc7a.faec9","8bf70c70.b8647","14cbd083.e1890f","c2a4f4bb.6e2aa8"],"x":3565,"y":1959},{"id":"d84615.919209e8","type":"group","z":"3df4c8d9.0bdc38","name":"","style":{"fill":"#addb7b","label":true},"nodes":["6150cb44.a8b4c4","675af0d1.a9fc4"],"x":52,"y":17},{"id":"854dec5e.9e51d","type":"group","z":"3df4c8d9.0bdc38","name":"Rocking Start","style":{"fill":"#addb7b","label":true,"color":"#000000"},"nodes":["c30870cb.fa25a","f3b2b1b2.a0af2","4384031.9ff1afc","b4d97ea9.9a1f1"],"x":2158,"y":13},{"id":"3d68b202.2bc67e","type":"group","z":"e86f0ca4.7feb5","name":"Modbus","style":{"label":true,"color":"#000000"},"nodes":["5ee94db4.b60d74","682721fc.1e458","7ca51295.5a262c","70e044c9.541bac","e21d805.baeee8","c5b06e6.28ef89","e550a5ce.6fa378","28127983.0b49a6","64a5df1f.da707","56bab1e3.180fc","3e34f619.18cefa","e1426513.b6ead8","7902854d.6ff0fc","627acbf5.125454","244f7039.904c2","c6ca8fcd.c9acb","e8c9fd54.734fc","1d64366a.a3cfea","52fe075b.487798","8ae178b2.678558","d6696a76.a52418","f4e3682b.f045c8","ddc6bfd.136e24","f78d5a67.c13168","a5c076e6.b3cdf8","85366b43.f6bda8","bc8762e.9b52fa","b1cb2195.c8a37","df086dcc.f3e5","8f903bea.3e5c78","efcf76de.3c9038","73a225c4.f6a26c"],"x":1304,"y":2509},{"id":"1a2c71e0.bd05fe","type":"group","z":"d2972edf.3d6c1","name":"Gráfica IPR","style":{"label":true,"color":"#000000"},"nodes":["cf8af234.7080f","eeb74e26.02437","cb802800.5ab818","d2362d4.b7c40d","debf988f.cbfee8","f9233058.fe67f","e47ce41e.65d978","1d262758.d91059"],"x":44,"y":839},{"id":"91665de9.7194","type":"group","z":"d2972edf.3d6c1","name":"Configuración - IWOC","style":{"label":true},"nodes":["594bfb02.2b8894","5f8972b7.b986dc","6de7b375.6750cc","b15394d1.1fa588","a5acd955.76ebc8","a8eca441.f9a4b8","a2acb5a2.e85b98"],"x":44,"y":23},{"id":"e52ecc43.c86a5","type":"group","z":"5f404c88.fa75a4","name":"Cambio de sentido de giro remoto","style":{"label":true,"color":"#000000"},"nodes":["c973a8a2.547fd8","a941419b.07d0b","5bb29222.3201bc","ab968d92.63f1a","b7525f1.09e7ba","b6be19c5.be9248","cdbd9120.22da1","bb8a6cb2.8b74c","767f6ef3.dc93e","32b103a.fd52dfc","df95f144.a381e","ee97766f.b938a8","dbdd149d.067a48","75ae9dfb.c587e4","c7fb486e.cbe278","2ae6e9d4.8de576","147476e5.8f75e9","b468d7fd.170728","8e0bd418.ddd0a8","9b2f7ea6.27b4a","1b2dd03e.2d9c2","367aaa61.59c686","ce9c2a06.7d7468","262ed40b.412f1c"],"x":94,"y":1189,"w":2172,"h":242},{"id":"9d081424.4d82d8","type":"group","z":"6c7d2db7.37ef34","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["eef57205.0279","2d8cbfa9.4d256","21fce78e.ebeaa8","72d8c268.ee2e5c","f98d3684.f56598","a33a5a0f.9b5448","dd44aaf.b842558","5b1577ec.9b4af8","d1846718.23b9d8","14529b0b.973455","42bd2d0f.94aac4","16b11081.a66aaf","abab70b6.d82e","c61f9199.04ad9","3579deb2.649902","43904762.a95398","65ef4f43.d9e79","738ce1b6.6ee83","6170deee.c5858","8da9e33f.1e002","494ae468.d5a86c","28ea28c3.fe5848","b264fda7.d59ea","dd10a48f.5f6858","4d981e81.2969a","45662b95.0ebc64","952fbb3c.0de4c8","7a24ff55.5feaf","96ad0efc.f1245","5e319e6f.ce68","331c91f7.cdadde","49e9024a.3e8d8c","3005ff4f.08fea","18389cc8.f2dd53","adf04b0b.ec88d8","207cf12c.487b4e","b93da0e2.39d41","53e38264.c6173c","2a96ed81.66de02","15a41cda.8cfaf3","80b99eed.0adfc","49ebd11f.bc40c","1e3299af.a33326","687e827f.e743bc","a680f602.d0a638","f740130c.150a9","97b84d8d.59486","75c5342b.04f0ac"],"x":64,"y":1899},{"id":"527fb039.aa59f","type":"group","z":"6c7d2db7.37ef34","name":"Protecciones Mapa Modbus","style":{"label":true,"color":"#000000"},"nodes":["b803e401.b39198","d41da57e.fda528","28b9d8d4.780938","8dd3e4dc.7b82c8","d2066f4.d47179","22b4769d.fa73aa","7fcd7f44.da50a","7e94d37b.d9ba6c","11a05a7f.1ef4b6","39b7d6d0.170dda","e7ce38e8.ddf7a8","30a1afd8.5fed9","b9e47311.f3082","5a4c3f91.66de5","1d2a31df.d8149e","93b8513a.2e011","2cd74731.e47058","e1b1ed5d.b46dc","366809a8.54ae36","de525e4.80448a","e848d5b7.89ed48","7eb9f31b.5d87ac","f149f03c.2778","d49a58a4.182318","898a9e08.eb30d","cb121d99.6b0c6","bdd292d2.61916","54f813eb.c136ec","560afdd6.770de4","9ecab94a.2f4f68","78debc56.b9b7b4","ee762eb7.aef99","ca5f96a1.874c58","f9984424.f2ea88","19f40c8c.08b2c3","888867d4.3eb148","4970f246.2964dc","18312819.54fd68","66c4a9b8.ae31f8","8b6335c4.c877f8","8cd9b627.3e1fe8","dd479ce7.53bf1","5530c155.8e88f","fd592d35.6763e"],"x":64,"y":2429},{"id":"8a437085.d2b8","type":"group","z":"8ba0552a.e27ca8","name":"Actualizar librería AFE","style":{"label":true,"color":"#000000"},"nodes":["6f9f13ef.fb565c","73f3cb42.e412c4","b2068e1d.c9d9","bf48213c.3548c","129d922.5d7c86e","2cd9e470.7e562c","2dae23d1.de8fec","849c9546.4f8a58"],"x":14,"y":21.5,"info":"# Condiciones\nSólo funciona si el nombre del proyecto es \"CILA2S-ESP-SWCPRO_AFE\""},{"id":"f52d84f3.4970f8","type":"group","z":"6c7d2db7.37ef34","name":"Habilitar/Deshabilitar Edición local de Protecciones","style":{"label":true,"color":"#000000"},"nodes":["ba9797b7.e07f98","a68f4079.7351a","62e320be.78337","186649d5.ec0ba6","f68d32a7.f0e8d","596ac22c.7d379c"],"x":64,"y":3009},{"id":"2754ce2d.275a72","type":"group","z":"e86f0ca4.7feb5","name":"Bypass Filtro Armónicos","style":{"label":true,"fill":"#7f8faf","color":"#000000"},"nodes":["f769a623.0ee4d8","a252f22b.3778d"],"x":18,"y":2983},{"id":"76792c94.c14d94","type":"group","z":"43b51d90.0b47f4","name":"","style":{"label":true},"nodes":["6a2056e2.78c258","21eaed26.778912","9ac0285.c38d4d8","9c79bd68.e2141","629abf66.2a0a2","dcfe677c.005ac8","3e6ea56c.4ff95a","1396fcf6.4c26b3","98de4da1.6e818","ba36332b.2f52d","14f75997.ffefc6","d750b6ca.c563a8","6b40f56a.2343cc","f8c93ad9.c746d8","acaa273b.ee8988","4b6c1f94.124fa","7a0bb9d3.8a7378","2373538a.46be7c","375a7fa3.74d11","f87974b.30e7a88","94f48b95.7add18","704ec120.77572","e1e3b3d1.65f75","ae90bb3a.e88598","e9eb6646.1347c8","d65e086f.2d6728","3e549706.733278","e7671ee1.02df4","e4e5a93f.60b9a8"],"x":2034,"y":279},{"id":"6f673d7.00debc4","type":"group","z":"e86f0ca4.7feb5","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["612cc7cf.567ad8","d8eeaf95.db23f","6ec60cf6.6c8114","fd4f0667.251c08"],"x":2854,"y":2869},{"id":"16a83ca.2899cc3","type":"group","z":"e86f0ca4.7feb5","name":"Referencia remota","style":{"label":true,"color":"#000000"},"nodes":["e5c519d9.c426b8","46fe28ea.5c0be8","829c7a43.cb9978","ad634ed2.55998","9ba73f69.14911","798ab24b.f2bb3c","33e6cf98.a413f","b3483c29.e4ff4","fb6b188b.4631d8","a7923a8c.7c39d8","7a0ec9fc.12d498","f4b1a463.2501b8","54e174587267408e"],"x":4194,"y":1429},{"id":"562a3cb193226c87","type":"group","z":"ef673f81.6ec95","name":"Reconexión MODBUS RTU","style":{"stroke":"#a4a4a4","label":true,"color":"#000000"},"nodes":["94552363ac04ccfa","f2171731a54fc371"],"x":714,"y":539},{"id":"930e8c82.187a1","type":"group","z":"ef673f81.6ec95","name":"Refresh motor gráfico","style":{"label":true},"nodes":["55f10b8e.5e4304","71568f8f.c4daf"],"x":714,"y":431.5},{"id":"4c4d7cad.e0e954","type":"group","z":"ef673f81.6ec95","name":"Reconexión PQA","style":{"label":true},"nodes":["98c32ee0a85b9ad7","d6617fe34e1242e1"],"x":714,"y":639},{"id":"9beaad60.30803","type":"group","z":"5f404c88.fa75a4","name":"Torque nominal del sistema","style":{"label":true,"color":"#000000"},"nodes":["13650405.f39a9c","2b068147.e7d22e"],"x":4544,"y":639,"w":472,"h":82},{"id":"675af0d1.a9fc4","type":"group","z":"3df4c8d9.0bdc38","g":"d84615.919209e8","name":"","style":{"fill":"#c8e7a7","label":true},"nodes":["1d477816.993308","9bdf522.eba6db"],"x":78,"y":43},{"id":"6150cb44.a8b4c4","type":"group","z":"3df4c8d9.0bdc38","g":"d84615.919209e8","name":"Habilitar / Deshabilitar Referencia prolongada","style":{"fill":"#e3f3d3","label":true,"color":"#000000"},"nodes":["cb15d4b0.0cde98","9315f673.0e6318","2ca548ea.1de6d8","cfcc60e1.2936f","2bc07192.268fbe","35089ba2.d4e914","24d63075.18d42","7c2644dc.75a98c","ef210ac.f59eaf8","ff67471b.66ecb8","aae48476.4ecf28","10324def.d78f12","204f1936.12cc66","c2c739e5.b222d8","51d2e767.639a98","76e4fde6.1b44b4","b60f1b5e.dde938","129122b4.094cdd","11a10d4c.006a73"],"x":1114,"y":49},{"id":"70d8d562.df63ac","type":"group","z":"e86f0ca4.7feb5","g":"93269d6d.f01df","name":"Arranque / Parada / Reset / Remotos","style":{"label":true,"fill":"#bfc7d7","color":"#000000"},"nodes":["95837cd7.bf6c2","2941139c.7c7b0c","a6adbd4d.9a3c4","a1197dc9.92f25","24025e15.4ddaf2","21fd4ac4.46c936","6e311205.1a499c","eb2a9f36.96637","4de602f2.c6858c","6054591f.97bbc8","17ca02e7.855ccd","9515e42e.7cd818","24520f16.b2073","66f58a7.5c16574","75c0e161.43a1c","ead1502b.eb49","46cdb592.10060c","5c77bc75.2ac4e4","eaf3c61f.78e7d8","5b1cac10.b42af4","20c7cde4.586f82","1305b2ed.1b6f1d","a2e9dd68.3a78"],"x":2894,"y":479},{"id":"7f0ad68d.a88dc8","type":"group","z":"e86f0ca4.7feb5","g":"40cf1345.13cc7c","name":"Lectura de datos eléctricos PQA","style":{"fill":"#bfc7d7","label":true,"color":"#000000"},"nodes":["9dfbc830.a03298","fe356255.fc99","3b57e8b1.f78e28","10a8d7ac.83d708","7c9484af.5ac80c","2f63d344.dc84dc","d803580d.4bff08","4d065d75.805514","f28712cf.12333","2c9537b.8dbd1c8","4493e96a.770e08","4c713c15.0ad934","552444bc.3806fc","34a60198.0d6f0e","c404fb6a.ab0d48","ce6e0060.94917","908d15a.2c73de8","d2ffdd1e.e26f5","d9579473.d8da18","7bdf0458.df1dcc","bb3305d0.ffb338","b4701456.7bb958","b9b8eb03.7d72f8","ff32f894.ee0898","2249a8a.5b30458"],"x":2884,"y":1149},{"id":"e2589faa.5b6d2","type":"group","z":"5f404c88.fa75a4","g":"57eba231.4d56dc","name":"Inicializar","style":{"label":true,"fill":"#ffbfbf","color":"#000000"},"nodes":["ec92d582.14aa18","ad87cee4.7dbb5"],"x":124,"y":1469,"w":322,"h":82},{"id":"e9e93a2c.deeb18","type":"group","z":"5f404c88.fa75a4","g":"57eba231.4d56dc","name":"UI-Control","style":{"label":true,"fill":"#ffbfbf","color":"#000000"},"nodes":["7abe043b.fb14fc","97407954.a004c8","805762db.d27b7","37f2db57.b831c4"],"x":174,"y":1559,"w":272,"h":122},{"id":"f981eb1b.025a78","type":"group","z":"6c7d2db7.37ef34","g":"63291ccb.08e434","name":"Eventos Protecciones","style":{"label":true,"fill":"#e3f3d3","color":"#000000"},"nodes":["2115be6e.78c1f2","4d6c53ee.a2fdec","d53d6da0.4e44f","db1e9db0.6840e","50e15d74.ddeaf4","728a8a65.02a3c4","d3023171.a64c3","4e8f42ac.3431ac","8013081a.005838","d170d71.82f7928","c9670c98.e395a","9fdb4f2c.3307b","5d8f41b8.72839","617d545d.946abc","3dd14ea4.843082","688211ad.4299a","f78e6f63.b799c","37b12ec4.ce43d2","b021a1a.8e66f6","78f4bf0d.80779","f2116ad4.d21498","332bea0e.72cc56","8133fd48.bdd92","a1842f67.5ada7","f91f0c21.d6aef","9102ca93.35fc08","f076f230.ab2bd","9b21d21b.7ae4d"],"x":844,"y":89},{"id":"aa324282.4f554","type":"group","z":"6c7d2db7.37ef34","g":"63291ccb.08e434","name":"Protección Carga","style":{"label":true,"fill":"#e3f3d3","color":"#000000"},"nodes":["c47cc85b.26bd58","258395bf.b5730a","3a8d51e1.99e71e","1baa28a3.faa137","e25384d8.73d5b8","767cdd32.f3dfc4","3c6e6977.ced646","27a2d5e6.eea14a","9556df44.42ebb","9507ffef.f9eaf","6ef8501d.b3e97","f88f8130.d51b2"],"x":84,"y":299},{"id":"bf91bfd8.84eda","type":"group","z":"6c7d2db7.37ef34","g":"63291ccb.08e434","name":"Protección Tensión","style":{"label":true,"fill":"#e3f3d3","color":"#000000"},"nodes":["da6f04d.143ddf8","6501d3d3.4e2dec","a5fc5576.3f40e8","991fe40d.443e28","eb7629af.3f96d8","c098b366.21f6e","8ab99b43.236ef8","61a58376.7d0cec","3fe04302.c538cc","30c80316.8016dc"],"x":84,"y":89},{"id":"f58295c0.4d4228","type":"group","z":"6c7d2db7.37ef34","g":"63291ccb.08e434","name":"","style":{"fill":"#c8e7a7","label":true},"nodes":["779bed65.1819b4","3cf0ba38.d2e4f6"],"x":848,"y":733},{"id":"f7a3cb7b.69e4d8","type":"group","z":"6c7d2db7.37ef34","g":"63291ccb.08e434","name":"","style":{"fill":"#e3f3d3","label":true},"nodes":["91957e64.06da6","8d456762.d29828","50f03a.017defc8","8c08f202.ae3eb","23e61906.12bde6","fef78832.db5dc8","de8cd607.5bc628","34e29829.fec988","afd0928b.cd82a","ec206eee.38338","89023996.5cc628","e8e85d1b.ab894","ccacd35a.c0616","d23baded.2c27c","15f0eae5.dcd0a5","f670f91d.3ad478","c5e33e4d.00d55","d51b6dcd.3c4b5","a987ab73.5659c8","3733b898.274cd8","7dedf7c7.3568e8","8e3d778a.37fdd8","b79b0088.e0571","6c8ad0aa.ecebd","39509b2.05d2f64","9c9ca5e7.69fa38","390f354c.d49e3a","b777e226.10c8b","39e546d5.bad0ca","7e885447.389d0c","bb8e252c.9dfcb8","fe775f56.9b835","d05624d4.9c7ea8","7c3934e5.14724c","ff2256f1.e3a778","27b35800.57e518","2416b4e2.c6543c","dd39d2c6.25d75","a06fc65.b22c838","6a4006c.6f2d6f8","81068dcc.a1177","4deb9438.7defec","404681b.fc83a8","d5c28eba.11987","9ee87017.647be","fe737e3a.63a24","e5601be4.cf01b8","7c83e70f.fd63d8","f04c901f.dd12","e1469d81.80e24","b9fb6552.28c578","5c00e40a.1e606c","2e11499b.b80e16","693c775a.488e48","7208f314.664a4c","b5bb0faf.0b4a","6e13beb.0d4804","3f2cfd63.788712","40b18d07.723fa4","64e23160.f2226","d3952106.89f57","594b1b94.64a064","910f918e.ca3b4","19a37b7.6f54385","9f0d784.5e82788","2989ca5b.45d5b6","5d423b2e.e4f6f4","19f66388.0df99c","724efabe.d416b4","9529d99e.485f28","a943ed58.e925d","4fbab036.e35de","a902e81d.dec2f8","f8ea205f.95545","64e91638.e5d088","c3312994.ff0fb8","5f9e6187.aeb77","c031a11.d7a7d6","66854960.424778","f0565f48.a5877","fd04a4a3.98d468","13747032.1e864","c4e47709.e84c88","e149f7ce.895fb8"],"x":84,"y":529},{"id":"11f55817.139c18","type":"group","z":"8528a254.70837","g":"7b6f4b41.106164","name":"","style":{"fill":"#b797cf","label":true},"nodes":["d382db6f.29f0a8","972e1f74.3dd4c","ec98695.bbf8698","54ec819a.c1bc9","59e817c2.295b38","d50d9b6b.bbc7f8","c02fb05c.baccf","75851744.fc50c8","ad47f0cc.93af5","7b4bd7a0.fd9398","cad3d4cb.b5bc98","ebf4df19.2cfb2","1660e38d.24cefc"],"x":30,"y":39},{"id":"c9848ab6.981718","type":"group","z":"5ef5b1ce.d3899","g":"7a498b99.415234","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["c74e5c83.97d99","a9225e61.e6e0e","6336cca0.5c0a84","730afe4e.63438","4c8b7786.0a4da8","188fa39a.e3a3ec","50c0a40f.f78b9c","4feb0a11.ed3ed4","dd807959.9e5a08","5cc2d788.18b678","30e13f64.16c0d","2cf175fc.6aae8a","273454d7.4d089c"],"x":44,"y":39},{"id":"cf57802e.7d258","type":"group","z":"8528a254.70837","g":"7b6f4b41.106164","name":"","style":{"fill":"#b797cf","label":true},"nodes":["bd165d4f.e3f48","c95dde3d.c676e","191d34db.93fe3b","35f773cc.39ea9c","ccc4d9c0.904c78","d9101c40.6e85a","dcdb5992.425238","12f5302f.69f92","33f2aa3c.6c08f6","9055a2bd.67028","938193ac.02d98","ffbe710d.b4cce","f4dc844c.b0f888"],"x":940,"y":39},{"id":"1027a10.a1e515f","type":"group","z":"e86f0ca4.7feb5","g":"f2c899e7.e9eac8","name":"Entradas analógicas","style":{"fill":"#7f8faf","label":true,"color":"#ffffff"},"nodes":["2d061227.66d7ce","5c3a9c15.3a4554"],"x":1338,"y":33},{"id":"23bbdddc.b8c5c2","type":"group","z":"e86f0ca4.7feb5","g":"f2c899e7.e9eac8","name":"Entradas digitales","style":{"fill":"#7f8faf","label":true,"color":"#ffffff"},"nodes":["62757ffc.dca08","c05026cc.2a6048","5d1065e2.7b952c"],"x":38,"y":33},{"id":"d22a2793.24a988","type":"group","z":"e86f0ca4.7feb5","g":"c17de691.f363c8","name":"Salidas digitales","style":{"fill":"#7f8faf","label":true,"color":"#ffffff"},"nodes":["1b19a252.cfe16e"],"x":38,"y":1663},{"id":"ac1f5c0.f7b06a","type":"group","z":"5ef5b1ce.d3899","g":"7a498b99.415234","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["49fc1b59.51f164","e3b242da.1cd29","3bd2923f.2169ae","ec6f0468.330258","bacdd0cd.1b215","1a3e4532.22ef5b","7a336fa4.b80d3","335b3a95.f258c6","33924ef6.c0eca2","452c5a8c.8530a4","b5c23987.426b28","30237182.6ab22e","adc3a650.9795a8","73b9407c.4ce98","1e55d9a.1ad3926","d192f60a.894e68","f6e8fbe4.4a94e8","587cd4fe.b5184c","3fc54723.62b978","da157b1a.e8eb88","117295c5.1ff4ea","2976c32b.5e795c","13c95730.dc8459","4b3ceae3.bb8a84","9dbe0a3.53061f8","9a43c9b1.af8138","814db426.2a5bf8","1f443c09.755434","7bb293cb.faf72c","2c5a7e92.2d6be2","ae3517f4.0d6d88","2db6a760.856798","ad56625d.fdd01","2563434b.e228dc","2665915.a411c6e","eef48f93.f418","f5a2b632.6a8ac8","d971ff84.76256","a1c4871a.8ded58","fecfa2a0.5ca25","1e92883e.9ef498","9ff75bfd.245638","f4f581a.cfeba8","a8914523.bc9e68","9709f15b.d49e5","b2d06cf6.fb5af"],"x":44,"y":289},{"id":"f3c2e7cf.5ed158","type":"group","z":"827787d0.ede678","g":"f7ed166d.1aa528","name":"Acciones usuario","style":{"fill":"#ffbfbf","label":true,"color":"#000000"},"nodes":["21e4fb07.22d804","a80677cf.4274c8","8e762cce.be81","64ff74e5.f4c53c","fbd8c1e9.7d493","be55ea76.ed4478","723d59b.85ed6a8"],"x":154,"y":243},{"id":"195d3093.36368f","type":"group","z":"68deacdf.9a36f4","g":"95e4279e.465018","name":"","style":{"fill":"#bfbfbf","label":true},"nodes":["b5a13da4.6e3eb","d8debc2.700294","ed440caa.e3c9a","7b039538.19006c","f41accc4.c621f","54e4b15.a95c55","3faa3e6.58be8c2","6646dcc2.7e27f4","c3ab454c.6a6608","ceb28ed6.efd8a","50e718bc.acc418","cf46bea2.57892","e0f1b2fe.bfc45","43c8bed9.bb82","ea1cde92.60e99","6702af9e.46335","968d5347.1b134","9c68fb6b.6c86a8","c753b3ad.b9f2e","4dd28667.4d3228","a817cfa5.511e8"],"x":234,"y":39},{"id":"991382e7.7f2e6","type":"group","z":"68deacdf.9a36f4","g":"95e4279e.465018","name":"","style":{"fill":"#bfbfbf","label":true},"nodes":["80169c1a.91406","c117a84c.46b918","9cd71bbc.0f4798","fa75954f.6f9b58","e05eed2.40a0a1","e5ed4e23.54b1b","1cbd6fef.8eb83","4f5a5d6c.c4a5b4","77b72aa.31581d4","e4d9b95a.0c8b58","cd1b505d.a6b93","7432babc.6c5c14","8abcfca1.5ae87","1ff91965.c1cd07","425425ae.e0c16c","7781bc54.e1daf4","24dd678c.7f1308","73976f.0a9dc89","cec407bf.09ddd8","e25dd195.b371f","4ee1b909.1e4848","66769b21.dc3c64","ed92d6cb.2a3df8","a07432ba.c3a58","286d483f.0ea858"],"x":234,"y":369},{"id":"91feb623.ce89e8","type":"group","z":"68deacdf.9a36f4","g":"95e4279e.465018","name":"","style":{"fill":"#bfbfbf","label":true},"nodes":["863a9269.4fc47","26911d09.c6e252","7ef6f5bd.3b5e0c","d235af14.d2a16","783c757.7a1388c","e7bffc64.2c3df","ac730498.f22c08","1dd500ad.15e62f","ddd9d6d9.213a98","e1ae4a43.6449b8","c91b1beb.1017c8","e38fb396.925cf","c42fa7dd.b205f8","8c3b7557.aaaa78","3d7bd8eb.a0e0b8","b5789608.bb4d98","e8ae66c1.7229a8","6fa68302.f9f80c","f1bd4768.9e54f8","4543cb3e.14d874","e6e966a4.4877c8","1a34b374.22694d","da7f03bf.c7ba8","342df040.01481","3183ed9b.8b0852"],"x":234,"y":699},{"id":"a035a752.10f9d8","type":"group","z":"68deacdf.9a36f4","g":"95e4279e.465018","name":"","style":{"fill":"#bfbfbf","label":true},"nodes":["baecdbce.b91ec8","19ac6698.c438b9","e3fa2881.918ec8","2debc1b0.4df98e","1e344ba1.2d56c4","716d46a.8b783b8","d83d9d82.65e01","8fcc0ea2.3e85c","c32e6129.fc854","152a06b4.7b74e9","a47fdb9.7d9a428","5b355a89.562704","48b79c34.416fb4","a75a1b6a.0a4de8","6fae5501.179cac","47bf531f.4f32cc","bd48652a.f5a5e8","ba7b72e6.baa57","eb302766.dd2458","4ba40436.934e4c","a9e26213.423fd","475abd9e.9bf4e4","d4bcf7a7.d05408","33f5cd40.f3a7a2","7256252a.cc829c"],"x":234,"y":1029},{"id":"eb91dac5.690838","type":"group","z":"827787d0.ede678","g":"f7ed166d.1aa528","name":"Acceso a usuarios","style":{"fill":"#ffbfbf","label":true,"color":"#000000"},"nodes":["df6fb5ca.5f8af8","28cd79fb.3dcae6","2066be8e.5c6832","e04fbd1c.98ffe","2ffa7be0.763644","a146fd5d.dc194","be50258c.07bb98","6e26c35e.a97f8c","1595def7.d11251","affdacff.6646c","51d66341.8ee0fc","7de51565.2383cc","3a348318.fe982c","4390a2ee.d47efc","5bcc4439.12381c","e460615d.afd65"],"x":154,"y":39},{"id":"6cdd72bc.8124cc","type":"group","z":"43b51d90.0b47f4","g":"68e6bb30.d1fce4","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["645e5a91.8ccef4","faa40213.086fa","ebeef8ea.3def58","7b0522e.ed903dc","2163239b.5a9bbc","e5c3bbc0.8b2998","e89aec53.9b1b1","d59b7b28.be0e68","15ff1b61.43bc65","2709f5cf.b4e16a","3ca6161d.651d6a","1358ba12.db4f76","40fde4de.c5c06c","1ee1ef5.793bc11","2d0c4fa4.505a8","251a85e5.2591ca","75cd2afc.41fc44","29bb8af3.ae5fa6","75279853.2d0538","885891cc.84f0d","f75e195a.cf9c28","7fe9724f.0cf8ec"],"x":295,"y":99},{"id":"27c43941.e9e0c6","type":"group","z":"43b51d90.0b47f4","g":"43bab036.712ca","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["b97c0cba.aea3","625acf36.28ca1","52666b13.2f23b4","9fce2d60.4554b","a5bfded0.8a3cf","dc569dcc.729","2bbbe8b6.93dbd8","b405c349.c96bb","a90890e0.f21c8","2b15e46d.065cec","ed08c0de.3ee1e","e89df25d.18cdc","2d255252.339eee","183f49bb.f6d776","9355594d.0b5af8","c780b49a.0e4338","fa5d0b5d.173c98","44e6874.2344578","657a5d37.6d07c4","c3259a58.4fe088","3f0134d0.dc178c","f7f5dc17.aa232","bd852785.499c28","9e18b5a9.e943a8","6fe51a99.814d94","8a16b6f8.4cab88","664a9d08.0c3cc4","74e19d32.06a044","af3a631.a66aea","8a96dde9.7f1ce","dc9ea4ba.1aa038","1be8989c.a5ad57","b970befc.5452","b71d8a2b.54dcc8","e7412dd2.70fb","3ac432d5.f6b63e"],"x":294,"y":559},{"id":"c41a251e.427c98","type":"group","z":"43b51d90.0b47f4","g":"27a0641a.d154dc","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["5c27d2c5.3f268c","9bfa59cc.d6a398","c1afba0d.22f5d8","ced5d329.31661","9b007129.593e9","a7e937e4.d19518","64263ab2.3a9e04","d290dc22.ecd03","454c0be8.b02024","370e9542.6d045a","eb89266c.2d2618","45c17b29.d24c94","7fd169a3.b2f638","ba716101.086bd","f7031c65.4fe95","4305893.7fd6878","5a72c82c.208f48","1e07455b.07cd1b","b732c4f9.4ad3d8","5cd0426c.28198c","4b4d89b2.afea38"],"x":294,"y":1269},{"id":"a7e99088.c8108","type":"group","z":"43b51d90.0b47f4","g":"68e6bb30.d1fce4","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["2498ec05.7284b4","319a607a.54c89","7048ef53.1fd6f","acaa43fe.71bfa","b559fab2.66fd28","df9eb38c.fa6d7","f7f45d3a.6e4e4","c104f9d3.1b01d8","7116aa90.5b13a4","9706da4e.929b28","24d1e786.5ef6e8","4d7667fd.f49138","9c75f1ec.0814b","d4e8aa0c.01c0c8","af3b1dcf.9d898","c5a4efe1.dcb16","ee09985d.8da768","281ea19.4b8f45e","d4a47d02.7580e","44b05f12.5269e","272a4804.a55718","c48a9a39.50daa8","998f0e93.941f1","c9d379be.49a598","67265960.942258","827a7638.d6dd28"],"x":1134,"y":99},{"id":"e9d2f5f0.86a518","type":"group","z":"43b51d90.0b47f4","g":"43bab036.712ca","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["ea258cd2.d6e7d","7507ff98.5a92b","dca07a87.27ec18","f041a8b3.dcb0d8","184c506a.42dbd","60be1d12.066574","ed33f12b.95cc7","effa34c4.ff41c8","3f3006.edaa2ffa","53d73778.d0b178","b8855fd7.225d3","30d2c9b7.d0d666","1a6f7f25.56eb41","4b2de6bc.d46068","39af17e3.7d87a8","ee2e2c40.fad2f","b5a3116a.ae72c","1b0e4b2b.ecf4e5","8307ca17.c4d5b8"],"x":1134,"y":559},{"id":"1306de9a.9ba341","type":"group","z":"43b51d90.0b47f4","g":"27a0641a.d154dc","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["7ed08f75.bf75b","59d9f322.aedecc","eb839f99.2a5d1","1d4bc15f.069e1f","e8c7703c.35e3c","4105a369.d1cc3c","7b0567a6.14ba98","9429095c.bf7808","190647c5.caaac8","d517c385.40ed7","2e60217a.d7bbae","17803970.897c87","6f6dca07.0b3994"],"x":1264,"y":1269},{"id":"25d1d69b.64e0ca","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["40526d49.cc9b14","d4249aea.7ecbb8","39224b5b.70cb94","284df00f.87b86","560686d1.a385a8","b0e2a79d.a2fa38","d7816a62.f2ef78","8d721bd4.965938","fdbff94e.9b8b48","e4281529.e777b8","90f4ad13.35a65","85a449e3.6bf2d8","98b87f1c.386a4","9ec47908.11be28","c261ae3c.cdacd","1882018b.4d179e","2099abe.2850a54","da8d71fd.6a33c"],"x":844,"y":319},{"id":"9132da2c.b8c6b8","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"Menú Entradas/Salidas SWCPRO","style":{"label":true,"fill":"#7f8faf","color":"#ffffff"},"nodes":["2499f70f.806ab8","461615d3.efcb8c","c1f7c147.2e2dd","98ed183e.8031b8","950ebf98.9385d","8916af0a.61064","5a29608d.08d3","b0a2cd1a.ab273","fd328934.0ddd18"],"x":844,"y":1239},{"id":"f78dcb63.bde038","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["63f7b962.2c4718","c01095f3.dc9138","6a981814.c37af8","d1fe0838.218468","23826d32.a4beb2","f7333c0a.a70d3","7ced728d.a743bc","478e8f3.fa4af7","d458c292.e2009"],"x":844,"y":1069},{"id":"90ebdbed.1907a8","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["2c748bf2.5eecc4","7beb0f41.ddbf1","f21ab34b.181da","7b211215.487a7c","18c9f1c2.4ccdce","876da3c9.83763","2f1c2d62.414502","e3c8b897.8efb58","99ae3bc8.746f48","441e9860.ad6ed8","75954ddb.3b0f04"],"x":844,"y":39},{"id":"311890ad.cc4ed","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"Menu Protecciones Superficie","style":{"fill":"#7f8faf","label":true,"color":"#000000"},"nodes":["4db81f03.8c212","8392125c.4233b","5b4e837a.c0700c","146ca456.d19d9c","9b47db26.0346f8","3296d851.080568","a0e88921.4ebe88","5e926cf.a17a594","1ba7dd1.c24d723","3af735a9.70c83a","920374c9.134898"],"x":844,"y":779},{"id":"8a7f783.a732b88","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["9c82a3f2.bb49d","8aeb1e16.de316","fb47c1da.61a69","d8acaf52.27e43","a57b470d.7af538","e95f6929.281ff8","fc7e2763.e00d48","f65a5bee.378fe8"],"x":854,"y":1449},{"id":"8c3082f9.73975","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"label":true,"color":"#3f5787","stroke":"#ffffff","fill":"#7f8faf"},"nodes":["ade861c3.eaeb3","64ddd641.711bd8","b5ae3cf9.8231b","30d8ddc4.25e6f2","34cfab64.3d4224","63ae6ad3.b07874","23b2730.9c7eb8e","148343a6.619a1c","e348a3e7.f1d8f","836be50a.5287e8"],"x":854,"y":1639},{"id":"215bed4c.7858c2","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"stroke":"#ffffff","fill":"#7f8faf","label":true},"nodes":["b4e17f62.3736","e35436c7.11f1b8","5d9c013e.660f3","d265d888.a04558","bc3bdaea.54eca8","2a671cfc.7a9654"],"x":1524,"y":1149},{"id":"5ff12c29.d4cc64","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"","style":{"fill":"#ffdf7f","label":true},"nodes":["2f01cd27.190772","cda1db41.a4fd88","d0a81664.403aa8","6ea29ae7.e81044","671c4fb2.c61c","ef56b9cd.e179f8","32d68976.059f96","5b8bc10c.bbb33","148d0d1.2a0f4f3","3a6fab3.c7e5154"],"x":54,"y":1389},{"id":"fbbdc4b7.95b5c8","type":"group","z":"3df4c8d9.0bdc38","g":"353eeed0.7959d2","name":"","style":{"fill":"#c8e7a7","label":true},"nodes":["2cc21db0.31ad62","fceee294.75f2a","2da6eab8.1a0d46","df0f741c.af19a8","f2d35fb.fa772a","8fb0b4bf.9589d8","d49b2738.582fc8","29c7a23.727065e","d21b5c08.66b8c","a238dee5.dce89","457f5e6e.ca6a6","399aa9e0.76e826","65189a34.958f54","ed48b163.a810f","ca0a5684.ea6928","66413682.a144a8","1693e576.9b12ab","5a332056.69647","6b84c64e.dcc588","19987e51.456892","b3caef3.352311","e4129fed.88799","95c850f6.36643","66a490ba.d5e37","b22288f6.37a878","8552caa4.241e38","1d20ae55.84ce82","94a055d5.0c9b78","8342ff02.52b06","d57a1b85.5bfae8","1a666499.a2effb","b577a0f5.21f92","54744e61.1040a","ac2b4653.316da8","4400c779.7b65c8","402cd950.ce2c18","c8e55399.c9ba1","f27260f5.84ea7","4fa4f9ba.bbe438","9582cf9f.08cd2","1f018e5b.62ca82","5a992b9e.0fe264","bf6826f1.1eaf58","101b1cf1.8df2b3","3024e2c5.a2abce","16d2de82.3f9bd1","19a2b155.ff424f","eb1fb4ef.aeeb68","a9bbfe07.11d31","8f53cc8f.84257","4383a027.ff80a","d7c6bd69.7a7ef","a032476a.407a38","272ed76d.7cce68","18b7ec9d.857c53","1ac6c21e.e50dbe","d521fa7d.be0208","864e753a.a4d358","6af3aebb.d62aa","bb39aa69.c4e278"],"x":74,"y":969},{"id":"84c9494b.d4dbe8","type":"group","z":"3df4c8d9.0bdc38","g":"353eeed0.7959d2","name":"","style":{"fill":"#c8e7a7","label":true},"nodes":["686f05a3.dd6cfc","92726765.16d7f8","5cb3e34e.01455c","5871112e.0973d","9f479937.6b8aa8","f74cea60.fcb698","fb3c6926.732028","fb0cb7ee.fd5898","bd09ef7a.b5593","deff6b32.1521a8","7157d825.d18368","44c815d7.7d19fc","133426a.57f73d9","a8a729db.101208","9408742.a02f988","f22dd0a7.a22fc","366a2d5a.01dbf2","b55e7290.1631b","e2832ff4.8c486"],"x":74,"y":669},{"id":"dad84feb.d4773","type":"group","z":"3df4c8d9.0bdc38","g":"e3aa057d.09fb18","name":"","style":{"fill":"#e3f3d3","label":true},"nodes":["c0305bdc.676a28","3781fe66.587af2","2e7249b4.58bd66","32c8b0ee.45f27","66ec00f0.b69ff","3c6bdbde.b87f34","383d0d61.1e6de2","fdc50122.eca2a","14c9d205.a3aa7e","40db7d54.6eda64","853cd9a2.d77cf8","e603fb56.c7b328","7a545a2b.6f6b74","8276f23c.bfc3f","6db9c12b.c8705","c325ce5a.11ef9","12c8fd79.9681e3","60c61f62.f5c34","504fb845.3276c8","34c4f209.65d5fe","cb35c95f.b22ce8","876f26f1.b555a8","364f96f4.f46f0a","baa92aab.077738","17a116b7.129529","a6252416.b477e8","7add8997.38ea28","587d6709.b2cc68","1efee279.9d3c5e","24b7cec5.441a12","9beed943.b3e2c8","9209505b.0e275","7c8924eb.60c91c","58e6dd7.174e024","36e990a0.a6e0b","3c3c201f.7b4db","8aebe900.f1cdd8","633be9f8.688fd8","55b87356.a4664c","ff0d6d6.216379","c0449741.019748","ac728c7b.ad488","aafdc29a.6cbc","14170dd0.bdfb02","66285a83.0c7794","cf38473a.357f48","46402130.f1178","98d021b5.4ab52","ee2f7708.642508","b3d1cf2a.f818c","13163876.95eea8","203c8b78.5472b4","b7da3a44.60ff68","6e5aa94d.e5afd8","37db10ec.6a6f7","9423bfa9.83933","f1031a6d.683328","bc0c7c1c.40245","c3276752.914e88","eb7c6393.8c838","21b10d96.275432","5237e183.b1e0e"],"x":74,"y":2089},{"id":"7aad629d.de652c","type":"group","z":"3df4c8d9.0bdc38","g":"e3aa057d.09fb18","name":"","style":{"fill":"#e3f3d3","label":true},"nodes":["c5765955.018718","497412a1.c5deec","5df27476.8a476c","bf9f3756.731868","4e9cdd5a.9541e4","874c5aed.184488","cb991004.c84de","9b89d9af.1de058","acf47dfa.1c447","ea37e9ba.aa7508","52a8c629.843998","b0e43e11.45b77","a56dfe8e.9d817","97729306.5f405","d8da080.181c0f8","8be14622.b08ef8","b91731c.f01b2d","685eb5d0.f522ec","2c2a7aa0.9ef0d6","28d953db.54529c","45809fd1.8506","7a12922f.1cbe9c","d768e1d2.1e7f1","4e0a3fc7.922b2","20949174.cb72ee","ab740524.1ae268","f486135b.0c2e3","b2b71204.5d357","891ddd2d.407f3","1e43264c.b5a5fa","61109ded.3b49a4","a877cbae.a027a8","39c71fe2.06935","449e7bab.192fe4","6ae46230.0f8d4c","fbbc75ab.913998","6e4597fe.cd4c38","1da40511.9db73b","2cde88bf.5168b8","dff7a91d.077a48","49e64ca4.8b1944","a4e7e30d.3de15","f213a859.b29578","c1723a65.a620c8","ca41ebf5.6cdf28","8ef5c8d6.524028","b8c12e8b.715b2"],"x":74,"y":1779},{"id":"4eb2e67c.e57628","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"","style":{"fill":"#ffdf7f","label":true},"nodes":["d225d3dc.95f5d","8c2fe53.e0c5a18","823f98aa.daa8d8","5953427.341fdbc","164dac78.253234","1e4b1bbe.54e204","c984d5a4.ec6ac8","fe3cf8d4.9ecf68","e2792bcf.8bea78"],"x":54,"y":499},{"id":"da3ae781.998328","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"","style":{"fill":"#ffdf7f","label":true},"nodes":["bc3827d0.25b248","d0735f18.f858d","78fe1ad6.697684","42196f55.8e867","d49cbbef.71a878"],"x":54,"y":669},{"id":"e60e8bfd.7a3248","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"","style":{"fill":"#ffdf7f","label":true},"nodes":["a3d8c9a4.70d3a8","2514f0b3.8e71d","c2c53040.c272b","89b96b56.401e78","1a80eeb1.999511","ac5a3eb4.6c60d","cb63afbb.b38ed","fb5402e7.72322","9d2ef708.6a7618"],"x":54,"y":799},{"id":"b19ef7d3.42ea68","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"","style":{"fill":"#ffdf7f","label":true},"nodes":["cd5498e2.4669f8","f0b8ccfd.3b4c8","7893f953.690d58","103b42c0.753efd","e6513f08.9de2b","1007271e.7b5509","afef9de4.5ac33","e98639ed.c7faa8","30a20927.0852c6"],"x":54,"y":969},{"id":"9dbc79d1.85ede8","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"","style":{"fill":"#ffdf7f","label":true},"nodes":["bc863fbb.54cc7","5110e71f.5746a8","ad8181d.652538","e23d1e5c.76f6a","9f65b6e4.fa9b58","f24850fc.2d265","371bd93d.a97226","c8301305.155ca","4b56d4c2.92bedc","8fe15b1a.8efeb8","be845e9a.07b99","80b34dd.dbd91b","6a9bae72.3bb93"],"x":54,"y":1139},{"id":"9e9a162d.d4b0a8","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"Grafica de los datos","style":{"fill":"#ffdf7f","label":true,"color":"#000000"},"nodes":["ae4e1e77.28e04","9e15cbfa.3def58","b317eb9e.fa5ea8","3d1d1baa.08cbd4","6f55b697.307bd8","190757f3.f04c38","d1ec13b9.2d54a"],"x":964,"y":819},{"id":"b509ce91.c5418","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"","style":{"fill":"#ffdf7f","label":true},"nodes":["697008fb.202388","58cdfd92.f6f8f4","bef62d1e.d88b3","a25809c.5d92ff8","af5bc0f2.0bc23"],"x":594,"y":1389},{"id":"17c31216.1aa6ce","type":"group","z":"68deacdf.9a36f4","g":"4888c9a8.82cb88","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["eeb1651a.36a6c8","a8a1cb28.4cb2d8","f894367d.626e58","dfd4edc3.552ee","6db11539.a3447c"],"x":1934,"y":39},{"id":"9560ef4.a49141","type":"group","z":"68deacdf.9a36f4","g":"4888c9a8.82cb88","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["43c29f1e.c217f","685e27da.9ce058","72bc0ef0.eb795","43ded433.bb53cc","864b03bd.9ce3c"],"x":1324,"y":39},{"id":"f185a628.7c4598","type":"group","z":"68deacdf.9a36f4","g":"4888c9a8.82cb88","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["8779966a.f672e8","d73d6d43.ab8f4"],"x":1934,"y":129},{"id":"b5305a67.80d008","type":"group","z":"68deacdf.9a36f4","g":"4888c9a8.82cb88","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["476b5c3e.4e4d44","a842573a.e6e518","fa4bb7a.8739c48","87b3cc18.eed9f","4482dc9f.5ee144","1be701e.c661bfe","8207386.0661fc8"],"x":2174,"y":129},{"id":"52cef377.daab5c","type":"group","z":"68deacdf.9a36f4","g":"4888c9a8.82cb88","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["e39916f8.4609d8","20bcc378.2c882c","c4d4160a.bd9958","273246a6.a5d34a","b4b08522.2499f8"],"x":1324,"y":129},{"id":"de6d41a4.0f4d2","type":"group","z":"e86f0ca4.7feb5","g":"c17de691.f363c8","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["38ea9e35.6d66c2","2fb80d12.b93df2"],"x":1328,"y":1663},{"id":"ab7a4a2c.17d8a8","type":"group","z":"3df4c8d9.0bdc38","g":"353eeed0.7959d2","name":"Habilitar / Deshabilitar Arranque Escalonado","style":{"fill":"#c8e7a7","label":true,"color":"#000000"},"nodes":["b653852f.0fd278","e6ef4f23.27ccf","62dfb358.79fc6c","a574d4a.7590528","87796f75.f8ab","299186bf.a445da","1428e521.1c8dbb","d902f116.599ee","3a17a6ec.a258ca","e6f2640b.e79278","d31746bc.9f2cd8","34e00571.9b85ea","f9a107ed.f66078","dc60d9f3.42b4d8","577047bb.6519b8"],"x":1034,"y":669},{"id":"e2e299a6.d3c5c8","type":"group","z":"e86f0ca4.7feb5","g":"93269d6d.f01df","name":"Escribir valores en el Mapa","style":{"label":true,"color":"#000000","fill":"#bfc7d7"},"nodes":["a114a289.8a1e4","1e5314e3.cd3f7b","16d0549c.29adcb","b74aaf11.088a3","43428867.2750e8","e9fd7861.d2db88","238050bf.0374f","573c6f3e.737db","2c57a2f1.46b13e","c1702022.91ab1","97dbb46e.15a998"],"x":2904,"y":769},{"id":"8f8a192b.bb2ef8","type":"group","z":"3df4c8d9.0bdc38","g":"e3aa057d.09fb18","name":"Habilitar / Deshabilitar Arranque Automático","style":{"fill":"#e3f3d3","label":true,"color":"#000000"},"nodes":["8a0fe789.871358","9fd2782d.a0cc58","add1cac2.311828","2b8ab955.9e7406","d4b73c65.8c417","e4fcccc8.8deff","82ddd765.a9a1c8","2850bc9d.bad744","7bd0afa3.3f517","1c3a6d7c.b77d53","b3af16f2.5b3ee8","8af57578.fc6418","5472c69c.f21938","b275f5b2.e7e328","aedcd40.1fbec3","73af0be0.8d91e4","4e19cfd4.3982f"],"x":1624,"y":2089},{"id":"dde9e22c.88ef2","type":"group","z":"5f404c88.fa75a4","g":"b586885.2404778","name":"Lectura de datos del Drive","style":{"label":true,"color":"#000000","stroke":"#a4a4a4","fill":"#ffbfbf"},"nodes":["126f7267.c38efe","5a69692c.84d3d8","abe2e5c8.1dd248","d21e2c47.59925","36d8209f.12d38","838adacf.15be18","8fdf7c75.8bd9d","ac7d9b40.a3fa48","ba8f9132.a0406","1e911ed1.295ee1","43f0005f.07f82","895d77a8.ef3188","6789ef5a.e271c","c061c85d.a9ede8","21bfe70d.8d67a8","934f7ae5.8efb28","afa5703a.fbc3a","bcaa0b00.c394f8","3a767c53.b7a704","a4ed2644.bd37b8","5c9a7184.a62f7","d0939ac3.e463f8","c48ec4a6.a9ee28","aa7c5a54.076d28","856a81d7.aae66","abd90b09.f3b538","510bf900.1fbea8","6c83c496.5eb8ec","d105f996.05fde8","e6dcbeb6.ceddc","f8f60ae4.452518","9d23b0e4.51235","b2939078.be2fe","e031d60e.89abe8","8010d75a.debb98","195b633.0e1ac9d","72c8db3.6f6c324","51330d5b.f89a44","67e23b88.120814","5ea826dd.7f1668","af9e1482.f781e8","f92cb206.e5ea2","1fb536f5.2c7bf9","1b87d138.647c1f","30acc1e4.ab123e","ec162b81.0c2ea8","c35b8f49.241be","d2d1f05b.20687","87de2b09.5e1f68","776db11c.07117","4008f635.52a288","98154bef.f1c1c8","8c6f2064.7cbdc","899909d1.d446c8","ca5ead3a.831c7","412979b5.c7a848","7d3dd1dc.29c31","3fc5e840.e9a478","1286dd4c.802a73","deaa32c0.0b8a1","5fd3049a.ba921c","cc746868.3a1298","8bd29002.2e3d7","46cc6143.4abf6","57667282.8fc56c","23fbe207.7b1ede","1a719c26.34c704","3ca904fc.10f40c","542838ab.43ffb8","d40387aa.734878","50f613da.0ca95c","2882db4.8e8eb24","6a03ada2.31e6f4","19765827.aaed18","4fcf58e7.9552e8","654b1ab8.d36814","69f93ba5.ab0f74"],"x":2514,"y":49,"w":2002,"h":692},{"id":"dc098d16.abc16","type":"group","z":"5f404c88.fa75a4","g":"b586885.2404778","name":"Escritura Drive","style":{"fill":"#ff7f7f","label":true,"color":"#000000"},"nodes":["5613a5b2.95577c","7b165c8f.b14834","e503ca5.7ac8738"],"x":118,"y":43,"w":2374,"h":1164},{"id":"b9df7528.923398","type":"group","z":"3df4c8d9.0bdc38","g":"e3aa057d.09fb18","name":"Re-arranque por disparo de protección","style":{"label":true,"fill":"#addb7b","color":"#000000"},"nodes":["65994a87.9d5eb4","c25b39de.c92f08"],"x":1628,"y":2433},{"id":"46208c12.9b8aa4","type":"group","z":"e86f0ca4.7feb5","g":"40cf1345.13cc7c","name":"","style":{"fill":"#bfc7d7","label":true},"nodes":["17c14989.ef5f76","22056c13.f9b174","f5c22034.7d9fc","9878975f.93b028","a0463b75.cabb18","465bcf5e.1e912","b1c3a494.293518","c21fcbd2.2769b8","8b6bbe7b.4904"],"x":2874,"y":1659},{"id":"3a6bee4b.22d342","type":"group","z":"e86f0ca4.7feb5","g":"aa2fba7e.146688","name":"Configurar sensor de fondo","style":{"label":true,"color":"#000000"},"nodes":["2e9fdc57.907424","bcbc4f06.97315","1708596a.fe0687","5827de1e.b3965","2c7f0a4a.5cdbe6","e755d972.51be38","78a84227.12c87c","5e404384.1cee1c","ec994a08.2df8b8","12b0045f.8d610c","16b64fab.dbb22"],"x":2884,"y":1979},{"id":"ebb7241e.548d68","type":"group","z":"e86f0ca4.7feb5","g":"aa2fba7e.146688","name":"Mapa Modbus Sensor de fondo","style":{"label":true,"color":"#000000"},"nodes":["a382052a.d8aa18","ab0727da.a53ac8","50db6dbc.984264","d5131ced.0892d","185f7c24.292724","198258ee.39ca47","32936c3.05fea94","4ee6be01.95143","6875b1aa.12a2b","68df2e1f.7d983","e7fa2ea4.726ea","1a2660d3.c50b5f","74491400.799d1c"],"x":2884,"y":2169},{"id":"f059af07.db923","type":"group","z":"e86f0ca4.7feb5","g":"aa2fba7e.146688","name":"Objeto global propiedades del sensor","style":{"label":true,"color":"#000000"},"nodes":["607f9200.e4c44c","85a003b1.e1e26","a9df7a9b.8847d8","b3c62075.a7822","3caf0b56.43a3b4"],"x":2884,"y":2539},{"id":"beae8e2f.5f80b","type":"group","z":"e86f0ca4.7feb5","g":"aa2fba7e.146688","name":"Lectura y asignación DHS","style":{"label":true,"color":"#000000"},"nodes":["88205ddf.276db","9a8806c3.c971a8","7b7a47b.51bdfb8","3d698efd.3e4e82","7e7bae6e.af09d","7b67956.808d16c","ad027547.9a9c48","57cd5933.3df778"],"x":2884,"y":2669},{"id":"f6e30287.8d13d","type":"group","z":"e86f0ca4.7feb5","g":"93269d6d.f01df","name":"Referencia remota","style":{"fill":"#bfc7d7","label":true,"color":"#000000"},"nodes":["826fef16.9c1a","2b0080ad.3ac38","da8e2bed.062538","6790da83.2d4c54","69f6e4eb.80e62c","7066175f.071ce8","a9157021.56aa2","f7d52c85.918f3","ac4a48c1.4681c8","2a1f1c0d.25ca44","deda81b5.9e94a","315774bb.2e6fcc","5c5ee4e.9832d1c","835bdb6b.664a58"],"x":2914,"y":919},{"id":"f3b2b1b2.a0af2","type":"group","z":"3df4c8d9.0bdc38","g":"854dec5e.9e51d","name":"Habilitar / Deshabilitar Roking Start","style":{"fill":"#e3f3d3","label":true,"color":"#000000"},"nodes":["42b1083e.ce9cd8","f5ea8178.fe0f7","b81da68d.f1f608","3e70c8e7.d122b8","dbda20bb.9241b","5d32f571.d3ac9c","abae1ac3.029958","df83e8e7.26b538","786a9585.cd75cc","f1aef2ac.9e095","8d16d48d.753ca8","dd5b4bbd.505ea8","8b4427d0.6b69c8","168b6577.3e722b"],"x":2834,"y":39},{"id":"c30870cb.fa25a","type":"group","z":"3df4c8d9.0bdc38","g":"854dec5e.9e51d","name":"Configurar","style":{"fill":"#e3f3d3","label":true,"color":"#000000"},"nodes":["401ed26f.e6543c","23b18b52.b524e4","245c43fe.49aa2c","97f8ca63.3d9238","6bebb49.91ff04c","2971ab67.7e1f64","73213270.315b5c","541ff565.eda9ec","a0487735.d07c68","de01e320.127c4","5525a94.436c858","2f470fc9.a87a7","3df3dfb.cab992"],"x":2184,"y":39},{"id":"4384031.9ff1afc","type":"group","z":"3df4c8d9.0bdc38","g":"854dec5e.9e51d","name":"","style":{"fill":"#e3f3d3","label":true},"nodes":["a46bb197.4590c","2299663a.5fb8fa","f073de6b.d109f","bf8e558a.d150b8","70d87fe5.6d57","446190d2.61b54"],"x":3734,"y":39},{"id":"b4d97ea9.9a1f1","type":"group","z":"3df4c8d9.0bdc38","g":"854dec5e.9e51d","name":"Máquina de estados","style":{"fill":"#e3f3d3","label":true,"color":"#000000"},"nodes":["4d314b1.8c27eb4","e525d535.df71c8","d3122c65.f6281","a8811bf0.cf69a8","b92b51f2.862c3","83935bd.322d4a8","16fb733e.5b559d","5d139b56.877384","c2d6f712.b99e38","154e2116.00b6df","e1a8b26c.7e769","9757bec7.cb582","db429372.52e7a","d32a3c4c.d53bd","db524c1c.7299d","8dda8991.669f28","a573636f.f2ef1","f6feffbc.b7037","d864cf5d.4424a","f12b186c.4312a8","7d7e0a82.1b3274","752c4cf4.41b3d4","429c93e5.ec4a6c","6581a2a4.fd4b4c","29a13a58.22e996","12dfffdf.e5a1a","4f79aee8.bf74","bebada93.7c96e8","eb62ad9.cbb145","c7b640c9.5eab7","3576f525.ca307a","c3264b50.948808","f0234075.f9965","71b11fd7.a2749","e1903816.64f2b8","ebc6554b.f155d8","66531b72.ce7904","163e3938.402577","a16f5366.da31f","2aa3c62e.9854aa","2c0787ec.c0d3f8","c65245e9.e0b928","6c59dd9f.7072e4","fa892337.16686","f07c3e38.b976d","9d5c8cc0.ad9cb","a7eee5d5.1a1eb8","1dfca80a.0b9d78","39a13028.67056","ece75963.8a7658"],"x":2184,"y":339},{"id":"b15394d1.1fa588","type":"group","z":"d2972edf.3d6c1","g":"91665de9.7194","name":"Estado mecánico","style":{"label":true},"nodes":["5d74d873.b85e38","b871a674.63ee98","fc2f9ecf.0a471","2e0f600b.ba499","fe9c53b6.0ee09","72d873dd.bb8b2c","500f3da0.344694","68bf1bb.d9b73e4"],"x":424,"y":49},{"id":"594bfb02.2b8894","type":"group","z":"d2972edf.3d6c1","g":"91665de9.7194","name":"Propiedades de fluido","style":{"label":true},"nodes":["dd79fcdb.0c25f","e5c7184b.c31ce8","179c1c4.7a073e4","144d85f.39e447a","75ecbaf4.e5a914","b8f5a967.a9c448"],"x":424,"y":259},{"id":"6de7b375.6750cc","type":"group","z":"d2972edf.3d6c1","g":"91665de9.7194","name":"Prueba de producción","style":{"label":true},"nodes":["6b9a12e9.a4161c","3b4c211f.264d0e","75e32793.0fd7d8","717a5102.84ce4","f9a2608d.84b6f","8d85bed3.e80e","e9fbe4c2.81bcc8","a99d2c43.563ca"],"x":424,"y":429},{"id":"5f8972b7.b986dc","type":"group","z":"d2972edf.3d6c1","g":"91665de9.7194","name":"Datos para IPR","style":{"label":true},"nodes":["acc7ef26.c7f4b","7aa05938.679ec8","611f1586.1a9e7c","4bdf00ae.20f57","7cad0caf.316bc4","6bff5a6a.c8a6b4"],"x":424,"y":639},{"id":"f769a623.0ee4d8","type":"group","z":"e86f0ca4.7feb5","g":"2754ce2d.275a72","name":"Configuración","style":{"label":true,"fill":"#bfc7d7","color":"#000000"},"nodes":["544e4f09.924ff","7bbda697.add2d8","f92fbc40.4441c","d83df4b5.872028","ef51a39c.98a6","b816851f.3d7ce8","49746c3d.1d4df4","861294ef.59f838","66f7993.0d5e268","11c8b124.58700f","32ec764b.647dda","7fe94cba.1b4b44","cfc24105.bef89","b60e7c0c.9444a","6e200a30.69f7c4","b27f32d4.efd2c","ff9ada8.3dfd028","2330b80.6962848","d21a7fbf.cfa48","e4ca3e69.e17ad","f959019f.195d3","6f1e68e5.ab9558","cdb3d36.2b63a3","d53d896e.1c9d28","c88d3c23.0f3c3","56153c97.f4f924","e12b70ff.8552b"],"x":44,"y":3009},{"id":"a252f22b.3778d","type":"group","z":"e86f0ca4.7feb5","g":"2754ce2d.275a72","name":"Función de activación Filtro de armónicos","style":{"label":true,"fill":"#bfc7d7","color":"#000000"},"nodes":["850ab78d.611ed8","b4a2fb28.40b718","83ca674.21a7998"],"x":44,"y":3379},{"id":"76192ad6.067fa4","type":"group","z":"68deacdf.9a36f4","g":"4888c9a8.82cb88","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["9ac5fb1d.327ff8","4f79f4f3.46588c","fe4792d6.27d84","eae4c15c.1567d","7fb016f3.574be8"],"x":1324,"y":219},{"id":"1d477816.993308","type":"group","z":"3df4c8d9.0bdc38","g":"675af0d1.a9fc4","name":"","style":{"fill":"#e3f3d3","label":true},"nodes":["1c7f798e.cabbe6","bec0e16.9c3212","ef5dfbf1.adb148","26359185.e1f66e","460c1f1f.82178","e3ec1f07.c757","2813951c.bf7bfa","74d5017e.e1082","9353759f.984b88","d0a19b38.893ab8","6d33fcb1.428484"],"x":104,"y":69},{"id":"9bdf522.eba6db","type":"group","z":"3df4c8d9.0bdc38","g":"675af0d1.a9fc4","name":"","style":{"fill":"#e3f3d3","label":true},"nodes":["51d6f5bd.7b3bac","7984b34.194704c","406ea535.518d9c","67f2d064.1098c","825a8d81.e5826","39b139ed.19f7a6","76e5042d.a8799c","4d54b2ab.9b58bc","595852e0.7df8ec","a42f4760.a32ab8","cfde9e34.955e5","6bb7cd2e.159434","8b72bbb3.5d5a38","e6356da9.60663","b416b548.9000d8","ea102947.4ba5a8","36c8477f.f95a48","ce62d221.7b3b3","223f7107.39115e","f144e183.7ff68","a11437c4.3868e8","17820369.07024d","95ba5bc8.730648","a0fa86d.e053b78","afa8e49c.0a9318","b130bfc6.1176"],"x":104,"y":289},{"id":"5613a5b2.95577c","type":"group","z":"5f404c88.fa75a4","g":"dc098d16.abc16","name":"","style":{"fill":"#ffbfbf","label":true},"nodes":["69b90e27.12edb","eb3ef75e.1e44a8","c4dc63d8.59a54","c2aaaa39.b8ab38","94f98f25.8992","29dd54ff.f2d87c","850da070.cd3cc","62bf7dff.e31774","e55c5b8.eb47aa8","6cd658cf.98b1a8","6a2f1608.861eb8","52f10c12.555b24","fd9df9f7.0350c8"],"x":144,"y":69,"w":912,"h":242},{"id":"7b165c8f.b14834","type":"group","z":"5f404c88.fa75a4","g":"dc098d16.abc16","name":"","style":{"fill":"#ffbfbf","label":true},"nodes":["a9a422de.89b49","3cc764fd.7e58cc","1acb0c29.0ddee4","d82f7fec.13595","1c5b5d3c.1c9023","5d2f7a98.356b04","6d286a3.7a9a594","62b08bc.a787d74","fce43241.9e843","8253c33e.847cf","96de9397.2cea6","41414c01.67ae34","1ab4ef0d.3e8111","179175a2.e04cba","2edc6015.2c551","4d5c72d.3ef098c","2623f9cb.362ad6","a4829f7d.87894","d667ef8b.c9dd8","79fb7790.809a08","bd420231.1a153","2d017655.64384a","67730133.9e443","91f9dd8.d63f02","242f1895.633768","ae9b727.7899b9","4cac8e09.ee599","635b4691.5d8188","b4e39862.6e63b8","d428246e.250f38","45b3b2f600360f52","720c784d.44dff8","4eae5683.c6d3c8","2a2f210f.aad5be"],"x":144,"y":319,"w":1962,"h":312},{"id":"e503ca5.7ac8738","type":"group","z":"5f404c88.fa75a4","g":"dc098d16.abc16","name":"","style":{"stroke":"#a4a4a4","label":true,"fill":"#ffbfbf"},"nodes":["a735dde2.fca15","da35109a.abaf","80767bfb.6c99e8","f2b2eb51.f0a778","aa36a4b3.18fea8","1fdf355.5b5f8cb","c581c8dc.d013e8","aefb683f.603ed8","516eb117.80341","ed90d895.2dba38","8795b125.03836","e9296706.6f4db8","edd86b06.db3c18","1377622f.f9616e","a34d22bc.215c6","bf656c1e.ff84","7d8faac3.d24504","3c2de1fe.525eae","ba3ec3f7.7f116","b07f5c6d.27fb2","ca280181.090e2","e0c911fe.aaa9","41951c57.8e84c4","d4aceefa.55a6d","223cb03e.57618","b34e348c.08d3d8","af75dc7c.5eaad","7ea30cf7.87bf74","6c47cd85.078b04","9045005a.2f943","6aaa222d.543dfc","8141640f.3598b8","2842bb88.2ace24","645af99b.4e8a38","f99e70c8.70126","26eb2018.cea02","512150a.24612b","fea9bef5.a9067","f7bbcee0.96201","560532dc.951a7c","eac4a50a.98c358","8565c38.316b44","c0a7cbde.806148","f0e59da1.e1b2e","4b8f3906.dd4198","7ce52484.84a5ec","1c025a1f.5a68b6","fe0231d7.12171","9881e750.db2aa8","56429c56.7dd754","464e0e1.78c22f","4bc9b58e.7b883c","7721aa62.486c74","f87a07cd.22b318","b0908621.f81058","5a59784b.c9d428","cfb42c45.e78cc","a7a23c86.af952","dc0e9251.31ef4","5da903f0.67311c","c9cf11a6.25674","83e4b55f.06df38","a6e1a57e.4b58a8","573be8e5.2698e8","e45b510.d40b5b","ba862a95.d45a28","798c5785.149488","51710fb1.fb291"],"x":144,"y":639,"w":2322,"h":542},{"id":"779bed65.1819b4","type":"group","z":"6c7d2db7.37ef34","g":"f58295c0.4d4228","name":"Estado protecciones","style":{"fill":"#e3f3d3","label":true,"color":"#000000"},"nodes":["3f6add70.a832c2","5fe10083.8d019","77ab26cf.b76908","ef649b1a.9ba458","158a08bb.8224b7","9209cfb3.3a43a","56b2f98a.e8c598","eb2d9138.c0a31","5e84b7c.af1d848","cd467bf8.39af48","5805c268.31f02c"],"x":874,"y":759},{"id":"3cf0ba38.d2e4f6","type":"group","z":"6c7d2db7.37ef34","g":"f58295c0.4d4228","name":"Protección digital","style":{"label":true,"fill":"#e3f3d3","color":"#000000"},"nodes":["a7cf2e54.83bc5","2f5679af.c10006"],"x":874,"y":1009},{"id":"38ea9e35.6d66c2","type":"group","z":"e86f0ca4.7feb5","g":"de6d41a4.0f4d2","name":"","style":{"fill":"#bfc7d7","label":true},"nodes":["403f2c89.5c77c4","fa0998da.25ce28","2ce5372e.7ad778","624af569.ea18cc","303c96fd.f6ab4a","e9b72ba.cbd4bd8","3d2d28c4.24fb38","dca99529.6959c8","10d8ade3.a7e942","22b0d7de.606178","5135d0c7.6a31b","d3ab8d40.89bb8","ac1c125d.58013","bb924e9.114edb","a1f1520d.067d8","d3c940f3.2efcf","46172269.17fc4c","6a7c3fff.d9b2f","1d4ffc63.2c9fb4","4f7d7d5d.f0e5c4","3c83aebf.54ee92","85f12e7a.2e726"],"x":1354,"y":1689},{"id":"c05026cc.2a6048","type":"group","z":"e86f0ca4.7feb5","g":"23bbdddc.b8c5c2","name":"Lectura y asignación","style":{"fill":"#bfc7d7","label":true,"color":"#000000"},"nodes":["95dd5b10.93eeb8","8ecce404.876938","627efcf3.7c1d94","3adac9ad.967366","be92e9cc.af4ea8","a28ab24d.e3159","324d8a5d.797266","2514916c.82ad8e","669558e4.31fb88","7ab77e72.f274c","548a3e91.fba1d","fd8a5b86.5db6c8","421e6162.dc457","549db7d6.bf0818","250b02a.a48adfe","beafa3d1.066ef","38933109.a0660e","8cc27616.708d38","333a4d0f.a365e2","82ef607a.ab19c","f2e4a286.70c9d","4f650c7f.8e8864","dde63ac0.f1af98","e825b6f5.656cb8","c48e11aa.f1c5b","e4e1a727.bfdc98","59cd5141.6d208","d5af92d1.30c4d","b8115e69.2fa69","59cc6269.8b63dc","ba40b293.69fa9","eeee6a7d.5b1c18","123256cf.a6e189","1ea25171.b45eef","b4f9d47a.daf3d8","c19731de.9f7ce","13a2af85.2e896","a8055038.008e3","3effc50b.71ceba","58071b9e.a38484","c06df558.df5ee8","4573a9d3.6416f8","fd80d16.7c4df3","584af226.6a9c6c","4dc9efde.bc6cb","be019981.2941f8","42dfe362.ecf9fc","b62e9296.2afd8","2b33cbc0.5a4c64"],"x":64,"y":909},{"id":"5c3a9c15.3a4554","type":"group","z":"e86f0ca4.7feb5","g":"1027a10.a1e515f","name":"Lectura y asignación","style":{"fill":"#bfc7d7","label":true,"color":"#000000"},"nodes":["ff6c1ae7.7f0dd8","3c9f71a9.9f8fce","83a6198.8a9bee8","a6b6e124.811fb","2153ada3.61f452","641c6b57.1bdb14","826212c.76963f","f360853e.c29228","969d8cdc.200d1","1252dc55.783c04","7c61da60.31add4","462f214a.e5fd","fa18228c.8181c","a65ddf0c.e44da","f4655786.614248","8a8d5c74.6c919","3c9fecb8.51c404","afd9656e.c67a18","d1695de0.41452","f406d5d7.37bf18","8f314f6c.0c944","835e4ff1.50739","29f2664c.10cf1a","511841f8.1761e","c1ca7972.7efad8","77783f2a.0aca1","feca211c.60dc6","3b25cb79.a981f4","77b4028a.3116dc","95efa56e.233d78","f9d05caa.b3206","8512c7a9.9f3008","ee85a47.ad49958","e78a55c6.016538","9b3a07a.3df91f8","3f48d1d.ab2bc2e","13df9639.62708a","ba9edd6f.41866","3e30e6e0.bd0faa","b59f826.3f1168","f74abfe3.0a48","795296da.abb248","f280a028.0f854","e00639ac.bbe708","e2826c41.04335","435a2978.250678","6ee54c76.5e9a84","fd4a004d.1bf35","be12ad7.928595","1d62e869.d5e798","6852949f.2b2fac","69b4483c.a39a08","52ca24e6.55d4cc","d99a83cd.a0306","a5237645.ed83c8","1237d11d.014d9f"],"x":1364,"y":479},{"id":"62757ffc.dca08","type":"group","z":"e86f0ca4.7feb5","g":"23bbdddc.b8c5c2","name":"Configuración","style":{"fill":"#bfc7d7","label":true,"color":"#000000"},"nodes":["1d563240.d7335e","eae17bf7.abfb98","57693d42.64b594","5612c7d7.dfac98","d16a7da0.51a4b","53f591a9.c6db1","9739e42b.b55908","c3703a0f.b4eb58","b5365bc3.4a2988","c967237e.798c5","f7d45d17.1263","ce9bcbe0.82ba08","7fca5a8d.8bd774","bc814e1b.e48e3","bd084cfc.c96b7","4413b68b.f15548","39314781.1c5188","b014379a.bddbd8","9946d95c.306678","95258912.15d388","70f95af9.c31fe4","8d5d3cd1.75de5","c7a11874.426038","d7b7c53a.bfd1d8","c662f5ad.21deb8","4b93e0d.a6fd52","c44c2bcf.479ab8","c8be3f70.1b147","f682cea0.507b9","dba1ea5a.227608","bf79e240.5ab82","c971dc53.ca862","92923f3a.deb0e","dabf45d6.c9a6b8","1b8abdf6.3dcb22","adc1722f.13e2","ba03cbde.df6f78"],"x":64,"y":59},{"id":"2d061227.66d7ce","type":"group","z":"e86f0ca4.7feb5","g":"1027a10.a1e515f","name":"Configuración","style":{"fill":"#bfc7d7","label":true,"color":"#000000"},"nodes":["2860e3ba.631ffc","65fd0659.ce5ea8","81c44399.313d1","36a6ada6.088e02","f9855a9d.d658d8","c7394d4f.1877f","e398f7a4.f17d08","885e055a.76fda8","4414ee60.603dd","afb718c8.4b74c8","d3888470.828598","955fc7d3.2b6ac8","edd64156.146d3","706c900.17dd37","ce1dc649.cc5748","f9a3d861.77c0f8","15368445.fbcc8c","18add3e9.59452c","5ba78aad.1e1004","5d335e3d.151a7","36c67261.6e84de","4650be5c.04ff2","ab3579b7.9be628","5c582963.1ed7f8","acf4e6b7.86a698","e3fc54b9.c1b108","a2be0fbd.31585","4a02b457.a1fecc","ffda9256.dc79c"],"x":1364,"y":59},{"id":"a80677cf.4274c8","type":"group","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"Eventos Usuario","style":{"fill":"#ff7f7f","label":true,"color":"#000000"},"nodes":["c404a6e9.ffda18","7dfbde1e.e4b5b","6d40adaa.11d2c4"],"x":684,"y":649},{"id":"64ff74e5.f4c53c","type":"group","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"Acciones externas usuario","style":{"label":true,"fill":"#ff7f7f","color":"#000000"},"nodes":["8edea7ae.674088","33c5f16c.c8a5ae","42f85e00.83b314","b4ef9f7b.b3569","b176ecba.94d95","bb6251eb.8edc2"],"x":684,"y":269},{"id":"272ed76d.7cce68","type":"group","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Estado de la escritura de Referencia E2/E7","style":{"fill":"#e3f3d3","label":true,"color":"#000000"},"nodes":["ac35b5d7.c82f98","7eae3e0f.631e6","5a87edb6.8c3394","857e53fb.e5dae","e1454e7d.97fa8","35641b5c.fa1334","e9f8a5f1.b0bdb8","2451ed0d.81d282","933dddee.7aa6b","97085297.91fc4"],"x":944,"y":999},{"id":"5d1065e2.7b952c","type":"group","z":"e86f0ca4.7feb5","g":"23bbdddc.b8c5c2","name":"Handle de las funciones DI","style":{"fill":"#bfc7d7","label":true,"color":"#000000"},"nodes":["38626d7c.ef07b2","782235ec.980bfc","fe53aea5.79aaf","2067d6cd.3e46ca","9a2d670b.656248","45b32200.ade75","4b7a8d2a.7dcd74","9670bb31.dbb068","7a84d54f.a2970c","5e0e5966.967498","ce7147d6.294208","5ccfc99a.046e78","55d7f98f.7ca518"],"x":64,"y":1399},{"id":"1b19a252.cfe16e","type":"group","z":"e86f0ca4.7feb5","g":"d22a2793.24a988","name":"Configuración","style":{"label":true,"color":"#000000","fill":"#bfc7d7"},"nodes":["c1725583.cfc348","4526b0f7.fa6a6","f67e70e4.5f30e","bb68e810.a57a38","ce5f1106.c4ff9","85590fb.bc50ef","dbf2523c.156f3","23cf0be1.ad7274","ab7a7e6.0a4ca8","1a41c067.58aff","4b7792b7.b882fc","8e67a2d0.14549","ffcb3293.a4c48","66aa96c8.486ca8","ff71fda1.67ec9","c4e00dfa.4f109","37d41ac8.88d346","e61ce5c2.e74a08","29ba2c8e.26a694","c19d1216.bf754","8e749bbe.f74f28","d34861d8.cf767","4968d3dd.74a03c","e3df39b.47c05c8","890ece98.923b9","16a30db2.f4a332","c4df0919.a31038","7be459fd.6dc178"],"x":64,"y":1689},{"id":"be55ea76.ed4478","type":"group","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"Detectar usuario","style":{"fill":"#ff7f7f","label":true,"color":"#000000"},"nodes":["ffad1340.f8a3b","8effe1fe.bacd6","98a9b5d4.5e5608","d1a73825.d89578"],"x":684,"y":479},{"id":"65994a87.9d5eb4","type":"group","z":"3df4c8d9.0bdc38","g":"b9df7528.923398","name":"","style":{"fill":"#e3f3d3","label":true},"nodes":["9fcfa3c7.5bb01","e8ffc67a.2f5778","c5745a1a.186ed8","b0f432e9.afb6f","f4363e16.f1813"],"x":1654,"y":2459},{"id":"c25b39de.c92f08","type":"group","z":"3df4c8d9.0bdc38","g":"b9df7528.923398","name":"","style":{"fill":"#e3f3d3","label":true},"nodes":["d20b1d29.af131","f16c6dc8.39b26","c772f505.e2a288","81b94467.3df428","6470fc32.84d4e4","a50dd18a.76418","d989b122.fe955","b989f736.23a2b8","d7ce792.fe4a788","a431d62d.9fc4c8","d2d8c432.da5b08","111e0dd4.0a5e22","6048b01f.b48ef","7c18d010.a2ff9","38bdd4ac.3dc20c"],"x":1654,"y":2549},{"id":"2fb80d12.b93df2","type":"group","z":"e86f0ca4.7feb5","g":"de6d41a4.0f4d2","name":"Asignación salidas analógicas","style":{"fill":"#bfc7d7","label":true,"color":"#000000"},"nodes":["e9373487.c7fa08","3f8b03ec.506cdc","5f2867aa.83ab38","9564fab5.983018","86a1a8ce.c23f58","84d2378f.68fed8","7dba063a.4b3cd8","d92a7cde.4850e","4407ad32.953ac4","9fc08388.ed34f","bd487a3c.8e19c8","fcda2fbe.ad0b2","ce922e0.da955d","37b8b949.eaea56","ae57732a.5f92c","53fbe394.d4ce6c","767edd18.2de7f4","992dfe22.11008","2ef73938.895866","9d6b8eeb.cad3c"],"x":1354,"y":2009},{"id":"49f2e1fd.34fcd","type":"ui_base","theme":{"name":"theme-custom","lightTheme":{"default":"#0094CE","baseColor":"#007bff","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":false},"customTheme":{"name":"BCPGroup Theme","default":"#4B7930","baseColor":"#324a9d","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","reset":false},"themeState":{"base-color":{"default":"#4B7930","value":"#324a9d","edited":true},"page-titlebar-backgroundColor":{"value":"#324a9d","edited":false},"page-backgroundColor":{"value":"#e7e9e8","edited":true},"page-sidebar-backgroundColor":{"value":"#333333","edited":false},"group-textColor":{"value":"#000000","edited":true},"group-borderColor":{"value":"#e7e9e8","edited":true},"group-backgroundColor":{"value":"#e7e9e8","edited":true},"widget-textColor":{"value":"#000000","edited":true},"widget-backgroundColor":{"value":"#324a9d","edited":true},"widget-borderColor":{"value":"#e7e9e8","edited":true},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"true","allowSwipe":"false","lockMenu":"false","allowTempTheme":"false","dateFormat":"DD/MM/YYYY","sizes":{"sx":57,"sy":45,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"e9a46a0b.71c978","type":"ui_spacer","name":"spacer","group":"","order":3,"width":"0","height":"0"},{"id":"99f17ff2.2c14","type":"ui_group","name":"Escribir parámetro C2S","tab":"9d512981.aa8278","order":8,"disp":true,"width":"4","collapse":false},{"id":"a3d14ba7.64fb58","type":"ui_tab","name":"Main","icon":"fa-home","order":1,"disabled":false,"hidden":false},{"id":"bbd73f04.32559","type":"ui_group","name":"Monitoreo SWC","tab":"af61749c.7aa158","order":2,"disp":true,"width":"12","collapse":false},{"id":"971dcd1e.a04d5","type":"ui_group","name":"Rampas","tab":"9d512981.aa8278","order":5,"disp":true,"width":"4","collapse":false},{"id":"8370e95f.f0a918","type":"ui_group","name":"Datos C2S","tab":"a3d14ba7.64fb58","order":4,"disp":false,"width":"12","collapse":false},{"id":"1925e2c.fd4e91d","type":"ui_group","name":"Referencia de velocidad","tab":"a3d14ba7.64fb58","order":7,"disp":true,"width":8,"collapse":false},{"id":"c17f19ae.06fbf8","type":"ui_tab","name":"Users","icon":"fa-user","order":4,"disabled":false,"hidden":false},{"id":"a706ea3d.b7fbc8","type":"ui_group","name":"User Credentials","tab":"c17f19ae.06fbf8","order":2,"disp":false,"width":"12","collapse":false},{"id":"5901c07f.97003","type":"ui_group","name":"Tensión","tab":"4be5396c.78f338","order":3,"disp":false,"width":"8","collapse":false},{"id":"4be5396c.78f338","type":"ui_tab","name":"Configuración-Protecciones-Superficie","icon":"fa-plug","order":14,"disabled":false,"hidden":false},{"id":"6b5426f3.f658d8","type":"ui_group","name":"Corriente","tab":"4be5396c.78f338","order":5,"disp":false,"width":"8","collapse":false},{"id":"a1a44702.88ed68","type":"ui_group","name":"Temperatura de entrada","tab":"70f4c45e.09553c","order":6,"disp":false,"width":"8","collapse":false},{"id":"e149ba57.923428","type":"ui_group","name":"Presión de entrada","tab":"70f4c45e.09553c","order":4,"disp":false,"width":"8","collapse":false},{"id":"38e9a87.c300958","type":"ui_group","name":"Presión de descarga","tab":"70f4c45e.09553c","order":8,"disp":false,"width":"8","collapse":false},{"id":"79bd9737.7bcf68","type":"ui_group","name":"Temperatura de descarga","tab":"70f4c45e.09553c","order":10,"disp":false,"width":"8","collapse":false},{"id":"b8c21edc.41f92","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":21,"width":"8","height":1},{"id":"8fb42710.c26628","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":21,"width":"8","height":1},{"id":"433a22e9.54c74c","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":21,"width":"8","height":1},{"id":"18a741a9.399cbe","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":21,"width":"8","height":1},{"id":"53f5e611.7d5b48","type":"ui_group","name":"Límites","tab":"9d512981.aa8278","order":7,"disp":true,"width":"4","collapse":false},{"id":"c0d4b517.4b9968","type":"ui_group","name":"Placa de motor","tab":"9d512981.aa8278","order":3,"disp":false,"width":"12","collapse":false},{"id":"8c9de1e9.1607e","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":1,"width":"0","height":"0"},{"id":"2f203838.1cd398","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":15,"width":"0","height":"0"},{"id":"fdffe6bc.86dd78","type":"ui_tab","name":"Eventos","icon":"fa-list-ol","order":3,"disabled":false,"hidden":false},{"id":"96dbaa88.715ef8","type":"ui_group","name":"Eventos","tab":"fdffe6bc.86dd78","order":3,"disp":false,"width":"12","collapse":false},{"id":"907f5ff7.25cd8","type":"ui_group","name":"Dirección IP C2S","tab":"c85a3f81.44d67","order":2,"disp":true,"width":"12","collapse":false},{"id":"759fa4e7.01062c","type":"ui_group","name":"Comandos C2S","tab":"a3d14ba7.64fb58","order":9,"disp":true,"width":"10","collapse":false},{"id":"a487b683.29f738","type":"ui_group","name":"Diagnóstico de red SWC","tab":"57cb75a3.2b4fdc","order":3,"disp":true,"width":"12","collapse":false},{"id":"91f407cc.9e95a8","type":"ui_group","name":"Memorias USB","tab":"fdffe6bc.86dd78","order":5,"disp":false,"width":"12","collapse":false},{"id":"c001d335.d33fe","type":"ui_group","name":"Fase A","tab":"3d7d1bc8.aa6c84","order":2,"disp":true,"width":"3","collapse":false},{"id":"12d8ae87.47ccb1","type":"ui_group","name":"Fase B","tab":"3d7d1bc8.aa6c84","order":3,"disp":true,"width":"3","collapse":false},{"id":"1e504599.f4523a","type":"ui_group","name":"Fase C","tab":"3d7d1bc8.aa6c84","order":4,"disp":true,"width":"3","collapse":false},{"id":"95ebb133.30cd2","type":"ui_group","name":"Promedio","tab":"3d7d1bc8.aa6c84","order":5,"disp":true,"width":"3","collapse":false},{"id":"c9a29e84.68bd","type":"ui_group","name":"Voltios Hertz","tab":"9d512981.aa8278","order":4,"disp":false,"width":"12","collapse":false},{"id":"ae58460d.12c698","type":"modbus-client","name":"PQA","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.2.13","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":5,"commandDelay":1,"clientTimeout":1000,"reconnectOnTimeout":true,"reconnectTimeout":2000,"parallelUnitIdsAllowed":true},{"id":"2675f763.09aa58","type":"ui_group","d":true,"name":"Buzzer","tab":"73af030.b87b7fc","order":11,"disp":true,"width":"12","collapse":false},{"id":"d8a1c8a1.3fd9d8","type":"ui_group","name":"Configuración Ethernet SWC","tab":"57cb75a3.2b4fdc","order":2,"disp":true,"width":"12","collapse":false},{"id":"22d1f3b8.e8944c","type":"ui_tab","name":"Menu","icon":"dashboard","order":2,"disabled":false,"hidden":false},{"id":"9e6ebcc8.9f87","type":"ui_group","name":"Menu","tab":"22d1f3b8.e8944c","order":3,"disp":false,"width":"8","collapse":false},{"id":"13d04d5f.cae853","type":"ui_group","name":"Navbar","tab":"22d1f3b8.e8944c","order":1,"disp":false,"width":"9","collapse":false},{"id":"ccb4b03.df2d45","type":"ui_group","name":"Navbar","tab":"a3d14ba7.64fb58","order":1,"disp":false,"width":"9","collapse":false},{"id":"1ab5740c.42463c","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":5,"width":"3","height":1},{"id":"85ff5727.7cc6c8","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":3,"width":"3","height":1},{"id":"dca8b287.e913a","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":6,"width":"3","height":1},{"id":"f27e2d56.614aa","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":8,"width":"3","height":1},{"id":"53e6d6fb.0cd618","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":9,"width":"3","height":1},{"id":"eca5d69a.8e55f8","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":12,"width":"3","height":1},{"id":"b157381c.777888","type":"ui_group","name":"Navbar","tab":"fdffe6bc.86dd78","order":1,"disp":false,"width":"12","collapse":false},{"id":"9d512981.aa8278","type":"ui_tab","name":"Configuración-Estándar-Variador","icon":"dashboard","order":5,"disabled":false,"hidden":false},{"id":"55d542f4.50b54c","type":"ui_group","name":"Navbar","tab":"9d512981.aa8278","order":1,"disp":false,"width":"12","collapse":false},{"id":"8b5bc288.343f8","type":"ui_tab","name":"Monitoring-Drive","icon":"dashboard","order":41,"disabled":false,"hidden":false},{"id":"3d7d1bc8.aa6c84","type":"ui_tab","name":"Monitoring-PQA Voltage","icon":"dashboard","order":42,"disabled":false,"hidden":false},{"id":"21c40e15.4edac2","type":"ui_group","name":"Voltage","tab":"8b5bc288.343f8","order":3,"disp":true,"width":"4","collapse":false},{"id":"6fb426b2.734468","type":"ui_group","name":"Current","tab":"8b5bc288.343f8","order":4,"disp":true,"width":"4","collapse":false},{"id":"baeb19e9.7b41b8","type":"ui_group","name":"Power","tab":"8b5bc288.343f8","order":5,"disp":true,"width":"4","collapse":false},{"id":"8f162ab5.03e8a8","type":"ui_group","name":"Temperature","tab":"8b5bc288.343f8","order":6,"disp":true,"width":"4","collapse":false},{"id":"c171a5e9.57a728","type":"ui_group","name":"CILA Image","tab":"22d1f3b8.e8944c","order":4,"disp":false,"width":"4","collapse":false},{"id":"7ddeb867.f441b8","type":"ui_group","name":"Datos de fondo","tab":"a3d14ba7.64fb58","order":5,"disp":false,"width":"12","collapse":false},{"id":"2666f936.6d0ee6","type":"ui_group","name":"Estado C2S","tab":"a3d14ba7.64fb58","order":11,"disp":false,"width":"9","collapse":false},{"id":"7bcf8b9.016b774","type":"ui_group","name":"Date Time","tab":"22d1f3b8.e8944c","order":6,"disp":false,"width":"3","collapse":false},{"id":"536af8e6.0e6808","type":"ui_group","name":"Estado C2S","tab":"22d1f3b8.e8944c","order":5,"disp":false,"width":"9","collapse":false},{"id":"4294c02d.433f5","type":"ui_tab","name":"Configuración-Estándar-Relación_de_reducción","icon":"dashboard","order":6,"disabled":false,"hidden":false},{"id":"e212240.b0030e","type":"ui_tab","name":"Configuración-Estándar-Filtro_de_armónicos","icon":"dashboard","order":7,"disabled":false,"hidden":false},{"id":"d4b273b7.118aa","type":"ui_tab","name":"Configuración-Estándar-Hardware_disponible","icon":"dashboard","order":8,"disabled":false,"hidden":false},{"id":"c45750e3.94fcf","type":"ui_tab","name":"Configuración-Estándar-Unidades_ingeniería","icon":"dashboard","order":10,"disabled":false,"hidden":false},{"id":"73af030.b87b7fc","type":"ui_tab","name":"Configuración-E_S-SWCPRO","icon":"dashboard","order":11,"disabled":false,"hidden":false},{"id":"8b397091.1e2a6","type":"ui_group","name":"Navbar","tab":"4294c02d.433f5","order":1,"disp":false,"width":"12","collapse":false},{"id":"251ce553.192aaa","type":"ui_group","name":"Navbar","tab":"e212240.b0030e","order":1,"disp":false,"width":"12","collapse":false},{"id":"a302ba1a.abeec8","type":"ui_group","name":"Navbar","tab":"d4b273b7.118aa","order":1,"disp":false,"width":"12","collapse":false},{"id":"611d0bce.a51234","type":"ui_group","name":"Navbar","tab":"c45750e3.94fcf","order":1,"disp":false,"width":"12","collapse":false},{"id":"d2902e21.4d6d9","type":"ui_tab","name":"Configuración-E_S-Remotas","icon":"dashboard","order":12,"disabled":false,"hidden":false},{"id":"5ec797db.370fe8","type":"ui_group","name":"Navbar","tab":"d2902e21.4d6d9","order":1,"disp":false,"width":"12","collapse":false},{"id":"782e29e9.7b7e28","type":"ui_group","name":"Navbar","tab":"73af030.b87b7fc","order":1,"disp":false,"width":"12","collapse":false},{"id":"f70043a3.dcddb","type":"ui_group","name":"Navbar","tab":"4be5396c.78f338","order":1,"disp":false,"width":"12","collapse":false},{"id":"1115e53d.667bcb","type":"ui_group","name":"Menú datos operativos","tab":"a3d14ba7.64fb58","order":3,"disp":false,"width":"12","collapse":false},{"id":"4f5c2b53.44a154","type":"ui_group","name":"Datos eléctricos","tab":"a3d14ba7.64fb58","order":6,"disp":false,"width":"12","collapse":false},{"id":"70f4c45e.09553c","type":"ui_tab","name":"Configuración-Protecciones-Fondo","icon":"dashboard","order":13,"disabled":false,"hidden":false},{"id":"fa54261.0bbffd8","type":"ui_group","name":"Navbar","tab":"70f4c45e.09553c","order":1,"disp":false,"width":"12","collapse":false},{"id":"896be3ec.eb491","type":"ui_group","name":"Navegación protecciones","tab":"70f4c45e.09553c","order":2,"disp":false,"width":"12","collapse":false},{"id":"9ae9c438.b36418","type":"ui_group","name":"Navegación protecciones","tab":"4be5396c.78f338","order":2,"disp":false,"width":"12","collapse":false},{"id":"7eaa26da.d167a8","type":"ui_tab","name":"Configuración-Comunicaciones-SCADA","icon":"dashboard","order":15,"disabled":false,"hidden":false},{"id":"64294d01.719264","type":"ui_group","name":"Navbar","tab":"7eaa26da.d167a8","order":1,"disp":false,"width":"12","collapse":false},{"id":"56b03a99.1007f4","type":"ui_group","name":"Comunicación SCADA","tab":"7eaa26da.d167a8","order":2,"disp":true,"width":"12","collapse":false},{"id":"2dbf183f.1f2ed8","type":"ui_tab","name":"Configuración-Comunicaciones-Sensor_de_fondo","icon":"dashboard","order":16,"disabled":false,"hidden":false},{"id":"46115c7a.f67544","type":"ui_group","name":"Navbar","tab":"2dbf183f.1f2ed8","order":1,"disp":false,"width":"12","collapse":false},{"id":"e37d4f11.c2ffd","type":"ui_tab","name":"Configuración-Comunicaciones-PQA","icon":"dashboard","order":17,"disabled":false,"hidden":false},{"id":"eba1ec9d.afb9","type":"ui_group","name":"Navbar","tab":"e37d4f11.c2ffd","order":1,"disp":false,"width":"12","collapse":false},{"id":"c85a3f81.44d67","type":"ui_tab","name":"Configuración-Comunicaciones-C2S","icon":"dashboard","order":18,"disabled":false,"hidden":false},{"id":"4ed084db.07bb8c","type":"ui_group","name":"Navbar","tab":"c85a3f81.44d67","order":1,"disp":false,"width":"12","collapse":false},{"id":"57cb75a3.2b4fdc","type":"ui_tab","name":"Configuración-Comunicaciones-SWC","icon":"dashboard","order":19,"disabled":false,"hidden":false},{"id":"422cfba8.52cb44","type":"ui_group","name":"Navbar","tab":"57cb75a3.2b4fdc","order":1,"disp":false,"width":"12","collapse":false},{"id":"12a91775.1f0509","type":"ui_spacer","name":"spacer","group":"d8a1c8a1.3fd9d8","order":1,"width":"3","height":"3"},{"id":"48242831.fbb518","type":"ui_spacer","name":"spacer","group":"d8a1c8a1.3fd9d8","order":6,"width":"3","height":"3"},{"id":"36b368d9.464228","type":"ui_spacer","name":"spacer","group":"907f5ff7.25cd8","order":1,"width":"3","height":1},{"id":"f792af12.140ec","type":"ui_spacer","name":"spacer","group":"907f5ff7.25cd8","order":4,"width":"0","height":"0"},{"id":"51fc0122.69508","type":"ui_tab","name":"Configuración-Tipo_de_control-Control_inteligente_de_torque","icon":"dashboard","order":20,"disabled":false,"hidden":false},{"id":"57ef0fe3.abf6d","type":"ui_tab","name":"Configuración-Tipo_de_control-Control_de_backspin","icon":"dashboard","order":21,"disabled":false,"hidden":false},{"id":"95558f26.f7b06","type":"ui_group","name":"Navbar","tab":"51fc0122.69508","order":1,"disp":false,"width":"12","collapse":false},{"id":"5e910f38.f94bf","type":"ui_group","name":"Navbar","tab":"57ef0fe3.abf6d","order":1,"disp":false,"width":"12","collapse":false},{"id":"929052b3.16de6","type":"ui_tab","name":"Tendencias-Fondo-Sensor_Less","icon":"dashboard","order":30,"disabled":false,"hidden":false},{"id":"68ac396.1165ac8","type":"ui_tab","name":"Monitoreo-Datos_operativos-Fondo","icon":"dashboard","order":31,"disabled":false,"hidden":false},{"id":"e7fec6e7.e03cc8","type":"ui_tab","name":"Monitoreo-Datos_Operativos-Superficie_y_Fondo","icon":"dashboard","order":32,"disabled":false,"hidden":false},{"id":"af61749c.7aa158","type":"ui_tab","name":"Monitoreo_ES_Remotas","icon":"dashboard","order":33,"disabled":false,"hidden":false},{"id":"a04c63d2.079f3","type":"ui_tab","name":"Monitoreo_ES_CILA2S","icon":"dashboard","order":34,"disabled":false,"hidden":false},{"id":"78de14f0.6d2a1c","type":"ui_tab","name":"Monitoreo-AVAS-IWOC","icon":"dashboard","order":35,"disabled":false,"hidden":false},{"id":"e4f8f278.f0d93","type":"ui_tab","name":"Monitoreo-AVAS-Sensor_Less","icon":"dashboard","order":36,"disabled":false,"hidden":false},{"id":"c89f74a9.ab18a8","type":"ui_tab","name":"Monitoreo-AVAS-Power_Sag","icon":"dashboard","order":37,"disabled":false,"hidden":false},{"id":"852dbf53.0f314","type":"ui_tab","name":"Monitoreo-AVAS-IRL","icon":"dashboard","order":38,"disabled":false,"hidden":false},{"id":"894c698a.73bca8","type":"ui_tab","name":"Monitoreo-AVAS-GasLock","icon":"dashboard","order":39,"disabled":false,"hidden":false},{"id":"4e2f4485.4ef94c","type":"ui_tab","name":"Configuración-AVAS-IWOC","icon":"dashboard","order":22,"disabled":false,"hidden":false},{"id":"52ac1d2c.4bfae4","type":"ui_tab","name":"Configuración-AVAS-Sensor_Less","icon":"dashboard","order":23,"disabled":false,"hidden":false},{"id":"979b2d16.995aa","type":"ui_tab","name":"Configuración-AVAS-Power_Sag","icon":"dashboard","order":24,"disabled":false,"hidden":false},{"id":"9def7eb2.1268e","type":"ui_tab","name":"Configuración-AVAS-IRL","icon":"dashboard","order":25,"disabled":false,"hidden":false},{"id":"89338107.067bf","type":"ui_tab","name":"Configuración-AVAS-GasLock","icon":"dashboard","order":26,"disabled":false,"hidden":false},{"id":"5f0a8098.4de05","type":"ui_group","name":"Navbar","tab":"4e2f4485.4ef94c","order":1,"disp":false,"width":"12","collapse":false},{"id":"b081becd.c126e","type":"ui_group","name":"Navbar","tab":"52ac1d2c.4bfae4","order":1,"disp":false,"width":"12","collapse":false},{"id":"2c0e3387.dee62c","type":"ui_group","name":"Navbar","tab":"979b2d16.995aa","order":1,"disp":false,"width":"12","collapse":false},{"id":"c522aab3.95b0b8","type":"ui_group","name":"Navbar","tab":"9def7eb2.1268e","order":1,"disp":false,"width":"12","collapse":false},{"id":"26ae8f9f.de158","type":"ui_group","name":"Navbar","tab":"89338107.067bf","order":1,"disp":false,"width":"12","collapse":false},{"id":"ccbff65e.9a8578","type":"ui_group","name":"Navbar","tab":"d3429dad.90f97","order":1,"disp":false,"width":"12","collapse":false},{"id":"f33b4c32.61464","type":"ui_group","name":"Navbar","tab":"5d9f53b4.4e1f4c","order":1,"disp":false,"width":"12","collapse":false},{"id":"5a9ecaca.da3fe4","type":"ui_group","name":"Navbar","tab":"929052b3.16de6","order":1,"disp":false,"width":"12","collapse":false},{"id":"56cd6bff.7aa614","type":"ui_group","name":"Navbar","tab":"68ac396.1165ac8","order":1,"disp":false,"width":"12","collapse":false},{"id":"6a601ecc.fd136","type":"ui_group","name":"Navbar","tab":"e7fec6e7.e03cc8","order":1,"disp":false,"width":"12","collapse":false},{"id":"bf5f3708.2559b8","type":"ui_group","name":"Navbar","tab":"af61749c.7aa158","order":1,"disp":false,"width":"12","collapse":false},{"id":"c37b1f84.33bd1","type":"ui_group","name":"Navbar","tab":"a04c63d2.079f3","order":1,"disp":false,"width":"12","collapse":false},{"id":"7a32c3e9.c1159c","type":"ui_group","name":"Navbar","tab":"78de14f0.6d2a1c","order":1,"disp":false,"width":"12","collapse":false},{"id":"eb53d4a4.495508","type":"ui_group","name":"Navbar","tab":"e4f8f278.f0d93","order":1,"disp":false,"width":"12","collapse":false},{"id":"f57f64c8.46f6a8","type":"ui_group","name":"Navbar","tab":"c89f74a9.ab18a8","order":1,"disp":false,"width":"12","collapse":false},{"id":"adc1ed68.2ce25","type":"ui_group","name":"Navbar","tab":"852dbf53.0f314","order":1,"disp":false,"width":"12","collapse":false},{"id":"8c64c7aa.286018","type":"ui_group","name":"Navbar","tab":"894c698a.73bca8","order":1,"disp":false,"width":"12","collapse":false},{"id":"90d3dd63.5cfad","type":"ui_group","name":"Navegación protecciones 2","tab":"70f4c45e.09553c","order":3,"disp":false,"width":"12","collapse":false},{"id":"9ba5470e.890228","type":"ui_spacer","name":"spacer","group":"bbd73f04.32559","order":5,"width":"2","height":"2"},{"id":"dd397fac.c2873","type":"ui_spacer","name":"spacer","group":"bbd73f04.32559","order":2,"width":"2","height":"2"},{"id":"dd2ab137.902b2","type":"ui_spacer","name":"spacer","group":"2675f763.09aa58","order":1,"width":"3","height":"2"},{"id":"b2953b65.5b5648","type":"ui_spacer","name":"spacer","group":"2675f763.09aa58","order":4,"width":"3","height":"2"},{"id":"bc656da7.f93a9","type":"ui_group","name":"Menu Eventos/Alarmas","tab":"fdffe6bc.86dd78","order":2,"disp":false,"width":"12","collapse":false},{"id":"4c0abc86.a9cf64","type":"ui_spacer","name":"spacer","group":"91f407cc.9e95a8","order":1,"width":"3","height":1},{"id":"e2d84225.8cfe","type":"ui_spacer","name":"spacer","group":"91f407cc.9e95a8","order":4,"width":"3","height":1},{"id":"42e65bd9.26fdf4","type":"ui_group","name":"Alarmas","tab":"fdffe6bc.86dd78","order":4,"disp":false,"width":"12","collapse":false},{"id":"32eaa726.76f2f8","type":"ui_group","name":"Vibración general","tab":"70f4c45e.09553c","order":12,"disp":false,"width":"8","collapse":false},{"id":"e5d6b12b.cf15","type":"ui_group","name":"Temperatura de motor","tab":"70f4c45e.09553c","order":14,"disp":false,"width":"8","collapse":false},{"id":"be2a9ad2.6fa458","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":21,"width":"8","height":1},{"id":"b32f8dd1.f3e86","type":"ui_group","name":"Corriente de fuga","tab":"70f4c45e.09553c","order":16,"disp":false,"width":"8","collapse":false},{"id":"fea027e7.4bcc68","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":21,"width":"8","height":1},{"id":"5d420622.3dd3c8","type":"ui_group","name":"Navegación ES","tab":"73af030.b87b7fc","order":2,"disp":false,"width":"12","collapse":false},{"id":"9457c46f.d710c8","type":"ui_group","name":"Configuración E.D.","tab":"73af030.b87b7fc","order":3,"disp":false,"width":"6","collapse":false},{"id":"89c29882.24ba28","type":"ui_group","name":"Información del canal E.D.","tab":"73af030.b87b7fc","order":4,"disp":false,"width":"6","collapse":false},{"id":"42b2cabf.0c7ea4","type":"ui_group","name":"Configuración E.A.","tab":"73af030.b87b7fc","order":5,"disp":false,"width":"6","collapse":false},{"id":"2d9cedce.ac17c2","type":"ui_group","name":"Configuración S.A.","tab":"73af030.b87b7fc","order":9,"disp":false,"width":"6","collapse":false},{"id":"4a58744b.a270cc","type":"ui_group","name":"Información del canal E.A.","tab":"73af030.b87b7fc","order":6,"disp":false,"width":"6","collapse":false},{"id":"999747fd.0e43c8","type":"ui_group","name":"Configuración S.D.","tab":"73af030.b87b7fc","order":7,"disp":false,"width":"6","collapse":false},{"id":"f099a646.bd5eb8","type":"ui_group","name":"Información del canal S.D.","tab":"73af030.b87b7fc","order":8,"disp":false,"width":"6","collapse":false},{"id":"7821f022.e6285","type":"ui_group","name":"Información del canal S.A.","tab":"73af030.b87b7fc","order":10,"disp":false,"width":"6","collapse":false},{"id":"cea47c8c.6a38d","type":"ui_tab","name":"Configuración-Estándar-Tipo_de_arranque","icon":"dashboard","order":9,"disabled":false,"hidden":false},{"id":"b1b1e40e.b6b5b8","type":"ui_group","name":"Navbar","tab":"cea47c8c.6a38d","order":1,"disp":false,"width":"12","collapse":false},{"id":"8dad8fe5.e2a3f","type":"ui_group","name":"Navegación tipo de arranque","tab":"cea47c8c.6a38d","order":2,"disp":false,"width":"12","collapse":false},{"id":"6030eeb8.f906","type":"ui_group","name":"Tipo de reducción","tab":"4294c02d.433f5","order":6,"disp":false,"width":"12","collapse":false},{"id":"69db1b09.223de4","type":"ui_spacer","name":"spacer","group":"6030eeb8.f906","order":3,"width":"2","height":1},{"id":"33f5216.a6073de","type":"ui_spacer","name":"spacer","group":"6030eeb8.f906","order":5,"width":"2","height":1},{"id":"622b6212.3c118c","type":"ui_group","name":"Polea correa","tab":"4294c02d.433f5","order":2,"disp":false,"width":"6","collapse":false},{"id":"46b27450.06373c","type":"ui_group","name":"Caja reductora","tab":"4294c02d.433f5","order":3,"disp":false,"width":"6","collapse":false},{"id":"4dc720d3.6e828","type":"ui_spacer","name":"spacer","group":"46b27450.06373c","order":1,"width":"6","height":"1"},{"id":"1d2ca82d.96c588","type":"ui_group","name":"Nav-tab","tab":"9d512981.aa8278","order":2,"disp":false,"width":"12","collapse":false},{"id":"63f7553a.291c4c","type":"ui_spacer","name":"spacer","group":"622b6212.3c118c","order":2,"width":"1","height":1},{"id":"a4033a4c.2e46b8","type":"ui_spacer","name":"spacer","group":"622b6212.3c118c","order":4,"width":"1","height":1},{"id":"8da06e95.1b23f","type":"ui_spacer","name":"spacer","group":"622b6212.3c118c","order":5,"width":"1","height":1},{"id":"7b8405d.2e489fc","type":"ui_spacer","name":"spacer","group":"622b6212.3c118c","order":7,"width":"1","height":1},{"id":"e7e5b0dc.13d08","type":"ui_spacer","name":"spacer","group":"46b27450.06373c","order":2,"width":"1","height":1},{"id":"c9709da.887b86","type":"ui_spacer","name":"spacer","group":"46b27450.06373c","order":4,"width":"1","height":1},{"id":"4b5d1e0.8984ee4","type":"ui_spacer","name":"spacer","group":"6030eeb8.f906","order":1,"width":"2","height":1},{"id":"c29db795.bc3948","type":"ui_spacer","name":"spacer","group":"622b6212.3c118c","order":8,"width":"6","height":1},{"id":"b0b15eed.8205a","type":"ui_spacer","name":"spacer","group":"6030eeb8.f906","order":6,"width":"12","height":1},{"id":"fcd99b1d.edbd18","type":"ui_spacer","name":"spacer","group":"a81f41c1.f56a2","order":6,"width":"6","height":1},{"id":"1dcc7ea4.2b6e31","type":"ui_spacer","name":"spacer","group":"46b27450.06373c","order":6,"width":"6","height":1},{"id":"f2734026.db36e","type":"ui_spacer","name":"spacer","group":"622b6212.3c118c","order":1,"width":"6","height":1},{"id":"af933080.a9609","type":"ui_spacer","name":"spacer","group":"46b27450.06373c","order":5,"width":"6","height":1},{"id":"b9060bca.13a558","type":"ui_spacer","name":"spacer","group":"89c29882.24ba28","order":4,"width":"6","height":1},{"id":"3c2d9656.351f5a","type":"ui_spacer","name":"spacer","group":"89c29882.24ba28","order":5,"width":1,"height":1},{"id":"4e271f96.cb5a","type":"ui_spacer","name":"spacer","group":"9457c46f.d710c8","order":5,"width":"6","height":1},{"id":"22a580a2.3bbb6","type":"ui_spacer","name":"spacer","group":"9457c46f.d710c8","order":1,"width":"6","height":1},{"id":"7cde7621.3ce038","type":"ui_spacer","name":"spacer","group":"9457c46f.d710c8","order":6,"width":1,"height":1},{"id":"1f0e1083.cc842f","type":"ui_spacer","name":"spacer","group":"9457c46f.d710c8","order":8,"width":1,"height":1},{"id":"4588504d.6a85b","type":"ui_spacer","name":"spacer","group":"89c29882.24ba28","order":1,"width":"6","height":1},{"id":"1cc8eb7.93f9c15","type":"ui_spacer","name":"spacer","group":"89c29882.24ba28","order":7,"width":1,"height":1},{"id":"d3e17f2f.77266","type":"ui_spacer","name":"spacer","group":"42b2cabf.0c7ea4","order":1,"width":"6","height":1},{"id":"6e88b979.dbbac8","type":"ui_spacer","name":"spacer","group":"42b2cabf.0c7ea4","order":6,"width":"6","height":1},{"id":"6149d3b8.df4cac","type":"ui_spacer","name":"spacer","group":"42b2cabf.0c7ea4","order":7,"width":1,"height":1},{"id":"c769895a.03c228","type":"ui_spacer","name":"spacer","group":"42b2cabf.0c7ea4","order":9,"width":1,"height":1},{"id":"24c99afb.ade3b6","type":"ui_spacer","name":"spacer","group":"4a58744b.a270cc","order":1,"width":"6","height":1},{"id":"8a928cd2.db4ac","type":"ui_spacer","name":"spacer","group":"4a58744b.a270cc","order":5,"width":"6","height":1},{"id":"752a153.0c6e3ec","type":"ui_spacer","name":"spacer","group":"4a58744b.a270cc","order":6,"width":1,"height":1},{"id":"7425a9f4.575f78","type":"ui_spacer","name":"spacer","group":"4a58744b.a270cc","order":8,"width":1,"height":1},{"id":"f524e70c.b28728","type":"ui_spacer","name":"spacer","group":"999747fd.0e43c8","order":1,"width":"6","height":1},{"id":"c8051692.402c88","type":"ui_spacer","name":"spacer","group":"999747fd.0e43c8","order":5,"width":"6","height":1},{"id":"2ca70c23.e11f24","type":"ui_spacer","name":"spacer","group":"999747fd.0e43c8","order":6,"width":1,"height":1},{"id":"d7e9c866.bf5748","type":"ui_spacer","name":"spacer","group":"999747fd.0e43c8","order":8,"width":1,"height":1},{"id":"b857f686.7a46a8","type":"ui_spacer","name":"spacer","group":"f099a646.bd5eb8","order":1,"width":"6","height":1},{"id":"57d2dc71.81d7e4","type":"ui_spacer","name":"spacer","group":"f099a646.bd5eb8","order":4,"width":"6","height":1},{"id":"9643d4f3.f6cfc8","type":"ui_spacer","name":"spacer","group":"f099a646.bd5eb8","order":5,"width":1,"height":1},{"id":"2e3655e0.20450a","type":"ui_spacer","name":"spacer","group":"f099a646.bd5eb8","order":7,"width":1,"height":1},{"id":"eede64ad.6894f8","type":"ui_spacer","name":"spacer","group":"2d9cedce.ac17c2","order":1,"width":"6","height":1},{"id":"a4db56c8.c13488","type":"ui_spacer","name":"spacer","group":"2d9cedce.ac17c2","order":6,"width":"6","height":1},{"id":"72cf1072.213f6","type":"ui_spacer","name":"spacer","group":"2d9cedce.ac17c2","order":7,"width":1,"height":1},{"id":"8938a4be.cfd978","type":"ui_spacer","name":"spacer","group":"2d9cedce.ac17c2","order":9,"width":1,"height":1},{"id":"e0dd5636.7460e8","type":"ui_spacer","name":"spacer","group":"7821f022.e6285","order":1,"width":"6","height":1},{"id":"6879ea03.cfde94","type":"ui_spacer","name":"spacer","group":"7821f022.e6285","order":5,"width":"6","height":1},{"id":"71de920.6b04d7","type":"ui_spacer","name":"spacer","group":"7821f022.e6285","order":6,"width":1,"height":1},{"id":"ca7cdf4a.675ae","type":"ui_spacer","name":"spacer","group":"7821f022.e6285","order":8,"width":1,"height":1},{"id":"ff00c464.c42898","type":"ui_spacer","name":"spacer","group":"","order":1,"width":12,"height":1},{"id":"e9e28db9.53359","type":"ui_spacer","name":"spacer","group":"","order":2,"width":2,"height":1},{"id":"52e2e.ced441d24","type":"ui_spacer","name":"spacer","group":"","order":4,"width":2,"height":1},{"id":"d238bca.7b95c4","type":"ui_spacer","name":"spacer","group":"","order":6,"width":2,"height":1},{"id":"8a8aff0f.ce2df","type":"ui_spacer","name":"spacer","group":"","order":7,"width":"1","height":1},{"id":"98c7e43f.44de28","type":"ui_spacer","name":"spacer","group":"","order":9,"width":"2","height":1},{"id":"d4186d8c.d6e7","type":"ui_spacer","name":"spacer","group":"","order":11,"width":"2","height":1},{"id":"2d4174c4.1074dc","type":"ui_spacer","name":"spacer","group":"","order":13,"width":"1","height":1},{"id":"4ea55fc.6175ca","type":"ui_group","name":"Unidades de Temperatura","tab":"c45750e3.94fcf","order":3,"disp":true,"width":"12","collapse":false},{"id":"83526f56.6f63","type":"ui_group","name":"Unidades de Torque","tab":"c45750e3.94fcf","order":4,"disp":true,"width":"12","collapse":false},{"id":"c1488a8e.209f28","type":"ui_group","name":"Unidades de Presión","tab":"c45750e3.94fcf","order":5,"disp":true,"width":"12","collapse":false},{"id":"8f7f059b.3c03e8","type":"ui_spacer","name":"spacer","group":"ddba8556.698cb8","order":5,"width":1,"height":1},{"id":"b40771f4.adac4","type":"ui_spacer","name":"spacer","group":"4ea55fc.6175ca","order":1,"width":"2","height":1},{"id":"7a47e083.04cb1","type":"ui_spacer","name":"spacer","group":"4ea55fc.6175ca","order":3,"width":"2","height":1},{"id":"afc288c3.553a88","type":"ui_spacer","name":"spacer","group":"83526f56.6f63","order":1,"width":"2","height":1},{"id":"f7fb0e45.041ec","type":"ui_spacer","name":"spacer","group":"83526f56.6f63","order":3,"width":"2","height":1},{"id":"6f210be.90821f4","type":"ui_spacer","name":"spacer","group":"c1488a8e.209f28","order":1,"width":"2","height":1},{"id":"33a18d86.1e3662","type":"ui_spacer","name":"spacer","group":"c1488a8e.209f28","order":3,"width":"2","height":1},{"id":"6f6940b5.06251","type":"ui_spacer","name":"spacer","group":"4ea55fc.6175ca","order":5,"width":"2","height":1},{"id":"496b742b.fdc34c","type":"ui_spacer","name":"spacer","group":"83526f56.6f63","order":5,"width":"2","height":1},{"id":"bd4fa5c.a1e6a58","type":"ui_spacer","name":"spacer","group":"c1488a8e.209f28","order":5,"width":"2","height":1},{"id":"91e9b1a7.1a536","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":21,"width":"8","height":1},{"id":"3afcf0f2.7f9b6","type":"ui_group","name":"Configuración control inteligente de torque","tab":"51fc0122.69508","order":2,"disp":true,"width":"12","collapse":false},{"id":"f5fa347f.938238","type":"ui_group","name":"Configuración control de Backspin","tab":"57ef0fe3.abf6d","order":2,"disp":true,"width":"12","collapse":false},{"id":"1afe1bac.d67314","type":"ui_group","name":"Presión entrada actual","tab":"70f4c45e.09553c","order":5,"disp":false,"width":"4","collapse":false},{"id":"3160c9bd.97c306","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":2,"width":1,"height":1},{"id":"61c54295.55453c","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":4,"width":1,"height":1},{"id":"c513872b.a73508","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":7,"width":1,"height":1},{"id":"1a837f7d.914db1","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":9,"width":1,"height":1},{"id":"a93b92ed.accf5","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":12,"width":1,"height":1},{"id":"a53a722d.60522","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":14,"width":1,"height":1},{"id":"f8a051e9.4acdb","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":17,"width":1,"height":1},{"id":"90977b9a.8a55d8","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":19,"width":1,"height":1},{"id":"bf6fa3ae.f20c2","type":"ui_spacer","name":"spacer","group":"1afe1bac.d67314","order":1,"width":"4","height":"1"},{"id":"a3f1c918.6e1c28","type":"ui_spacer","name":"spacer","group":"1afe1bac.d67314","order":11,"width":"4","height":1},{"id":"46a792b5.2d452c","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":21,"width":"8","height":1},{"id":"d3e32e6d.962bc","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":2,"width":1,"height":1},{"id":"284ab17a.f443ae","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":4,"width":1,"height":1},{"id":"9d7386ce.175478","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":7,"width":1,"height":1},{"id":"4f54bdf5.8c4d34","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":9,"width":1,"height":1},{"id":"4dd43f40.9905c","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":12,"width":1,"height":1},{"id":"edc81f73.81c3f","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":14,"width":1,"height":1},{"id":"815d12e3.2fd06","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":17,"width":1,"height":1},{"id":"845137d2.03c718","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":19,"width":1,"height":1},{"id":"7e93fef7.c11ec","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":21,"width":"8","height":1},{"id":"947448dd.d984b8","type":"ui_group","name":"Temperatura de entrada actual","tab":"70f4c45e.09553c","order":7,"disp":false,"width":"4","collapse":false},{"id":"bfa870aa.dfbf3","type":"ui_group","name":"Presión de descarga actual","tab":"70f4c45e.09553c","order":9,"disp":false,"width":"4","collapse":false},{"id":"92334174.4ca64","type":"ui_group","name":"Temperatura de descarga actual","tab":"70f4c45e.09553c","order":11,"disp":false,"width":"4","collapse":false},{"id":"20a7dc1b.594e74","type":"ui_spacer","name":"spacer","group":"947448dd.d984b8","order":1,"width":"4","height":1},{"id":"eca762bc.7aa5c","type":"ui_spacer","name":"spacer","group":"947448dd.d984b8","order":3,"width":"4","height":1},{"id":"dcd8ce21.d354a","type":"ui_group","name":"Vibración general actual","tab":"70f4c45e.09553c","order":13,"disp":false,"width":"4","collapse":false},{"id":"2a2a7835.816ec8","type":"ui_group","name":"Temperatura de motor actual","tab":"70f4c45e.09553c","order":15,"disp":false,"width":"4","collapse":false},{"id":"168d41c1.e88bfe","type":"ui_group","name":"Corriente de fuga actual","tab":"70f4c45e.09553c","order":17,"disp":false,"width":"4","collapse":false},{"id":"bed6e705.24aa58","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":2,"width":1,"height":1},{"id":"717213b2.e250cc","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":4,"width":1,"height":1},{"id":"b53e6ef5.80bca","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":7,"width":1,"height":1},{"id":"75055d63.1d7ef4","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":9,"width":1,"height":1},{"id":"e5dbe24b.db87d","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":12,"width":1,"height":1},{"id":"1904a714.9b9c29","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":14,"width":1,"height":1},{"id":"f82cc209.efc5b","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":17,"width":1,"height":1},{"id":"b99a08b1.aa9ff8","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":19,"width":1,"height":1},{"id":"42d91c07.9d1374","type":"ui_spacer","name":"spacer","group":"bfa870aa.dfbf3","order":1,"width":"4","height":1},{"id":"ca6ce062.94a5e","type":"ui_spacer","name":"spacer","group":"bfa870aa.dfbf3","order":3,"width":"4","height":1},{"id":"87df581f.4de0c8","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":2,"width":1,"height":1},{"id":"a3353ddd.6a117","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":4,"width":1,"height":1},{"id":"563bf4e6.4ccafc","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":7,"width":1,"height":1},{"id":"305c078b.750c38","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":9,"width":1,"height":1},{"id":"853563c7.2011c","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":12,"width":1,"height":1},{"id":"4ed3364.032e3c8","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":14,"width":1,"height":1},{"id":"96260a30.660eb8","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":17,"width":1,"height":1},{"id":"403f25a6.a86c2c","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":19,"width":1,"height":1},{"id":"f71f4a42.14fe58","type":"ui_spacer","name":"spacer","group":"92334174.4ca64","order":1,"width":"4","height":1},{"id":"cff854f1.e0c918","type":"ui_spacer","name":"spacer","group":"92334174.4ca64","order":3,"width":"4","height":1},{"id":"41f59af2.e33a64","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":2,"width":1,"height":1},{"id":"530dc7ba.ad8f88","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":4,"width":1,"height":1},{"id":"37c2b24b.3e0a1e","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":7,"width":1,"height":1},{"id":"ab77df9f.c5b82","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":9,"width":1,"height":1},{"id":"290a4f6c.55cf4","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":12,"width":1,"height":1},{"id":"e59b1ccf.e7fef","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":14,"width":1,"height":1},{"id":"a38882de.8fe59","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":17,"width":1,"height":1},{"id":"e9d21b5f.997ab8","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":19,"width":1,"height":1},{"id":"d5ac8b40.16c2c8","type":"ui_spacer","name":"spacer","group":"dcd8ce21.d354a","order":1,"width":"4","height":1},{"id":"11dc945c.3257cc","type":"ui_spacer","name":"spacer","group":"dcd8ce21.d354a","order":3,"width":"4","height":1},{"id":"fdb65473.8e9bf8","type":"ui_spacer","name":"spacer","group":"2a2a7835.816ec8","order":1,"width":"4","height":1},{"id":"68c40709.f49e48","type":"ui_spacer","name":"spacer","group":"2a2a7835.816ec8","order":16,"width":"4","height":1},{"id":"34ed3744.096ff8","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":2,"width":1,"height":1},{"id":"a3a2b3ff.73b8a","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":4,"width":1,"height":1},{"id":"cee296b3.8bd068","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":7,"width":1,"height":1},{"id":"41c2db.03603d24","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":9,"width":1,"height":1},{"id":"27b50dd3.04c8c2","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":12,"width":1,"height":1},{"id":"51dac46.cdc3c3c","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":14,"width":1,"height":1},{"id":"f1f6fba6.ca9fc8","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":17,"width":1,"height":1},{"id":"267063a6.102bac","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":19,"width":1,"height":1},{"id":"916bc88e.490ab8","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":2,"width":1,"height":1},{"id":"f3295c88.722eb","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":4,"width":1,"height":1},{"id":"84e6dfcd.c40ec","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":7,"width":1,"height":1},{"id":"ddd65554.560548","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":9,"width":1,"height":1},{"id":"5da33609.c97d38","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":12,"width":1,"height":1},{"id":"b160e462.7a2d38","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":14,"width":1,"height":1},{"id":"ffaca626.de5758","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":17,"width":1,"height":1},{"id":"8efd7380.d32fc","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":19,"width":1,"height":1},{"id":"2f9a1cbe.684904","type":"ui_spacer","name":"spacer","group":"168d41c1.e88bfe","order":1,"width":"4","height":1},{"id":"9f7f7a7c.910c78","type":"ui_spacer","name":"spacer","group":"168d41c1.e88bfe","order":3,"width":"4","height":1},{"id":"f545408b.4bb6f","type":"ui_group","name":"Tensión actual","tab":"4be5396c.78f338","order":4,"disp":false,"width":"4","collapse":false},{"id":"9ec969ea.480308","type":"ui_spacer","name":"spacer","group":"f545408b.4bb6f","order":1,"width":"4","height":1},{"id":"ad85306b.a01fd","type":"ui_spacer","name":"spacer","group":"f545408b.4bb6f","order":3,"width":"4","height":1},{"id":"7b832283.e6235c","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":2,"width":1,"height":1},{"id":"585a211d.6057b","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":4,"width":1,"height":1},{"id":"7e85c4bb.3b27ec","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":7,"width":1,"height":1},{"id":"d662f5e1.a3a368","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":9,"width":1,"height":1},{"id":"31582934.4d4026","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":12,"width":1,"height":1},{"id":"39f275be.57c37a","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":14,"width":1,"height":1},{"id":"e65635de.1283d8","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":17,"width":1,"height":1},{"id":"c1833c3c.8ca42","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":19,"width":1,"height":1},{"id":"cd288dd6.2e074","type":"ui_group","name":"Corriente actual","tab":"4be5396c.78f338","order":6,"disp":false,"width":"4","collapse":false},{"id":"de7941a5.c7731","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":2,"width":1,"height":1},{"id":"f8c6b7d7.361db8","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":4,"width":1,"height":1},{"id":"b22a7329.7902","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":7,"width":1,"height":1},{"id":"34c6a2fd.1fc00e","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":9,"width":1,"height":1},{"id":"8fa4f813.013078","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":12,"width":1,"height":1},{"id":"f3986e92.013b6","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":14,"width":1,"height":1},{"id":"57a78e57.dea65","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":17,"width":1,"height":1},{"id":"34ebbf22.73301","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":19,"width":1,"height":1},{"id":"c6c32b4b.5793f8","type":"ui_spacer","name":"spacer","group":"cd288dd6.2e074","order":1,"width":"4","height":1},{"id":"32d57d82.c84c12","type":"ui_spacer","name":"spacer","group":"cd288dd6.2e074","order":3,"width":"4","height":1},{"id":"4e7b8b75.8cd3e4","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":4,"width":1,"height":1},{"id":"13dfa2df.cef52d","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":9,"width":1,"height":1},{"id":"bcc7e1c3.0b059","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":2,"width":1,"height":1},{"id":"67f5cb92.73c884","type":"ui_spacer","name":"spacer","group":"9c7c7dd.a06188","order":1,"width":1,"height":1},{"id":"3bf433c2.50f3ec","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":7,"width":1,"height":1},{"id":"1952ac8b.8da2f3","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":11,"width":1,"height":1},{"id":"4173d2c8.6945dc","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":12,"width":1,"height":1},{"id":"eb2e9d66.346fb","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":6,"width":1,"height":1},{"id":"6184f798.525548","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":14,"width":1,"height":1},{"id":"b23bbc71.70ebd","type":"ui_spacer","name":"spacer","group":"3afcf0f2.7f9b6","order":2,"width":1,"height":1},{"id":"d8556e17.fc429","type":"ui_spacer","name":"spacer","group":"3afcf0f2.7f9b6","order":4,"width":2,"height":1},{"id":"2d20cc8f.6f3704","type":"ui_spacer","name":"spacer","group":"3afcf0f2.7f9b6","order":6,"width":1,"height":1},{"id":"c1dc2c69.920c5","type":"ui_spacer","name":"spacer","group":"3afcf0f2.7f9b6","order":7,"width":1,"height":1},{"id":"94b566f0.ff2b48","type":"ui_spacer","name":"spacer","group":"3afcf0f2.7f9b6","order":9,"width":2,"height":1},{"id":"398bcada.8bc9d6","type":"ui_spacer","name":"spacer","group":"3afcf0f2.7f9b6","order":11,"width":1,"height":1},{"id":"11d9777a.bd4209","type":"ui_spacer","name":"spacer","group":"3afcf0f2.7f9b6","order":1,"width":"12","height":1},{"id":"b44f8338.8605e","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":1,"width":12,"height":1},{"id":"20820ac5.0279d6","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":11,"width":4,"height":1},{"id":"75a461bd.54d41","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":13,"width":4,"height":1},{"id":"861231a6.e2ce7","type":"ui_spacer","name":"spacer","group":"c9a29e84.68bd","order":1,"width":"0","height":"0"},{"id":"cb2fb037.c36a8","type":"ui_spacer","name":"spacer","group":"c9a29e84.68bd","order":10,"width":4,"height":1},{"id":"7423eb2.844bf14","type":"ui_spacer","name":"spacer","group":"c9a29e84.68bd","order":12,"width":4,"height":1},{"id":"5900892b.81c2a8","type":"ui_spacer","name":"spacer","group":"971dcd1e.a04d5","order":1,"width":"0","height":"0"},{"id":"49b21051.09115","type":"ui_spacer","name":"spacer","group":"971dcd1e.a04d5","order":8,"width":"0","height":"0"},{"id":"28ecc567.d8955a","type":"ui_spacer","name":"spacer","group":"53f5e611.7d5b48","order":1,"width":"0","height":"0"},{"id":"1323f8c3.7c83d7","type":"ui_spacer","name":"spacer","group":"53f5e611.7d5b48","order":8,"width":"0","height":"0"},{"id":"df64c26e.a1d6d","type":"ui_spacer","name":"spacer","group":"99f17ff2.2c14","order":4,"width":1,"height":1},{"id":"f18bfe9b.24d66","type":"ui_group","name":"DateTime","tab":"a3d14ba7.64fb58","order":12,"disp":false,"width":"3","collapse":false},{"id":"a832170e.124748","type":"ui_group","name":"Menu","tab":"d3429dad.90f97","order":3,"disp":false,"width":"12","collapse":false},{"id":"52f8d217.2f360c","type":"ui_group","name":"Menu","tab":"5d9f53b4.4e1f4c","order":2,"disp":false,"width":"12","collapse":false},{"id":"5708535c.2ece0c","type":"ui_group","name":"Menu","tab":"4753bb93.d51224","order":2,"disp":false,"width":"12","collapse":false},{"id":"d3429dad.90f97","type":"ui_tab","name":"Tendencias-Superficie-Datos_operativos","icon":"dashboard","order":27,"disabled":false,"hidden":false},{"id":"5d9f53b4.4e1f4c","type":"ui_tab","name":"Tendencias-Superficie-Datos_eléctricos_de_entrada","icon":"dashboard","order":28,"disabled":false,"hidden":false},{"id":"4753bb93.d51224","type":"ui_tab","name":"Tendencias-Fondo-Sensor_de_fondo","icon":"dashboard","order":29,"disabled":false,"hidden":false},{"id":"3a102a42.7f8df6","type":"ui_group","name":"Trend","tab":"d3429dad.90f97","order":4,"disp":false,"width":"12","collapse":false},{"id":"419728a7.c16f68","type":"ui_group","name":"Buttons","tab":"d3429dad.90f97","order":5,"disp":false,"width":"12","collapse":false},{"id":"60a3a013.03c5e","type":"ui_group","name":"Buttons","tab":"4753bb93.d51224","order":4,"disp":false,"width":"12","collapse":false},{"id":"57a005f9.8f8f9c","type":"ui_group","name":"Nombre del pozo","tab":"a3d14ba7.64fb58","order":2,"disp":false,"width":"3","collapse":false},{"id":"df8da47a.3b74d8","type":"ui_group","name":"Nombre del Pozo","tab":"22d1f3b8.e8944c","order":2,"disp":false,"width":"3","collapse":false},{"id":"b006ff9.8805c","type":"ui_group","name":"Buttons","tab":"efd5c481.ae3cf8","order":4,"disp":false,"width":"12","collapse":false},{"id":"a41af5be.52be18","type":"ui_group","name":"Settings","tab":"efd5c481.ae3cf8","order":2,"disp":false,"width":"12","collapse":false},{"id":"efd5c481.ae3cf8","type":"ui_tab","name":"Datalogger","icon":"fa-file-archive-o","order":43,"disabled":false,"hidden":false},{"id":"842bb1a0.451f4","type":"ui_group","name":"Navbar","tab":"efd5c481.ae3cf8","order":1,"disp":false,"width":"12","collapse":false},{"id":"12242af4.a2b035","type":"ui_group","name":"Navbar","tab":"4753bb93.d51224","order":1,"disp":false,"width":"12","collapse":false},{"id":"4b2541bb.09fe6","type":"ui_spacer","name":"spacer","group":"a41af5be.52be18","order":1,"width":"12","height":1},{"id":"2d48a2e9.6681be","type":"ui_spacer","name":"spacer","group":"a41af5be.52be18","order":2,"width":1,"height":1},{"id":"e3eceb0b.1e89d8","type":"ui_spacer","name":"spacer","group":"a41af5be.52be18","order":4,"width":1,"height":1},{"id":"3ea18fe0.cca14","type":"ui_spacer","name":"spacer","group":"a41af5be.52be18","order":7,"width":"12","height":1},{"id":"4055713a.f0a18","type":"ui_spacer","name":"spacer","group":"a41af5be.52be18","order":6,"width":1,"height":1},{"id":"b407d996.322868","type":"ui_spacer","name":"spacer","group":"a41af5be.52be18","order":8,"width":"3","height":1},{"id":"e1c1602b.45a3a","type":"ui_spacer","name":"spacer","group":"a41af5be.52be18","order":1,"width":"3","height":1},{"id":"807ccbc.7ab7e38","type":"ui_spacer","name":"spacer","group":"b006ff9.8805c","order":1,"width":"12","height":1},{"id":"8ce950ca.d2282","type":"ui_spacer","name":"spacer","group":"b006ff9.8805c","order":2,"width":1,"height":1},{"id":"9964ea3b.7b0348","type":"ui_spacer","name":"spacer","group":"b006ff9.8805c","order":4,"width":"2","height":1},{"id":"d5155581.5cb5c8","type":"ui_spacer","name":"spacer","group":"b006ff9.8805c","order":5,"width":"12","height":1},{"id":"fd028f62.e92b1","type":"ui_spacer","name":"spacer","group":"b006ff9.8805c","order":7,"width":1,"height":1},{"id":"da30f5be.24c0a8","type":"ui_spacer","name":"spacer","group":"","order":2,"width":2,"height":1},{"id":"831eefef.35d2f","type":"ui_spacer","name":"spacer","group":"","order":4,"width":2,"height":1},{"id":"ec084c75.e7ad7","type":"ui_group","name":"Navbar","tab":"c17f19ae.06fbf8","order":1,"disp":false,"width":"12","collapse":false},{"id":"bba6de04.e8127","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":13,"width":"0","height":"0"},{"id":"4cbf8636.d5bfe8","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":14,"width":"0","height":"0"},{"id":"29eec29e.f8e8ce","type":"influxdb","d":true,"hostname":"localhost","port":"8086","protocol":"http","database":"SWCPRO","name":"","usetls":false,"tls":"","influxdbVersion":"1.x","url":"","rejectUnauthorized":false},{"id":"309a2895.5230c8","type":"ui_group","name":"Buttons","tab":"5d9f53b4.4e1f4c","order":4,"disp":false,"width":"12","collapse":false},{"id":"be84226.2d60ee","type":"influxdb","d":true,"hostname":"localhost","port":"8086","protocol":"http","database":"SWCPRO","name":"","usetls":false,"tls":"","influxdbVersion":"1.x","url":"","rejectUnauthorized":false},{"id":"21b8bc36.73ddb4","type":"ui_spacer","name":"spacer","group":"419728a7.c16f68","order":1,"width":"4","height":1},{"id":"b4ae9f3e.48397","type":"ui_spacer","name":"spacer","group":"419728a7.c16f68","order":6,"width":"4","height":1},{"id":"e6616ee7.07ad2","type":"ui_group","name":"Trend","tab":"5d9f53b4.4e1f4c","order":3,"disp":false,"width":"12","collapse":false},{"id":"f0246745.e75b18","type":"ui_group","name":"Trend","tab":"4753bb93.d51224","order":3,"disp":false,"width":"12","collapse":false},{"id":"cef2d9b1.a0c338","type":"ui_spacer","name":"spacer","group":"60a3a013.03c5e","order":1,"width":"4","height":1},{"id":"9f48b543.9ce118","type":"ui_spacer","name":"spacer","group":"60a3a013.03c5e","order":6,"width":"4","height":1},{"id":"e4759f6b.bb412","type":"ui_spacer","name":"spacer","group":"309a2895.5230c8","order":1,"width":"4","height":1},{"id":"6a93c823.f32b88","type":"ui_spacer","name":"spacer","group":"309a2895.5230c8","order":6,"width":"4","height":1},{"id":"f630cb55.8d18e8","type":"modbus-client","name":"Cubloc RS-232","clienttype":"simpleser","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"127.0.0.1","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/serial0","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":1,"commandDelay":1,"clientTimeout":1000,"reconnectOnTimeout":true,"reconnectTimeout":2000,"parallelUnitIdsAllowed":true},{"id":"1c1f6ab9.b77ba5","type":"ui_group","name":"Rampa prolongada","tab":"9d512981.aa8278","order":6,"disp":true,"width":"4","collapse":false},{"id":"f590c865.6dedc8","type":"ui_tab","name":"Referencia prolongada","icon":"dashboard","order":40,"disabled":false,"hidden":false},{"id":"a2cdbb78.31d778","type":"ui_group","name":"Arranque escalonado","tab":"cea47c8c.6a38d","order":3,"disp":false,"width":"12","collapse":false},{"id":"78b8f22f.a47d4c","type":"ui_group","name":"Rampas de Aceleración","tab":"cea47c8c.6a38d","order":5,"disp":true,"width":"5","collapse":false},{"id":"edf097a9.5fb028","type":"ui_group","name":"Tiempo de rearme","tab":"cea47c8c.6a38d","order":6,"disp":true,"width":"3","collapse":false},{"id":"e72670e4.f5998","type":"ui_group","name":"No. de Intentos","tab":"cea47c8c.6a38d","order":7,"disp":true,"width":"3","collapse":false},{"id":"20076456.83052c","type":"ui_group","name":"Habilitar","tab":"cea47c8c.6a38d","order":4,"disp":false,"width":"1","collapse":false},{"id":"cf893b29.8b0a68","type":"ui_group","name":"Habilitar","tab":"cea47c8c.6a38d","order":9,"disp":false,"width":"12","collapse":false},{"id":"45237b74.b00cc4","type":"ui_group","name":"Estado","tab":"a3d14ba7.64fb58","order":10,"disp":true,"width":"2","collapse":false},{"id":"b5205197.2b915","type":"ui_spacer","name":"spacer","group":"20076456.83052c","order":1,"width":1,"height":1},{"id":"51710525.9fc4ac","type":"ui_group","name":"Navegación ES","tab":"a04c63d2.079f3","order":2,"disp":false,"width":"12","collapse":false},{"id":"8966e791.7e5758","type":"ui_group","name":"Monitoreo E.D.","tab":"a04c63d2.079f3","order":3,"disp":false,"width":"12","collapse":false},{"id":"4a35385f.d514b8","type":"ui_group","name":"Monitoreo E.A.","tab":"a04c63d2.079f3","order":4,"disp":false,"width":"12","collapse":false},{"id":"bf3ce100.cbf08","type":"ui_group","name":"Monitoreo S.D.","tab":"a04c63d2.079f3","order":5,"disp":false,"width":"12","collapse":false},{"id":"760e85bd.1f3e7c","type":"ui_group","name":"Monitoreo Armónicos","tab":"e7fec6e7.e03cc8","order":2,"disp":false,"width":"12","collapse":false},{"id":"eb661a32.5e64e8","type":"ui_group","name":"Control","tab":"a3d14ba7.64fb58","order":8,"disp":true,"width":"2","collapse":false},{"id":"d6b9a19.933576","type":"ui_group","name":"Navbar","tab":"3d7d1bc8.aa6c84","order":1,"disp":false,"width":"12","collapse":false},{"id":"a25dadea.709bb","type":"ui_group","name":"Monitoreo S.A.","tab":"a04c63d2.079f3","order":6,"disp":false,"width":"12","collapse":false},{"id":"3548b3b4.c8d65c","type":"modbus-client","name":"PyModbusServer","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"127.0.0.1","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":1,"commandDelay":1,"clientTimeout":1000,"reconnectOnTimeout":true,"reconnectTimeout":2000,"parallelUnitIdsAllowed":true},{"id":"3d005808.47a9a8","type":"ui_spacer","name":"spacer","group":"907f5ff7.25cd8","order":5,"width":"4","height":1},{"id":"84da7b8e.7e54d8","type":"ui_spacer","name":"spacer","group":"907f5ff7.25cd8","order":7,"width":"4","height":1},{"id":"d1667255.b930f","type":"ui_spacer","name":"spacer","group":"907f5ff7.25cd8","order":3,"width":"3","height":"1"},{"id":"4bcd4ff1.085a6","type":"ui_spacer","name":"spacer","group":"907f5ff7.25cd8","order":8,"width":"0","height":"0"},{"id":"5a40295d.6caa18","type":"pccc endpoint","address":"192.168.2.10","port":"44818","userouting":false,"routing":"0x01,0x00,0x01,0x00","cycletime":"500","timeout":"1500","name":"PowerFlex755T_Write","vartable":[{"addr":"N42:3","name":"TimeOut"},{"addr":"N45:4","name":"PF755T_SpeedReference"},{"addr":"N45:6","name":"PF755T_ControlCommands"},{"addr":"N45:8","name":"AO1"},{"addr":"N45:10","name":"AO2"},{"addr":"N45:12","name":"AO3"},{"addr":"N45:14","name":"AO4"},{"addr":"N45:0","name":"CommandWord"}]},{"id":"a3d1f2c7.5fe22","type":"pccc endpoint","address":"192.168.2.10","port":"44818","userouting":false,"routing":"0x01,0x00,0x01,0x00","cycletime":"500","timeout":"1500","name":"PowerFlex755T_Read","vartable":[{"addr":"N42:3","name":"TimeOut"},{"addr":"N45:0","name":"Status_Word"},{"addr":"N45:1","name":"Output_Frecuency"},{"addr":"N45:2","name":"Commanded_SpdRef"},{"addr":"N45:3","name":"Output_Current"},{"addr":"N45:4","name":"Output_Voltage"},{"addr":"N45:5","name":"Output_Power"},{"addr":"N45:6","name":"Power_Factor"},{"addr":"N45:7","name":"Bus_DC_Volts"},{"addr":"N45:8","name":"Drive_Temp_C"},{"addr":"N45:9","name":"Elapsed_Run_Time"},{"addr":"N45:10","name":"Last_Fault_Code"},{"addr":"N45:11","name":"Elapsed_kWH"},{"addr":"N45:12","name":"Anlg_In0_Value"}]},{"id":"16814f42.3918e1","type":"ui_group","name":"Speed","tab":"8b5bc288.343f8","order":2,"disp":true,"width":"4","collapse":false},{"id":"9de4403a.6a25e","type":"ui_group","name":"Bus DC","tab":"4be5396c.78f338","order":7,"disp":false,"width":"8","collapse":false},{"id":"b904b95d.fc67c8","type":"ui_group","name":"Bus DC actual","tab":"4be5396c.78f338","order":8,"disp":false,"width":"4","collapse":false},{"id":"781b4df8.f0ea04","type":"ui_spacer","name":"spacer","group":"9de4403a.6a25e","order":2,"width":1,"height":1},{"id":"57a3b381.457e3c","type":"ui_spacer","name":"spacer","group":"9de4403a.6a25e","order":4,"width":1,"height":1},{"id":"c1d4bde3.68955","type":"ui_spacer","name":"spacer","group":"9de4403a.6a25e","order":7,"width":1,"height":1},{"id":"d3ba1cb.a12bbe","type":"ui_spacer","name":"spacer","group":"9de4403a.6a25e","order":12,"width":1,"height":1},{"id":"d3264aa7.ef5d68","type":"ui_spacer","name":"spacer","group":"9de4403a.6a25e","order":17,"width":1,"height":1},{"id":"908c6f89.28e93","type":"ui_spacer","name":"spacer","group":"9de4403a.6a25e","order":9,"width":1,"height":1},{"id":"7c05543.287d7ac","type":"ui_spacer","name":"spacer","group":"9de4403a.6a25e","order":21,"width":"8","height":1},{"id":"1b612d39.a01aa3","type":"ui_spacer","name":"spacer","group":"9de4403a.6a25e","order":14,"width":1,"height":1},{"id":"2b3581bb.6526ee","type":"ui_spacer","name":"spacer","group":"9de4403a.6a25e","order":19,"width":1,"height":1},{"id":"2544f15a.7c3fee","type":"ui_spacer","name":"spacer","group":"b904b95d.fc67c8","order":1,"width":"4","height":1},{"id":"aba0391d.e521d8","type":"ui_spacer","name":"spacer","group":"b904b95d.fc67c8","order":3,"width":"4","height":1},{"id":"3643ffc2.7a2b1","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":1,"width":12,"height":1},{"id":"18c2df45.d77a61","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":2,"width":2,"height":1},{"id":"d30035fb.2f0438","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":5,"width":2,"height":1},{"id":"203e4fd8.d9432","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":6,"width":2,"height":1},{"id":"efb0a639.2d9a58","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":7,"width":2,"height":1},{"id":"7377bb7a.7ef314","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":8,"width":2,"height":1},{"id":"33557b5f.f0fb44","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":11,"width":2,"height":1},{"id":"3875c88.47f2138","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":12,"width":2,"height":1},{"id":"7c096c9a.3a9ce4","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":13,"width":2,"height":1},{"id":"797eee20.0a308","type":"ui_spacer","name":"spacer","group":"1925e2c.fd4e91d","order":1,"width":1,"height":1},{"id":"e5e8bf8f.49d2a","type":"ui_spacer","name":"spacer","group":"1925e2c.fd4e91d","order":4,"width":1,"height":1},{"id":"c9577aab.b97318","type":"ui_spacer","name":"spacer","group":"1925e2c.fd4e91d","order":5,"width":1,"height":1},{"id":"7f99d6a6.cc71f8","type":"ui_spacer","name":"spacer","group":"1925e2c.fd4e91d","order":7,"width":1,"height":1},{"id":"9f617053.bfacd","type":"ui_spacer","name":"spacer","group":"759fa4e7.01062c","order":1,"width":2,"height":1},{"id":"23451c6.96da7e4","type":"ui_spacer","name":"spacer","group":"759fa4e7.01062c","order":5,"width":2,"height":1},{"id":"a6796a76.b19128","type":"ui_spacer","name":"spacer","group":"759fa4e7.01062c","order":6,"width":2,"height":1},{"id":"50e3e9ea.0c1cb8","type":"ui_spacer","name":"spacer","group":"759fa4e7.01062c","order":10,"width":2,"height":1},{"id":"4c94b174.cffeb","type":"ui_spacer","name":"spacer","group":"45237b74.b00cc4","order":2,"width":2,"height":1},{"id":"1bd82410.430d4c","type":"ui_spacer","name":"spacer","group":"45237b74.b00cc4","order":4,"width":2,"height":1},{"id":"84bdd370.9a8b9","type":"ui_spacer","name":"spacer","group":"","order":1,"width":12,"height":1},{"id":"4fe825ff.f2d8ec","type":"ui_spacer","name":"spacer","group":"","order":11,"width":12,"height":1},{"id":"dcc89e2f.5d519","type":"ui_spacer","name":"spacer","group":"","order":7,"width":12,"height":1},{"id":"676e51e9.35d8e","type":"ui_spacer","name":"spacer","group":"","order":8,"width":4,"height":1},{"id":"467135fc.68deac","type":"ui_spacer","name":"spacer","group":"","order":10,"width":4,"height":1},{"id":"e776d901.69bb88","type":"ui_group","name":"Re-arranque por protección","tab":"cea47c8c.6a38d","order":8,"disp":false,"width":"12","collapse":false},{"id":"d39860ba.63c81","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":8,"width":"4","height":1},{"id":"43f28f7d.accc5","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":10,"width":"4","height":1},{"id":"d79b57aa.93aa88","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":14,"width":"0","height":"0"},{"id":"54c0d6ab.9c62a8","type":"ui_group","name":"Configuración","tab":"e37d4f11.c2ffd","order":2,"disp":true,"width":"12","collapse":false},{"id":"128b553e.ab26fb","type":"ui_spacer","name":"spacer","group":"54c0d6ab.9c62a8","order":1,"width":"0","height":"0"},{"id":"9ee389a9.c9b338","type":"ui_spacer","name":"spacer","group":"54c0d6ab.9c62a8","order":8,"width":"0","height":"0"},{"id":"9cb85fc2.649ea","type":"ui_spacer","name":"spacer","group":"54c0d6ab.9c62a8","order":2,"width":"4","height":"1"},{"id":"4819db14.170184","type":"ui_spacer","name":"spacer","group":"54c0d6ab.9c62a8","order":5,"width":"4","height":"1"},{"id":"df721e8.74c45e","type":"ui_spacer","name":"spacer","group":"54c0d6ab.9c62a8","order":4,"width":"4","height":1},{"id":"835ac7a7.f14aa8","type":"ui_spacer","name":"spacer","group":"54c0d6ab.9c62a8","order":7,"width":"4","height":1},{"id":"c3aaa540.4ada28","type":"ui_spacer","name":"spacer","group":"54c0d6ab.9c62a8","order":9,"width":"4","height":1},{"id":"b0e0f6f8.c71d38","type":"ui_spacer","name":"spacer","group":"54c0d6ab.9c62a8","order":11,"width":"4","height":1},{"id":"64770f60.2d1fe","type":"ui_spacer","name":"spacer","group":"54c0d6ab.9c62a8","order":12,"width":"0","height":"0"},{"id":"55a9eb4e.762c64","type":"ui_group","name":"Configuracion","tab":"2dbf183f.1f2ed8","order":2,"disp":true,"width":"3","collapse":false},{"id":"32ca7919.06f8b6","type":"ui_spacer","name":"spacer","group":"c9a29e84.68bd","order":13,"width":"0","height":"0"},{"id":"a125a3bf.17d35","type":"ui_spacer","name":"spacer","group":"c9a29e84.68bd","order":5,"width":"4","height":1},{"id":"cfde209a.8a8e1","type":"ui_spacer","name":"spacer","group":"c9a29e84.68bd","order":8,"width":"4","height":1},{"id":"75088693.92a778","type":"ui_spacer","name":"spacer","group":"c9a29e84.68bd","order":9,"width":"0","height":"0"},{"id":"1b1afe53.beb8f2","type":"ui_group","name":"Información","tab":"2dbf183f.1f2ed8","order":3,"disp":true,"width":"9","collapse":false},{"id":"781adf2a.5397f","type":"ui_spacer","name":"spacer","group":"55a9eb4e.762c64","order":1,"width":"0","height":"0"},{"id":"b91b9773.941ad8","type":"ui_spacer","name":"spacer","group":"55a9eb4e.762c64","order":5,"width":"0","height":"0"},{"id":"aeef0dfe.74e9c","type":"modbus-client","name":"DHS RS485","clienttype":"simpleser","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"127.0.0.1","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/serial1","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectOnTimeout":true,"reconnectTimeout":"3000","parallelUnitIdsAllowed":true},{"id":"8276e64d.c16508","type":"ui_group","name":"Estado sensor de fondo","tab":"2dbf183f.1f2ed8","order":4,"disp":false,"width":"12","collapse":false},{"id":"d8385324.24c2b","type":"ui_spacer","name":"spacer","group":"55a9eb4e.762c64","order":7,"width":"0","height":"0"},{"id":"947b30c0.681a3","type":"ui_group","name":"Navbar","tab":"f590c865.6dedc8","order":2,"disp":true,"width":"12","collapse":false},{"id":"c556dc87.94f1b","type":"ui_spacer","name":"spacer","group":"1c1f6ab9.b77ba5","order":5,"width":"0","height":"0"},{"id":"4c0dfd46.e78bb4","type":"ui_spacer","name":"spacer","group":"1c1f6ab9.b77ba5","order":1,"width":"0","height":"0"},{"id":"ac93c9db.36a8e8","type":"ui_group","name":"Monitoreo Datos de fondo","tab":"68ac396.1165ac8","order":2,"disp":true,"width":"12","collapse":false},{"id":"5d626c1b.f3c4b4","type":"ui_spacer","name":"spacer","group":"ac93c9db.36a8e8","order":7,"width":"2","height":"2"},{"id":"77ccef2e.c3846","type":"ui_spacer","name":"spacer","group":"ac93c9db.36a8e8","order":10,"width":"2","height":"2"},{"id":"393aa6a6.08f46a","type":"ui_spacer","name":"spacer","group":"55a9eb4e.762c64","order":6,"width":"0","height":"0"},{"id":"f3343cbb.b66b4","type":"ui_spacer","name":"spacer","group":"ac93c9db.36a8e8","order":11,"width":"0","height":"0"},{"id":"c1c0c620.00e288","type":"ui_spacer","name":"spacer","group":"56b03a99.1007f4","order":1,"width":"0","height":"0"},{"id":"70159b9.da04964","type":"ui_spacer","name":"spacer","group":"56b03a99.1007f4","order":5,"width":"0","height":"0"},{"id":"fcd10e0b.f82ac","type":"ui_spacer","name":"spacer","group":"56b03a99.1007f4","order":2,"width":"4","height":1},{"id":"9a619c0f.681c2","type":"ui_group","name":"Tubing","tab":"4be5396c.78f338","order":9,"disp":false,"width":"8","collapse":false},{"id":"734b293d.e9e748","type":"ui_group","name":"Tubing actual","tab":"4be5396c.78f338","order":10,"disp":false,"width":"4","collapse":false},{"id":"e1ee380b.bb2638","type":"ui_group","name":"Casing","tab":"4be5396c.78f338","order":11,"disp":false,"width":"8","collapse":false},{"id":"3edfa35e.24efdc","type":"ui_spacer","name":"spacer","group":"9a619c0f.681c2","order":2,"width":1,"height":1},{"id":"f5ce62f7.d6762","type":"ui_spacer","name":"spacer","group":"9a619c0f.681c2","order":4,"width":1,"height":1},{"id":"b56ad595.6da3c8","type":"ui_spacer","name":"spacer","group":"9a619c0f.681c2","order":7,"width":1,"height":1},{"id":"80ae5707.eed9e8","type":"ui_spacer","name":"spacer","group":"9a619c0f.681c2","order":9,"width":1,"height":1},{"id":"59f4b44d.e02f0c","type":"ui_spacer","name":"spacer","group":"9a619c0f.681c2","order":12,"width":1,"height":1},{"id":"f148f96d.74a1a8","type":"ui_spacer","name":"spacer","group":"9a619c0f.681c2","order":14,"width":1,"height":1},{"id":"d28e43a1.bb51f","type":"ui_spacer","name":"spacer","group":"9a619c0f.681c2","order":19,"width":1,"height":1},{"id":"e58dd0d7.a3553","type":"ui_spacer","name":"spacer","group":"9a619c0f.681c2","order":17,"width":1,"height":1},{"id":"c0879f79.99c17","type":"ui_spacer","name":"spacer","group":"e1ee380b.bb2638","order":2,"width":1,"height":1},{"id":"dd715525.a4ce18","type":"ui_spacer","name":"spacer","group":"e1ee380b.bb2638","order":4,"width":1,"height":1},{"id":"bac9cbcf.82b8e8","type":"ui_spacer","name":"spacer","group":"e1ee380b.bb2638","order":7,"width":1,"height":1},{"id":"97a1c15b.052c2","type":"ui_spacer","name":"spacer","group":"e1ee380b.bb2638","order":9,"width":1,"height":1},{"id":"1f9addda.6f3462","type":"ui_spacer","name":"spacer","group":"e1ee380b.bb2638","order":17,"width":1,"height":1},{"id":"879a7ffa.719f8","type":"ui_spacer","name":"spacer","group":"e1ee380b.bb2638","order":14,"width":1,"height":1},{"id":"ba91b28.484125","type":"ui_spacer","name":"spacer","group":"e1ee380b.bb2638","order":19,"width":1,"height":1},{"id":"cc50ea63.e1dda8","type":"ui_spacer","name":"spacer","group":"e1ee380b.bb2638","order":12,"width":1,"height":1},{"id":"d2ca7ed8.62e0d","type":"ui_group","name":"Casing actual","tab":"4be5396c.78f338","order":12,"disp":false,"width":"4","collapse":false},{"id":"d688761f.004d78","type":"ui_spacer","name":"spacer","group":"734b293d.e9e748","order":1,"width":"0","height":"0"},{"id":"4a97cf1c.2dacc","type":"ui_spacer","name":"spacer","group":"734b293d.e9e748","order":3,"width":"0","height":"0"},{"id":"e21099ac.7d5b48","type":"ui_spacer","name":"spacer","group":"d2ca7ed8.62e0d","order":1,"width":"0","height":"0"},{"id":"eb64f156.f1f26","type":"ui_spacer","name":"spacer","group":"d2ca7ed8.62e0d","order":3,"width":"0","height":"0"},{"id":"225e345f.a1250c","type":"ui_group","name":"Configuración","tab":"cea47c8c.6a38d","order":10,"disp":true,"width":"4","collapse":false},{"id":"a2ab3a38.4d35e8","type":"ui_group","name":"Tendencia","tab":"cea47c8c.6a38d","order":11,"disp":true,"width":"8","collapse":false},{"id":"2540c0d0.abd4d","type":"ui_group","name":"Control","tab":"cea47c8c.6a38d","order":12,"disp":false,"width":"12","collapse":false},{"id":"3b8d9a1.22b7666","type":"ui_spacer","name":"spacer","group":"2540c0d0.abd4d","order":1,"width":"3","height":1},{"id":"3690ea05.cf7e46","type":"ui_spacer","name":"spacer","group":"2540c0d0.abd4d","order":12,"width":"3","height":1},{"id":"aa8b2b4.4ee3ad8","type":"ui_spacer","name":"spacer","group":"4f5c2b53.44a154","order":7,"width":"4","height":"2"},{"id":"28b0da2.21c4b26","type":"ui_spacer","name":"spacer","group":"bbd73f04.32559","order":1,"width":"0","height":"0"},{"id":"1d3d71bf.d858fe","type":"ui_spacer","name":"spacer","group":"bbd73f04.32559","order":6,"width":"12","height":"3"},{"id":"1748d02c.c7f91","type":"ui_group","name":"Runtime - Last Fault","tab":"9d512981.aa8278","order":10,"disp":false,"width":"12","collapse":false},{"id":"f1008a66.cfa988","type":"ui_tab","name":"Monitoreo-AVAS-IPR","icon":"dashboard","order":45,"disabled":false,"hidden":false,"info":"# Página 43"},{"id":"55b1d3e4.76eb2c","type":"ui_group","name":"Navbar","tab":"f1008a66.cfa988","order":1,"disp":false,"width":"12","collapse":false},{"id":"58d04dfc.842d54","type":"ui_group","name":"Gráfica IPR","tab":"f1008a66.cfa988","order":2,"disp":true,"width":"12","collapse":false},{"id":"8f5a8841.d0e4e8","type":"ui_group","name":"Estado mecánico","tab":"4e2f4485.4ef94c","order":3,"disp":true,"width":"6","collapse":false},{"id":"53a03d62.f141c4","type":"ui_group","name":"Navegación-IWOC","tab":"4e2f4485.4ef94c","order":2,"disp":false,"width":"12","collapse":false},{"id":"d46ce325.e7de2","type":"ui_group","name":"Propiedades de fluido","tab":"4e2f4485.4ef94c","order":4,"disp":true,"width":"6","collapse":false},{"id":"3ad8a22c.6207fe","type":"ui_group","name":"Prueba de producción","tab":"4e2f4485.4ef94c","order":5,"disp":true,"width":"6","collapse":false},{"id":"25ecb2a6.9c350e","type":"ui_group","name":"Datos para IPR","tab":"4e2f4485.4ef94c","order":6,"disp":true,"width":"6","collapse":false},{"id":"c1be3c37.36a31","type":"ui_group","name":"Filtro de Armónicos","tab":"e212240.b0030e","order":3,"disp":true,"width":"12","collapse":false},{"id":"121fe7d2.532478","type":"ui_spacer","name":"spacer","group":"c1be3c37.36a31","order":5,"width":"3","height":1},{"id":"b837db17.95fc38","type":"ui_group","name":"Image","tab":"4294c02d.433f5","order":5,"disp":false,"width":"6","collapse":false},{"id":"804ffd4e.766e8","type":"ui_tab","name":"Tab 45","icon":"dashboard","order":45},{"id":"32cc6176.70f1ae","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"Run","pt":"flow","to":"true","tot":"bool"},{"t":"set","p":"Reset","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":60,"wires":[["71cbf569.153fdc"]]},{"id":"e2d587a0.d643c8","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"Run","pt":"flow","to":"false","tot":"bool"},{"t":"set","p":"Reset","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":100,"wires":[["71cbf569.153fdc"]]},{"id":"275d95ef.60d87a","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"Reset","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":140,"wires":[["71cbf569.153fdc"]]},{"id":"71cbf569.153fdc","type":"function","z":"ed83123a.a1745","name":"LogicCommand","func":"//Buffer\nvar buffer = [0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0];\n\n//Global variables asignations\nvar Start_Stop  = flow.get(\"Run\");\nvar Direction   = flow.get(\"Direction\");\nvar Reset       = flow.get(\"Reset\")\nvar Command     = 0;\n\n// Start/Stop\nif(Start_Stop === true){buffer[0] = 0;  buffer[1] = 1;  msg.command = \"Start\"; }\nelse{                   buffer[0] = 1;  buffer[1] = 0;  msg.command = \"Stop\" }\n\n//Reset\nif(Reset === true){     buffer[3] = 1; msg.command = \"Reset\"; }\nelse{                   buffer[3] = 0;}\n\n// Direction\nif(Direction === true){buffer[4] = 0;   buffer[5] = 1;  msg.direction = \"Reverse\"; }\nelse{                  buffer[4] = 1;   buffer[5] = 0;  msg.direction =\" Forward\" }\n\n//Command construction\nfor(var i=0; i<buffer.length; i++){\n    Command += buffer[i] * Math.pow(2, i);\n}\nmsg.payload = Command;\nmsg.buffer = buffer;\n\nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":100,"wires":[["b1ebdfcf.493c5","212f0e9f.602f22"]]},{"id":"b1ebdfcf.493c5","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"LogicCommand","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":890,"y":100,"wires":[["cfd00620.10c8f8"]]},{"id":"cfd00620.10c8f8","type":"switch","z":"ed83123a.a1745","name":"","property":"command","propertyType":"msg","rules":[{"t":"eq","v":"Start","vt":"str"},{"t":"eq","v":"Stop","vt":"str"},{"t":"eq","v":"Reset","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":1080,"y":100,"wires":[["cee24161.e46cf"],["e9eed1d1.cf3d3"],["e9eed1d1.cf3d3"]]},{"id":"cee24161.e46cf","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"python -m cpppo.server.enip.get_attribute '@0x7/0/100=(INT)100' '@0x7/6/4=(DINT)###' -S -a IP","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"###","fromt":"str","to":"LogicCommand","tot":"flow"},{"t":"change","p":"payload","pt":"msg","from":"IP","fromt":"str","to":"IP","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1250,"y":80,"wires":[["f7ea2ba1.d56728"]]},{"id":"e9eed1d1.cf3d3","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"python -m cpppo.server.enip.get_attribute '@0x7/0/100=(INT)100' '@0x7/6/4=(DINT)###' -S -a IP ; python -m cpppo.server.enip.get_attribute '@0x7/6/4=(DINT)0' -S -a IP","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"###","fromt":"str","to":"LogicCommand","tot":"flow"},{"t":"change","p":"payload","pt":"msg","from":"IP","fromt":"str","to":"IP","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1250,"y":120,"wires":[["f7ea2ba1.d56728"]]},{"id":"f7ea2ba1.d56728","type":"exec","z":"ed83123a.a1745","command":"","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":1400,"y":100,"wires":[[],[],[]]},{"id":"a92e5d6e.ac21e","type":"switch","z":"ed83123a.a1745","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Start","vt":"str"},{"t":"eq","v":"Stop","vt":"str"},{"t":"eq","v":"Reset","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":310,"y":100,"wires":[["32cc6176.70f1ae"],["e2d587a0.d643c8"],["275d95ef.60d87a"]]},{"id":"f21a3359.cabb8","type":"switch","z":"ed83123a.a1745","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"Basic","vt":"str"},{"t":"eq","v":"Direction","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":150,"y":160,"wires":[["a92e5d6e.ac21e"],["f021a356.3b9fe"]]},{"id":"f021a356.3b9fe","type":"switch","z":"ed83123a.a1745","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"eq","v":"1","vt":"num"}],"checkall":"true","repair":false,"outputs":2,"x":310,"y":220,"wires":[["661ce4c8.e8cedc"],["2a3e2378.dc219c"]]},{"id":"661ce4c8.e8cedc","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Forward","tot":"str"},{"t":"set","p":"Direction","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":200,"wires":[["71cbf569.153fdc"]]},{"id":"2a3e2378.dc219c","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Reverse","tot":"str"},{"t":"set","p":"Direction","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":240,"wires":[["71cbf569.153fdc"]]},{"id":"db39d52e.5b2f28","type":"change","z":"c32b74bc.a74b98","name":"Command","rules":[{"t":"set","p":"payload","pt":"msg","to":"python -m cpppo.server.enip.get_attribute '@0x93/++/09=(---)###' '@0x93/++/09' -S -a IP","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"###","fromt":"str","to":"Dato","tot":"flow"},{"t":"change","p":"payload","pt":"msg","from":"++","fromt":"str","to":"Param","tot":"flow"},{"t":"change","p":"payload","pt":"msg","from":"---","fromt":"str","to":"Datatype","tot":"flow"},{"t":"change","p":"payload","pt":"msg","from":"IP","fromt":"str","to":"IP","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":160,"wires":[["72fd7ed.498238"]]},{"id":"72fd7ed.498238","type":"exec","z":"c32b74bc.a74b98","command":"","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Exec Escribir Par","x":570,"y":160,"wires":[[],[],[]]},{"id":"1083899a.1b4716","type":"exec","z":"11d568a7.09a5c7","command":"vcgencmd measure_temp | egrep -o '[0-9]*\\.[0-9]*'","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":390,"y":80,"wires":[[],[],[]]},{"id":"9cc3f117.42857","type":"exec","z":"11d568a7.09a5c7","command":"vcgencmd measure_clock arm | egrep -o '[0-9]{0,10}' | sed -n '1!p'","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":440,"y":140,"wires":[["3228637d.9e937c"],[],[]]},{"id":"3228637d.9e937c","type":"function","z":"11d568a7.09a5c7","name":"MHz","func":"msg.payload={payload: msg.payload/1000000};\nreturn msg.payload;","outputs":1,"noerr":0,"x":750,"y":130,"wires":[[]]},{"id":"deabf4e0.a1b7e8","type":"comment","z":"11d568a7.09a5c7","name":"Solicitud de datos de temperatura y frecuencia de la CPU","info":"","x":320,"y":30,"wires":[]},{"id":"1522c9f4.2d2d66","type":"comment","z":"bb78a8e.f8e5f58","name":"Rampas de aceleración y desaceleración","info":"","x":220,"y":70,"wires":[]},{"id":"8c24ec8f.cf43c","type":"exec","z":"1ae6c379.02ea3d","command":"","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Exec Escribir Par","x":510,"y":60,"wires":[[],[],[]]},{"id":"19669f01.a88711","type":"change","z":"1ae6c379.02ea3d","name":"Command","rules":[{"t":"set","p":"payload","pt":"msg","to":"python -m cpppo.server.enip.get_attribute '@0x93/++/09=(---)###' '@0x93/++/09' -S -a IP","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"###","fromt":"str","to":"Dato","tot":"flow"},{"t":"change","p":"payload","pt":"msg","from":"++","fromt":"str","to":"Parameter","tot":"env"},{"t":"change","p":"payload","pt":"msg","from":"---","fromt":"str","to":"Datatype","tot":"env"},{"t":"change","p":"payload","pt":"msg","from":"IP","fromt":"str","to":"IP","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":60,"wires":[["8c24ec8f.cf43c"]]},{"id":"aa1b627f.089b4","type":"change","z":"1ae6c379.02ea3d","name":"","rules":[{"t":"set","p":"Dato","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":170,"y":60,"wires":[["19669f01.a88711"]]},{"id":"603f9fa7.2436f","type":"function","z":"842d67ff.00f188","name":"Ref","func":"var Par         = { topic:\"Parameter\",      payload: 571 };\nvar DataType    = { topic:\"Datatype\",   payload: \"REAL\" };\nvar Data        = context.get(\"Data\") || { topic:\"Data\", payload: 0 };\n\nif (msg.topic == \"Ref\"){\n    Data = context.set(\"Data\",   { topic:\"Data\", payload: msg.payload });\n}\nelse if(msg.topic == \"Send\"){\n    return[Par, DataType, context.get(\"Data\"), msg];\n}\nelse{\n    return\n}","outputs":4,"noerr":0,"x":160,"y":40,"wires":[["1ab8ffa2.1e15e"],["1ab8ffa2.1e15e"],["1ab8ffa2.1e15e"],["1ab8ffa2.1e15e"]]},{"id":"1ab8ffa2.1e15e","type":"subflow:c32b74bc.a74b98","z":"842d67ff.00f188","name":"","env":[],"x":310,"y":40,"wires":[[]]},{"id":"69b90e27.12edb","type":"comment","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"Escribir parámetros en el Drive","info":"","x":300,"y":110,"wires":[]},{"id":"eb3ef75e.1e44a8","type":"subflow:c32b74bc.a74b98","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","env":[],"x":440,"y":210,"wires":[["c2aaaa39.b8ab38"]]},{"id":"a9a422de.89b49","type":"comment","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":" Referencia de Velocidad Manual","info":"","x":580,"y":360,"wires":[]},{"id":"3cc764fd.7e58cc","type":"ui_text_input","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","label":"Referencia (Hz)","tooltip":"","group":"1925e2c.fd4e91d","order":2,"width":3,"height":1,"passthru":false,"mode":"number","delay":"100","topic":"Ref","x":720,"y":460,"wires":[["fce43241.9e843","8253c33e.847cf","179175a2.e04cba"]]},{"id":"1acb0c29.0ddee4","type":"ui_button","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","group":"1925e2c.fd4e91d","order":3,"width":3,"height":1,"passthru":false,"label":"Confirmar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"true","payloadType":"bool","topic":"Send","x":760,"y":500,"wires":[["8253c33e.847cf","179175a2.e04cba","4d5c72d.3ef098c","bd420231.1a153"]]},{"id":"c4dc63d8.59a54","type":"ui_toast","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","position":"top right","displayTime":"3","highlight":"green","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":950,"y":170,"wires":[]},{"id":"c2aaaa39.b8ab38","type":"switch","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","property":"payload.code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":600,"y":210,"wires":[["29dd54ff.f2d87c"],["850da070.cd3cc"]]},{"id":"94f98f25.8992","type":"ui_toast","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","position":"top right","displayTime":"3","highlight":"red","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":950,"y":250,"wires":[]},{"id":"29dd54ff.f2d87c","type":"change","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Comando exitoso!","tot":"str"},{"t":"delete","p":"topic","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":760,"y":170,"wires":[["c4dc63d8.59a54","fd9df9f7.0350c8"]]},{"id":"850da070.cd3cc","type":"change","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Comando fallido!","tot":"str"},{"t":"delete","p":"topic","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":760,"y":250,"wires":[["94f98f25.8992","fd9df9f7.0350c8"]]},{"id":"8f64c5d0.2e2de8","type":"function","z":"2657da37.013b66","name":"Login Autentication","func":"//Get user data from flow context\nuser            = flow.get(\"user\")|| \"null\";\npassword        = flow.get(\"password\")||\"null\";\n\n//User status\nUserStatus = global.get(\"UserStatus\")||0;\n\n// Admin user\nAdminUser       = \"slacol\";\nAdminPassword   = \"1278\";\n\n// Operator user\nOperUser        = \"Oper\";\nOperPassword    = \"1234\";\n\nif(!UserStatus){\n    \n    // Acceso Nivel 1\n    if(user == AdminUser && password == AdminPassword){\n        global.set(\"UserStatus\", 1);\n        msg.name = \"Admin\";\n        msg.userstatus = \"Sesión iniciada\"\n    }\n    // Acceso Nivel 2\n    else if(user == OperUser && password == OperPassword){\n        global.set(\"UserStatus\", 2);\n        msg.name = \"Operator\";\n        msg.userstatus = \"Sesión iniciada\"\n    }\n    else{\n        msg.error = \"Usuario o contraseña incorrectos: Por favor llene los campos nuevamente\";\n    }\n}\nelse{\n    msg.error = \"Usuario activo, por favor cierre sesión primero\";\n}\n\nmsg.payload = global.get(\"UserStatus\")\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":310,"y":110,"wires":[["a516f6f7.9f9d28","80a4c506.a81c78","1c0ced5.0f93b13"]]},{"id":"51d00666.b504b8","type":"ui_toast","z":"2657da37.013b66","position":"top right","displayTime":"3","highlight":"red","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":900,"y":40,"wires":[]},{"id":"a516f6f7.9f9d28","type":"switch","z":"2657da37.013b66","name":"Error","property":"error","propertyType":"msg","rules":[{"t":"nempty"}],"checkall":"true","repair":false,"outputs":1,"x":560,"y":40,"wires":[["a6a652a5.1b0aa"]]},{"id":"a6a652a5.1b0aa","type":"change","z":"2657da37.013b66","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"error","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":40,"wires":[["51d00666.b504b8"]]},{"id":"80a4c506.a81c78","type":"switch","z":"2657da37.013b66","name":"Name","property":"name","propertyType":"msg","rules":[{"t":"nempty"}],"checkall":"true","repair":false,"outputs":1,"x":560,"y":80,"wires":[["2a0bc418.e8756c"]]},{"id":"2a0bc418.e8756c","type":"change","z":"2657da37.013b66","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"name: userstatus","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"name","fromt":"str","to":"name","tot":"msg"},{"t":"change","p":"payload","pt":"msg","from":"userstatus","fromt":"str","to":"userstatus","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":80,"wires":[["b7161c3b.bb7ad"]]},{"id":"b7161c3b.bb7ad","type":"ui_toast","z":"2657da37.013b66","position":"top right","displayTime":"3","highlight":"green","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":900,"y":80,"wires":[]},{"id":"62bf7dff.e31774","type":"ui_button","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","group":"99f17ff2.2c14","order":5,"width":0,"height":0,"passthru":false,"label":"Confirmar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"true","payloadType":"bool","topic":"Send","x":250,"y":270,"wires":[["eb3ef75e.1e44a8"]]},{"id":"e55c5b8.eb47aa8","type":"ui_dropdown","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","label":"","tooltip":"","place":"Datatype","group":"99f17ff2.2c14","order":3,"width":3,"height":1,"passthru":true,"multiple":false,"options":[{"label":"REAL","value":"REAL","type":"str"},{"label":"INT","value":"INT","type":"str"},{"label":"DINT","value":"DINT","type":"str"}],"payload":"","topic":"Datatype","x":240,"y":230,"wires":[["eb3ef75e.1e44a8"]]},{"id":"6cd658cf.98b1a8","type":"ui_text_input","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","label":"Dato:","tooltip":"","group":"99f17ff2.2c14","order":2,"width":2,"height":1,"passthru":true,"mode":"number","delay":"0","topic":"Data","x":260,"y":190,"wires":[["eb3ef75e.1e44a8"]]},{"id":"6a2f1608.861eb8","type":"ui_text_input","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","label":"Parámetro:","tooltip":"","group":"99f17ff2.2c14","order":1,"width":2,"height":1,"passthru":false,"mode":"number","delay":"0","topic":"Parameter","x":240,"y":150,"wires":[["eb3ef75e.1e44a8"]]},{"id":"1f25e634.9a314a","type":"change","z":"c32b74bc.a74b98","name":"","rules":[{"t":"set","p":"Datatype","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":120,"wires":[[]]},{"id":"2a93d6c0.07a43a","type":"change","z":"c32b74bc.a74b98","name":"","rules":[{"t":"set","p":"Dato","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":80,"wires":[[]]},{"id":"4ef73cc2.642d14","type":"change","z":"c32b74bc.a74b98","name":"","rules":[{"t":"set","p":"Param","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":40,"wires":[[]]},{"id":"c18f6110.baf78","type":"switch","z":"c32b74bc.a74b98","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"Parameter","vt":"str"},{"t":"eq","v":"Data","vt":"str"},{"t":"eq","v":"Datatype","vt":"str"},{"t":"eq","v":"Send","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":210,"y":100,"wires":[["4ef73cc2.642d14"],["2a93d6c0.07a43a"],["1f25e634.9a314a"],["db39d52e.5b2f28"]]},{"id":"aa47304a.d40cf","type":"ui_toast","z":"2657da37.013b66","position":"top right","displayTime":"3","highlight":"green","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":600,"y":200,"wires":[]},{"id":"1c0ced5.0f93b13","type":"change","z":"2657da37.013b66","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"UserStatus","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":590,"y":160,"wires":[[]]},{"id":"7ac7e5a3.05d60c","type":"change","z":"2657da37.013b66","name":"Logout","rules":[{"t":"set","p":"user","pt":"flow","to":"null","tot":"str"},{"t":"set","p":"password","pt":"flow","to":"null","tot":"str"},{"t":"set","p":"UserStatus","pt":"global","to":"0","tot":"num"},{"t":"set","p":"userstatus","pt":"msg","to":"Sesión cerrada","tot":"str"},{"t":"set","p":"payload","pt":"msg","to":"Sesión cerrada","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":280,"y":150,"wires":[["1c0ced5.0f93b13","aa47304a.d40cf"]]},{"id":"7e6f340b.51d68c","type":"subflow:1ae6c379.02ea3d","z":"bb78a8e.f8e5f58","name":"Accel Time 1","env":[{"name":"Parameter","value":"535","type":"num"}],"x":590,"y":110,"wires":[[]]},{"id":"ce90a194.a2544","type":"change","z":"bb78a8e.f8e5f58","name":"Get Accel Value","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Accel","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":110,"wires":[["7e6f340b.51d68c"]]},{"id":"57d17dcf.058eb4","type":"change","z":"bb78a8e.f8e5f58","name":"Get Decel Value","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Decel","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":150,"wires":[["e5af86f9.f67c98"]]},{"id":"e5af86f9.f67c98","type":"subflow:1ae6c379.02ea3d","z":"bb78a8e.f8e5f58","name":"Decel Time 1","env":[{"name":"Parameter","value":"537","type":"num"}],"x":590,"y":150,"wires":[[]]},{"id":"f771788a.2843f8","type":"switch","z":"2657da37.013b66","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"user","vt":"str"},{"t":"eq","v":"password","vt":"str"},{"t":"eq","v":"Iniciar sesión","vt":"str"},{"t":"eq","v":"Cerrar sesión","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":130,"y":90,"wires":[["9804cbde.aea688"],["2ae89933.84dea6"],["8f64c5d0.2e2de8"],["7ac7e5a3.05d60c"]]},{"id":"70f31cc4.eae4a4","type":"change","z":"bb78a8e.f8e5f58","name":"Get MinLimit Value","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Accel","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":190,"wires":[["39a68012.d603b"]]},{"id":"40525190.6099e","type":"change","z":"bb78a8e.f8e5f58","name":"Get MaxLimit Value","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.MaxLimit","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":230,"wires":[["78c6c402.eb8c0c"]]},{"id":"39a68012.d603b","type":"subflow:1ae6c379.02ea3d","z":"bb78a8e.f8e5f58","name":"Min Limit","env":[{"name":"Parameter","value":"535","type":"num"}],"x":600,"y":190,"wires":[[]]},{"id":"78c6c402.eb8c0c","type":"subflow:1ae6c379.02ea3d","z":"bb78a8e.f8e5f58","name":"Max Limit","env":[{"name":"Parameter","value":"537","type":"num"}],"x":600,"y":230,"wires":[[]]},{"id":"aa3fafd7.15572","type":"switch","z":"bb78a8e.f8e5f58","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"Ramps","vt":"str"},{"t":"eq","v":"Limits","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":200,"y":180,"wires":[["ce90a194.a2544","57d17dcf.058eb4"],["70f31cc4.eae4a4","40525190.6099e"]]},{"id":"a15a7cb4.b3f51","type":"switch","z":"f4a6b35e.fd0a3","name":"Setpoint","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"HH Setpoint","vt":"str"},{"t":"eq","v":"H Setpoint","vt":"str"},{"t":"eq","v":"L Setpoint","vt":"str"},{"t":"eq","v":"LL Setpoint","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":410,"y":120,"wires":[["2ac21f55.4fee8"],["58fc2425.0ac08c"],["2f4c5ebb.b56d22"],["da5c1b5b.fe5808"]]},{"id":"e0f0c721.2f0368","type":"switch","z":"f4a6b35e.fd0a3","name":"Enable","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"HH EN","vt":"str"},{"t":"eq","v":"H EN","vt":"str"},{"t":"eq","v":"L EN","vt":"str"},{"t":"eq","v":"LL EN","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":420,"y":280,"wires":[["7354ad0d.15cff4"],["c249ccd6.c0126"],["6be5e5b6.85d3bc"],["b7e1d83c.e36948"]]},{"id":"600fc043.eaa6b","type":"switch","z":"f4a6b35e.fd0a3","name":"Death Time","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"HH DT","vt":"str"},{"t":"eq","v":"H DT","vt":"str"},{"t":"eq","v":"L DT","vt":"str"},{"t":"eq","v":"LL DT","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":400,"y":440,"wires":[["fa97384d.2c4098"],["a5529c.a6837d68"],["210b1f1.433bbe"],["1f8d0a3b.524306"]]},{"id":"2ac21f55.4fee8","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"HHSetpoint","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":60,"wires":[[]]},{"id":"58fc2425.0ac08c","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"HSetpoint","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":100,"wires":[[]]},{"id":"2f4c5ebb.b56d22","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"LSetpoint","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":140,"wires":[[]]},{"id":"da5c1b5b.fe5808","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"LLSetpoint","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":180,"wires":[[]]},{"id":"7354ad0d.15cff4","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"HHEN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":590,"y":220,"wires":[[]]},{"id":"c249ccd6.c0126","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"HEN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":260,"wires":[[]]},{"id":"6be5e5b6.85d3bc","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"LEN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":300,"wires":[[]]},{"id":"b7e1d83c.e36948","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"LLEN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":590,"y":340,"wires":[[]]},{"id":"fa97384d.2c4098","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"HHDT","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":590,"y":380,"wires":[[]]},{"id":"a5529c.a6837d68","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"HDT","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":420,"wires":[[]]},{"id":"210b1f1.433bbe","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"LDT","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":460,"wires":[[]]},{"id":"1f8d0a3b.524306","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"LLDT","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":590,"y":500,"wires":[[]]},{"id":"44179ab3.d047c4","type":"function","z":"f4a6b35e.fd0a3","name":"Protection Function","func":"// Setpoints\nvar HHSetpoint  = flow.get(\"HHSetpoint\")||0;\nvar HSetpoint   = flow.get(\"HSetpoint\")||0;\nvar LSetpoint   = flow.get(\"LSetpoint\")||0;\nvar LLSetpoint  = flow.get(\"LLSetpoint\")||0;\n\n// Enablers\nvar HH_EN       = flow.get(\"HHEN\")||false;\nvar H_EN        = flow.get(\"HEN\")||false;\nvar L_EN        = flow.get(\"LEN\")||false;\nvar LL_EN       = flow.get(\"LLEN\")||false;\n\n// Death times\nvar HHDeathTime = flow.get(\"HHDT\")||0;\nvar HDeathTime  = flow.get(\"HDT\")||0;\nvar LDeathTime  = flow.get(\"LDT\")||0;\nvar LLDeathTime = flow.get(\"LLDT\")||0;\n\n// Value\nvar CurrentValue = msg.payload;\n\nif(CurrentValue >= HHSetpoint && HH_EN === true){\n    msg.disp = true;\n    msg.alrm = false;\n    msg.message = \"Trigger by HH Protection\";\n    msg.delay = HHDeathTime * 1000;\n    msg.state = 4;\n}\nelse if(CurrentValue >= HSetpoint && H_EN === true){\n    msg.disp = false;\n    msg.alrm = true;\n    msg.message = \"Alarm by H Protection\";\n    msg.delay = HDeathTime * 1000;\n    msg.state = 2;\n}\nelse if(CurrentValue <= LLSetpoint && LL_EN === true){\n    msg.disp = true;\n    msg.alrm = false;\n    msg.message = \"Trigger by LL Protection\"\n    msg.delay = LLDeathTime * 1000;\n    msg.state = 3;\n}\nelse if(CurrentValue <= LSetpoint && L_EN === true){\n    msg.disp = false;\n    msg.alrm = true;\n    msg.message = \"Alarm by L Protection\";\n    msg.delay = LDeathTime * 1000;\n    msg.state = 1;\n}\nelse{\n    msg.disp = false;\n    msg.alrm = false;\n    msg.message = \"Normal condition\";\n    msg.reset = true;\n    msg.state= 0;\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":600,"y":540,"wires":[["4e7c8a55.a1ffa4","ea20c75e.326798","8f669088.6ce6","4db5015.cde76"]]},{"id":"20131cf7.f33024","type":"switch","z":"f4a6b35e.fd0a3","name":"Value","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"value","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":420,"y":540,"wires":[["44179ab3.d047c4"]]},{"id":"4e7c8a55.a1ffa4","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"message","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":840,"y":640,"wires":[[]]},{"id":"212f0e9f.602f22","type":"change","z":"ed83123a.a1745","name":"Status","rules":[{"t":"set","p":"payload","pt":"msg","to":"command","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":830,"y":140,"wires":[[]]},{"id":"f20d743b.8f1ae8","type":"ui_switch","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"HH EN","label":"HH","tooltip":"","group":"5901c07f.97003","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2060,"y":280,"wires":[["ebea3def.ed3e8"]]},{"id":"9879ef49.93bf","type":"ui_switch","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"H EN","label":"H","tooltip":"","group":"5901c07f.97003","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2060,"y":420,"wires":[["21eed523.11447a"]]},{"id":"51d04077.f80bf","type":"ui_switch","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"L EN","label":"L","tooltip":"","group":"5901c07f.97003","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2060,"y":560,"wires":[["6542eb5f.278a44"]]},{"id":"deaa0e2e.28e19","type":"ui_switch","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"LL EN","label":"LL","tooltip":"","group":"5901c07f.97003","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2060,"y":700,"wires":[["dff3293.985e0d8"]]},{"id":"1cc2d728.54fb09","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"HH Setpoint","label":"Límite [V]","tooltip":"","group":"5901c07f.97003","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"HH Setpoint","x":2040,"y":190,"wires":[["d116f23d.cc4a3"]]},{"id":"7c70377c.b4ae48","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"H Setpoint","label":"Límite [V]","tooltip":"","group":"5901c07f.97003","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":2040,"y":330,"wires":[["1b55dcc8.5819d3"]]},{"id":"6622800d.ba7da","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"L Setpoint","label":"Límite [V]","tooltip":"","group":"5901c07f.97003","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":2040,"y":470,"wires":[["fc17c06c.acffa"]]},{"id":"a9faa567.a64398","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"LL Setpoint","label":"Límite [V]","tooltip":"","group":"5901c07f.97003","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":2040,"y":610,"wires":[["f102662c.8f0fc8"]]},{"id":"d116f23d.cc4a3","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":190,"wires":[["2cd079.27675f88"]]},{"id":"1b55dcc8.5819d3","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2310,"y":330,"wires":[["2cd079.27675f88"]]},{"id":"fc17c06c.acffa","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2310,"y":470,"wires":[["2cd079.27675f88"]]},{"id":"f102662c.8f0fc8","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2310,"y":610,"wires":[["2cd079.27675f88"]]},{"id":"97925335.78553","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":230,"wires":[["2cd079.27675f88"]]},{"id":"8f90abd2.71ca98","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2330,"y":370,"wires":[["2cd079.27675f88"]]},{"id":"471b8ebe.ebd96","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2330,"y":510,"wires":[["2cd079.27675f88"]]},{"id":"5b1d2927.d1b308","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":650,"wires":[["2cd079.27675f88"]]},{"id":"ebea3def.ed3e8","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":280,"wires":[["2cd079.27675f88"]]},{"id":"21eed523.11447a","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2330,"y":420,"wires":[["2cd079.27675f88"]]},{"id":"6542eb5f.278a44","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2330,"y":560,"wires":[["2cd079.27675f88"]]},{"id":"dff3293.985e0d8","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":700,"wires":[["2cd079.27675f88"]]},{"id":"a13aa793.6d5958","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":190,"wires":[["1cc2d728.54fb09"]]},{"id":"417b61dc.3bc9c","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1840,"y":330,"wires":[["7c70377c.b4ae48"]]},{"id":"96202ced.2d14f","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1840,"y":470,"wires":[["6622800d.ba7da"]]},{"id":"b0c6f4cf.8adde8","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1840,"y":610,"wires":[["a9faa567.a64398"]]},{"id":"3384822b.910e1e","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":230,"wires":[["a210ddee.c7129"]]},{"id":"9621ae2b.31111","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1820,"y":370,"wires":[["6d73a85a.f42f18"]]},{"id":"cb12dde6.c272c","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1820,"y":510,"wires":[["f016e07e.fbcde"]]},{"id":"3c3fc25f.9c4dce","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":650,"wires":[["cb0d324.9efa3d"]]},{"id":"f06b900e.9d7cc","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":280,"wires":[["f20d743b.8f1ae8"]]},{"id":"55ade534.9df4fc","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":420,"wires":[["9879ef49.93bf"]]},{"id":"dec10cf6.2f956","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1820,"y":560,"wires":[["51d04077.f80bf"]]},{"id":"c1246694.d07138","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":700,"wires":[["deaa0e2e.28e19"]]},{"id":"5cde6087.192be","type":"ui_switch","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"HH EN","label":"HH","tooltip":"","group":"6b5426f3.f658d8","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3020,"y":280,"wires":[["d37e22c7.8958f"]]},{"id":"c247524.b0573b","type":"ui_switch","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"H EN","label":"H","tooltip":"","group":"6b5426f3.f658d8","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3020,"y":420,"wires":[["2c25b9aa.58cde6"]]},{"id":"ea323d75.a5cf1","type":"ui_switch","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"L EN","label":"L","tooltip":"","group":"6b5426f3.f658d8","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3020,"y":560,"wires":[["28f973b0.1c354c"]]},{"id":"cfbb9853.8b8ac8","type":"ui_switch","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"LL EN","label":"LL","tooltip":"","group":"6b5426f3.f658d8","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3020,"y":700,"wires":[["6829005.b62e3"]]},{"id":"badfd33e.f1ea","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"HH Setpoint","label":"Límite [A]","tooltip":"","group":"6b5426f3.f658d8","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"HH Setpoint","x":3000,"y":190,"wires":[["91e27d4d.24ec7"]]},{"id":"7cf8f013.bc0ad","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"H Setpoint","label":"Límite [A]","tooltip":"","group":"6b5426f3.f658d8","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":3000,"y":330,"wires":[["2da503f8.07291c"]]},{"id":"7064736d.16021c","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"L Setpoint","label":"Límite [A]","tooltip":"","group":"6b5426f3.f658d8","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":3000,"y":470,"wires":[["9369e45e.ca1fa8"]]},{"id":"47dd7297.3c11fc","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"LL Setpoint","label":"Límite [A]","tooltip":"","group":"6b5426f3.f658d8","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":3000,"y":610,"wires":[["1ec15d40.fd09f3"]]},{"id":"91e27d4d.24ec7","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3250,"y":190,"wires":[["d54f3181.5d7ad"]]},{"id":"2da503f8.07291c","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3260,"y":330,"wires":[["d54f3181.5d7ad"]]},{"id":"9369e45e.ca1fa8","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3260,"y":470,"wires":[["d54f3181.5d7ad"]]},{"id":"1ec15d40.fd09f3","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3250,"y":610,"wires":[["d54f3181.5d7ad"]]},{"id":"bd3ac661.673888","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":230,"wires":[["d54f3181.5d7ad"]]},{"id":"cd0132de.28ef2","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":370,"wires":[["d54f3181.5d7ad"]]},{"id":"9b498fd7.493cf","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3280,"y":510,"wires":[["d54f3181.5d7ad"]]},{"id":"2b999efc.767842","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":650,"wires":[["d54f3181.5d7ad"]]},{"id":"d37e22c7.8958f","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":280,"wires":[["d54f3181.5d7ad"]]},{"id":"2c25b9aa.58cde6","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":420,"wires":[["d54f3181.5d7ad"]]},{"id":"28f973b0.1c354c","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":560,"wires":[["d54f3181.5d7ad"]]},{"id":"6829005.b62e3","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":700,"wires":[["d54f3181.5d7ad"]]},{"id":"112f0c7f.98c2c4","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2820,"y":190,"wires":[["badfd33e.f1ea"]]},{"id":"5131bc8d.e72484","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2810,"y":330,"wires":[["7cf8f013.bc0ad"]]},{"id":"8638e91.f1d9618","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2810,"y":470,"wires":[["7064736d.16021c"]]},{"id":"9f6c778c.dd65f8","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2820,"y":610,"wires":[["47dd7297.3c11fc"]]},{"id":"807ce42f.663038","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":230,"wires":[["15aef3d2.fbcebc"]]},{"id":"d596bd95.36ac7","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":370,"wires":[["ca4807a6.e20fa8"]]},{"id":"c16ccd29.4c0fd","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":510,"wires":[["527b631b.e975ec"]]},{"id":"7489c0c1.72eaa","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":650,"wires":[["5bf3fb88.25b264"]]},{"id":"c7386ae5.f34358","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":280,"wires":[["5cde6087.192be"]]},{"id":"9fad8a58.994598","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":420,"wires":[["c247524.b0573b"]]},{"id":"bf640dd0.241e2","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":560,"wires":[["ea323d75.a5cf1"]]},{"id":"ceffd9dc.9d9c28","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":700,"wires":[["cfbb9853.8b8ac8"]]},{"id":"ad8923b8.78158","type":"function","z":"f4a6b35e.fd0a3","name":"TON Disp","func":"var Act = msg.disp;\nvar Ant = context.get(\"Anterior\")||false;\nvar Output = { payload: false };\n\n//Flanco de subida\nif(Act === true && Ant === false){\n    context.set(\"RefTime\", Date.now());\n}\n\nelse if(Act === true && Ant === true){\n    if(Date.now() - context.get(\"RefTime\") >= msg.delay){\n        Output.payload = true;\n        Output.Mensaje = msg.message; \n    }\n}\nelse{\n    Output.payload = false;\n}\n\ncontext.set(\"Anterior\", Act);\nreturn Output;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":410,"wires":[[]]},{"id":"c49b79d1.a4a3b8","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"HH EN","label":"HH","tooltip":"","group":"a1a44702.88ed68","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4040,"y":280,"wires":[["4a19a55c.029b5c"]]},{"id":"35830ee2.4789a2","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"H EN","label":"H","tooltip":"","group":"a1a44702.88ed68","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4040,"y":420,"wires":[["b2b661cd.df409"]]},{"id":"9431bf1.ace564","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"L EN","label":"L","tooltip":"","group":"a1a44702.88ed68","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4040,"y":560,"wires":[["dbacee46.2b006"]]},{"id":"4406e6f2.49d418","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"LL EN","label":"LL","tooltip":"","group":"a1a44702.88ed68","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4040,"y":700,"wires":[["faa2c727.765558"]]},{"id":"402fd21b.93e37c","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"HH Setpoint","label":"Límite [°F]","tooltip":"","group":"a1a44702.88ed68","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"HH Setpoint","x":4020,"y":190,"wires":[["cdda7c15.9b834"]]},{"id":"be419375.1309a","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"H Setpoint","label":"Límite [°F]","tooltip":"","group":"a1a44702.88ed68","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":4020,"y":330,"wires":[["a3005f26.9c6f9"]]},{"id":"3aab3d8a.4f5cb2","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"L Setpoint","label":"Límite [°F]","tooltip":"","group":"a1a44702.88ed68","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":4019,"y":470,"wires":[["f9e3db2e.79bad8"]]},{"id":"fdc58cf2.60fb5","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"LL Setpoint","label":"Límite [°F]","tooltip":"","group":"a1a44702.88ed68","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":4020,"y":610,"wires":[["e552bb7f.7cd1b8"]]},{"id":"cdda7c15.9b834","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4310,"y":190,"wires":[["4d839d32.72a8f4"]]},{"id":"a3005f26.9c6f9","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4310,"y":330,"wires":[["4d839d32.72a8f4"]]},{"id":"f9e3db2e.79bad8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4310,"y":470,"wires":[["4d839d32.72a8f4"]]},{"id":"e552bb7f.7cd1b8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4310,"y":610,"wires":[["4d839d32.72a8f4"]]},{"id":"1d496804.d2c2f8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4320,"y":230,"wires":[["4d839d32.72a8f4"]]},{"id":"4160bf9.173304","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4330,"y":370,"wires":[["4d839d32.72a8f4"]]},{"id":"f9d899c1.161488","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4330,"y":510,"wires":[["4d839d32.72a8f4"]]},{"id":"1e6715c8.358b2a","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4330,"y":650,"wires":[["4d839d32.72a8f4"]]},{"id":"4a19a55c.029b5c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4320,"y":280,"wires":[["4d839d32.72a8f4"]]},{"id":"b2b661cd.df409","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4330,"y":420,"wires":[["4d839d32.72a8f4"]]},{"id":"dbacee46.2b006","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4330,"y":560,"wires":[["4d839d32.72a8f4"]]},{"id":"faa2c727.765558","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4330,"y":700,"wires":[["4d839d32.72a8f4"]]},{"id":"f924bdb0.5be41","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"Intake.Temperature.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3800,"y":190,"wires":[["402fd21b.93e37c"]]},{"id":"1865ce38.af04e2","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"Intake.Temperature.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3800,"y":330,"wires":[["be419375.1309a"]]},{"id":"29688391.2998dc","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"Intake.Temperature.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3800,"y":470,"wires":[["3aab3d8a.4f5cb2"]]},{"id":"7463a6d.8f98458","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"Intake.Temperature.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3800,"y":610,"wires":[["fdc58cf2.60fb5"]]},{"id":"4b0117c9.906a28","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"Intake.Temperature.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3790,"y":230,"wires":[["49f4bc47.e792b4"]]},{"id":"735fcd8c.139204","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"Intake.Temperature.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3780,"y":370,"wires":[["b2bf10ae.1293f"]]},{"id":"62792eb4.ed585","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"Intake.Temperature.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3780,"y":510,"wires":[["2a0281a3.689efe"]]},{"id":"b215f346.b41bf","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"Intake.Temperature.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3780,"y":650,"wires":[["ea97a2e4.6a67d"]]},{"id":"15cdc18c.2d1afe","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"Intake.Temperature.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3790,"y":280,"wires":[["c49b79d1.a4a3b8"]]},{"id":"e940bc9d.487ab","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"Intake.Temperature.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3780,"y":420,"wires":[["35830ee2.4789a2"]]},{"id":"3927678c.1ba258","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"Intake.Temperature.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3780,"y":560,"wires":[["9431bf1.ace564"]]},{"id":"efdfec7f.80deb","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"Intake.Temperature.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3780,"y":700,"wires":[["4406e6f2.49d418"]]},{"id":"e61d4a61.e53858","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"HH EN","label":"HH","tooltip":"","group":"e149ba57.923428","order":1,"width":"2","height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2100,"y":880,"wires":[["7a934c21.2ecb84"]]},{"id":"c2250f98.0d359","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"H EN","label":"H","tooltip":"","group":"e149ba57.923428","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2100,"y":1020,"wires":[["3bb485e.5c59e7a"]]},{"id":"a526c702.97fae8","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"L EN","label":"L","tooltip":"","group":"e149ba57.923428","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2100,"y":1160,"wires":[["54738e5b.62f9d"]]},{"id":"e5d51105.c7ff6","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"LL EN","label":"LL","tooltip":"","group":"e149ba57.923428","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2100,"y":1300,"wires":[["8a8eddbb.01d1b"]]},{"id":"e0cc3f40.9ec5c","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"HH Setpoint","label":"Límite [psi]","tooltip":"","group":"e149ba57.923428","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"HH Setpoint","x":2080,"y":790,"wires":[["f5bb9109.f3ee9"]]},{"id":"3886347c.05aadc","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"H Setpoint","label":"Límite [psi]","tooltip":"","group":"e149ba57.923428","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"H Setpoint","x":2080,"y":930,"wires":[["c121793e.08fd78"]]},{"id":"db30b407.1a7568","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"L Setpoint","label":"Límite [psi]","tooltip":"","group":"e149ba57.923428","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":2079,"y":1070,"wires":[["953d1543.ba90f8"]]},{"id":"aa7fc893.e7f238","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"LL Setpoint","label":"Límite [psi]","tooltip":"","group":"e149ba57.923428","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"LL Setpoint","x":2080,"y":1210,"wires":[["aeb719f5.a80828"]]},{"id":"f5bb9109.f3ee9","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2360,"y":790,"wires":[["33575158.040bce"]]},{"id":"c121793e.08fd78","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2360,"y":930,"wires":[["33575158.040bce"]]},{"id":"953d1543.ba90f8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2370,"y":1070,"wires":[["33575158.040bce"]]},{"id":"aeb719f5.a80828","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2360,"y":1210,"wires":[["33575158.040bce"]]},{"id":"4a731ce4.a7a854","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":830,"wires":[["33575158.040bce"]]},{"id":"54781f62.2457e","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":970,"wires":[["33575158.040bce"]]},{"id":"3d5fce47.6c25d2","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":1110,"wires":[["33575158.040bce"]]},{"id":"5798187e.286368","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":1250,"wires":[["33575158.040bce"]]},{"id":"7a934c21.2ecb84","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":880,"wires":[["33575158.040bce"]]},{"id":"3bb485e.5c59e7a","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":1020,"wires":[["33575158.040bce"]]},{"id":"54738e5b.62f9d","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":1160,"wires":[["33575158.040bce"]]},{"id":"8a8eddbb.01d1b","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":1300,"wires":[["33575158.040bce"]]},{"id":"a454cef5.af8fc","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"Intake.Pressure.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1870,"y":790,"wires":[["e0cc3f40.9ec5c"]]},{"id":"bfcf1d22.6a633","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"Intake.Pressure.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1870,"y":930,"wires":[["3886347c.05aadc"]]},{"id":"cff15ba9.0519d8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"Intake.Pressure.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1870,"y":1070,"wires":[["db30b407.1a7568"]]},{"id":"403e0e9.7738af","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"Intake.Pressure.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1870,"y":1210,"wires":[["aa7fc893.e7f238"]]},{"id":"68dc5746.f43798","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"Intake.Pressure.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":830,"wires":[["3dd23d60.3a9252"]]},{"id":"5705aa78.5d51a4","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"Intake.Pressure.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":970,"wires":[["217a7e83.476b12"]]},{"id":"ce9bc7e2.b5ae88","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"Intake.Pressure.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":1110,"wires":[["5ba4a28e.be396c"]]},{"id":"20a20d73.57b622","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"Intake.Pressure.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":1250,"wires":[["b636759a.1af358"]]},{"id":"e280d419.905258","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"Intake.Pressure.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":880,"wires":[["e61d4a61.e53858"]]},{"id":"3f5e77fb.ba40f8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"Intake.Pressure.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":1020,"wires":[["c2250f98.0d359"]]},{"id":"561da518.30b27c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"Intake.Pressure.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":1160,"wires":[["a526c702.97fae8"]]},{"id":"e386a315.a703f","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"Intake.Pressure.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":1300,"wires":[["e5d51105.c7ff6"]]},{"id":"bb0d981d.727c38","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"HH EN","label":"HH","tooltip":"","group":"38e9a87.c300958","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3180,"y":880,"wires":[["9146ae0d.3af17"]]},{"id":"c6237d3d.8ab13","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"H EN","label":"H","tooltip":"","group":"38e9a87.c300958","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3180,"y":1020,"wires":[["2bd5723a.161dee"]]},{"id":"e4d77b34.0e69e8","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"L EN","label":"L","tooltip":"","group":"38e9a87.c300958","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3180,"y":1160,"wires":[["24ff573d.b4ad38"]]},{"id":"f15261a7.5b9b7","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"LL EN","label":"LL","tooltip":"","group":"38e9a87.c300958","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3180,"y":1300,"wires":[["fa92c1eb.77342"]]},{"id":"597d509a.97049","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"HH Setpoint","label":"Límite [psi]","tooltip":"","group":"38e9a87.c300958","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"HH Setpoint","x":3160,"y":790,"wires":[["5c22c963.73c3c8"]]},{"id":"d88d36e1.6c1a78","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"H Setpoint","label":"Límite [psi]","tooltip":"","group":"38e9a87.c300958","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":3160,"y":930,"wires":[["2e5d68dc.858698"]]},{"id":"f2e33ee6.334d6","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"L Setpoint","label":"Límite [psi]","tooltip":"","group":"38e9a87.c300958","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":3160,"y":1070,"wires":[["bb669792.76b798"]]},{"id":"1fa6726c.71384e","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"LL Setpoint","label":"Límite [psi]","tooltip":"","group":"38e9a87.c300958","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":3160,"y":1210,"wires":[["cd53a4b1.02cee8"]]},{"id":"5c22c963.73c3c8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3450,"y":790,"wires":[["fa27ee3.dd7941"]]},{"id":"2e5d68dc.858698","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3450,"y":930,"wires":[["fa27ee3.dd7941"]]},{"id":"bb669792.76b798","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3450,"y":1070,"wires":[["fa27ee3.dd7941"]]},{"id":"cd53a4b1.02cee8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3450,"y":1210,"wires":[["fa27ee3.dd7941"]]},{"id":"7458a005.66f77","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3460,"y":830,"wires":[["fa27ee3.dd7941"]]},{"id":"9bea7e46.26625","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":970,"wires":[["fa27ee3.dd7941"]]},{"id":"3113c7be.11c838","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":1110,"wires":[["fa27ee3.dd7941"]]},{"id":"a6333e19.ef71e","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":1250,"wires":[["fa27ee3.dd7941"]]},{"id":"9146ae0d.3af17","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3460,"y":880,"wires":[["fa27ee3.dd7941"]]},{"id":"2bd5723a.161dee","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":1020,"wires":[["fa27ee3.dd7941"]]},{"id":"24ff573d.b4ad38","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":1160,"wires":[["fa27ee3.dd7941"]]},{"id":"fa92c1eb.77342","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":1300,"wires":[["fa27ee3.dd7941"]]},{"id":"4d772326.e83ecc","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"Discharge.Pressure.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2940,"y":790,"wires":[["597d509a.97049"]]},{"id":"4ec0aff2.fb6d","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"Discharge.Pressure.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2940,"y":930,"wires":[["d88d36e1.6c1a78"]]},{"id":"e01553c7.65a86","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"Discharge.Pressure.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2940,"y":1070,"wires":[["f2e33ee6.334d6"]]},{"id":"d84150ed.51b5c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"Discharge.Pressure.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2940,"y":1210,"wires":[["1fa6726c.71384e"]]},{"id":"5bf3855e.8a14bc","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"Discharge.Pressure.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2930,"y":830,"wires":[["12d295a5.7cda8a"]]},{"id":"3bced553.64606a","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"Discharge.Pressure.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2920,"y":970,"wires":[["5eb0694e.8b93e8"]]},{"id":"1aa3aef6.22fa21","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"Discharge.Pressure.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2920,"y":1110,"wires":[["174a50b7.39ca9f"]]},{"id":"10708263.2b625e","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"Discharge.Pressure.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2930,"y":1250,"wires":[["86aeff9f.23163"]]},{"id":"4fa4208b.9e6ec","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"Discharge.Pressure.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2930,"y":880,"wires":[["bb0d981d.727c38"]]},{"id":"f262ad5b.79dde","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"Discharge.Pressure.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2920,"y":1020,"wires":[["c6237d3d.8ab13"]]},{"id":"bc1d2c03.fbe0e","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"Discharge.Pressure.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2920,"y":1160,"wires":[["e4d77b34.0e69e8"]]},{"id":"8504e8d.5781318","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"Discharge.Pressure.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2930,"y":1300,"wires":[["f15261a7.5b9b7"]]},{"id":"81ff8c6b.e369f","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"HH EN","label":"HH","tooltip":"","group":"79bd9737.7bcf68","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4319,"y":880,"wires":[["64363868.0e3af8"]]},{"id":"55ba2fb8.d5992","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"H EN","label":"H","tooltip":"","group":"79bd9737.7bcf68","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4320,"y":1020,"wires":[["f0ff8de3.8e9a7"]]},{"id":"f179284a.884a28","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"L EN","label":"L","tooltip":"","group":"79bd9737.7bcf68","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4320,"y":1160,"wires":[["f20a0ccd.95dc1"]]},{"id":"7e134a.7a0facb8","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"LL EN","label":"LL","tooltip":"","group":"79bd9737.7bcf68","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4320,"y":1300,"wires":[["e5a465ce.be26d8"]]},{"id":"b65f868e.fb2a88","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"HH Setpoint","label":"Límite [°F]","tooltip":"","group":"79bd9737.7bcf68","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"HH Setpoint","x":4300,"y":790,"wires":[["11676fef.03085"]]},{"id":"8c436e.5a8edc9","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"H Setpoint","label":"Límite [°F]","tooltip":"","group":"79bd9737.7bcf68","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":4300,"y":930,"wires":[["1f22fc42.e793e4"]]},{"id":"c92bfd00.2798e","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"L Setpoint","label":"Límite [°F]","tooltip":"","group":"79bd9737.7bcf68","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":4299,"y":1070,"wires":[["e6e945d1.72b968"]]},{"id":"2f46d7ce.92d298","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"LL Setpoint","label":"Límite [°F]","tooltip":"","group":"79bd9737.7bcf68","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":4300,"y":1210,"wires":[["f5287419.d23a28"]]},{"id":"11676fef.03085","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4600,"y":790,"wires":[["99ff714a.7a819"]]},{"id":"1f22fc42.e793e4","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4600,"y":930,"wires":[["99ff714a.7a819"]]},{"id":"e6e945d1.72b968","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4610,"y":1070,"wires":[["99ff714a.7a819"]]},{"id":"f5287419.d23a28","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4600,"y":1210,"wires":[["99ff714a.7a819"]]},{"id":"f6a753ca.d6306","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4630,"y":830,"wires":[["99ff714a.7a819"]]},{"id":"49379c96.283dd4","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4620,"y":970,"wires":[["99ff714a.7a819"]]},{"id":"32f9531b.a08ddc","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4620,"y":1110,"wires":[["99ff714a.7a819"]]},{"id":"6576783e.0b9e38","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4630,"y":1250,"wires":[["99ff714a.7a819"]]},{"id":"64363868.0e3af8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4620,"y":880,"wires":[["99ff714a.7a819"]]},{"id":"f0ff8de3.8e9a7","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4620,"y":1020,"wires":[["99ff714a.7a819"]]},{"id":"f20a0ccd.95dc1","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4620,"y":1160,"wires":[["99ff714a.7a819"]]},{"id":"e5a465ce.be26d8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4630,"y":1300,"wires":[["99ff714a.7a819"]]},{"id":"c9db83bd.21e72","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"Discharge.Temperature.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4060,"y":790,"wires":[["b65f868e.fb2a88"]]},{"id":"ab4f9b0e.b58748","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"Discharge.Temperature.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4050,"y":930,"wires":[["8c436e.5a8edc9"]]},{"id":"62cfa401.544bfc","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"Discharge.Temperature.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4050,"y":1070,"wires":[["c92bfd00.2798e"]]},{"id":"fa38bc67.7796a","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"Discharge.Temperature.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"DProtections.ischarge.Temperature.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4050,"y":1210,"wires":[["2f46d7ce.92d298"]]},{"id":"224de176.531cbe","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"Discharge.Temperature.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4040,"y":830,"wires":[["8391ee25.6681c"]]},{"id":"2d9b97ec.afb1f8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"Discharge.Temperature.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4030,"y":970,"wires":[["612144c8.db8e4c"]]},{"id":"defdcfa2.787fe","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"Discharge.Temperature.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4030,"y":1110,"wires":[["ef41c61b.f2f998"]]},{"id":"40dcb368.34489c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"Discharge.Temperature.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4040,"y":1250,"wires":[["3368017a.de213e"]]},{"id":"c07a38bc.f59cb8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"Discharge.Temperature.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4040,"y":880,"wires":[["81ff8c6b.e369f"]]},{"id":"2988bb53.335914","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"Discharge.Temperature.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4030,"y":1020,"wires":[["55ba2fb8.d5992"]]},{"id":"a5ab5c99.0daba","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"Discharge.Temperature.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4030,"y":1160,"wires":[["f179284a.884a28"]]},{"id":"41e32d9c.3f35a4","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"Discharge.Temperature.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4040,"y":1300,"wires":[["7e134a.7a0facb8"]]},{"id":"b97c0cba.aea3","type":"ui_text_input","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","label":"Tensión (V)","tooltip":"","group":"c0d4b517.4b9968","order":2,"width":"4","height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":630,"y":640,"wires":[["b405c349.c96bb"]]},{"id":"625acf36.28ca1","type":"ui_text_input","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","label":"Corriente (A)","tooltip":"","group":"c0d4b517.4b9968","order":3,"width":"4","height":1,"passthru":true,"mode":"number","delay":"100","topic":"Accel","x":630,"y":720,"wires":[["2b15e46d.065cec"]]},{"id":"52666b13.2f23b4","type":"ui_text_input","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","label":"Frecuencia (Hz)","tooltip":"","group":"c0d4b517.4b9968","order":4,"width":"4","height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":620,"y":800,"wires":[["2d255252.339eee"]]},{"id":"9fce2d60.4554b","type":"ui_text_input","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","label":"Frecuencia (Hz)","tooltip":"","group":"c0d4b517.4b9968","order":5,"width":"4","height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":600,"y":880,"wires":[["183f49bb.f6d776"]]},{"id":"a5bfded0.8a3cf","type":"ui_text_input","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","label":"Potencia","tooltip":"","group":"c0d4b517.4b9968","order":6,"width":"4","height":1,"passthru":true,"mode":"number","delay":"100","topic":"Accel","x":640,"y":960,"wires":[["c780b49a.0e4338"]]},{"id":"dc569dcc.729","type":"ui_text_input","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","label":"Polos","tooltip":"","group":"c0d4b517.4b9968","order":7,"width":"4","height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":650,"y":1040,"wires":[["44e6874.2344578"]]},{"id":"2bbbe8b6.93dbd8","type":"comment","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Control de motor - Datos Placa de Motor","info":"","x":480,"y":600,"wires":[]},{"id":"9804cbde.aea688","type":"change","z":"2657da37.013b66","name":"","rules":[{"t":"set","p":"user","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":290,"y":30,"wires":[[]]},{"id":"2ae89933.84dea6","type":"change","z":"2657da37.013b66","name":"","rules":[{"t":"set","p":"password","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":310,"y":70,"wires":[[]]},{"id":"798ac169.6edda","type":"inject","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"","props":[{"p":"payload","v":"true","vt":"bool"},{"p":"topic","v":"","vt":"string"}],"repeat":"5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":250,"y":120,"wires":[["88ac83a3.561a3","1cb59f89.cf5d7","215d0cd9.9dbe64"]]},{"id":"20490d7e.8acac2","type":"comment","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"Monitorear Temperatura y Velocidad de CPU","info":"","x":340,"y":60,"wires":[]},{"id":"88ac83a3.561a3","type":"subflow:11d568a7.09a5c7","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"","env":[],"x":410,"y":120,"wires":[["4906fc64.1e6a14"],["d43fb27a.273b3"]]},{"id":"d382db6f.29f0a8","type":"function","z":"8528a254.70837","g":"11f55817.139c18","name":"Events","func":"var event   = flow.get('Events')||[];\nvar id      = flow.get('id')||0;\nvar date    = new Date();\n\n// Date\nvar year    = date.getFullYear();\nvar month   = date.getMonth()+1;\nvar day     = date.getDate();\n\n//Time\nvar hours   = date.getHours();\nvar minutes = date.getMinutes();\nvar seconds = date.getSeconds();\n\nmsg.payload={\n            'no':id,\n            'fecha':month+'/'+day+'/'+year,\n            'hora':hours+':'+minutes+':'+seconds,\n            'evento':msg.payload\n}\n\nevent.unshift(msg.payload);\nflow.set('Events',event);\nid++\nflow.set('id',id);\nmsg.payload = event;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":456,"y":80,"wires":[["ec98695.bbf8698","7b4bd7a0.fd9398"]]},{"id":"972e1f74.3dd4c","type":"comment","z":"8528a254.70837","g":"11f55817.139c18","name":"Eventos","info":"","x":116,"y":80,"wires":[]},{"id":"ec98695.bbf8698","type":"json","z":"8528a254.70837","g":"11f55817.139c18","name":"","property":"payload","action":"","pretty":false,"x":616,"y":80,"wires":[["7b4bd7a0.fd9398"]]},{"id":"54ec819a.c1bc9","type":"change","z":"8528a254.70837","g":"11f55817.139c18","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Events","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":426,"y":120,"wires":[["ec98695.bbf8698","7b4bd7a0.fd9398"]]},{"id":"52f10c12.555b24","type":"comment","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"Eventos","info":"","x":600,"y":170,"wires":[]},{"id":"fd9df9f7.0350c8","type":"link out","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"Escribir parámetros","links":["59e817c2.295b38"],"x":875,"y":210,"wires":[]},{"id":"59e817c2.295b38","type":"link in","z":"8528a254.70837","g":"11f55817.139c18","name":"Eventos","links":["6d40adaa.11d2c4","fd9df9f7.0350c8","dfb7f37b.99931","62b08bc.a787d74","db1e9db0.6840e","f99e70c8.70126","272a4804.a55718","1b0e4b2b.ecf4e5","2e60217a.d7bbae","49449801.c79e48","66f58a7.5c16574","40bc37d4.aa90f8","deda81b5.9e94a","2ae6e9d4.8de576","a5237645.ed83c8"],"x":371,"y":80,"wires":[["d382db6f.29f0a8"]]},{"id":"d82f7fec.13595","type":"ui_toast","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","position":"top right","displayTime":"3","highlight":"green","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1760,"y":530,"wires":[]},{"id":"1c5b5d3c.1c9023","type":"switch","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","property":"code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1370,"y":550,"wires":[["5d2f7a98.356b04"],["6d286a3.7a9a594"]]},{"id":"5d2f7a98.356b04","type":"change","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Cambio de velocidad exitoso a +++ Hz","tot":"str"},{"t":"delete","p":"topic","pt":"msg"},{"t":"change","p":"payload","pt":"msg","from":"+++","fromt":"str","to":"Ultima_Referencia","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1530,"y":530,"wires":[["d82f7fec.13595","62b08bc.a787d74"]]},{"id":"6d286a3.7a9a594","type":"change","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Cambio de velocidad fallido!","tot":"str"},{"t":"delete","p":"topic","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1530,"y":570,"wires":[["62b08bc.a787d74","d82f7fec.13595"]]},{"id":"62b08bc.a787d74","type":"link out","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"Escribir Referencia de velocidad","links":["59e817c2.295b38"],"x":1685,"y":570,"wires":[]},{"id":"c404a6e9.ffda18","type":"change","z":"827787d0.ede678","g":"a80677cf.4274c8","name":"Admin","rules":[{"t":"set","p":"payload","pt":"msg","to":"Admin Loged","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":760,"y":690,"wires":[["6d40adaa.11d2c4"]]},{"id":"7dfbde1e.e4b5b","type":"change","z":"827787d0.ede678","g":"a80677cf.4274c8","name":"Operator","rules":[{"t":"set","p":"payload","pt":"msg","to":"Operator Loged in","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":770,"y":730,"wires":[["6d40adaa.11d2c4"]]},{"id":"6d40adaa.11d2c4","type":"link out","z":"827787d0.ede678","g":"a80677cf.4274c8","name":"Usuario","links":["59e817c2.295b38","40c12bb3.ead9f4"],"x":885,"y":690,"wires":[]},{"id":"b405c349.c96bb","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","rules":[{"t":"set","p":"Motor_Control.Nameplate.Voltage","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":890,"y":640,"wires":[[]]},{"id":"a90890e0.f21c8","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Voltage","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Voltage","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":381,"y":642,"wires":[["b97c0cba.aea3"]]},{"id":"2b15e46d.065cec","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","rules":[{"t":"set","p":"Motor_Control.Nameplate.Amps","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":890,"y":720,"wires":[[]]},{"id":"ed08c0de.3ee1e","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Amps","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Amps","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":371,"y":722,"wires":[["625acf36.28ca1"]]},{"id":"e89df25d.18cdc","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Hertz","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Hertz","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":371,"y":802,"wires":[["52666b13.2f23b4"]]},{"id":"2d255252.339eee","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","rules":[{"t":"set","p":"Motor_Control.Nameplate.Hertz","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":890,"y":800,"wires":[[]]},{"id":"183f49bb.f6d776","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","rules":[{"t":"set","p":"Motor_Control.Nameplate.RPM","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":880,"wires":[[]]},{"id":"9355594d.0b5af8","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"RPM","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.RPM","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":371,"y":882,"wires":[["9fce2d60.4554b"]]},{"id":"c780b49a.0e4338","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","rules":[{"t":"set","p":"Motor_Control.Nameplate.Power","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":890,"y":960,"wires":[[]]},{"id":"fa5d0b5d.173c98","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Power","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Power","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":371,"y":962,"wires":[["a5bfded0.8a3cf"]]},{"id":"44e6874.2344578","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","rules":[{"t":"set","p":"Motor_Control.Nameplate.Poles","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":890,"y":1040,"wires":[[]]},{"id":"657a5d37.6d07c4","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Poles","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Poles","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":371,"y":1042,"wires":[["dc569dcc.729"]]},{"id":"ea258cd2.d6e7d","type":"ui_button","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"","group":"c0d4b517.4b9968","order":12,"width":4,"height":1,"passthru":false,"label":"Confirmar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1220,"y":690,"wires":[["7507ff98.5a92b","dca07a87.27ec18","f041a8b3.dcb0d8","184c506a.42dbd","60be1d12.066574","ed33f12b.95cc7","39af17e3.7d87a8","b5a3116a.ae72c"]]},{"id":"7507ff98.5a92b","type":"change","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Send Voltage","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Voltage","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":690,"wires":[["effa34c4.ff41c8"]]},{"id":"dca07a87.27ec18","type":"change","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Send Amps","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Amps","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":730,"wires":[["3f3006.edaa2ffa"]]},{"id":"f041a8b3.dcb0d8","type":"change","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Send Hertz","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Hertz","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":770,"wires":[["53d73778.d0b178"]]},{"id":"184c506a.42dbd","type":"change","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Send RPM","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.RPM","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":810,"wires":[["b8855fd7.225d3"]]},{"id":"60be1d12.066574","type":"change","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Send Power","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Power","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":850,"wires":[["30d2c9b7.d0d666"]]},{"id":"ed33f12b.95cc7","type":"change","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Send Poles","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Poles","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":890,"wires":[["1a6f7f25.56eb41"]]},{"id":"effa34c4.ff41c8","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Voltage","env":[{"name":"Parameter","value":"25","type":"num"}],"x":1910,"y":690,"wires":[[]]},{"id":"3f3006.edaa2ffa","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Amps","env":[{"name":"Parameter","value":"26","type":"num"}],"x":1920,"y":730,"wires":[[]]},{"id":"53d73778.d0b178","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Hertz","env":[{"name":"Parameter","value":"27","type":"num"}],"x":1920,"y":770,"wires":[[]]},{"id":"b8855fd7.225d3","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"RPM","env":[{"name":"Parameter","value":"28","type":"num"}],"x":1920,"y":810,"wires":[[]]},{"id":"30d2c9b7.d0d666","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Power","env":[{"name":"Parameter","value":"30","type":"num"}],"x":1920,"y":850,"wires":[[]]},{"id":"1a6f7f25.56eb41","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Poles","env":[{"name":"Parameter","value":"31","type":"num"},{"name":"Datatype","value":"DINT","type":"str"}],"x":1920,"y":890,"wires":[[]]},{"id":"a6590a31.100138","type":"ui_text","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","group":"a487b683.29f738","order":4,"width":"0","height":"0","name":"","label":"Ethernet :","format":"{{msg.payload}}","layout":"row-center","x":1070,"y":2810,"wires":[]},{"id":"856da30f.2df08","type":"exec","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","command":"ifconfig eth0","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":290,"y":2820,"wires":[["babc7e0a.35af5"],[],[]]},{"id":"e9b62f95.1b77f","type":"inject","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"","props":[{"p":"payload","v":"","vt":"date"},{"p":"topic","v":"","vt":"string"}],"repeat":"5","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":130,"y":2820,"wires":[["856da30f.2df08"]]},{"id":"7342b43f.bedb2c","type":"function","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"Obtener IP & Netmask","func":"// Get string complete\nvar str                 = msg.payload;\n\n// Get 'inet' start and end position inside the string\nvar start_of_inet       = str.indexOf('inet')+5;\nvar end_of_inet         = str.indexOf('netmask')-2;\n\n// Get 'netmask' start and end position inside the string\nvar start_of_netmask    = str.indexOf('netmask')+8;\nvar end_of_netmask      = str.indexOf('broadcast')-2;\n\n// Get \"inet\" complete string.\nvar inet                = str.slice(start_of_inet,end_of_inet);\nvar netmask             = str.slice(start_of_netmask,end_of_netmask);\n\nmsg.payload ={\n    \"Ethernet\":inet,\n    \"Netmask\":netmask\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":720,"y":2810,"wires":[["df476a8b.883118","3663f735.969b68"]]},{"id":"df476a8b.883118","type":"change","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"Ethernet","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Ethernet","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":910,"y":2810,"wires":[["a6590a31.100138"]]},{"id":"3663f735.969b68","type":"change","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"Netmask","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Netmask","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":910,"y":2850,"wires":[["fb855c25.47e4a"]]},{"id":"fb855c25.47e4a","type":"ui_text","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","group":"a487b683.29f738","order":4,"width":"0","height":"0","name":"","label":"Máscara de red :","format":"{{msg.payload}}","layout":"row-center","x":1100,"y":2850,"wires":[]},{"id":"8e762cce.be81","type":"switch","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"eq","v":"1","vt":"num"},{"t":"eq","v":"2","vt":"num"}],"checkall":"true","repair":false,"outputs":3,"x":550,"y":560,"wires":[["8edea7ae.674088","ffad1340.f8a3b"],["33c5f16c.c8a5ae","c404a6e9.ffda18","8effe1fe.bacd6","b4ef9f7b.b3569"],["42f85e00.83b314","7dfbde1e.e4b5b","98a9b5d4.5e5608","b4ef9f7b.b3569"]]},{"id":"d50d9b6b.bbc7f8","type":"change","z":"8528a254.70837","g":"11f55817.139c18","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Events","tot":"flow"},{"t":"set","p":"filename","pt":"msg","to":"+++/Eventos/Eventos.csv","tot":"str"},{"t":"change","p":"filename","pt":"msg","from":"+++","fromt":"str","to":"USB_Drive","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":586,"y":160,"wires":[["ad47f0cc.93af5"]]},{"id":"c02fb05c.baccf","type":"file","z":"8528a254.70837","g":"11f55817.139c18","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":856,"y":160,"wires":[[]]},{"id":"4b2de6bc.d46068","type":"comment","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Datos placa de motor","info":"","x":1260,"y":600,"wires":[]},{"id":"3f228908.0d0696","type":"comment","z":"68deacdf.9a36f4","g":"95e4279e.465018","name":"PQA","info":"","x":160,"y":80,"wires":[]},{"id":"58926891.1f2dd8","type":"link in","z":"68deacdf.9a36f4","g":"95e4279e.465018","name":"PQA Data Link","links":["f28712cf.12333"],"x":145,"y":120,"wires":[["ed440caa.e3c9a","3faa3e6.58be8c2","50e718bc.acc418","ea1cde92.60e99","9cd71bbc.0f4798","1cbd6fef.8eb83","cd1b505d.a6b93","425425ae.e0c16c","7ef6f5bd.3b5e0c","ac730498.f22c08","c91b1beb.1017c8","3d7bd8eb.a0e0b8","e3fa2881.918ec8","d83d9d82.65e01","a47fdb9.7d9a428","6fae5501.179cac","691dc907.01f6e8","dd62494b.f95fb8","e25dd195.b371f","ed92d6cb.2a3df8","1a34b374.22694d","da7f03bf.c7ba8","a9e26213.423fd","7256252a.cc829c"]]},{"id":"b5a13da4.6e3eb","type":"ui_text","z":"68deacdf.9a36f4","g":"195d3093.36368f","group":"c001d335.d33fe","order":4,"width":"3","height":"1","name":"","label":"LN:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":120,"wires":[]},{"id":"d8debc2.700294","type":"change","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_1_Voltage","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":120,"wires":[["7b039538.19006c"]]},{"id":"ed440caa.e3c9a","type":"switch","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"Filtro de mensajes no nulos","property":"payload.Phase_1_Voltage","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":120,"wires":[["d8debc2.700294"]]},{"id":"7b039538.19006c","type":"function","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":120,"wires":[["b5a13da4.6e3eb"]]},{"id":"f41accc4.c621f","type":"ui_text","z":"68deacdf.9a36f4","g":"195d3093.36368f","group":"c001d335.d33fe","order":4,"width":"3","height":"1","name":"","label":"LL:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":160,"wires":[]},{"id":"54e4b15.a95c55","type":"change","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Line_Voltage_1_2","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":160,"wires":[["6646dcc2.7e27f4"]]},{"id":"3faa3e6.58be8c2","type":"switch","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"Filtro de mensajes no nulos","property":"payload.Line_Voltage_1_2","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":160,"wires":[["54e4b15.a95c55"]]},{"id":"6646dcc2.7e27f4","type":"function","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":160,"wires":[["f41accc4.c621f"]]},{"id":"c3ab454c.6a6608","type":"ui_text","z":"68deacdf.9a36f4","g":"195d3093.36368f","group":"c001d335.d33fe","order":4,"width":"3","height":"1","name":"","label":"Corriente:","format":"{{msg.payload}} A","layout":"row-left","x":900,"y":200,"wires":[]},{"id":"ceb28ed6.efd8a","type":"change","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Total_Phase_A_Current","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":200,"wires":[["cf46bea2.57892"]]},{"id":"50e718bc.acc418","type":"switch","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"Filtro de mensajes no nulos","property":"payload.Total_Phase_A_Current","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":200,"wires":[["ceb28ed6.efd8a"]]},{"id":"cf46bea2.57892","type":"function","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":200,"wires":[["c3ab454c.6a6608"]]},{"id":"e0f1b2fe.bfc45","type":"ui_text","z":"68deacdf.9a36f4","g":"195d3093.36368f","group":"c001d335.d33fe","order":4,"width":"3","height":"1","name":"","label":"P. Activa:","format":"{{msg.payload}} kW","layout":"row-left","x":900,"y":240,"wires":[]},{"id":"43c8bed9.bb82","type":"change","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_A_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":240,"wires":[["6702af9e.46335"]]},{"id":"ea1cde92.60e99","type":"switch","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"Filtro de mensajes no nulos","property":"payload.Phase_A_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":240,"wires":[["43c8bed9.bb82"]]},{"id":"6702af9e.46335","type":"function","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":240,"wires":[["e0f1b2fe.bfc45"]]},{"id":"80169c1a.91406","type":"ui_text","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","group":"12d8ae87.47ccb1","order":4,"width":"3","height":"1","name":"","label":"LN:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":450,"wires":[]},{"id":"c117a84c.46b918","type":"change","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_2_Voltage","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":450,"wires":[["fa75954f.6f9b58"]]},{"id":"9cd71bbc.0f4798","type":"switch","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"Filtro de mensajes no nulos","property":"payload.Phase_2_Voltage","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":450,"wires":[["c117a84c.46b918"]]},{"id":"fa75954f.6f9b58","type":"function","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":450,"wires":[["80169c1a.91406"]]},{"id":"e05eed2.40a0a1","type":"ui_text","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","group":"12d8ae87.47ccb1","order":4,"width":"3","height":"1","name":"","label":"LL:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":490,"wires":[]},{"id":"e5ed4e23.54b1b","type":"change","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Line_Voltage_2_3","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":490,"wires":[["4f5a5d6c.c4a5b4"]]},{"id":"1cbd6fef.8eb83","type":"switch","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"Filtro de mensajes no nulos","property":"payload.Line_Voltage_2_3","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":490,"wires":[["e5ed4e23.54b1b"]]},{"id":"4f5a5d6c.c4a5b4","type":"function","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":490,"wires":[["e05eed2.40a0a1"]]},{"id":"77b72aa.31581d4","type":"ui_text","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","group":"12d8ae87.47ccb1","order":4,"width":"3","height":"1","name":"","label":"Corriente:","format":"{{msg.payload}} A","layout":"row-left","x":900,"y":530,"wires":[]},{"id":"e4d9b95a.0c8b58","type":"change","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Total_Phase_B_Current","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":530,"wires":[["7432babc.6c5c14"]]},{"id":"cd1b505d.a6b93","type":"switch","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"Filtro de mensajes no nulos","property":"payload.Total_Phase_B_Current","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":530,"wires":[["e4d9b95a.0c8b58"]]},{"id":"7432babc.6c5c14","type":"function","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":530,"wires":[["77b72aa.31581d4"]]},{"id":"8abcfca1.5ae87","type":"ui_text","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","group":"12d8ae87.47ccb1","order":4,"width":"3","height":"1","name":"","label":"P. Activa:","format":"{{msg.payload}} kW","layout":"row-left","x":900,"y":570,"wires":[]},{"id":"1ff91965.c1cd07","type":"change","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_B_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":570,"wires":[["7781bc54.e1daf4"]]},{"id":"425425ae.e0c16c","type":"switch","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"Filtro de mensajes no nulos","property":"payload.Phase_B_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":570,"wires":[["1ff91965.c1cd07"]]},{"id":"7781bc54.e1daf4","type":"function","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":570,"wires":[["8abcfca1.5ae87"]]},{"id":"968d5347.1b134","type":"comment","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"Fase A","info":"","x":310,"y":80,"wires":[]},{"id":"24dd678c.7f1308","type":"comment","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"Fase B","info":"","x":310,"y":410,"wires":[]},{"id":"863a9269.4fc47","type":"ui_text","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","group":"1e504599.f4523a","order":4,"width":"3","height":"1","name":"","label":"LN:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":780,"wires":[]},{"id":"26911d09.c6e252","type":"change","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_3_Voltage","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":780,"wires":[["d235af14.d2a16"]]},{"id":"7ef6f5bd.3b5e0c","type":"switch","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"Filtro de mensajes no nulos","property":"payload.Phase_3_Voltage","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":780,"wires":[["26911d09.c6e252"]]},{"id":"d235af14.d2a16","type":"function","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":780,"wires":[["863a9269.4fc47"]]},{"id":"783c757.7a1388c","type":"ui_text","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","group":"1e504599.f4523a","order":4,"width":"3","height":"1","name":"","label":"LL:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":820,"wires":[]},{"id":"e7bffc64.2c3df","type":"change","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Line_Voltage_3_1","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":820,"wires":[["1dd500ad.15e62f"]]},{"id":"ac730498.f22c08","type":"switch","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"Filtro de mensajes no nulos","property":"payload.Line_Voltage_3_1","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":820,"wires":[["e7bffc64.2c3df"]]},{"id":"1dd500ad.15e62f","type":"function","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":820,"wires":[["783c757.7a1388c"]]},{"id":"ddd9d6d9.213a98","type":"ui_text","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","group":"1e504599.f4523a","order":4,"width":"3","height":"1","name":"","label":"Corriente:","format":"{{msg.payload}} A","layout":"row-left","x":900,"y":860,"wires":[]},{"id":"e1ae4a43.6449b8","type":"change","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Total_Phase_C_Current","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":860,"wires":[["e38fb396.925cf"]]},{"id":"c91b1beb.1017c8","type":"switch","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"Filtro de mensajes no nulos","property":"payload.Total_Phase_C_Current","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":860,"wires":[["e1ae4a43.6449b8"]]},{"id":"e38fb396.925cf","type":"function","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":860,"wires":[["ddd9d6d9.213a98"]]},{"id":"c42fa7dd.b205f8","type":"ui_text","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","group":"1e504599.f4523a","order":4,"width":"3","height":"1","name":"","label":"P. Activa:","format":"{{msg.payload}} kW","layout":"row-left","x":900,"y":900,"wires":[]},{"id":"8c3b7557.aaaa78","type":"change","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_C_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":900,"wires":[["b5789608.bb4d98"]]},{"id":"3d7bd8eb.a0e0b8","type":"switch","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"Filtro de mensajes no nulos","property":"payload.Phase_C_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":900,"wires":[["8c3b7557.aaaa78"]]},{"id":"b5789608.bb4d98","type":"function","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":900,"wires":[["c42fa7dd.b205f8"]]},{"id":"e8ae66c1.7229a8","type":"comment","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"Fase C","info":"","x":310,"y":740,"wires":[]},{"id":"baecdbce.b91ec8","type":"ui_text","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","group":"95ebb133.30cd2","order":4,"width":"3","height":"1","name":"","label":"LN:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":1110,"wires":[]},{"id":"19ac6698.c438b9","type":"change","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Average_Phase_Voltage","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":1110,"wires":[["2debc1b0.4df98e"]]},{"id":"e3fa2881.918ec8","type":"switch","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"Filtro de mensajes no nulos","property":"payload.Average_Phase_Voltage","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":1110,"wires":[["19ac6698.c438b9"]]},{"id":"2debc1b0.4df98e","type":"function","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":1110,"wires":[["baecdbce.b91ec8"]]},{"id":"1e344ba1.2d56c4","type":"ui_text","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","group":"95ebb133.30cd2","order":4,"width":"3","height":"1","name":"","label":"LL:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":1150,"wires":[]},{"id":"716d46a.8b783b8","type":"change","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Average_Line_Voltage","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":1150,"wires":[["8fcc0ea2.3e85c"]]},{"id":"d83d9d82.65e01","type":"switch","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"Filtro de mensajes no nulos","property":"payload.Average_Line_Voltage","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":1150,"wires":[["716d46a.8b783b8"]]},{"id":"8fcc0ea2.3e85c","type":"function","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":1150,"wires":[["1e344ba1.2d56c4"]]},{"id":"c32e6129.fc854","type":"ui_text","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","group":"95ebb133.30cd2","order":4,"width":"3","height":"1","name":"","label":"Corriente:","format":"{{msg.payload}} A","layout":"row-left","x":900,"y":1190,"wires":[]},{"id":"152a06b4.7b74e9","type":"change","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Average_Phase_Current","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":1190,"wires":[["5b355a89.562704"]]},{"id":"a47fdb9.7d9a428","type":"switch","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"Filtro de mensajes no nulos","property":"payload.Average_Phase_Current","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":1190,"wires":[["152a06b4.7b74e9"]]},{"id":"5b355a89.562704","type":"function","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":1190,"wires":[["c32e6129.fc854"]]},{"id":"48b79c34.416fb4","type":"ui_text","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","group":"95ebb133.30cd2","order":4,"width":"3","height":"1","name":"","label":"P. Activa:","format":"{{msg.payload}} kW","layout":"row-left","x":900,"y":1230,"wires":[]},{"id":"a75a1b6a.0a4de8","type":"change","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Total_System_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":1230,"wires":[["47bf531f.4f32cc"]]},{"id":"6fae5501.179cac","type":"switch","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"Filtro de mensajes no nulos","property":"payload.Total_System_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":1230,"wires":[["a75a1b6a.0a4de8"]]},{"id":"47bf531f.4f32cc","type":"function","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":1230,"wires":[["48b79c34.416fb4"]]},{"id":"bd48652a.f5a5e8","type":"comment","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"Average","info":"","x":320,"y":1070,"wires":[]},{"id":"21e4fb07.22d804","type":"change","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"User Status","rules":[{"t":"set","p":"payload","pt":"msg","to":"UserStatus","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":560,"wires":[["8e762cce.be81"]]},{"id":"5c27d2c5.3f268c","type":"ui_text_input","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","label":"Tensión de arranque (V)","tooltip":"","group":"c9a29e84.68bd","order":2,"width":"4","height":1,"passthru":true,"mode":"number","delay":"100","topic":"Accel","x":670,"y":1350,"wires":[["9bfa59cc.d6a398"]]},{"id":"9bfa59cc.d6a398","type":"change","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","rules":[{"t":"set","p":"Motor_Control.Volts_per_Hertz.Start_Acc_Boost","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1020,"y":1350,"wires":[[]]},{"id":"c1afba0d.22f5d8","type":"change","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"Start_Acc_Boost","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Volts_per_Hertz.Start_Acc_Boost","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":1350,"wires":[["5c27d2c5.3f268c"]]},{"id":"ced5d329.31661","type":"comment","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"Control de motor - Volts por Hertz","info":"","x":460,"y":1310,"wires":[]},{"id":"9b007129.593e9","type":"ui_text_input","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","label":"Tensión de ruptura (V)","tooltip":"","group":"c9a29e84.68bd","order":3,"width":"4","height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":670,"y":1430,"wires":[["a7e937e4.d19518"]]},{"id":"a7e937e4.d19518","type":"change","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","rules":[{"t":"set","p":"Motor_Control.Volts_per_Hertz.Break_Voltage","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1030,"y":1430,"wires":[[]]},{"id":"64263ab2.3a9e04","type":"change","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"Break_Voltage","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Volts_per_Hertz.Break_Voltage","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":1430,"wires":[["9b007129.593e9"]]},{"id":"d290dc22.ecd03","type":"ui_text_input","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","label":"Frecuencia de ruptura (Hz)","tooltip":"","group":"c9a29e84.68bd","order":4,"width":"4","height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":670,"y":1506,"wires":[["454c0be8.b02024"]]},{"id":"454c0be8.b02024","type":"change","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","rules":[{"t":"set","p":"Motor_Control.Volts_per_Hertz.Break_Frequecy","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1020,"y":1506,"wires":[[]]},{"id":"370e9542.6d045a","type":"change","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"Break_Frequecy","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Volts_per_Hertz.Break_Frequecy","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":1506,"wires":[["d290dc22.ecd03"]]},{"id":"7ed08f75.bf75b","type":"ui_button","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"","group":"c9a29e84.68bd","order":11,"width":4,"height":1,"passthru":false,"label":"Confirmar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1350,"y":1440,"wires":[["59d9f322.aedecc","1d4bc15f.069e1f","e8c7703c.35e3c","190647c5.caaac8","17803970.897c87"]]},{"id":"59d9f322.aedecc","type":"change","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Send Start_Acc_Boost","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Volts_per_Hertz.Start_Acc_Boost","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1590,"y":1400,"wires":[["4105a369.d1cc3c"]]},{"id":"eb839f99.2a5d1","type":"comment","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Volts por Hertz","info":"","x":1370,"y":1310,"wires":[]},{"id":"1d4bc15f.069e1f","type":"change","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Send Break_Voltage","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Volts_per_Hertz.Break_Voltage","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1590,"y":1440,"wires":[["7b0567a6.14ba98"]]},{"id":"e8c7703c.35e3c","type":"change","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Send Break_Frequecy","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Volts_per_Hertz.Break_Frequecy","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1590,"y":1480,"wires":[["9429095c.bf7808"]]},{"id":"4105a369.d1cc3c","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Start_Acc_Boost","env":[{"name":"Parameter","value":"60","type":"num"}],"x":1880,"y":1400,"wires":[[]]},{"id":"7b0567a6.14ba98","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Break_Voltage","env":[{"name":"Parameter","value":"62","type":"num"}],"x":1890,"y":1440,"wires":[[]]},{"id":"9429095c.bf7808","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Break_Frequecy","env":[{"name":"Parameter","value":"63","type":"num"}],"x":1890,"y":1480,"wires":[[]]},{"id":"c3259a58.4fe088","type":"ui_dropdown","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","label":"Unidades de potencia","tooltip":"","place":"","group":"c0d4b517.4b9968","order":9,"width":4,"height":1,"passthru":true,"multiple":false,"options":[{"label":"HP","value":0,"type":"num"},{"label":"kW","value":"1","type":"str"}],"payload":"","topic":"","x":600,"y":1120,"wires":[["3f0134d0.dc178c"]]},{"id":"3f0134d0.dc178c","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","rules":[{"t":"set","p":"Motor_Control.Nameplate.Power_Units","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":910,"y":1120,"wires":[[]]},{"id":"f7f5dc17.aa232","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Power_Units","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Power_Units","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":391,"y":1122,"wires":[["c3259a58.4fe088"]]},{"id":"39af17e3.7d87a8","type":"change","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Power_Units","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Power_Units","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1510,"y":930,"wires":[["ee2e2c40.fad2f"]]},{"id":"ee2e2c40.fad2f","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Power_Units","env":[{"name":"Parameter","value":"29","type":"num"},{"name":"Datatype","value":"DINT","type":"str"}],"x":1900,"y":930,"wires":[[]]},{"id":"babc7e0a.35af5","type":"switch","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"Not null configuration","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"inet","vt":"str"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":480,"y":2810,"wires":[["7342b43f.bedb2c"],["ef1ec9d.e6ba638"]]},{"id":"ef1ec9d.e6ba638","type":"change","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"null","rules":[{"t":"set","p":"payload","pt":"msg","to":"Not configured","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":680,"y":2910,"wires":[["ccd73af1.690d48","4933a716.e0ed08"]]},{"id":"ccd73af1.690d48","type":"change","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"Ethernet","rules":[{"t":"set","p":"payload","pt":"msg","to":"No configurado","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":910,"y":2890,"wires":[["a6590a31.100138"]]},{"id":"4933a716.e0ed08","type":"change","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"Netmask","rules":[{"t":"set","p":"payload","pt":"msg","to":"No configurado","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":910,"y":2930,"wires":[["fb855c25.47e4a"]]},{"id":"10568812.f7a178","type":"ui_button","z":"ef673f81.6ec95","g":"25cd4464.cad59c","name":"","group":"2675f763.09aa58","order":2,"width":"6","height":"1","passthru":false,"label":"Disable","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":230,"y":720,"wires":[["13963619.b19a6a"]]},{"id":"8034138b.0dc72","type":"ui_button","z":"ef673f81.6ec95","g":"25cd4464.cad59c","name":"","group":"2675f763.09aa58","order":3,"width":"6","height":"1","passthru":false,"label":"Enable","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":220,"y":680,"wires":[["9fc0b21f.a5027"]]},{"id":"9fc0b21f.a5027","type":"change","z":"ef673f81.6ec95","g":"25cd4464.cad59c","name":"Enable Buzzer","rules":[{"t":"set","p":"payload","pt":"msg","to":"sudo systemctl enable touch-beep.service && sudo systemctl start touch-beep.service","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":680,"wires":[["1a75f72d.2bf409"]]},{"id":"13963619.b19a6a","type":"change","z":"ef673f81.6ec95","g":"25cd4464.cad59c","name":"Disable Buzzer","rules":[{"t":"set","p":"payload","pt":"msg","to":"sudo systemctl stop touch-beep.service && sudo systemctl disable touch-beep.service","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":720,"wires":[["1a75f72d.2bf409"]]},{"id":"1a75f72d.2bf409","type":"exec","z":"ef673f81.6ec95","g":"25cd4464.cad59c","command":"","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":560,"y":680,"wires":[[],[],[]]},{"id":"dad30d1f.4d19","type":"ui_button","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"","group":"d8a1c8a1.3fd9d8","order":2,"width":"3","height":"1","passthru":false,"label":"Usar DHCP","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":260,"y":430,"wires":[["4667d023.b612f"]]},{"id":"afcd8074.a7f4c","type":"ui_button","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"","group":"d8a1c8a1.3fd9d8","order":3,"width":"3","height":"1","passthru":false,"label":"Usar IP Estática","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":250,"y":470,"wires":[["77ee5b63.0c04b4"]]},{"id":"f9b02319.63798","type":"ui_text_input","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"","label":"IP","tooltip":"","group":"d8a1c8a1.3fd9d8","order":4,"width":"6","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":280,"y":340,"wires":[["e6585c00.e504c"]]},{"id":"1f8da294.c0c84d","type":"ui_text_input","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"","label":"Máscara de Red","tooltip":"","group":"d8a1c8a1.3fd9d8","order":5,"width":"6","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":250,"y":380,"wires":[["20f79db3.234842"]]},{"id":"e6585c00.e504c","type":"change","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"","rules":[{"t":"set","p":"SWC_IP","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":520,"y":340,"wires":[[]]},{"id":"20f79db3.234842","type":"change","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"","rules":[{"t":"set","p":"SWC_Netmask","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":500,"y":380,"wires":[[]]},{"id":"77ee5b63.0c04b4","type":"change","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"Static IP","rules":[{"t":"set","p":"payload","pt":"msg","to":"sudo ifconfig eth0 +++ netmask ***","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"+++","fromt":"str","to":"SWC_IP","tot":"flow"},{"t":"change","p":"payload","pt":"msg","from":"***","fromt":"str","to":"SWC_Netmask","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":470,"wires":[["2aac0837.208b38"]]},{"id":"4667d023.b612f","type":"change","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"DHCP","rules":[{"t":"set","p":"payload","pt":"msg","to":"sudo ifconfig eth0 0.0.0.0 && sudo dhclient eth0","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":420,"y":430,"wires":[["2aac0837.208b38"]]},{"id":"2aac0837.208b38","type":"exec","z":"ef673f81.6ec95","g":"c0366b36.2372f8","command":"","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":560,"y":430,"wires":[[],[],[]]},{"id":"49fc1b59.51f164","type":"template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","name":"Navbar","field":"payload","fieldType":"msg","format":"html","syntax":"mustache","template":"<div class = \"container\">\n    <div class = \"row\"> \n        <!-- Image -->\n        <div class=\"col\">\n            \n            <!-- BCPGroup LOGO -->\n            <img src=\"http://localhost:1880/swcpro-images/hlogo.png\" width=\"45\" height=\"45\" class=\"d-inline-block align-center\" alt=\"\" loading=\"lazy\">\n        \n            <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                <!-- Main -->\n                <a href=\"http://localhost:1880/ui/#!/0\" type=\"button\" class=\"btn btn-link\">\n                    <!-- House icon -->\n                    <img src=\"http://localhost:1880/bootstrap-icons/icons/house.svg\" alt=\"\" width=\"30\" height=\"30\">\n                </a>\n                <!-- Menu -->\n                <a href=\"http://localhost:1880/ui/#!/1\" type=\"button\" class=\"btn btn-link\">\n                    <!-- List icon -->\n                    <img src=\"http://localhost:1880/bootstrap-icons/icons/list-ul.svg\" alt=\"\" width=\"30\" height=\"30\">\n                </a>\n            </div>\n        </div>    \n        <!-- Users -->\n        <div class=\"col\">\n            <div class=\"btn-group float-right\" role=\"group\" aria-label=\"Button group with nested dropdown\">\n                <!-- Events -->\n                <a href=\"http://localhost:1880/ui/#!/2\" type=\"button\" class=\"btn btn-link\">\n                    <!-- Calendar icon -->\n                    <img src=\"http://localhost:1880/bootstrap-icons/icons/calendar2-check.svg\" alt=\"\" width=\"30\" height=\"30\">\n                </a>\n                <!-- Users -->\n                <a href=\"http://localhost:1880/ui/#!/3\" type=\"button\" class=\"btn btn-link\">\n                    <!-- Person icon -->\n                    <img src=\"http://localhost:1880/bootstrap-icons/icons/file-person.svg\" alt=\"\" width=\"30\" height=\"30\">\n                </a>\n                <!-- Datalogger -->\n                <a href=\"http://localhost:1880/ui/#!/42\" type=\"button\" class=\"btn btn-link\">\n                    <!-- Person icon -->\n                    <img src=\"http://localhost:1880/bootstrap-icons/icons/clipboard-data.svg\" alt=\"\" width=\"30\" height=\"30\">\n                </a>\n            </div>\n        </div>\n    </div>\n</div>\n","output":"str","x":170,"y":420,"wires":[["619de7f9.420de8"]]},{"id":"c74e5c83.97d99","type":"ui_template","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","group":"9e6ebcc8.9f87","name":"Menu","order":0,"width":"8","height":"7","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":650,"y":200,"wires":[[]]},{"id":"e3b242da.1cd29","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"13d04d5f.cae853","name":"Menu Navbar","order":1,"width":"9","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":380,"y":370,"wires":[[]]},{"id":"3bd2923f.2169ae","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"ccb4b03.df2d45","name":"Main Navbar","order":1,"width":9,"height":1,"format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":370,"y":330,"wires":[[]]},{"id":"ec6f0468.330258","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"b157381c.777888","name":"Events Navbar","order":0,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":380,"y":410,"wires":[[]]},{"id":"75851744.fc50c8","type":"trigger","z":"8528a254.70837","g":"11f55817.139c18","name":"","op1":"1","op2":"2","op1type":"str","op2type":"str","duration":"1","extend":false,"units":"s","reset":"","bytopic":"all","topic":"topic","outputs":1,"x":266,"y":120,"wires":[["54ec819a.c1bc9"]]},{"id":"a9225e61.e6e0e","type":"comment","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Menu","info":"","x":120,"y":80,"wires":[]},{"id":"bacdd0cd.1b215","type":"comment","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","name":"Navigation bar","info":"","x":150,"y":340,"wires":[]},{"id":"1a3e4532.22ef5b","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"55d542f4.50b54c","name":"Navbar Configuración-Estándar-Variador","order":1,"width":12,"height":1,"format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":460,"y":490,"wires":[[]]},{"id":"6336cca0.5c0a84","type":"ui_template","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","group":"c171a5e9.57a728","name":"CILA Image","order":0,"width":"4","height":"7","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":630,"y":160,"wires":[[]]},{"id":"730afe4e.63438","type":"template","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"CILA","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n\n  </head>\n  <body>\n        <div class=\"container align-self-center\">\n            <div class=\"row\">\n                <div class=\"col\">\n                    <img src=\"http://localhost:1880/swcpro-images/CILA2S4G_ESP.png\" style=\"width:95%\">\n                </div>\n            </div>\n        </div>\n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n</body>\n</html>","output":"str","x":490,"y":160,"wires":[["6336cca0.5c0a84"]]},{"id":"7201bf39.d9ff6","type":"change","z":"46543e54.1f89d","name":"Set exec msg","rules":[{"t":"set","p":"value","pt":"msg","to":"payload","tot":"msg"},{"t":"set","p":"payload","pt":"msg","to":"gpio mode +++ output && gpio write +++ ***","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"+++","fromt":"str","to":"Channel","tot":"env"},{"t":"change","p":"payload","pt":"msg","from":"***","fromt":"str","to":"value","tot":"msg"},{"t":"delete","p":"value","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":30,"wires":[["6f4f984d.133ac8"]]},{"id":"a561d7b5.e3c2e8","type":"function","z":"46543e54.1f89d","name":"Output Function","func":"if(msg.Channel>=17 && msg.Channel <= 27 && typeof msg.payload === \"boolean\"){\n    msg.payload = msg.payload === true ? 1:0;\n    return msg;\n}\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":310,"y":30,"wires":[["7201bf39.d9ff6"]]},{"id":"ec6f2e76.31eb9","type":"change","z":"46543e54.1f89d","name":"Set channel","rules":[{"t":"set","p":"Channel","pt":"msg","to":"Channel","tot":"env"}],"action":"","property":"","from":"","to":"","reg":false,"x":140,"y":30,"wires":[["a561d7b5.e3c2e8"]]},{"id":"6f4f984d.133ac8","type":"exec","z":"46543e54.1f89d","command":"","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":660,"y":30,"wires":[[],[],[]]},{"id":"d19e40a5.abcfe","type":"inject","z":"51296ca5.0c0cb4","name":"500 ms","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"Channel","payloadType":"env","x":110,"y":70,"wires":[["c9b9512f.10fa"]]},{"id":"4c8b7786.0a4da8","type":"template","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Boostrap","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <div class=\"disable-select\">\n        {{{payload}}}\n    </div>\n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS \n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script> -->\n  </body>\n  \n  <style>\n    .disable-select {\n        user-select: none; /* supported by Chrome and Opera */\n        -webkit-user-select: none; /* Safari */\n       -khtml-user-select: none; /* Konqueror HTML */\n       -moz-user-select: none; /* Firefox */\n       -ms-user-select: none; /* Internet Explorer/Edge */\n    }\n  </style>\n</html>","output":"str","x":520,"y":200,"wires":[["c74e5c83.97d99"]]},{"id":"4c8f5a04.095bc4","type":"function","z":"5ef5b1ce.d3899","g":"e0133d8.e6db5c","name":"DateTime","func":"// Date and Time Object\nvar DT      = new Date();\n\n// Date\nvar year    = DT.getFullYear();\nvar month   = DT.getMonth()+1;\nvar day     = DT.getDate();\n\n// Time\nvar hours   = DT.getHours();\nvar minutes = DT.getMinutes();  minutes = minutes <= 9 ? \"0\"+minutes : minutes;\nvar seconds = DT.getSeconds();  seconds = seconds <= 9 ? \"0\"+seconds : seconds;\n\n// Payload\nmsg.payload = day+\"/\"+month+\"/\"+year+\" \"+hours+\":\"+minutes+\":\"+seconds;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2020,"y":100,"wires":[["90937545.972c78","2409fb72.507894"]]},{"id":"abd0a82a.ab2348","type":"inject","z":"5ef5b1ce.d3899","g":"e0133d8.e6db5c","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":1870,"y":100,"wires":[["4c8f5a04.095bc4"]]},{"id":"7a336fa4.b80d3","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"8b397091.1e2a6","name":"Navbar Configuración-Estándar-Transformador","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":480,"y":530,"wires":[[]]},{"id":"335b3a95.f258c6","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"251ce553.192aaa","name":"Navbar Configuración-Estándar-Filtro_armónicos","order":1,"width":12,"height":1,"format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":490,"y":570,"wires":[[]]},{"id":"33924ef6.c0eca2","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"a302ba1a.abeec8","name":"Navbar Configuración-Estándar-Hardware_disponible","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":500,"y":610,"wires":[[]]},{"id":"452c5a8c.8530a4","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"611d0bce.a51234","name":"Navbar Configuración-Estándar-Unidades_ingeniería","order":1,"width":12,"height":1,"format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":500,"y":690,"wires":[[]]},{"id":"b5c23987.426b28","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"782e29e9.7b7e28","name":"Navbar Configuración-E_S-SWCPRO","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":450,"y":730,"wires":[[]]},{"id":"30237182.6ab22e","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"5ec797db.370fe8","name":"Navbar Configuración-E_S-Remotas","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":450,"y":770,"wires":[[]]},{"id":"adc3a650.9795a8","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"f70043a3.dcddb","name":"Navbar Configuración-Protecciones-Superficie","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":480,"y":850,"wires":[[]]},{"id":"73b9407c.4ce98","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"fa54261.0bbffd8","name":"Configuración-Protecciones-Fondo","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":440,"y":810,"wires":[[]]},{"id":"1e55d9a.1ad3926","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"64294d01.719264","name":"Navbar Configuración-Comunicaciones-SCADA","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":480,"y":890,"wires":[[]]},{"id":"d55ab14e.37d05","type":"inject","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"","props":[{"p":"payload"}],"repeat":"2","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":2940,"y":90,"wires":[["1ebf6b2.52e8695","609f652a.1629bc","b73ecfac.dd9a5","8b8bceb8.c893b","5ffa1ec7.3e093","535d826.d0f777c","385d9987.52a636"]]},{"id":"d192f60a.894e68","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"46115c7a.f67544","name":"Navbar Configuración-Comunicaciones-Sensor_de_fondo","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":510,"y":930,"wires":[[]]},{"id":"f6e8fbe4.4a94e8","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"eba1ec9d.afb9","name":"Navbar Configuración-Comunicaciones-PQA","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":470,"y":970,"wires":[[]]},{"id":"587cd4fe.b5184c","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"4ed084db.07bb8c","name":"Navbar Configuración-Comunicaciones-C2S","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":470,"y":1010,"wires":[[]]},{"id":"3fc54723.62b978","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"422cfba8.52cb44","name":"Navbar Configuración-Comunicaciones-SWC","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":480,"y":1050,"wires":[[]]},{"id":"da157b1a.e8eb88","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"95558f26.f7b06","name":"Navbar Configuración-Tipo_de_control-Control_de_velocidad","order":1,"width":12,"height":1,"format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":530,"y":1090,"wires":[[]]},{"id":"117295c5.1ff4ea","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"5e910f38.f94bf","name":"Navbar Configuración-Tipo_de_control-Control_PID","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":500,"y":1130,"wires":[[]]},{"id":"ad47f0cc.93af5","type":"csv","z":"8528a254.70837","g":"11f55817.139c18","name":"","sep":",","hdrin":"","hdrout":"none","multi":"one","ret":"\\n","temp":"no,fecha,hora,evento","skip":"0","strings":true,"include_empty_strings":"","include_null_values":"","x":736,"y":160,"wires":[["c02fb05c.baccf"]]},{"id":"2976c32b.5e795c","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"5f0a8098.4de05","name":"Navbar Configuración-AVAS-IWOC","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":440,"y":1170,"wires":[[]]},{"id":"13c95730.dc8459","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"b081becd.c126e","name":"Navbar Configuración-AVAS-Sensor_Less","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":460,"y":1210,"wires":[[]]},{"id":"4b3ceae3.bb8a84","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"2c0e3387.dee62c","name":"Navbar Configuración-AVAS-Power_Sag","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":460,"y":1250,"wires":[[]]},{"id":"9dbe0a3.53061f8","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"c522aab3.95b0b8","name":"Navbar Configuración-AVAS-IRL","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":430,"y":1290,"wires":[[]]},{"id":"9a43c9b1.af8138","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"26ae8f9f.de158","name":"Navbar Configuración-AVAS-GasLock","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":450,"y":1330,"wires":[[]]},{"id":"814db426.2a5bf8","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"ccbff65e.9a8578","name":"Navbar Tendencias-Superficie-Datos_Operativos","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":490,"y":1370,"wires":[[]]},{"id":"1f443c09.755434","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"f33b4c32.61464","name":"Navbar Tendencias-Superficie-Datos_eléctricos_de_entrada","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":520,"y":1410,"wires":[[]]},{"id":"7bb293cb.faf72c","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"12242af4.a2b035","name":"Navbar Tendencias-Fondo-Sensor_de_fondo","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":470,"y":1450,"wires":[[]]},{"id":"2c5a7e92.2d6be2","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"5a9ecaca.da3fe4","name":"Navbar Tendencias-Fondo-Sensor_Less","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":460,"y":1490,"wires":[[]]},{"id":"ae3517f4.0d6d88","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"56cd6bff.7aa614","name":"Navbar Tendencias-Multivariable","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":440,"y":1530,"wires":[[]]},{"id":"2db6a760.856798","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"6a601ecc.fd136","name":"Navbar Monitoreo-Datos_Operativos-Superficie_y_fondo","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":510,"y":1570,"wires":[[]]},{"id":"ad56625d.fdd01","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"bf5f3708.2559b8","name":"Navbar Monitoreo-ES-SWC_Pro","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":430,"y":1610,"wires":[[]]},{"id":"2563434b.e228dc","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"c37b1f84.33bd1","name":"Navbar Monitoreo-ES-Remotas","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":430,"y":1650,"wires":[[]]},{"id":"2665915.a411c6e","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"7a32c3e9.c1159c","name":"Navbar Monitoreo-AVAS-IWOC","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":430,"y":1690,"wires":[[]]},{"id":"eef48f93.f418","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"eb53d4a4.495508","name":"Navbar Monitoreo-AVAS-Sensor_Less","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":450,"y":1730,"wires":[[]]},{"id":"f5a2b632.6a8ac8","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"f57f64c8.46f6a8","name":"Navbar Monitoreo-AVAS-Power_Sag","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":450,"y":1770,"wires":[[]]},{"id":"d971ff84.76256","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"adc1ed68.2ce25","name":"Navbar Monitoreo-AVAS-IRL","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":420,"y":1810,"wires":[[]]},{"id":"a1c4871a.8ded58","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"8c64c7aa.286018","name":"Navbar Monitoreo-AVAS-GasLock","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":440,"y":1850,"wires":[[]]},{"id":"4906fc64.1e6a14","type":"ui_level","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","group":"bbd73f04.32559","order":3,"width":"4","height":"2","name":"Temp. CPU","label":"Temp. CPU","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"60","segHigh":"70","unit":"ºC","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"","fontSmall":"0.95","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":570,"y":100,"wires":[]},{"id":"d43fb27a.273b3","type":"ui_level","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","group":"bbd73f04.32559","order":4,"width":"4","height":"2","name":"Freq. CPU","label":"Freq. CPU","colorHi":"#e60000","colorWarn":"#00b33c","colorNormal":"#ff9900","colorOff":"#595959","min":0,"max":"1500","segWarn":"500","segHigh":"1200","unit":"MHz","layout":"sv","channelA":"","channelB":"","decimals":"0","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"","fontSmall":"0.95","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":570,"y":140,"wires":[]},{"id":"7f485fc5.63768","type":"comment","z":"5ef5b1ce.d3899","g":"e0133d8.e6db5c","name":"","info":"","x":1840,"y":60,"wires":[]},{"id":"7b4bd7a0.fd9398","type":"ui_table","z":"8528a254.70837","g":"11f55817.139c18","group":"96dbaa88.715ef8","name":"Eventos","order":1,"width":"12","height":"6","columns":[{"field":"no","title":"No","width":"10%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"fecha","title":"Fecha","width":"15%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"hora","title":"Hora","width":"15%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"evento","title":"Evento","width":"55%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}}],"outputs":1,"cts":true,"x":626,"y":120,"wires":[[]]},{"id":"5538dea3.2170d","type":"ui_toast","z":"8528a254.70837","g":"31baddff.ea0922","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"SI","cancel":"NO","raw":false,"topic":"","name":"Descargar Eventos","x":830,"y":350,"wires":[["ea2cdff7.1ca41"]]},{"id":"ba93352a.05c2c8","type":"ui_text","z":"8528a254.70837","g":"31baddff.ea0922","group":"91f407cc.9e95a8","order":2,"width":"3","height":"1","name":"","label":"USB","format":"{{msg.payload}}","layout":"col-center","x":530,"y":310,"wires":[]},{"id":"71a2d93c.a0e7b8","type":"comment","z":"8528a254.70837","g":"31baddff.ea0922","name":"Memorias USB","info":"","x":120,"y":280,"wires":[]},{"id":"9a7b58a2.fb2708","type":"watch","z":"8528a254.70837","g":"31baddff.ea0922","name":"","files":"/media/pi","recursive":false,"x":100,"y":320,"wires":[["e8691e07.796b8","c3828a55.9caf08","f4d7e7b4.768fa8"]]},{"id":"e8691e07.796b8","type":"exec","z":"8528a254.70837","g":"31baddff.ea0922","command":"df /dev/sda1","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":320,"y":370,"wires":[[],[],[]]},{"id":"33074282.f772de","type":"ui_button","z":"8528a254.70837","g":"31baddff.ea0922","name":"","group":"91f407cc.9e95a8","order":3,"width":"3","height":"1","passthru":false,"label":"Expulsar USB","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":130,"y":470,"wires":[["1de5018d.f87c5e"]]},{"id":"1de5018d.f87c5e","type":"exec","z":"8528a254.70837","g":"31baddff.ea0922","command":"sudo eject /dev/sda1/","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":350,"y":470,"wires":[[],[],[]]},{"id":"f4d7e7b4.768fa8","type":"change","z":"8528a254.70837","g":"31baddff.ea0922","name":"","rules":[{"t":"set","p":"USB_Drive","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":350,"y":420,"wires":[[]]},{"id":"c3828a55.9caf08","type":"exec","z":"8528a254.70837","g":"31baddff.ea0922","command":"cd /media/pi && ls","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":340,"y":320,"wires":[["ba93352a.05c2c8","510145ab.b5bd4c","6dac98f7.ec5cb8"],[],[]]},{"id":"4700d2e1.64485c","type":"change","z":"8528a254.70837","g":"31baddff.ea0922","name":"Eventos","rules":[{"t":"set","p":"payload","pt":"msg","to":"¿Desea descargar los eventos?","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Dispositivo USB encontrado","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":660,"y":350,"wires":[["5538dea3.2170d"]]},{"id":"510145ab.b5bd4c","type":"switch","z":"8528a254.70837","g":"31baddff.ea0922","name":"","property":"type","propertyType":"msg","rules":[{"t":"eq","v":"directory","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":530,"y":350,"wires":[["4700d2e1.64485c"]]},{"id":"6dac98f7.ec5cb8","type":"switch","z":"8528a254.70837","g":"31baddff.ea0922","name":"","property":"type","propertyType":"msg","rules":[{"t":"eq","v":"none","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":530,"y":390,"wires":[["f2cccf9c.cf4c4"]]},{"id":"f2cccf9c.cf4c4","type":"change","z":"8528a254.70837","g":"31baddff.ea0922","name":"Eventos","rules":[{"t":"set","p":"payload","pt":"msg","to":"Dispositivo USB Expulsado","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Dispositivo USB","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":660,"y":390,"wires":[["e36370f8.236cc"]]},{"id":"e36370f8.236cc","type":"ui_toast","z":"8528a254.70837","g":"31baddff.ea0922","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"USB Expulsada","x":820,"y":390,"wires":[[]]},{"id":"ea2cdff7.1ca41","type":"switch","z":"8528a254.70837","g":"31baddff.ea0922","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"SI","vt":"str"},{"t":"eq","v":"NO","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":990,"y":350,"wires":[["453f1499.9c3efc","704ad7b8.7027e8"],["704ad7b8.7027e8"]]},{"id":"453f1499.9c3efc","type":"link out","z":"8528a254.70837","g":"31baddff.ea0922","name":"Descargar Eventos Out","links":["cad3d4cb.b5bc98"],"x":1105,"y":350,"wires":[]},{"id":"cad3d4cb.b5bc98","type":"link in","z":"8528a254.70837","g":"11f55817.139c18","name":"Descargar Eventos In","links":["453f1499.9c3efc"],"x":471,"y":160,"wires":[["d50d9b6b.bbc7f8"]]},{"id":"61696fdd.aa672","type":"ui_toast","z":"8528a254.70837","g":"31baddff.ea0922","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"SI","cancel":"NO","raw":false,"topic":"","name":"Descargar Alarmas","x":1320,"y":390,"wires":[["6a8c02f7.f4d81c"]]},{"id":"704ad7b8.7027e8","type":"change","z":"8528a254.70837","g":"31baddff.ea0922","name":"Alarmas","rules":[{"t":"set","p":"payload","pt":"msg","to":"¿Desea descargar el archivo de alarmas?","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Dispositivo USB encontrado","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1150,"y":390,"wires":[["61696fdd.aa672"]]},{"id":"6a8c02f7.f4d81c","type":"switch","z":"8528a254.70837","g":"31baddff.ea0922","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"SI","vt":"str"},{"t":"eq","v":"NO","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1480,"y":390,"wires":[["6c6274de.8a002c","cb3f54ff.b48688"],["cb3f54ff.b48688"]]},{"id":"bd165d4f.e3f48","type":"comment","z":"8528a254.70837","g":"cf57802e.7d258","name":"Alarmas","info":"","x":1026,"y":80,"wires":[]},{"id":"c95dde3d.c676e","type":"json","z":"8528a254.70837","g":"cf57802e.7d258","name":"","property":"payload","action":"","pretty":false,"x":1516,"y":80,"wires":[["12f5302f.69f92"]]},{"id":"191d34db.93fe3b","type":"change","z":"8528a254.70837","g":"cf57802e.7d258","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Alarms","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1326,"y":120,"wires":[["c95dde3d.c676e","12f5302f.69f92"]]},{"id":"35f773cc.39ea9c","type":"change","z":"8528a254.70837","g":"cf57802e.7d258","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Alarms","tot":"flow"},{"t":"set","p":"filename","pt":"msg","to":"+++/Alarmas/Alarmas.csv","tot":"str"},{"t":"change","p":"filename","pt":"msg","from":"+++","fromt":"str","to":"USB_Drive","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1486,"y":160,"wires":[["dcdb5992.425238"]]},{"id":"ccc4d9c0.904c78","type":"file","z":"8528a254.70837","g":"cf57802e.7d258","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":1756,"y":160,"wires":[[]]},{"id":"d9101c40.6e85a","type":"trigger","z":"8528a254.70837","g":"cf57802e.7d258","name":"","op1":"1","op2":"2","op1type":"str","op2type":"str","duration":"1","extend":false,"units":"s","reset":"","bytopic":"all","topic":"topic","outputs":1,"x":1166,"y":120,"wires":[["191d34db.93fe3b"]]},{"id":"dcdb5992.425238","type":"csv","z":"8528a254.70837","g":"cf57802e.7d258","name":"","sep":",","hdrin":"","hdrout":"none","multi":"one","ret":"\\n","temp":"no,fecha,hora,alarma","skip":"0","strings":true,"include_empty_strings":"","include_null_values":"","x":1636,"y":160,"wires":[["ccc4d9c0.904c78"]]},{"id":"12f5302f.69f92","type":"ui_table","z":"8528a254.70837","g":"cf57802e.7d258","group":"42e65bd9.26fdf4","name":"Alarmas","order":1,"width":"12","height":"6","columns":[{"field":"no","title":"No","width":"10%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"fecha","title":"Fecha","width":"15%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"hora","title":"Hora","width":"15%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"alarma","title":"Alarma","width":"58%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}}],"outputs":1,"cts":true,"x":1526,"y":120,"wires":[[]]},{"id":"9055a2bd.67028","type":"function","z":"8528a254.70837","g":"cf57802e.7d258","name":"Events","func":"var Alarm   = flow.get('Alarms')||[];\nvar id      = flow.get('id')||0;\nvar date    = new Date();\n\n// Date\nvar year    = date.getFullYear();\nvar month   = date.getMonth()+1;\nvar day     = date.getDate();\n\n//Time\nvar hours   = date.getHours();\nvar minutes = date.getMinutes();\nvar seconds = date.getSeconds();\n\nmsg.payload={\n            'no':id,\n            'fecha':month+'/'+day+'/'+year,\n            'hora':hours+':'+minutes+':'+seconds,\n            'alarma':msg.payload\n}\n\nAlarm.unshift(msg.payload);\nflow.set('Alarms',Alarm);\nid++\nflow.set('id',id);\nmsg.payload = Alarm;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1356,"y":80,"wires":[["c95dde3d.c676e"]]},{"id":"33f2aa3c.6c08f6","type":"link in","z":"8528a254.70837","g":"cf57802e.7d258","name":"Alarmas","links":["4e8f42ac.3431ac","c099945b.08bf98"],"x":1271,"y":80,"wires":[["9055a2bd.67028"]]},{"id":"ebf4df19.2cfb2","type":"link in","z":"8528a254.70837","g":"11f55817.139c18","name":"Actualizar Eventos In","links":["f7333c0a.a70d3"],"x":165,"y":160,"wires":[["75851744.fc50c8"]]},{"id":"22d301f6.875ece","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"HH EN","label":"HH","tooltip":"","group":"32eaa726.76f2f8","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2119,"y":1480,"wires":[["fe3c6368.9f449"]]},{"id":"6025a752.a41498","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"H EN","label":"H","tooltip":"","group":"32eaa726.76f2f8","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2120,"y":1620,"wires":[["8ffa507a.b48d9"]]},{"id":"acb547dc.dacae8","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"L EN","label":"L","tooltip":"","group":"32eaa726.76f2f8","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2120,"y":1760,"wires":[["1fd0f6dd.0e2919"]]},{"id":"e4c38850.c159e8","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"LL EN","label":"LL","tooltip":"","group":"32eaa726.76f2f8","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2120,"y":1900,"wires":[["45c7a3ac.94d28c"]]},{"id":"944db7b8.e26aa8","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"HH Setpoint","label":"Límite [G]","tooltip":"","group":"32eaa726.76f2f8","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"HH Setpoint","x":2100,"y":1390,"wires":[["8c9d72ab.fe0b3"]]},{"id":"d3c40146.c0499","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"H Setpoint","label":"Límite [G]","tooltip":"","group":"32eaa726.76f2f8","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":2100,"y":1530,"wires":[["806c85f.8dd7f78"]]},{"id":"72890c6a.8ea9b4","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"L Setpoint","label":"Límite [G]","tooltip":"","group":"32eaa726.76f2f8","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"L Setpoint","x":2100,"y":1670,"wires":[["9bf3743f.352588"]]},{"id":"abd14615.8c65b8","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"LL Setpoint","label":"Límite [G]","tooltip":"","group":"32eaa726.76f2f8","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"LL Setpoint","x":2100,"y":1810,"wires":[["76f117ca.92d3c8"]]},{"id":"8c9d72ab.fe0b3","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2390,"y":1390,"wires":[["64688fe5.072df"]]},{"id":"806c85f.8dd7f78","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2400,"y":1530,"wires":[["64688fe5.072df"]]},{"id":"9bf3743f.352588","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2400,"y":1670,"wires":[["64688fe5.072df"]]},{"id":"76f117ca.92d3c8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2400,"y":1810,"wires":[["64688fe5.072df"]]},{"id":"516c4379.8b3fdc","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2410,"y":1430,"wires":[["64688fe5.072df"]]},{"id":"92c3216b.2a08e","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2420,"y":1570,"wires":[["64688fe5.072df"]]},{"id":"696af8b.6cc2208","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2420,"y":1710,"wires":[["64688fe5.072df"]]},{"id":"4ce429b2.16f6c8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2410,"y":1850,"wires":[["64688fe5.072df"]]},{"id":"fe3c6368.9f449","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2410,"y":1480,"wires":[["64688fe5.072df"]]},{"id":"8ffa507a.b48d9","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2410,"y":1620,"wires":[["64688fe5.072df"]]},{"id":"1fd0f6dd.0e2919","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2420,"y":1760,"wires":[["64688fe5.072df"]]},{"id":"45c7a3ac.94d28c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2410,"y":1900,"wires":[["64688fe5.072df"]]},{"id":"f9ffe747.d73e68","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"Vibration.General.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1880,"y":1390,"wires":[["944db7b8.e26aa8"]]},{"id":"7ab3478d.9c0738","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"Vibration.General.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1870,"y":1530,"wires":[["d3c40146.c0499"]]},{"id":"352fd76d.913c58","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"Vibration.General.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1870,"y":1670,"wires":[["72890c6a.8ea9b4"]]},{"id":"5effee23.67b21","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"Vibration.General.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1870,"y":1810,"wires":[["abd14615.8c65b8"]]},{"id":"6962b205.fc1aac","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"Vibration.General.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":1430,"wires":[["de936866.24ffb8"]]},{"id":"5f190ad1.a98134","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"Vibration.General.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":1570,"wires":[["c3763f57.e2b75"]]},{"id":"605b4eac.e17f5","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"Vibration.General.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":1710,"wires":[["c7c53db4.79034"]]},{"id":"81c4a37d.8c2cd","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"Vibration.General.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":1850,"wires":[["ada97752.874638"]]},{"id":"62e71307.8e355c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"Vibration.General.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":1480,"wires":[["22d301f6.875ece"]]},{"id":"3e1aa9bb.34b5e6","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"Vibration.General.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":1620,"wires":[["6025a752.a41498"]]},{"id":"2037d4fa.74488c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"Vibration.General.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":1760,"wires":[["acb547dc.dacae8"]]},{"id":"eb0a77ea.6300e8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"Vibration.General.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":1900,"wires":[["e4c38850.c159e8"]]},{"id":"d0aea037.561e6","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"HH EN","label":"HH","tooltip":"","group":"e5d6b12b.cf15","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3220,"y":1480,"wires":[["2502b655.62606a"]]},{"id":"da6b73c3.c5088","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"H EN","label":"H","tooltip":"","group":"e5d6b12b.cf15","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3220,"y":1620,"wires":[["d5b43321.fafb7"]]},{"id":"c3ac0f93.10065","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"L EN","label":"L","tooltip":"","group":"e5d6b12b.cf15","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3220,"y":1760,"wires":[["4e35be9.a66a84"]]},{"id":"8744b13d.803ec","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"LL EN","label":"LL","tooltip":"","group":"e5d6b12b.cf15","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3220,"y":1900,"wires":[["b5a8c2ca.49dc9"]]},{"id":"25f0acc3.0a6fc4","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"HH Setpoint","label":"Límite [°F]","tooltip":"","group":"e5d6b12b.cf15","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"HH Setpoint","x":3200,"y":1390,"wires":[["3722b470.b0f71c"]]},{"id":"76a3c3a8.b87a3c","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"H Setpoint","label":"Límite [°F]","tooltip":"","group":"e5d6b12b.cf15","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":3200,"y":1530,"wires":[["c6106d57.b8b1a"]]},{"id":"5a5b3612.b68658","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"L Setpoint","label":"Límite [°F]","tooltip":"","group":"e5d6b12b.cf15","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"L Setpoint","x":3200,"y":1670,"wires":[["154aa5c9.dabe0a"]]},{"id":"5a8d8eed.904ce","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"LL Setpoint","label":"Límite [°F]","tooltip":"","group":"e5d6b12b.cf15","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":3200,"y":1810,"wires":[["4ecc9d3b.ddab74"]]},{"id":"3722b470.b0f71c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3490,"y":1390,"wires":[["3cab3ca5.8a90e4"]]},{"id":"c6106d57.b8b1a","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3490,"y":1530,"wires":[["3cab3ca5.8a90e4"]]},{"id":"154aa5c9.dabe0a","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3490,"y":1670,"wires":[["3cab3ca5.8a90e4"]]},{"id":"4ecc9d3b.ddab74","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3490,"y":1810,"wires":[["3cab3ca5.8a90e4"]]},{"id":"5f37b60a.040e98","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1430,"wires":[["3cab3ca5.8a90e4"]]},{"id":"c507c3c.4a6f44","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1570,"wires":[["3cab3ca5.8a90e4"]]},{"id":"6f1ff079.8108","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1710,"wires":[["3cab3ca5.8a90e4"]]},{"id":"605ef006.c23d","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1850,"wires":[["3cab3ca5.8a90e4"]]},{"id":"2502b655.62606a","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1480,"wires":[["3cab3ca5.8a90e4"]]},{"id":"d5b43321.fafb7","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1620,"wires":[["3cab3ca5.8a90e4"]]},{"id":"4e35be9.a66a84","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1760,"wires":[["3cab3ca5.8a90e4"]]},{"id":"b5a8c2ca.49dc9","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1900,"wires":[["3cab3ca5.8a90e4"]]},{"id":"5e1757df.5b1588","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"Motor.Temperature.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2980,"y":1390,"wires":[["25f0acc3.0a6fc4"]]},{"id":"71026936.0a1168","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"Motor.Temperature.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2980,"y":1530,"wires":[["76a3c3a8.b87a3c"]]},{"id":"6e9d6483.a1fe8c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"Motor.Temperature.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2980,"y":1670,"wires":[["5a5b3612.b68658"]]},{"id":"2513b275.f44c6e","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"Motor.Temperature.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2980,"y":1810,"wires":[["5a8d8eed.904ce"]]},{"id":"2fd7693.e40dd96","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"Motor.Temperature.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2970,"y":1430,"wires":[["46731d6f.af2214"]]},{"id":"1d418876.417d38","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"Motor.Temperature.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2960,"y":1570,"wires":[["4b370d9f.00c294"]]},{"id":"b25b555c.1ced68","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"Motor.Temperature.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2960,"y":1710,"wires":[["dfebd1a5.7fa3f"]]},{"id":"d55ef8f4.b385f8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"Motor.Temperature.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2960,"y":1850,"wires":[["739b4fcf.1c18"]]},{"id":"f08b112f.2c935","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"Motor.Temperature.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2970,"y":1480,"wires":[["d0aea037.561e6"]]},{"id":"bed22736.50e648","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"Motor.Temperature.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2960,"y":1620,"wires":[["da6b73c3.c5088"]]},{"id":"96adec74.08397","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"Motor.Temperature.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2960,"y":1760,"wires":[["c3ac0f93.10065"]]},{"id":"722cbad5.ee51b4","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"Motor.Temperature.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2960,"y":1900,"wires":[["8744b13d.803ec"]]},{"id":"2f390198.4111ce","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"HH EN","label":"HH","tooltip":"","group":"b32f8dd1.f3e86","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4320,"y":1480,"wires":[["45ab58b1.dff618"]]},{"id":"ecc85f63.cecce","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"H EN","label":"H","tooltip":"","group":"b32f8dd1.f3e86","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4320,"y":1620,"wires":[["5b8035f.4577ccc"]]},{"id":"a42f96d0.192458","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"L EN","label":"L","tooltip":"","group":"b32f8dd1.f3e86","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4320,"y":1760,"wires":[["db468536.d0b718"]]},{"id":"ac20c1c9.e237b","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"LL EN","label":"LL","tooltip":"","group":"b32f8dd1.f3e86","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4320,"y":1900,"wires":[["aba058eb.11c338"]]},{"id":"305c4471.75d26c","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"HH Setpoint","label":"Límite [mA]","tooltip":"","group":"b32f8dd1.f3e86","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"HH Setpoint","x":4300,"y":1390,"wires":[["f3237f0e.ad13c"]]},{"id":"c72f1ab6.e07358","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"H Setpoint","label":"Límite [mA]","tooltip":"","group":"b32f8dd1.f3e86","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":4300,"y":1530,"wires":[["d69924a4.339048"]]},{"id":"3cc53ea.7b20ec2","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"L Setpoint","label":"Límite [mA]","tooltip":"","group":"b32f8dd1.f3e86","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":4299,"y":1670,"wires":[["60cb248.67e94dc"]]},{"id":"77bf0d67.408d84","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"LL Setpoint","label":"Límite [mA]","tooltip":"","group":"b32f8dd1.f3e86","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":4300,"y":1810,"wires":[["7e59ed5e.19cdf4"]]},{"id":"f3237f0e.ad13c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4580,"y":1390,"wires":[["4d351b9.638afe4"]]},{"id":"d69924a4.339048","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4580,"y":1530,"wires":[["4d351b9.638afe4"]]},{"id":"60cb248.67e94dc","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4580,"y":1670,"wires":[["4d351b9.638afe4"]]},{"id":"7e59ed5e.19cdf4","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4580,"y":1810,"wires":[["4d351b9.638afe4"]]},{"id":"b8413d80.707c1","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4590,"y":1430,"wires":[["4d351b9.638afe4"]]},{"id":"b3ff66ec.1baab8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4600,"y":1570,"wires":[["4d351b9.638afe4"]]},{"id":"f20f1ff3.7073b","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4600,"y":1710,"wires":[["4d351b9.638afe4"]]},{"id":"ef36995d.9e4a68","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4590,"y":1850,"wires":[["4d351b9.638afe4"]]},{"id":"45ab58b1.dff618","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4590,"y":1480,"wires":[["4d351b9.638afe4"]]},{"id":"5b8035f.4577ccc","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4600,"y":1620,"wires":[["4d351b9.638afe4"]]},{"id":"db468536.d0b718","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4600,"y":1760,"wires":[["4d351b9.638afe4"]]},{"id":"aba058eb.11c338","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4590,"y":1900,"wires":[["4d351b9.638afe4"]]},{"id":"7540e2.26d57f2","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"Current.Leakage.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4080,"y":1390,"wires":[["305c4471.75d26c"]]},{"id":"26cf091b.0dbae6","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"Current.Leakage.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4070,"y":1530,"wires":[["c72f1ab6.e07358"]]},{"id":"deaa71f0.41ac4","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"Current.Leakage.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4070,"y":1670,"wires":[["3cc53ea.7b20ec2"]]},{"id":"a5239eba.e811","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"Current.Leakage.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4070,"y":1810,"wires":[["77bf0d67.408d84"]]},{"id":"a733b9b9.cda278","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"Current.Leakage.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4060,"y":1430,"wires":[["b9eeec2b.8259d"]]},{"id":"69b368d7.dcea78","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"Current.Leakage.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4050,"y":1570,"wires":[["b116daf7.152128"]]},{"id":"2ccb33c5.6a40ac","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"Current.Leakage.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4050,"y":1710,"wires":[["6456f2d9.f929ac"]]},{"id":"b256fdee.aab19","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"Current.Leakage.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4060,"y":1850,"wires":[["4fe0e535.f16e5c"]]},{"id":"2adccd69.57bb72","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"Current.Leakage.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4060,"y":1480,"wires":[["2f390198.4111ce"]]},{"id":"353e5f5c.3308c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"Current.Leakage.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4050,"y":1620,"wires":[["ecc85f63.cecce"]]},{"id":"29c58a6d.2469b6","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"Current.Leakage.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4050,"y":1760,"wires":[["a42f96d0.192458"]]},{"id":"15fa8e12.ecb012","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"Current.Leakage.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4060,"y":1900,"wires":[["ac20c1c9.e237b"]]},{"id":"2cd079.27675f88","type":"link out","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Protección de tensión Out","links":["b13f907c.215b","6501d3d3.4e2dec","50f74338.13ca0c"],"x":2565,"y":190,"wires":[]},{"id":"d54f3181.5d7ad","type":"link out","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Protección de sobrecarga Out","links":["58b6b462.94daac","c47cc85b.26bd58","f02f218c.c3f95"],"x":3505,"y":190,"wires":[]},{"id":"4d839d32.72a8f4","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"Protección de temperatura de entrada Out","links":["23e61906.12bde6"],"x":4605,"y":190,"wires":[]},{"id":"33575158.040bce","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"Protección de presión de entrada Out","links":["fef78832.db5dc8"],"x":2645,"y":790,"wires":[]},{"id":"fa27ee3.dd7941","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"Protección Presión de descarga Out","links":["de8cd607.5bc628"],"x":3745,"y":790,"wires":[]},{"id":"99ff714a.7a819","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"Protección temperatura de descarga Out","links":["34e29829.fec988"],"x":4925,"y":790,"wires":[]},{"id":"64688fe5.072df","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"Protección Vibración general Out","links":["ec206eee.38338"],"x":2685,"y":1390,"wires":[]},{"id":"485a456c.532fdc","type":"link out","z":"6c7d2db7.37ef34","g":"dabbb1f4.9b65e","name":"Timestamp Out","links":["806e7b59.38e138","3e39b5ec.dda60a","28fd8b2e.2b37e4","f1b01bce.f6aca8","11e71592.43ecba","49ed0754.2b0538","8a84bba5.928628","e44c2e4e.679a2","923b8ac6.db6738","191ae243.ac0bde","38307403.cf947c","bacec764.887808","6d92a416.15af1c"],"x":1725,"y":100,"wires":[]},{"id":"806e7b59.38e138","type":"link in","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Timestamp In","links":["485a456c.532fdc","596ac22c.7d379c"],"x":1675,"y":190,"wires":[["a13aa793.6d5958","3384822b.910e1e","f06b900e.9d7cc","417b61dc.3bc9c","9621ae2b.31111","55ade534.9df4fc","96202ced.2d14f","cb12dde6.c272c","dec10cf6.2f956","b0c6f4cf.8adde8","3c3fc25f.9c4dce","c1246694.d07138"]]},{"id":"3e39b5ec.dda60a","type":"link in","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Timestamp In Load","links":["485a456c.532fdc","596ac22c.7d379c","cb121d99.6b0c6"],"x":2655,"y":190,"wires":[["112f0c7f.98c2c4","807ce42f.663038","c7386ae5.f34358","5131bc8d.e72484","d596bd95.36ac7","9fad8a58.994598","8638e91.f1d9618","c16ccd29.4c0fd","bf640dd0.241e2","9f6c778c.dd65f8","7489c0c1.72eaa","ceffd9dc.9d9c28"]]},{"id":"28fd8b2e.2b37e4","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"Timestamp In Intake Temperature","links":["485a456c.532fdc","560afdd6.770de4","596ac22c.7d379c"],"x":3595,"y":190,"wires":[["f924bdb0.5be41","4b0117c9.906a28","15cdc18c.2d1afe","1865ce38.af04e2","735fcd8c.139204","e940bc9d.487ab","29688391.2998dc","62792eb4.ed585","3927678c.1ba258","7463a6d.8f98458","b215f346.b41bf","efdfec7f.80deb"]]},{"id":"f1b01bce.f6aca8","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"Timestamp In Intake Pressure","links":["485a456c.532fdc","54f813eb.c136ec","596ac22c.7d379c"],"x":1675,"y":790,"wires":[["a454cef5.af8fc","68dc5746.f43798","e280d419.905258","bfcf1d22.6a633","5705aa78.5d51a4","3f5e77fb.ba40f8","cff15ba9.0519d8","ce9bc7e2.b5ae88","561da518.30b27c","403e0e9.7738af","20a20d73.57b622","e386a315.a703f"]]},{"id":"11e71592.43ecba","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"Timestamp In","links":["485a456c.532fdc","596ac22c.7d379c"],"x":2735,"y":790,"wires":[["4d772326.e83ecc","5bf3855e.8a14bc","4fa4208b.9e6ec","4ec0aff2.fb6d","3bced553.64606a","f262ad5b.79dde","e01553c7.65a86","1aa3aef6.22fa21","bc1d2c03.fbe0e","d84150ed.51b5c","10708263.2b625e","8504e8d.5781318"]]},{"id":"49ed0754.2b0538","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"Timestamp In Discharge Temp","links":["485a456c.532fdc","596ac22c.7d379c","9ecab94a.2f4f68"],"x":3835,"y":790,"wires":[["c9db83bd.21e72","224de176.531cbe","c07a38bc.f59cb8","ab4f9b0e.b58748","2d9b97ec.afb1f8","2988bb53.335914","62cfa401.544bfc","defdcfa2.787fe","a5ab5c99.0daba","fa38bc67.7796a","40dcb368.34489c","41e32d9c.3f35a4"]]},{"id":"8a84bba5.928628","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"Timestamp In","links":["485a456c.532fdc","596ac22c.7d379c"],"x":1675,"y":1390,"wires":[["f9ffe747.d73e68","6962b205.fc1aac","62e71307.8e355c","7ab3478d.9c0738","5f190ad1.a98134","3e1aa9bb.34b5e6","352fd76d.913c58","605b4eac.e17f5","2037d4fa.74488c","5effee23.67b21","81c4a37d.8c2cd","eb0a77ea.6300e8"]]},{"id":"e44c2e4e.679a2","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"Timestamp In Motor Temp","links":["485a456c.532fdc","596ac22c.7d379c","78debc56.b9b7b4"],"x":2775,"y":1390,"wires":[["5e1757df.5b1588","2fd7693.e40dd96","f08b112f.2c935","71026936.0a1168","1d418876.417d38","bed22736.50e648","6e9d6483.a1fe8c","b25b555c.1ced68","96adec74.08397","2513b275.f44c6e","d55ef8f4.b385f8","722cbad5.ee51b4"]]},{"id":"3cab3ca5.8a90e4","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"Protección Temperatura de motor Out","links":["ccacd35a.c0616"],"x":3785,"y":1390,"wires":[]},{"id":"4d351b9.638afe4","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"Protección Corriente de fuga Out","links":["d23baded.2c27c"],"x":4865,"y":1390,"wires":[]},{"id":"191ae243.ac0bde","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"Timestamp In","links":["485a456c.532fdc","596ac22c.7d379c"],"x":3875,"y":1390,"wires":[["7540e2.26d57f2","a733b9b9.cda278","2adccd69.57bb72","26cf091b.0dbae6","69b368d7.dcea78","353e5f5c.3308c","deaa71f0.41ac4","2ccb33c5.6a40ac","29c58a6d.2469b6","a5239eba.e811","b256fdee.aab19","15fa8e12.ecb012"]]},{"id":"95dd5b10.93eeb8","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 8","env":[{"name":"Channel","value":"8","type":"num"}],"x":140,"y":990,"wires":[["627efcf3.7c1d94"]]},{"id":"8ecce404.876938","type":"function","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Tipo Instrumento","func":"var config = msg.Config || null;\n\nif(config !== null){\n    if(config.Tipo == \"NC\"){\n        msg.payload = !msg.payload\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":630,"y":950,"wires":[["c48e11aa.f1c5b"]]},{"id":"627efcf3.7c1d94","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal8","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal8","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":310,"y":990,"wires":[["e4e1a727.bfdc98"]]},{"id":"3adac9ad.967366","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 9","env":[{"name":"Channel","value":"9","type":"num"}],"x":140,"y":1040,"wires":[["549db7d6.bf0818"]]},{"id":"be92e9cc.af4ea8","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 10","env":[{"name":"Channel","value":"10","type":"num"}],"x":150,"y":1090,"wires":[["250b02a.a48adfe"]]},{"id":"a28ab24d.e3159","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 11","env":[{"name":"Channel","value":"11","type":"num"}],"x":150,"y":1140,"wires":[["beafa3d1.066ef"]]},{"id":"324d8a5d.797266","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 12","env":[{"name":"Channel","value":"12","type":"num"}],"x":550,"y":990,"wires":[["38933109.a0660e"]]},{"id":"2514916c.82ad8e","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 13","env":[{"name":"Channel","value":"13","type":"num"}],"x":550,"y":1040,"wires":[["8cc27616.708d38"]]},{"id":"669558e4.31fb88","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 14","env":[{"name":"Channel","value":"14","type":"num"}],"x":550,"y":1090,"wires":[["333a4d0f.a365e2"]]},{"id":"7ab77e72.f274c","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 15","env":[{"name":"Channel","value":"15","type":"num"}],"x":550,"y":1140,"wires":[["82ef607a.ab19c"]]},{"id":"548a3e91.fba1d","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 16","env":[{"name":"Channel","value":"16","type":"num"}],"x":950,"y":990,"wires":[["f2e4a286.70c9d"]]},{"id":"fd8a5b86.5db6c8","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 17","env":[{"name":"Channel","value":"17","type":"num"}],"x":950,"y":1040,"wires":[["4f650c7f.8e8864"]]},{"id":"421e6162.dc457","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 18","env":[{"name":"Channel","value":"18","type":"num"}],"x":950,"y":1090,"wires":[["dde63ac0.f1af98"]]},{"id":"549db7d6.bf0818","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal9","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal9","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":310,"y":1040,"wires":[["e4e1a727.bfdc98"]]},{"id":"250b02a.a48adfe","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal10","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal10","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":310,"y":1090,"wires":[["e4e1a727.bfdc98"]]},{"id":"beafa3d1.066ef","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal11","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal11","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":310,"y":1140,"wires":[["e4e1a727.bfdc98"]]},{"id":"38933109.a0660e","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal12","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal12","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":990,"wires":[["59cd5141.6d208"]]},{"id":"8cc27616.708d38","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal13","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal13","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":1040,"wires":[["59cd5141.6d208"]]},{"id":"333a4d0f.a365e2","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal14","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal14","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":1090,"wires":[["59cd5141.6d208"]]},{"id":"82ef607a.ab19c","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal15","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal15","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":1140,"wires":[["59cd5141.6d208"]]},{"id":"f2e4a286.70c9d","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal16","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal16","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":990,"wires":[["d5af92d1.30c4d"]]},{"id":"4f650c7f.8e8864","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal17","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal17","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1040,"wires":[["d5af92d1.30c4d"]]},{"id":"dde63ac0.f1af98","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal18","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal18","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1090,"wires":[["d5af92d1.30c4d"]]},{"id":"e825b6f5.656cb8","type":"function","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Activación de Funciones","func":"var Funcion = flow.get('ES').ED.Funciones || null;\n\n// Vector de indices de la lista completa\nvar keys = Object.keys(Funcion.Lista_Completa); \n\n// Indice\nvar index;\n\n// Respuesta\nvar Resp = [];\n\n//Inicializar Resp\nfor(var j=0; j<Funcion.Lista_Simple.length; j++){\n    Resp[j] = false;\n}\n\nfor(var i=0; i<=Object.keys(Funcion.Lista_Completa).length; i++){\n    \n    //Encontrar el índice de la lista simple donde aparece el elemento de la lista completa\n    index = Funcion.Lista_Simple.findIndex((element) => element == Funcion.Lista_Completa[parseInt(keys[i])]);\n    \n    if( msg.payload[parseInt(keys[i])] == 1){\n        Resp[index] = true;\n    }\n}\n\nmsg.payload = [];\n\nfor(var k=0; k<Funcion.Lista_Simple.length; k++){\n    msg.payload[k]={\n        'Funcion':Funcion.Lista_Simple[k],\n        'Estado': Resp[k]\n    }\n}\nflow.set('ActFunctions',msg.payload,'memoryOnly');\nreturn;","outputs":0,"noerr":0,"initialize":"var ES = flow.get('ES')|| null;\nif(ES === null){\n    ES = {\n        'ED':{\n            'Funciones':{\n                'Lista_Simple':[],\n                'Lista_Completa':{}\n            }\n        },\n        'EA':{\n            'Funciones':{\n                'Lista_Simple':[],\n                'Lista_Completa':{}\n            }\n        },\n        'SD':{\n            'Funciones':{\n                'Lista_Simple':[],\n                'Lista_Completa':{}\n            }\n        },\n        'SA':{\n            'Funciones':{\n                'Lista_Simple':[],\n                'Lista_Completa':{}\n            }\n        },\n    }\n    flow.set('ES',ES);\n}","finalize":"","x":1050,"y":950,"wires":[]},{"id":"1d563240.d7335e","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","label":"Función","tooltip":"","place":"--","group":"9457c46f.d710c8","order":2,"width":"6","height":"1","passthru":true,"multiple":false,"options":[{"label":"Start","value":"Start","type":"str"},{"label":"Stop","value":"Stop","type":"str"},{"label":"Reset","value":"Reset","type":"str"},{"label":"Stop E.S.D.","value":"Stop_ESD","type":"str"},{"label":"Disparo Alto nivel de aceite SUT","value":"Alto_nivel_SUT","type":"str"},{"label":"Disparo alta temperatura SUT","value":"Disparo_alta_temperatura_SUT","type":"str"},{"label":"Alarma Alta temperatura SUT","value":"Alarma_Alta_temp_SUT","type":"str"},{"label":"Alarma bajo nivel de aceite SUT","value":"Alarma_bajo_aceite_SUT","type":"str"},{"label":"Disparo bajo bajo nivel de aceite SUT","value":"Disparo_bajo_bajo_aceite_SUT","type":"str"},{"label":"Disparo Valvula sobrepresión SUT","value":"Disparo_valvula_sobrepresion","type":"str"},{"label":"Alarma DPS","value":"Alarma DPS","type":"str"},{"label":"Disparo alta temperatura filtros","value":"Disparo_alta_temperatura_filtros","type":"str"},{"label":"Disparo alta presión THP","value":"Disparo_Alta_presión_THP","type":"str"},{"label":"Disparo sobre tensión SUT","value":"Disparo_sobre_tensión_SUT","type":"str"},{"label":"E.S.D Remoto","value":"ESD_Remoto","type":"str"},{"label":"Protección térmica de motor","value":"Proteccion_termica_de_motor","type":"str"},{"label":"Simulación","value":"Simulación","type":"str"}],"payload":"","topic":"","x":710,"y":130,"wires":[["57693d42.64b594"]]},{"id":"eae17bf7.abfb98","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","rules":[{"t":"set","p":"ED_Config.Canal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":440,"y":310,"wires":[[]]},{"id":"57693d42.64b594","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","rules":[{"t":"set","p":"ED_Config.Funcion","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":910,"y":130,"wires":[[]]},{"id":"5612c7d7.dfac98","type":"ui_button","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","group":"9457c46f.d710c8","order":7,"width":"4","height":"1","passthru":false,"label":"Configurar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"ED_Config","payloadType":"flow","topic":"","x":840,"y":480,"wires":[["9739e42b.b55908"]]},{"id":"d16a7da0.51a4b","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","label":"Tipo","tooltip":"","place":"--","group":"9457c46f.d710c8","order":4,"width":"3","height":"1","passthru":true,"multiple":false,"options":[{"label":"NC","value":"NC","type":"str"},{"label":"NO","value":"NO","type":"str"}],"payload":"","topic":"","x":700,"y":180,"wires":[["53f591a9.c6db1"]]},{"id":"53f591a9.c6db1","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","rules":[{"t":"set","p":"ED_Config.TipoInstrumento","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":940,"y":180,"wires":[[]]},{"id":"9739e42b.b55908","type":"switch","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal","property":"payload.Canal","propertyType":"msg","rules":[{"t":"eq","v":"8","vt":"num"},{"t":"eq","v":"9","vt":"num"},{"t":"eq","v":"10","vt":"num"},{"t":"eq","v":"11","vt":"num"},{"t":"eq","v":"12","vt":"num"},{"t":"eq","v":"13","vt":"num"},{"t":"eq","v":"14","vt":"num"},{"t":"eq","v":"15","vt":"num"},{"t":"eq","v":"16","vt":"num"},{"t":"eq","v":"17","vt":"num"},{"t":"eq","v":"18","vt":"num"},{"t":"eq","v":"19","vt":"num"},{"t":"eq","v":"20","vt":"num"},{"t":"eq","v":"21","vt":"num"},{"t":"eq","v":"22","vt":"num"},{"t":"eq","v":"23","vt":"num"},{"t":"eq","v":"24","vt":"num"},{"t":"eq","v":"25","vt":"num"},{"t":"eq","v":"26","vt":"num"},{"t":"eq","v":"27","vt":"num"}],"checkall":"false","repair":false,"outputs":20,"x":980,"y":480,"wires":[["b5365bc3.4a2988"],["c967237e.798c5"],["f7d45d17.1263"],["ce9bcbe0.82ba08"],["7fca5a8d.8bd774"],["bc814e1b.e48e3"],["bd084cfc.c96b7"],["4413b68b.f15548"],["39314781.1c5188"],["c44c2bcf.479ab8"],["c8be3f70.1b147"],["f682cea0.507b9"],["dba1ea5a.227608"],["bf79e240.5ab82"],["c971dc53.ca862"],["92923f3a.deb0e"],["dabf45d6.c9a6b8"],["1b8abdf6.3dcb22"],["adc1722f.13e2"],["ba03cbde.df6f78"]]},{"id":"c3703a0f.b4eb58","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","label":"Canal","tooltip":"","place":"--","group":"9457c46f.d710c8","order":3,"width":"3","height":"1","passthru":true,"multiple":false,"options":[{"label":"8","value":8,"type":"num"},{"label":"9","value":9,"type":"num"},{"label":"10","value":10,"type":"num"},{"label":"11","value":11,"type":"num"},{"label":"12","value":12,"type":"num"},{"label":"13","value":13,"type":"num"},{"label":"14","value":14,"type":"num"},{"label":"15","value":15,"type":"num"},{"label":"16","value":16,"type":"num"},{"label":"17","value":17,"type":"num"},{"label":"18","value":18,"type":"num"},{"label":"19","value":19,"type":"num"},{"label":"20","value":20,"type":"num"},{"label":"21","value":21,"type":"num"},{"label":"22","value":22,"type":"num"},{"label":"23","value":23,"type":"num"}],"payload":"","topic":"","x":240,"y":310,"wires":[["eae17bf7.abfb98"]]},{"id":"b5365bc3.4a2988","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal8","rules":[{"t":"set","p":"ES.ED.Canal8.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal8.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":100,"wires":[[]]},{"id":"c967237e.798c5","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal9","rules":[{"t":"set","p":"ES.ED.Canal9.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal9.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":140,"wires":[[]]},{"id":"f7d45d17.1263","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal10","rules":[{"t":"set","p":"ES.ED.Canal10.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal10.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":180,"wires":[[]]},{"id":"ce9bcbe0.82ba08","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal11","rules":[{"t":"set","p":"ES.ED.Canal11.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal11.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":220,"wires":[[]]},{"id":"7fca5a8d.8bd774","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal12","rules":[{"t":"set","p":"ES.ED.Canal12.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal12.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":260,"wires":[[]]},{"id":"bc814e1b.e48e3","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal13","rules":[{"t":"set","p":"ES.ED.Canal13.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal13.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":300,"wires":[[]]},{"id":"bd084cfc.c96b7","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal14","rules":[{"t":"set","p":"ES.ED.Canal14.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal14.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":340,"wires":[[]]},{"id":"4413b68b.f15548","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal15","rules":[{"t":"set","p":"ES.ED.Canal15.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal15.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":380,"wires":[[]]},{"id":"39314781.1c5188","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal16","rules":[{"t":"set","p":"ES.ED.Canal16.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal16.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":420,"wires":[[]]},{"id":"b014379a.bddbd8","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","rules":[{"t":"set","p":"ES.ED.Funciones","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":440,"y":150,"wires":[[]]},{"id":"9946d95c.306678","type":"function","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Cargar configuración del canal","func":"var Canal = flow.get('ED_Config').Canal||null;\nvar ES = flow.get('ES')||null;\n\n// Concatenar Canal\nvar Canalmsg = \"Canal\" + Canal;\n\n// Responder\nvar Resp = ES.ED[Canalmsg];\nmsg.payload = \"Canal no configurado\";\n\nif(typeof Resp !== 'undefined'){\n    msg.Funcion = {'payload':Resp.Funcion};\n    msg.Tipo = {'payload':Resp.Tipo};\n    \n}\nelse{\n    msg.Funcion = {'payload':\"Canal no configurado\"};\n    msg.Tipo =  {'payload':\"Ninguno\"};\n}\n\nreturn [msg.Funcion, msg.Tipo];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":460,"y":190,"wires":[["95258912.15d388","1d563240.d7335e"],["70f95af9.c31fe4","d16a7da0.51a4b"]]},{"id":"95258912.15d388","type":"ui_text","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","group":"89c29882.24ba28","order":2,"width":"6","height":"1","name":"Función","label":"Función:","format":"{{msg.payload}}","layout":"row-left","x":710,"y":230,"wires":[]},{"id":"70f95af9.c31fe4","type":"ui_text","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","group":"89c29882.24ba28","order":3,"width":"6","height":"1","name":"Tipo","label":"Tipo:","format":"{{msg.payload}}","layout":"row-left","x":700,"y":270,"wires":[]},{"id":"8d5d3cd1.75de5","type":"function","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Borrar configuración del canal","func":"var Canal   = flow.get('ED_Config').Canal||null;\nvar ES      = flow.get('ES')||null;\n\n// Concatenar Canal\nvar Canalmsg = \"Canal\" + Canal;\n\n// Borrar propiedad\ndelete ES.ED[Canalmsg];\n\n// Cargar nueva configuración\nflow.set('ES',ES);\n","outputs":0,"noerr":0,"initialize":"","finalize":"","x":460,"y":270,"wires":[]},{"id":"c7a11874.426038","type":"ui_button","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","group":"89c29882.24ba28","order":6,"width":"4","height":"1","passthru":false,"label":"Borrar configuración","tooltip":"","color":"","bgcolor":"","icon":"","payload":"ES_Config","payloadType":"flow","topic":"","x":190,"y":270,"wires":[["8d5d3cd1.75de5"]]},{"id":"d7b7c53a.bfd1d8","type":"complete","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Seleccionar canal","scope":["eae17bf7.abfb98","8d5d3cd1.75de5"],"uncaught":false,"x":200,"y":230,"wires":[["9946d95c.306678"]]},{"id":"c662f5ad.21deb8","type":"function","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Vector de Funciones ED","func":"var ES = flow.get(\"ES\");\nvar Funcion = [];\nvar Lista_Funciones = {};\n\nvar Canal = [4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27];\n\nfor(var i=0; i<Canal.length; i++){\n    \n    // Concatenar el texto del canal\n    Canalmsg = 'Canal' + Canal[i];\n    \n    // Generar el vector con todas las posibles opciones de configuración\n    if( typeof ES.ED[Canalmsg] !== 'undefined'){\n        \n        // Lista Completa\n        Lista_Funciones[Canal[i]] = ES.ED[Canalmsg].Funcion;\n        \n        // Lista Simple\n        if(Funcion.find(element => element == ES.ED[Canalmsg].Funcion) !== ES.ED[Canalmsg].Funcion ){\n            Funcion.push(ES.ED[Canalmsg].Funcion);\n        }\n    }\n    else{\n        delete Lista_Funciones[Canal[i]];\n    }\n    \n}\n\nmsg.payload = {\n    'Lista_Simple':Funcion,\n    'Lista_Completa':Lista_Funciones\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":200,"y":150,"wires":[["b014379a.bddbd8"]]},{"id":"c48e11aa.f1c5b","type":"function","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Entradas Digitales","func":"var Data = context.get(\"IO\",'memoryOnly') || {   \n    8:false, \n    9:false, \n    10:false, \n    11:false, \n    12:false, \n    13:false, \n    14:false, \n    15:false, \n    16:false, \n    17:false, \n    18:false, \n    19:false, \n    20:false, \n    21:false, \n    22:false, \n    23:false, \n    24:false, \n    25:false, \n    26:false, \n    27:false\n};\n// Arreglo de Canales\nvar Canal = Object.keys(Data);\n\nfor(var i=0; i<11; i++){\n    if(msg.topic == 'Canal'+ Canal[i]){\n        Data[Canal[i]] = msg.payload;\n    }\n}\ncontext.set(\"IO\",Data,'memoryOnly');\nmsg.payload = Data;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":830,"y":950,"wires":[["e825b6f5.656cb8"]]},{"id":"4b93e0d.a6fd52","type":"complete","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Configurar Canal","scope":["b5365bc3.4a2988","c967237e.798c5","f7d45d17.1263","ce9bcbe0.82ba08","7fca5a8d.8bd774","bc814e1b.e48e3","bd084cfc.c96b7","4413b68b.f15548","39314781.1c5188","8d5d3cd1.75de5","c44c2bcf.479ab8","c8be3f70.1b147","f682cea0.507b9","dba1ea5a.227608","bf79e240.5ab82","c971dc53.ca862","92923f3a.deb0e","dabf45d6.c9a6b8","1b8abdf6.3dcb22","adc1722f.13e2","ba03cbde.df6f78"],"uncaught":false,"x":210,"y":190,"wires":[["9946d95c.306678","c662f5ad.21deb8"]]},{"id":"ff6c1ae7.7f0dd8","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN0","env":[{"name":"Channel","value":"0","type":"num"}],"x":1440,"y":520,"wires":[["641c6b57.1bdb14"]]},{"id":"3c9f71a9.9f8fce","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN1","env":[{"name":"Channel","value":"1","type":"num"}],"x":1440,"y":570,"wires":[["826212c.76963f"]]},{"id":"83a6198.8a9bee8","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN2","env":[{"name":"Channel","value":"2","type":"num"}],"x":1440,"y":620,"wires":[["f360853e.c29228"]]},{"id":"a6b6e124.811fb","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN3","env":[{"name":"Channel","value":"3","type":"num"}],"x":1440,"y":670,"wires":[["969d8cdc.200d1"]]},{"id":"2153ada3.61f452","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear\nvar a = [200,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = (b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]));\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    ang=parseFloat(t.toFixed(0));\n    // Asignar payload\n\n        msg.payload =Math.trunc(ang); \n\n    \n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1730,"y":520,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"2860e3ba.631ffc","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","label":"Canal","tooltip":"","place":"--","group":"42b2cabf.0c7ea4","order":3,"width":"2","height":"1","passthru":true,"multiple":false,"options":[{"label":"AN0","value":"AN0","type":"str"},{"label":"AN1","value":"AN1","type":"str"},{"label":"AN2","value":"AN2","type":"str"},{"label":"AN3","value":"AN3","type":"str"},{"label":"AN4","value":"AN4","type":"str"},{"label":"AN5","value":"AN5","type":"str"},{"label":"AN6","value":"AN6","type":"str"},{"label":"AN7","value":"AN7","type":"str"}],"payload":"","topic":"","x":1490,"y":100,"wires":[["f9a3d861.77c0f8"]]},{"id":"65fd0659.ce5ea8","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","label":"Función","tooltip":"","place":"--","group":"42b2cabf.0c7ea4","order":2,"width":"6","height":"1","passthru":true,"multiple":false,"options":[{"label":"PRESION INTAKE","value":"PRESION_INTAKE","type":"str"},{"label":"PRESION DISCHARGE","value":"PRESION_DISCHARGE","type":"str"},{"label":"PRESION CASING","value":"PRESION_CASING","type":"str"},{"label":"PRESION CABEZA THP","value":"PRESION_CABEZA_THP","type":"str"},{"label":"TEMPERATURA CABEZA THT","value":"TEMPERATURA_CABEZA_THT","type":"str"},{"label":"TEMPERATURA INTAKE","value":"TEMPERATURA_INTAKE","type":"str"},{"label":"TEMPERATURA DISCHARGE","value":"TEMPERATURA_DISCHARGE","type":"str"},{"label":"TEMPERATURA MOTOR","value":"TEMPERATURA_MOTOR","type":"str"},{"label":"REFERENCIA REMOTA ","value":"REFERENCIA_REMOTA","type":"str"}],"payload":"","topic":"","x":2090,"y":110,"wires":[["15368445.fbcc8c"]]},{"id":"81c44399.313d1","type":"ui_dropdown","z":"e86f0ca4.7feb5","d":true,"g":"2d061227.66d7ce","name":"","label":"Tipo","tooltip":"","place":"--","group":"42b2cabf.0c7ea4","order":10,"width":"3","height":"1","passthru":true,"multiple":false,"options":[{"label":"0-5 VDC","value":"0-5 VDC","type":"str"},{"label":"0-10 VDC","value":"0-10 VDC","type":"str"},{"label":"0-20 mA","value":"0-20 mA","type":"str"},{"label":"4-20 mA","value":"4-20 mA","type":"str"}],"payload":"","topic":"","x":1870,"y":100,"wires":[[]]},{"id":"36a6ada6.088e02","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","label":"Rango Min","tooltip":"","group":"42b2cabf.0c7ea4","order":4,"width":"2","height":"1","passthru":true,"mode":"number","delay":300,"topic":"","x":2100,"y":160,"wires":[["5d335e3d.151a7"]]},{"id":"f9855a9d.d658d8","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","label":"Rango Max","tooltip":"","group":"42b2cabf.0c7ea4","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":300,"topic":"","x":2100,"y":210,"wires":[["36c67261.6e84de"]]},{"id":"641c6b57.1bdb14","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN0","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN0","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN0.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1560,"y":520,"wires":[["2153ada3.61f452"]]},{"id":"826212c.76963f","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN1","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN1","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN1.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1560,"y":570,"wires":[["d1695de0.41452"]]},{"id":"f360853e.c29228","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN2","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN2","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN2.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1560,"y":620,"wires":[["f406d5d7.37bf18"]]},{"id":"969d8cdc.200d1","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN3","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN3","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN3.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1560,"y":670,"wires":[["8f314f6c.0c944"]]},{"id":"c7394d4f.1877f","type":"function","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"Vector de Funciones AN","func":"var ES = flow.get(\"ES\");\nvar Funcion = [];\nvar Lista_Funciones = {};\n\nvar Canal = ['AN0','AN1','AN2','AN3','AN4','AN5','AN6','AN7'];\n\nfor(var i=0; i<Canal.length; i++){\n    \n    // Generar el vector con todas las posibles opciones de configuración\n    if( typeof ES.EA[Canal[i]] !== 'undefined'){\n        \n        // Lista Completa\n        Lista_Funciones[Canal[i]] = ES.EA[Canal[i]].Funcion;\n        \n        // Lista Simple\n        if(Funcion.find(element => element == ES.EA[Canal[i]].Funcion) !== ES.EA[Canal[i]].Funcion ){\n            Funcion.push(ES.EA[Canal[i]].Funcion);\n        }\n    }\n    else{\n        delete Lista_Funciones[Canal[i]];\n    }\n    \n}\n\nmsg.payload = {\n    'Lista_Simple':Funcion,\n    'Lista_Completa':Lista_Funciones\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1810,"y":140,"wires":[["e398f7a4.f17d08"]]},{"id":"e398f7a4.f17d08","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","rules":[{"t":"set","p":"ES.EA.Funciones","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1810,"y":180,"wires":[[]]},{"id":"885e055a.76fda8","type":"ui_text","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","group":"4a58744b.a270cc","order":2,"width":"6","height":"1","name":"Función","label":"Función:","format":"{{msg.payload}}","layout":"row-left","x":2090,"y":250,"wires":[]},{"id":"4414ee60.603dd","type":"ui_text","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","group":"4a58744b.a270cc","order":3,"width":"3","height":"1","name":"Rango Min","label":"Rango mínimo:","format":"{{msg.payload}}","layout":"row-left","x":2100,"y":290,"wires":[]},{"id":"afb718c8.4b74c8","type":"function","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"Cargar configuración del canal","func":"var Canal = flow.get('EA_Config').Canal||null;\nvar ES = flow.get('ES')||null;\n\nmsg.payload = \"Canal no configurado\";\n\n//msg.payload = ES.EA[Canal].Rango;\n//return msg;\n\nif(typeof ES.EA[Canal] !== 'undefined'){\n    msg.Funcion =  {'payload':ES.EA[Canal].Funcion};\n    msg.RangoMin = {'payload':ES.EA[Canal].Rango_Min};\n    msg.RangoMax = {'payload':ES.EA[Canal].Rango_Max};\n}\nelse{\n    msg.Funcion = {'payload':\"Canal no configurado\"};\n    msg.RangoMin =  {'payload':null};\n    msg.RangoMax = {'payload': null};\n}\n\nreturn [msg.Funcion, msg.RangoMin, msg.RangoMax];","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1830,"y":230,"wires":[["885e055a.76fda8","65fd0659.ce5ea8"],["4414ee60.603dd","36a6ada6.088e02"],["706c900.17dd37","f9855a9d.d658d8"]]},{"id":"d3888470.828598","type":"ui_button","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","group":"4a58744b.a270cc","order":7,"width":"4","height":"1","passthru":false,"label":"Borrar configuración","tooltip":"","color":"","bgcolor":"","icon":"","payload":"ES_Config","payloadType":"flow","topic":"","x":1530,"y":280,"wires":[["955fc7d3.2b6ac8"]]},{"id":"955fc7d3.2b6ac8","type":"function","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"Borrar configuración del canal","func":"var Canal   = flow.get('EA_Config').Canal||null;\nvar ES      = flow.get('ES')||null;\n\n// Borrar propiedad\ndelete ES.EA[Canal];\n\n// Cargar nueva configuración\nflow.set('ES',ES);\n","outputs":0,"noerr":0,"initialize":"","finalize":"","x":1830,"y":280,"wires":[]},{"id":"edd64156.146d3","type":"complete","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"Seleccionar canal","scope":["ce1dc649.cc5748","f9a3d861.77c0f8","e3fc54b9.c1b108","5ba78aad.1e1004","ab3579b7.9be628","5c582963.1ed7f8","acf4e6b7.86a698","a2be0fbd.31585","4a02b457.a1fecc","ffda9256.dc79c"],"uncaught":false,"x":1540,"y":230,"wires":[["afb718c8.4b74c8"]]},{"id":"706c900.17dd37","type":"ui_text","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","group":"4a58744b.a270cc","order":4,"width":"3","height":"1","name":"Rango Max","label":"Rango máximo:","format":"{{msg.payload}}","layout":"row-left","x":2100,"y":330,"wires":[]},{"id":"ce1dc649.cc5748","type":"ui_button","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","group":"42b2cabf.0c7ea4","order":8,"width":"4","height":"1","passthru":false,"label":"Configurar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"EA_Config","payloadType":"flow","topic":"","x":2260,"y":300,"wires":[["18add3e9.59452c"]]},{"id":"f9a3d861.77c0f8","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","rules":[{"t":"set","p":"EA_Config.Canal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1670,"y":100,"wires":[[]]},{"id":"15368445.fbcc8c","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","rules":[{"t":"set","p":"EA_Config.Funcion","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2290,"y":110,"wires":[[]]},{"id":"18add3e9.59452c","type":"switch","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","property":"payload.Canal","propertyType":"msg","rules":[{"t":"eq","v":"AN0","vt":"str"},{"t":"eq","v":"AN1","vt":"str"},{"t":"eq","v":"AN2","vt":"str"},{"t":"eq","v":"AN3","vt":"str"},{"t":"eq","v":"AN4","vt":"str"},{"t":"eq","v":"AN5","vt":"str"},{"t":"eq","v":"AN6","vt":"str"},{"t":"eq","v":"AN7","vt":"str"}],"checkall":"true","repair":false,"outputs":8,"x":2400,"y":300,"wires":[["e3fc54b9.c1b108"],["5ba78aad.1e1004"],["ab3579b7.9be628"],["5c582963.1ed7f8"],["acf4e6b7.86a698"],["a2be0fbd.31585"],["4a02b457.a1fecc"],["ffda9256.dc79c"]]},{"id":"5ba78aad.1e1004","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN1","rules":[{"t":"set","p":"ES.EA.AN1.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN1.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN1.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2570,"y":190,"wires":[[]]},{"id":"5d335e3d.151a7","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","rules":[{"t":"set","p":"EA_Config.Rango_Min","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":160,"wires":[[]]},{"id":"36c67261.6e84de","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","rules":[{"t":"set","p":"EA_Config.Rango_Max","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":210,"wires":[[]]},{"id":"4650be5c.04ff2","type":"complete","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"Configuración AN Completa","scope":["955fc7d3.2b6ac8","5ba78aad.1e1004","ab3579b7.9be628","5c582963.1ed7f8","acf4e6b7.86a698","e3fc54b9.c1b108","a2be0fbd.31585","4a02b457.a1fecc","ffda9256.dc79c"],"uncaught":false,"x":1510,"y":190,"wires":[["c7394d4f.1877f","afb718c8.4b74c8"]]},{"id":"ab3579b7.9be628","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN2","rules":[{"t":"set","p":"ES.EA.AN2.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN2.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN2.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2570,"y":230,"wires":[[]]},{"id":"5c582963.1ed7f8","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN3","rules":[{"t":"set","p":"ES.EA.AN3.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN3.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN3.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2570,"y":270,"wires":[[]]},{"id":"acf4e6b7.86a698","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN4","rules":[{"t":"set","p":"ES.EA.AN4.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN4.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN4.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2570,"y":310,"wires":[[]]},{"id":"37d41ac8.88d346","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","label":"Tipo","tooltip":"","place":"--","group":"999747fd.0e43c8","order":4,"width":"3","height":"1","passthru":true,"multiple":false,"options":[{"label":"NC","value":"NC","type":"str"},{"label":"NO","value":"NO","type":"str"}],"payload":"","topic":"","x":710,"y":1810,"wires":[["66aa96c8.486ca8"]]},{"id":"e3df39b.47c05c8","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","label":"Canal","tooltip":"","place":"--","group":"999747fd.0e43c8","order":3,"width":"3","height":"1","passthru":true,"multiple":false,"options":[{"label":"32","value":32,"type":"num"},{"label":"33","value":33,"type":"num"},{"label":"34","value":34,"type":"num"},{"label":"35","value":35,"type":"num"},{"label":"36","value":36,"type":"num"},{"label":"37","value":37,"type":"num"},{"label":"38","value":38,"type":"num"},{"label":"39","value":39,"type":"num"}],"payload":"","topic":"","x":290,"y":1780,"wires":[["4968d3dd.74a03c"]]},{"id":"c4e00dfa.4f109","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","label":"Función","tooltip":"","place":"--","group":"999747fd.0e43c8","order":2,"width":"6","height":"1","passthru":true,"multiple":false,"options":[{"label":"CILA2S EN MARCHA","value":"CILA2S_EN_MARCHA","type":"str"},{"label":"FALLA GENERAL","value":"FALLA_GENERAL","type":"str"},{"label":"BYPASS FILTRO ARMONICOS","value":"BYPASS_FILTRO_ARMONICOS","type":"str"},{"label":"SIMULACION","value":"SIMULACION","type":"str"},{"label":"LUZ MODULO POTENCIA","value":"LUZ_MODULO_POTENCIA","type":"str"},{"label":"DISPARO BREAKER MODULO ESD","value":"DISPARO_BREAKER_MODULO_ESD","type":"str"},{"label":"SISTEMA_REFRIGERACION_MOTOR","value":"SISTEMA_REFRIGERACION_MOTOR","type":"str"},{"label":"SISTEMA CALEFACTOR MOTOR","value":"SISTEMA_CALEFACTOR_MOTOR","type":"str"},{"label":"LOCAL REMOTO","value":"Local/Remoto","type":"str"}],"payload":"","topic":"","x":720,"y":1760,"wires":[["ff71fda1.67ec9"]]},{"id":"c19d1216.bf754","type":"ui_button","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","group":"999747fd.0e43c8","order":7,"width":"4","height":"1","passthru":false,"label":"Configurar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"SD_Config","payloadType":"flow","topic":"","x":860,"y":1930,"wires":[["ffcb3293.a4c48"]]},{"id":"66aa96c8.486ca8","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","rules":[{"t":"set","p":"SD_Config.TipoInstrumento","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":930,"y":1810,"wires":[[]]},{"id":"4968d3dd.74a03c","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","rules":[{"t":"set","p":"SD_Config.Canal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":470,"y":1780,"wires":[[]]},{"id":"ff71fda1.67ec9","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","rules":[{"t":"set","p":"SD_Config.Funcion","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":920,"y":1760,"wires":[[]]},{"id":"ffcb3293.a4c48","type":"switch","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal","property":"payload.Canal","propertyType":"msg","rules":[{"t":"eq","v":"32","vt":"num"},{"t":"eq","v":"33","vt":"num"},{"t":"eq","v":"34","vt":"num"},{"t":"eq","v":"35","vt":"num"},{"t":"eq","v":"36","vt":"num"},{"t":"eq","v":"37","vt":"num"},{"t":"eq","v":"38","vt":"num"},{"t":"eq","v":"39","vt":"num"},{"t":"eq","v":"40","vt":"num"},{"t":"eq","v":"41","vt":"num"},{"t":"eq","v":"42","vt":"num"},{"t":"eq","v":"43","vt":"num"}],"checkall":"false","repair":false,"outputs":12,"x":1000,"y":1930,"wires":[["c1725583.cfc348"],["4526b0f7.fa6a6"],["f67e70e4.5f30e"],["bb68e810.a57a38"],["ce5f1106.c4ff9"],["85590fb.bc50ef"],["dbf2523c.156f3"],["23cf0be1.ad7274"],["ab7a7e6.0a4ca8"],["1a41c067.58aff"],["4b7792b7.b882fc"],["8e67a2d0.14549"]]},{"id":"c1725583.cfc348","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal32","rules":[{"t":"set","p":"ES.SD.Canal32.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal32.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":1730,"wires":[[]]},{"id":"4526b0f7.fa6a6","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal33","rules":[{"t":"set","p":"ES.SD.Canal33.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal33.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":1770,"wires":[[]]},{"id":"f67e70e4.5f30e","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal34","rules":[{"t":"set","p":"ES.SD.Canal34.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal34.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":1810,"wires":[[]]},{"id":"bb68e810.a57a38","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal35","rules":[{"t":"set","p":"ES.SD.Canal35.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal35.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":1850,"wires":[[]]},{"id":"ce5f1106.c4ff9","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal36","rules":[{"t":"set","p":"ES.SD.Canal36.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal36.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":1890,"wires":[[]]},{"id":"85590fb.bc50ef","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal37","rules":[{"t":"set","p":"ES.SD.Canal37.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal37.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":1930,"wires":[[]]},{"id":"dbf2523c.156f3","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal38","rules":[{"t":"set","p":"ES.SD.Canal38.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal38.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":1970,"wires":[[]]},{"id":"23cf0be1.ad7274","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal39","rules":[{"t":"set","p":"ES.SD.Canal39.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal39.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":2010,"wires":[[]]},{"id":"ab7a7e6.0a4ca8","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal40","rules":[{"t":"set","p":"ES.SD.Canal40.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal40.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":2050,"wires":[[]]},{"id":"1a41c067.58aff","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal41","rules":[{"t":"set","p":"ES.SD.Canal41.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal41.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":2090,"wires":[[]]},{"id":"4b7792b7.b882fc","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal42","rules":[{"t":"set","p":"ES.SD.Canal42.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal42.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":2130,"wires":[[]]},{"id":"8e749bbe.f74f28","type":"function","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Borrar configuración del canal","func":"var Canal   = flow.get('SD_Config').Canal||null;\nvar ES      = flow.get('ES')||null;\n\n// Concatenar Canal\nvar Canalmsg = \"Canal\" + Canal;\n\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:Canalmsg});\n\n// Borrar propiedad\ndelete ES.SD[Canalmsg];\n\n// Cargar nueva configuración\nflow.set('ES',ES);\n","outputs":0,"noerr":0,"initialize":"","finalize":"","x":480,"y":1960,"wires":[]},{"id":"890ece98.923b9","type":"complete","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Configuración SD Completa","scope":["4968d3dd.74a03c","c1725583.cfc348","4526b0f7.fa6a6","f67e70e4.5f30e","bb68e810.a57a38","ce5f1106.c4ff9","85590fb.bc50ef","dbf2523c.156f3","23cf0be1.ad7274","ab7a7e6.0a4ca8","1a41c067.58aff","4b7792b7.b882fc","8e749bbe.f74f28","8e67a2d0.14549","c19d1216.bf754"],"uncaught":false,"x":210,"y":1830,"wires":[["d34861d8.cf767","c4df0919.a31038"]]},{"id":"e61ce5c2.e74a08","type":"ui_text","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","group":"f099a646.bd5eb8","order":2,"width":"6","height":"1","name":"Función","label":"Función:","format":"{{msg.payload}}","layout":"row-left","x":720,"y":1860,"wires":[]},{"id":"29ba2c8e.26a694","type":"ui_text","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","group":"f099a646.bd5eb8","order":3,"width":"6","height":"1","name":"Tipo","label":"Tipo:","format":"{{msg.payload}}","layout":"row-left","x":710,"y":1900,"wires":[]},{"id":"16a30db2.f4a332","type":"ui_button","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","group":"f099a646.bd5eb8","order":6,"width":"4","height":"1","passthru":false,"label":"Borrar configuración","tooltip":"","color":"","bgcolor":"","icon":"","payload":"ES_Config","payloadType":"flow","topic":"","x":230,"y":1960,"wires":[["8e749bbe.f74f28"]]},{"id":"d34861d8.cf767","type":"function","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Cargar configuración del canal","func":"var Canal = flow.get('SD_Config').Canal||null;\nvar ES = flow.get('ES')||null;\n\n// Concatenar Canal\nvar Canalmsg = \"Canal\" + Canal;\n\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:Canalmsg});\n\n// Responder\nvar Resp = ES.SD[Canalmsg];\nmsg.payload = \"Canal no configurado\";\n\nif(typeof Resp !== 'undefined'){\n    msg.Funcion = {'payload':Resp.Funcion};\n    msg.Tipo = {'payload':Resp.Tipo};\n    \n}\nelse{\n    msg.Funcion = {'payload':\"Canal no configurado\"};\n    msg.Tipo =  {'payload':\"Ninguno\"};\n}\n\nreturn [msg.Funcion, msg.Tipo];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":480,"y":1830,"wires":[["e61ce5c2.e74a08","c4e00dfa.4f109"],["29ba2c8e.26a694","37d41ac8.88d346"]]},{"id":"403f2c89.5c77c4","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","label":"Canal","tooltip":"","place":"--","group":"2d9cedce.ac17c2","order":3,"width":"2","height":"1","passthru":true,"multiple":false,"options":[{"label":"O1","value":"AO1","type":"str"},{"label":"O2","value":"AO2","type":"str"},{"label":"O3","value":"AO3","type":"str"},{"label":"O4","value":"AO4","type":"str"}],"payload":"","topic":"","x":1570,"y":1800,"wires":[["e9b72ba.cbd4bd8"]]},{"id":"fa0998da.25ce28","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","label":"Función","tooltip":"","place":"--","group":"2d9cedce.ac17c2","order":2,"width":"6","height":"1","passthru":true,"multiple":false,"options":[{"label":"Frecuencia de salida C2S","value":"Frecuencia de salida C2S","type":"str"},{"label":"Corriente de salida","value":"Corriente de salida","type":"str"},{"label":"Tensión de salida","value":"Tensión de salida","type":"str"},{"label":"Potencia de salida","value":"Potencia de salida","type":"str"},{"label":"Tensión de motor","value":"Tensión de motor","type":"str"}],"payload":"","topic":"","x":2040,"y":1730,"wires":[["3d2d28c4.24fb38"]]},{"id":"2ce5372e.7ad778","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","label":"Rango Min","tooltip":"","group":"2d9cedce.ac17c2","order":4,"width":"2","height":"1","passthru":true,"mode":"number","delay":300,"topic":"","x":2050,"y":1780,"wires":[["dca99529.6959c8"]]},{"id":"624af569.ea18cc","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","label":"Rango Max","tooltip":"","group":"2d9cedce.ac17c2","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":300,"topic":"","x":2050,"y":1830,"wires":[["10d8ade3.a7e942"]]},{"id":"303c96fd.f6ab4a","type":"ui_button","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","group":"2d9cedce.ac17c2","order":8,"width":"4","height":"1","passthru":false,"label":"Configurar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"SA_Config","payloadType":"flow","topic":"","x":2210,"y":1910,"wires":[["22b0d7de.606178","ac67f4df.445778"]]},{"id":"e9b72ba.cbd4bd8","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","rules":[{"t":"set","p":"SA_Config.Canal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1750,"y":1800,"wires":[[]]},{"id":"3d2d28c4.24fb38","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","rules":[{"t":"set","p":"SA_Config.Funcion","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2260,"y":1730,"wires":[[]]},{"id":"dca99529.6959c8","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","rules":[{"t":"set","p":"SA_Config.Rango_Min","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2270,"y":1780,"wires":[[]]},{"id":"10d8ade3.a7e942","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","rules":[{"t":"set","p":"SA_Config.Rango_Max","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2270,"y":1830,"wires":[[]]},{"id":"22b0d7de.606178","type":"switch","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","property":"payload.Canal","propertyType":"msg","rules":[{"t":"eq","v":"AO1","vt":"str"},{"t":"eq","v":"AO2","vt":"str"},{"t":"eq","v":"AO3","vt":"str"},{"t":"eq","v":"AO4","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":2350,"y":1910,"wires":[["5135d0c7.6a31b"],["d3ab8d40.89bb8"],["3c83aebf.54ee92"],["85f12e7a.2e726"]]},{"id":"5135d0c7.6a31b","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"O1","rules":[{"t":"set","p":"ES.SA.AO1.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.SA.AO1.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.SA.AO1.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2510,"y":1840,"wires":[[]]},{"id":"d3ab8d40.89bb8","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"O2","rules":[{"t":"set","p":"ES.SA.AO2.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.SA.AO2.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.SA.AO2.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2510,"y":1880,"wires":[[]]},{"id":"ac1c125d.58013","type":"ui_text","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","group":"7821f022.e6285","order":2,"width":"6","height":"1","name":"Función","label":"Función:","format":"{{msg.payload}}","layout":"row-left","x":2040,"y":1870,"wires":[]},{"id":"bb924e9.114edb","type":"ui_text","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","group":"7821f022.e6285","order":3,"width":"3","height":"1","name":"Rango Min","label":"Rango mínimo:","format":"{{msg.payload}}","layout":"row-left","x":2050,"y":1910,"wires":[]},{"id":"a1f1520d.067d8","type":"ui_text","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","group":"7821f022.e6285","order":4,"width":"3","height":"1","name":"Rango Max","label":"Rango máximo:","format":"{{msg.payload}}","layout":"row-left","x":2050,"y":1950,"wires":[]},{"id":"d3c940f3.2efcf","type":"function","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"Cargar configuración del canal","func":"var Canal = flow.get('SA_Config').Canal||null;\nvar ES = flow.get('ES')||null;\n\nmsg.payload = \"Canal no configurado\";\n\n//msg.payload = ES.EA[Canal].Rango;\n//return msg;\n\nif(typeof ES.SA[Canal] !== 'undefined'){\n    msg.Funcion =  {'payload':ES.SA[Canal].Funcion};\n    msg.RangoMin = {'payload':ES.SA[Canal].Rango_Min};\n    msg.RangoMax = {'payload':ES.SA[Canal].Rango_Max};\n}\nelse{\n    msg.Funcion = {'payload':\"Canal no configurado\"};\n    msg.RangoMin =  {'payload':null};\n    msg.RangoMax = {'payload': null};\n}\n\nreturn [msg.Funcion, msg.RangoMin, msg.RangoMax];","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1770,"y":1850,"wires":[["ac1c125d.58013","fa0998da.25ce28"],["bb924e9.114edb","2ce5372e.7ad778"],["a1f1520d.067d8","624af569.ea18cc"]]},{"id":"46172269.17fc4c","type":"complete","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"Configuración SA Completa","scope":["e9b72ba.cbd4bd8","5135d0c7.6a31b","d3ab8d40.89bb8","1d4ffc63.2c9fb4","3c83aebf.54ee92","85f12e7a.2e726"],"uncaught":false,"x":1500,"y":1850,"wires":[["d3c940f3.2efcf"]]},{"id":"6a7c3fff.d9b2f","type":"ui_button","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","group":"7821f022.e6285","order":7,"width":"4","height":"1","passthru":false,"label":"Borrar configuración","tooltip":"","color":"","bgcolor":"","icon":"","payload":"ES_Config","payloadType":"flow","topic":"","x":1520,"y":1900,"wires":[["1d4ffc63.2c9fb4"]]},{"id":"1d4ffc63.2c9fb4","type":"function","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"Borrar configuración del canal","func":"var Canal   = flow.get('SA_Config').Canal||null;\nvar ES      = flow.get('ES')||null;\n\n// Borrar propiedad\ndelete ES.SA[Canal];\n\n// Cargar nueva configuración\nflow.set('ES',ES);\n","outputs":0,"noerr":0,"initialize":"","finalize":"","x":1770,"y":1900,"wires":[]},{"id":"e4e1a727.bfdc98","type":"link out","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"DI1","links":["59cc6269.8b63dc"],"x":465,"y":1060,"wires":[]},{"id":"59cd5141.6d208","type":"link out","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"DI2","links":["59cc6269.8b63dc"],"x":865,"y":1060,"wires":[]},{"id":"d5af92d1.30c4d","type":"link out","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"DI3","links":["59cc6269.8b63dc"],"x":1255,"y":1060,"wires":[]},{"id":"b8115e69.2fa69","type":"link out","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"DI4","links":["59cc6269.8b63dc"],"x":465,"y":1280,"wires":[]},{"id":"59cc6269.8b63dc","type":"link in","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"DI","links":["d5af92d1.30c4d","b8115e69.2fa69","59cd5141.6d208","e4e1a727.bfdc98","2b33cbc0.5a4c64"],"x":505,"y":950,"wires":[["8ecce404.876938"]]},{"id":"4f7d7d5d.f0e5c4","type":"comment","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"Configuración Salidas analógicas","info":"","x":1510,"y":1730,"wires":[]},{"id":"1ebf6b2.52e8695","type":"change","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Frecuencia","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::PQA.Real_Time_Parameters.Frequency","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3170,"y":50,"wires":[["23a2e534.c227ba"]]},{"id":"609f652a.1629bc","type":"change","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Tensión de fase promedio","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::PQA.Real_Time_Parameters.Average_Phase_Voltage","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3130,"y":90,"wires":[["ad35e08b.93dd"]]},{"id":"b73ecfac.dd9a5","type":"change","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Tensión de línea promedio","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::PQA.Real_Time_Parameters.Average_Line_Voltage","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3120,"y":130,"wires":[["b5f98fab.54e65"]]},{"id":"8b8bceb8.c893b","type":"change","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"THD Tensión Promedio","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::PQA.Harmonics.Power_Quality.THD_avg","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3130,"y":170,"wires":[["767c6edd.e99ef"]]},{"id":"5ffa1ec7.3e093","type":"change","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"THD Corriente Promedio","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::PQA.Harmonics.Power_Quality.THD_Iavg","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3130,"y":210,"wires":[["61519ed8.7e8ec"]]},{"id":"188fa39a.e3a3ec","type":"template","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Menu Admin","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":" <!-- Navigation Bar -->\n    <div class=\"container align-self-center\">\n        <div class=\"row\">\n            <div class=\"col-12\">\n                <ul class=\"nav nav-pills nav-fill\" id=\"pills-tab\" role=\"tablist\">\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link active\" id=\"pills-Configurations-tab\" data-toggle=\"pill\" href=\"#pills-Configurations\" role=\"tab\" aria-controls=\"pills-Configurations\" aria-selected=\"true\">Configuración</a>\n                  </li>\n                  {{!--<li class=\"nav-item\" role=\"presentation\">--}}\n                  {{!--  <a class=\"nav-link\" id=\"pills-Trends-tab\" data-toggle=\"pill\" href=\"#pills-Trends\" role=\"tab\" aria-controls=\"pills-Trends\" aria-selected=\"false\">Tendencias</a>--}}\n                  {{!--</li>--}}\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link\" id=\"pills-Monitoring-tab\" data-toggle=\"pill\" href=\"#pills-Monitoring\" role=\"tab\" aria-controls=\"pills-Monitoring\" aria-selected=\"false\">Monitoreo</a>\n                  </li>\n                </ul>\n                <div class=\"tab-content\" id=\"pills-tabContent\">\n                    <!-- Configurations -->\n                    <div class=\"tab-pane fade show active\" id=\"pills-Configurations\" role=\"tabpanel\" aria-labelledby=\"pills-Configurations-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <p></p>\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                              <a class=\"nav-link active\" id=\"v-pills-Drive-tab\" data-toggle=\"pill\" href=\"#v-pills-Estandar\" role=\"tab\" aria-controls=\"v-pills-Estandar\" aria-selected=\"true\">Estándar</a>\n                              <a class=\"nav-link\" id=\"v-pills-IO-tab\" data-toggle=\"pill\" href=\"#v-pills-IO\" role=\"tab\" aria-controls=\"v-pills-IO\" aria-selected=\"false\">E/S</a>\n                              <a class=\"nav-link\" id=\"v-pills-Protection-tab\" data-toggle=\"pill\" href=\"#v-pills-Protection\" role=\"tab\" aria-controls=\"v-pills-Protection\" aria-selected=\"false\">Protecciones</a>\n                              <a class=\"nav-link\" id=\"v-pills-Communications-tab\" data-toggle=\"pill\" href=\"#v-pills-Communications\" role=\"tab\" aria-controls=\"v-pills-Communications\" aria-selected=\"false\">Comunicaciones</a>\n                              <!--<a class=\"nav-link\" id=\"v-pills-Control-tab\" data-toggle=\"pill\" href=\"#v-pills-Control\" role=\"tab\" aria-controls=\"v-pills-Control\" aria-selected=\"false\">Tipo de control</a>-->\n                              <a class=\"nav-link disabled\" id=\"v-pills-AVAS-tab\" data-toggle=\"pill\" href=\"#v-pills-AVAS\" role=\"tab\" aria-controls=\"v-pills-AVAS\" aria-selected=\"false\">AVAS</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-Estandar\" role=\"tabpanel\" aria-labelledby=\"v-pills-Estandar-tab\">\n                                    <!-- Drive -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/4\" class=\"list-group-item list-group-item-action\">Variador C2S</a>\n                                        <a href=\"http://localhost:1880/ui/#!/5\" class=\"list-group-item list-group-item-action\">Relación de reducción</a>\n                                        <a href=\"http://localhost:1880/ui/#!/6\" class=\"list-group-item list-group-item-action\">Filtro de armónicos</a>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/7\" class=\"list-group-item list-group-item-action\">Hardware disponible</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/8\" class=\"list-group-item list-group-item-action\">Tipo de arranque</a>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/9\" class=\"list-group-item list-group-item-action\">Unidades de ingeniería</a>-->\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-IO\" role=\"tabpanel\" aria-labelledby=\"v-pills-IO-tab\">\n                                    <!-- IO -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/10\" class=\"list-group-item list-group-item-action\">Swc Pro®</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/10\" class=\"list-group-item list-group-item-action\">CILA2S</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Protection\" role=\"tabpanel\" aria-labelledby=\"v-pills-Protection-tab\">\n                                    <!-- Protection -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/12\" class=\"list-group-item list-group-item-action\">Fondo</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/13\" class=\"list-group-item list-group-item-action\">Superficie</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Communications\" role=\"tabpanel\" aria-labelledby=\"v-pills-Communications-tab\">\n                                    <!-- Communications -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/14\" class=\"list-group-item list-group-item-action\">SCADA</a>\n                                        <a href=\"http://localhost:1880/ui/#!/16\" class=\"list-group-item list-group-item-action\">PQA</a>\n                                        <a href=\"http://localhost:1880/ui/#!/17\" class=\"list-group-item list-group-item-action\">C2S</a>\n                                        <a href=\"http://localhost:1880/ui/#!/18\" class=\"list-group-item list-group-item-action\">SWC</a>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/15\" class=\"list-group-item list-group-item-action\">Sensor de fondo</a>-->\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Control\" role=\"tabpanel\" aria-labelledby=\"v-pills-Control-tab\">\n                                    <!-- Control -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/19\" class=\"list-group-item list-group-item-action\">Control inteligente de torque</a>-->\n                                        <!--<a href=\"http://localhost:1880/ui/#!/20\" class=\"list-group-item list-group-item-action\">Control de backspin</a>-->\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-AVAS\" role=\"tabpanel\" aria-labelledby=\"v-pills-AVAS-tab\">\n                                    <!-- Control -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/21\" class=\"list-group-item list-group-item-action disabled\">IWOC®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/22\" class=\"list-group-item list-group-item-action\">Sensor Less®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/23\" class=\"list-group-item list-group-item-action\">Power Sag®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/24\" class=\"list-group-item list-group-item-action\">IRL®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/25\" class=\"list-group-item list-group-item-action\">GasLock®</a>  \n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                  \n                    <!-- Trends -->\n                    <div class=\"tab-pane fade\" id=\"pills-Trends\" role=\"tabpanel\" aria-labelledby=\"pills-Trends-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                              <p></p>\n                              <a class=\"nav-link active\" id=\"v-pills-Surface-tab\" data-toggle=\"pill\" href=\"#v-pills-Surface\" role=\"tab\" aria-controls=\"v-pills-Surface\" aria-selected=\"true\">CILA2S</a>\n                              <!--<a class=\"nav-link\" id=\"v-pills-Downhole-tab\" data-toggle=\"pill\" href=\"#v-pills-Downhole\" role=\"tab\" aria-controls=\"v-pills-Downhole\" aria-selected=\"false\">Sistema de inyección</a>-->\n                              <!--<a class=\"nav-link\" id=\"v-pills-Multivariable-tab\" data-toggle=\"pill\" href=\"#v-pills-Multivariable\" role=\"tab\" aria-controls=\"v-pills-Multivariable\" aria-selected=\"false\">Multivariable</a>-->\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-Surface\" role=\"tabpanel\" aria-labelledby=\"v-pills-Surface-tab\">\n                                    <!-- Superficie -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/26\" class=\"list-group-item list-group-item-action\">Datos Operativos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/27\" class=\"list-group-item list-group-item-action\">Eléctricos de entrada</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Downhole\" role=\"tabpanel\" aria-labelledby=\"v-pills-ElectricData-tab\">\n                                    <!-- Fondo -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/28\" class=\"list-group-item list-group-item-action\">Sensor de Fondo</a>-->\n                                        <!--<a href=\"http://localhost:1880/ui/#!/29\" class=\"list-group-item list-group-item-action\">SensorLess®</a>-->\n                                    </div>\n                                    \n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Multivariable\" role=\"tabpanel\" aria-labelledby=\"v-pills-DownholeData-tab\">\n                                    <!-- Multivariable -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                     <!-- Monitoring -->\n                    <div class=\"tab-pane fade\" id=\"pills-Monitoring\" role=\"tabpanel\" aria-labelledby=\"pills-Monitoring-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                                <p></p>\n                                <a class=\"nav-link active\" id=\"v-pills-OperativeDataMonitor-tab\" data-toggle=\"pill\" href=\"#v-pills-OperativeDataMonitor\" role=\"tab\" aria-controls=\"v-pills-OperativeDataMonitor\" aria-selected=\"true\">Datos Operativos</a>\n                                <a class=\"nav-link\" id=\"v-pills-ES_Monitoring-tab\" data-toggle=\"pill\" href=\"#v-pills-ES_Monitoring\" role=\"tab\" aria-controls=\"v-pills-ES_Monitoring\" aria-selected=\"false\">E/S</a>\n                                <a class=\"nav-link disabled\" id=\"v-pills-AVASMonitor-tab\" data-toggle=\"pill\" href=\"#v-pills-AVASMonitor\" role=\"tab\" aria-controls=\"v-pills-AVASMonitor\" aria-selected=\"false\">AVAS</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-OperativeDataMonitor\" role=\"tabpanel\" aria-labelledby=\"v-pills-OperativeDataMonitor-tab\">\n                                    <!-- OperativeData -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/31\" class=\"list-group-item list-group-item-action\">Armónicos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/41\" class=\"list-group-item list-group-item-action\">Datos eléctricos</a>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/30\" class=\"list-group-item list-group-item-action\">Fondo</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/32\" class=\"list-group-item list-group-item-action\">SWC</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-ES_Monitoring\" role=\"tabpanel\" aria-labelledby=\"v-pills-ES_Monitoring-tab\">\n                                    <!-- E/S Monitoring -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/32\" class=\"list-group-item list-group-item-action\">SWC Pro®</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/33\" class=\"list-group-item list-group-item-action\">CILA2S</a>\n                                    </div>  \n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-AVASMonitor\" role=\"tabpanel\" aria-labelledby=\"v-pills-AVASMonitor-tab\">\n                                    <!-- AVA's monitoring-->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/43\" class=\"list-group-item list-group-item-action\">IPR®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/34\" class=\"list-group-item list-group-item-action disabled\">IWOC®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/35\" class=\"list-group-item list-group-item-action\">Sensor Less®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/36\" class=\"list-group-item list-group-item-action\">Power Sag®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/37\" class=\"list-group-item list-group-item-action\">IRL®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/38\" class=\"list-group-item list-group-item-action\">GasLock®</a>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>","output":"str","x":350,"y":200,"wires":[["4c8b7786.0a4da8"]]},{"id":"4feb0a11.ed3ed4","type":"template","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Menu No user","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":" <!-- Navigation Bar -->\n    <div class=\"container align-self-center\">\n        <div class=\"row\">\n            <div class=\"col-12\">\n                <ul class=\"nav nav-pills nav-fill\" id=\"pills-tab\" role=\"tablist\">\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link active\" id=\"pills-Configurations-tab\" data-toggle=\"pill\" href=\"#pills-Configurations\" role=\"tab\" aria-controls=\"pills-Configurations\" aria-selected=\"true\">Configuración</a>\n                  </li>\n                  {{!--<li class=\"nav-item\" role=\"presentation\">--}}\n                  {{!--  <a class=\"nav-link\" id=\"pills-Trends-tab\" data-toggle=\"pill\" href=\"#pills-Trends\" role=\"tab\" aria-controls=\"pills-Trends\" aria-selected=\"false\">Tendencias</a>--}}\n                  {{!--</li>--}}\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link\" id=\"pills-Monitoring-tab\" data-toggle=\"pill\" href=\"#pills-Monitoring\" role=\"tab\" aria-controls=\"pills-Monitoring\" aria-selected=\"false\">Monitoreo</a>\n                  </li>\n                </ul>\n                <div class=\"tab-content\" id=\"pills-tabContent\">\n                    <!-- Configurations -->\n                    <div class=\"tab-pane fade show active\" id=\"pills-Configurations\" role=\"tabpanel\" aria-labelledby=\"pills-Configurations-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <p></p>\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                              <a class=\"nav-link active\" id=\"v-pills-Drive-tab\" data-toggle=\"pill\" href=\"#v-pills-Estandar\" role=\"tab\" aria-controls=\"v-pills-Estandar\" aria-selected=\"true\">Estándar</a>\n                              <a class=\"nav-link\" id=\"v-pills-IO-tab\" data-toggle=\"pill\" href=\"#v-pills-IO\" role=\"tab\" aria-controls=\"v-pills-IO\" aria-selected=\"false\">E/S</a>\n                              <a class=\"nav-link\" id=\"v-pills-Protection-tab\" data-toggle=\"pill\" href=\"#v-pills-Protection\" role=\"tab\" aria-controls=\"v-pills-Protection\" aria-selected=\"false\">Protecciones</a>\n                              <a class=\"nav-link\" id=\"v-pills-Communications-tab\" data-toggle=\"pill\" href=\"#v-pills-Communications\" role=\"tab\" aria-controls=\"v-pills-Communications\" aria-selected=\"false\">Comunicaciones</a>\n                              <!--<a class=\"nav-link\" id=\"v-pills-Control-tab\" data-toggle=\"pill\" href=\"#v-pills-Control\" role=\"tab\" aria-controls=\"v-pills-Control\" aria-selected=\"false\">Tipo de control</a>-->\n                              <a class=\"nav-link disabled\" id=\"v-pills-AVAS-tab\" data-toggle=\"pill\" href=\"#v-pills-AVAS\" role=\"tab\" aria-controls=\"v-pills-AVAS\" aria-selected=\"false\">AVAS</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-Estandar\" role=\"tabpanel\" aria-labelledby=\"v-pills-Estandar-tab\">\n                                    <!-- Drive -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/4\" class=\"list-group-item list-group-item-action disabled\">Variador C2S</a>\n                                        <a href=\"http://localhost:1880/ui/#!/5\" class=\"list-group-item list-group-item-action disabled\">Relación de reducción</a>\n                                        <a href=\"http://localhost:1880/ui/#!/6\" class=\"list-group-item list-group-item-action disabled\">Filtro de armónicos</a>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/7\" class=\"list-group-item list-group-item-action disabled\">Hardware disponible</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/8\" class=\"list-group-item list-group-item-action disabled\">Tipo de arranque</a>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/9\" class=\"list-group-item list-group-item-action disabled\">Unidades de ingeniería</a>-->\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-IO\" role=\"tabpanel\" aria-labelledby=\"v-pills-IO-tab\">\n                                    <!-- IO -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/10\" class=\"list-group-item list-group-item-action  disabled\">Swc Pro®</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/10\" class=\"list-group-item list-group-item-action disabled\">CILA2S</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Protection\" role=\"tabpanel\" aria-labelledby=\"v-pills-Protection-tab\">\n                                    <!-- Protection -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/12\" class=\"list-group-item list-group-item-action disabled\">Fondo</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/13\" class=\"list-group-item list-group-item-action disabled\">Superficie</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Communications\" role=\"tabpanel\" aria-labelledby=\"v-pills-Communications-tab\">\n                                    <!-- Communications -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/14\" class=\"list-group-item list-group-item-action disabled\">SCADA</a>\n                                        <a href=\"http://localhost:1880/ui/#!/16\" class=\"list-group-item list-group-item-action disabled\">PQA</a>\n                                        <a href=\"http://localhost:1880/ui/#!/17\" class=\"list-group-item list-group-item-action disabled\">C2S</a>\n                                        <a href=\"http://localhost:1880/ui/#!/18\" class=\"list-group-item list-group-item-action disabled\">SWC</a>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/15\" class=\"list-group-item list-group-item-action disabled\">Sensor de fondo</a>-->\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Control\" role=\"tabpanel\" aria-labelledby=\"v-pills-Control-tab\">\n                                    <!-- Control -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/19\" class=\"list-group-item list-group-item-action disabled\">Control inteligente de torque</a>-->\n                                        <!--<a href=\"http://localhost:1880/ui/#!/20\" class=\"list-group-item list-group-item-action disabled\">Control de backspin</a>-->\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-AVAS\" role=\"tabpanel\" aria-labelledby=\"v-pills-AVAS-tab\">\n                                    <!-- Control -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/21\" class=\"list-group-item list-group-item-action disabled\">IWOC®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/22\" class=\"list-group-item list-group-item-action disabled\">Sensor Less®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/23\" class=\"list-group-item list-group-item-action disabled\">Power Sag®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/24\" class=\"list-group-item list-group-item-action disabled\">IRL®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/25\" class=\"list-group-item list-group-item-action disabled\">GasLock®</a>  \n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                  \n                    <!-- Trends -->\n                    <div class=\"tab-pane fade\" id=\"pills-Trends\" role=\"tabpanel\" aria-labelledby=\"pills-Trends-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                              <p></p>\n                              <a class=\"nav-link active\" id=\"v-pills-Surface-tab\" data-toggle=\"pill\" href=\"#v-pills-Surface\" role=\"tab\" aria-controls=\"v-pills-Surface\" aria-selected=\"true\">CILA2S</a>\n                              <!--<a class=\"nav-link\" id=\"v-pills-Downhole-tab\" data-toggle=\"pill\" href=\"#v-pills-Downhole\" role=\"tab\" aria-controls=\"v-pills-Downhole\" aria-selected=\"false\">Sistema de inyección</a>-->\n                              <!--<a class=\"nav-link\" id=\"v-pills-Multivariable-tab\" data-toggle=\"pill\" href=\"#v-pills-Multivariable\" role=\"tab\" aria-controls=\"v-pills-Multivariable\" aria-selected=\"false\">Multivariable</a>-->\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-Surface\" role=\"tabpanel\" aria-labelledby=\"v-pills-Surface-tab\">\n                                    <!-- Superficie -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/26\" class=\"list-group-item list-group-item-action disabled\">Datos Operativos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/27\" class=\"list-group-item list-group-item-action disabled\">Eléctricos de entrada</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Downhole\" role=\"tabpanel\" aria-labelledby=\"v-pills-ElectricData-tab\">\n                                    <!-- Fondo -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/28\" class=\"list-group-item list-group-item-action disabled\">Sensor de Fondo</a>-->\n                                        <!--<a href=\"http://localhost:1880/ui/#!/29\" class=\"list-group-item list-group-item-action disabled\">SensorLess®</a>-->\n                                    </div>\n                                    \n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Multivariable\" role=\"tabpanel\" aria-labelledby=\"v-pills-DownholeData-tab\">\n                                    <!-- Multivariable -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action disabled\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action disabled\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action disabled\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action disabled\">...</a>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                     <!-- Monitoring -->\n                    <div class=\"tab-pane fade\" id=\"pills-Monitoring\" role=\"tabpanel\" aria-labelledby=\"pills-Monitoring-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                                <p></p>\n                                <a class=\"nav-link active\" id=\"v-pills-OperativeDataMonitor-tab\" data-toggle=\"pill\" href=\"#v-pills-OperativeDataMonitor\" role=\"tab\" aria-controls=\"v-pills-OperativeDataMonitor\" aria-selected=\"true\">Datos Operativos</a>\n                                <a class=\"nav-link\" id=\"v-pills-ES_Monitoring-tab\" data-toggle=\"pill\" href=\"#v-pills-ES_Monitoring\" role=\"tab\" aria-controls=\"v-pills-ES_Monitoring\" aria-selected=\"false\">E/S</a>\n                                <a class=\"nav-link disabled\" id=\"v-pills-AVASMonitor-tab\" data-toggle=\"pill\" href=\"#v-pills-AVASMonitor\" role=\"tab\" aria-controls=\"v-pills-AVASMonitor\" aria-selected=\"false\">AVAS</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-OperativeDataMonitor\" role=\"tabpanel\" aria-labelledby=\"v-pills-OperativeDataMonitor-tab\">\n                                    <!-- OperativeData -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/31\" class=\"list-group-item list-group-item-action disabled\">Armónicos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/41\" class=\"list-group-item list-group-item-action disabled\">Datos eléctricos</a>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/30\" class=\"list-group-item list-group-item-action disabled\">Fondo</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/32\" class=\"list-group-item list-group-item-action disabled\">SWC</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-ES_Monitoring\" role=\"tabpanel\" aria-labelledby=\"v-pills-ES_Monitoring-tab\">\n                                    <!-- E/S Monitoring -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/32\" class=\"list-group-item list-group-item-action disabled\">SWC Pro®</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/33\" class=\"list-group-item list-group-item-action disabled\">CILA2S</a>\n                                    </div>  \n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-AVASMonitor\" role=\"tabpanel\" aria-labelledby=\"v-pills-AVASMonitor-tab\">\n                                    <!-- AVA's monitoring-->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/43\" class=\"list-group-item list-group-item-action disabled\">IPR®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/34\" class=\"list-group-item list-group-item-action disabled\">IWOC®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/35\" class=\"list-group-item list-group-item-action disabled\">Sensor Less®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/36\" class=\"list-group-item list-group-item-action disabled\">Power Sag®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/37\" class=\"list-group-item list-group-item-action disabled\">IRL®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/38\" class=\"list-group-item list-group-item-action disabled\">GasLock®</a>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>","output":"str","x":340,"y":160,"wires":[["4c8b7786.0a4da8","730afe4e.63438"]]},{"id":"50c0a40f.f78b9c","type":"template","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Menu Oper","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":" <!-- Navigation Bar -->\n    <div class=\"container align-self-center\">\n        <div class=\"row\">\n            <div class=\"col-12\">\n                <ul class=\"nav nav-pills nav-fill\" id=\"pills-tab\" role=\"tablist\">\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link active\" id=\"pills-Configurations-tab\" data-toggle=\"pill\" href=\"#pills-Configurations\" role=\"tab\" aria-controls=\"pills-Configurations\" aria-selected=\"true\">Configuración</a>\n                  </li>\n                  {{!--<li class=\"nav-item\" role=\"presentation\">--}}\n                  {{!--  <a class=\"nav-link\" id=\"pills-Trends-tab\" data-toggle=\"pill\" href=\"#pills-Trends\" role=\"tab\" aria-controls=\"pills-Trends\" aria-selected=\"false\">Tendencias</a>--}}\n                  {{!--</li>--}}\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link\" id=\"pills-Monitoring-tab\" data-toggle=\"pill\" href=\"#pills-Monitoring\" role=\"tab\" aria-controls=\"pills-Monitoring\" aria-selected=\"false\">Monitoreo</a>\n                  </li>\n                </ul>\n                <div class=\"tab-content\" id=\"pills-tabContent\">\n                    <!-- Configurations -->\n                    <div class=\"tab-pane fade show active\" id=\"pills-Configurations\" role=\"tabpanel\" aria-labelledby=\"pills-Configurations-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <p></p>\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                              <a class=\"nav-link active\" id=\"v-pills-Drive-tab\" data-toggle=\"pill\" href=\"#v-pills-Estandar\" role=\"tab\" aria-controls=\"v-pills-Estandar\" aria-selected=\"true\">Estándar</a>\n                              <a class=\"nav-link\" id=\"v-pills-IO-tab\" data-toggle=\"pill\" href=\"#v-pills-IO\" role=\"tab\" aria-controls=\"v-pills-IO\" aria-selected=\"false\">E/S</a>\n                              <a class=\"nav-link\" id=\"v-pills-Protection-tab\" data-toggle=\"pill\" href=\"#v-pills-Protection\" role=\"tab\" aria-controls=\"v-pills-Protection\" aria-selected=\"false\">Protecciones</a>\n                              <a class=\"nav-link\" id=\"v-pills-Communications-tab\" data-toggle=\"pill\" href=\"#v-pills-Communications\" role=\"tab\" aria-controls=\"v-pills-Communications\" aria-selected=\"false\">Comunicaciones</a>\n                              <!--<a class=\"nav-link\" id=\"v-pills-Control-tab\" data-toggle=\"pill\" href=\"#v-pills-Control\" role=\"tab\" aria-controls=\"v-pills-Control\" aria-selected=\"false\">Tipo de control</a>-->\n                              <a class=\"nav-link disabled\" id=\"v-pills-AVAS-tab\" data-toggle=\"pill\" href=\"#v-pills-AVAS\" role=\"tab\" aria-controls=\"v-pills-AVAS\" aria-selected=\"false\">AVAs</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-Estandar\" role=\"tabpanel\" aria-labelledby=\"v-pills-Estandar-tab\">\n                                    <!-- Drive -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/4\" class=\"list-group-item list-group-item-action disabled\">Variador C2S</a>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/5\" class=\"list-group-item list-group-item-action disabled\">Relación de reducción</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/6\" class=\"list-group-item list-group-item-action disabled\">Filtro de armónicos</a>\n                                        <!--a href=\"http://localhost:1880/ui/#!/7\" class=\"list-group-item list-group-item-action disabled\">Hardware disponible</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/8\" class=\"list-group-item list-group-item-action disabled\">Tipo de arranque</a>    <!-- Actualizar pestañas desde aquí -->\n                                        <!--<a href=\"http://localhost:1880/ui/#!/9\" class=\"list-group-item list-group-item-action disabled\">Unidades de ingeniería</a>-->\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-IO\" role=\"tabpanel\" aria-labelledby=\"v-pills-IO-tab\">\n                                    <!-- IO -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/10\" class=\"list-group-item list-group-item-action  disabled\">Swc Pro®</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/10\" class=\"list-group-item list-group-item-action disabled\">CILA2S</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Protection\" role=\"tabpanel\" aria-labelledby=\"v-pills-Protection-tab\">\n                                    <!-- Protection -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/12\" class=\"list-group-item disabled list-group-item-action disabled\">Fondo</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/13\" class=\"list-group-item list-group-item-action disabled\">Superficie</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Communications\" role=\"tabpanel\" aria-labelledby=\"v-pills-Communications-tab\">\n                                    <!-- Communications -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/14\" class=\"list-group-item list-group-item-action disabled\">SCADA</a>\n                                        <a href=\"http://localhost:1880/ui/#!/16\" class=\"list-group-item list-group-item-action disabled\">PQA</a>\n                                        <a href=\"http://localhost:1880/ui/#!/17\" class=\"list-group-item list-group-item-action disabled\">C2S</a>\n                                        <a href=\"http://localhost:1880/ui/#!/18\" class=\"list-group-item list-group-item-action disabled\">SWC</a>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/15\" class=\"list-group-item list-group-item-action disabled\">Sensor de fondo</a>-->\n                                        \n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Control\" role=\"tabpanel\" aria-labelledby=\"v-pills-Control-tab\">\n                                    <!-- Control -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/19\" class=\"list-group-item list-group-item-action disabled\">Control inteligente de torque</a>-->\n                                        <!--<a href=\"http://localhost:1880/ui/#!/20\" class=\"list-group-item list-group-item-action disabled\">Control de backspin</a>-->\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-AVAS\" role=\"tabpanel\" aria-labelledby=\"v-pills-AVAS-tab\">\n                                    <!-- Control -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/21\" class=\"list-group-item list-group-item-action disabled\">IWOC®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/22\" class=\"list-group-item list-group-item-action disabled\">Sensor Less®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/23\" class=\"list-group-item list-group-item-action disabled\">Power Sag®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/24\" class=\"list-group-item list-group-item-action disabled\">IRL®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/25\" class=\"list-group-item list-group-item-action disabled\">GasLock®</a>  \n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                  \n                    <!-- Trends -->\n                    <div class=\"tab-pane fade\" id=\"pills-Trends\" role=\"tabpanel\" aria-labelledby=\"pills-Trends-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                              <p></p>\n                              <a class=\"nav-link active\" id=\"v-pills-Surface-tab\" data-toggle=\"pill\" href=\"#v-pills-Surface\" role=\"tab\" aria-controls=\"v-pills-Surface\" aria-selected=\"true\">CILA2S</a>\n                              <!--<a class=\"nav-link\" id=\"v-pills-Downhole-tab\" data-toggle=\"pill\" href=\"#v-pills-Downhole\" role=\"tab\" aria-controls=\"v-pills-Downhole\" aria-selected=\"false\">Sistema de inyección</a>-->\n                              <!--<a class=\"nav-link\" id=\"v-pills-Multivariable-tab\" data-toggle=\"pill\" href=\"#v-pills-Multivariable\" role=\"tab\" aria-controls=\"v-pills-Multivariable\" aria-selected=\"false\">Multivariable</a>-->\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-Surface\" role=\"tabpanel\" aria-labelledby=\"v-pills-Surface-tab\">\n                                    <!-- Superficie -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/26\" class=\"list-group-item list-group-item-action\">Datos Operativos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/27\" class=\"list-group-item list-group-item-action\">Eléctricos de entrada</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Downhole\" role=\"tabpanel\" aria-labelledby=\"v-pills-ElectricData-tab\">\n                                    <!-- Fondo -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/28\" class=\"list-group-item list-group-item-action\">Sensor de Fondo</a>-->\n                                        <!--<a href=\"http://localhost:1880/ui/#!/29\" class=\"list-group-item list-group-item-action\">SensorLess®</a>-->\n                                    </div>\n                                    \n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Multivariable\" role=\"tabpanel\" aria-labelledby=\"v-pills-DownholeData-tab\">\n                                    <!-- Multivariable -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                     <!-- Monitoring -->\n                    <div class=\"tab-pane fade\" id=\"pills-Monitoring\" role=\"tabpanel\" aria-labelledby=\"pills-Monitoring-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                                <p></p>\n                                <a class=\"nav-link active\" id=\"v-pills-OperativeDataMonitor-tab\" data-toggle=\"pill\" href=\"#v-pills-OperativeDataMonitor\" role=\"tab\" aria-controls=\"v-pills-OperativeDataMonitor\" aria-selected=\"true\">Datos Operativos</a>\n                                <a class=\"nav-link\" id=\"v-pills-ES_Monitoring-tab\" data-toggle=\"pill\" href=\"#v-pills-ES_Monitoring\" role=\"tab\" aria-controls=\"v-pills-ES_Monitoring\" aria-selected=\"false\">E/S</a>\n                                <a class=\"nav-link disabled\" id=\"v-pills-AVASMonitor-tab\" data-toggle=\"pill\" href=\"#v-pills-AVASMonitor\" role=\"tab\" aria-controls=\"v-pills-AVASMonitor\" aria-selected=\"false\">AVAS</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-OperativeDataMonitor\" role=\"tabpanel\" aria-labelledby=\"v-pills-OperativeDataMonitor-tab\">\n                                    <!-- OperativeData -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/31\" class=\"list-group-item list-group-item-action\">Armónicos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/41\" class=\"list-group-item list-group-item-action\">Datos eléctricos</a>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/30\" class=\"list-group-item list-group-item-action\">Fondo</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/32\" class=\"list-group-item list-group-item-action\">SWC</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-ES_Monitoring\" role=\"tabpanel\" aria-labelledby=\"v-pills-ES_Monitoring-tab\">\n                                    <!-- E/S Monitoring -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/32\" class=\"list-group-item list-group-item-action\">SWC Pro®</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/33\" class=\"list-group-item list-group-item-action\">CILA2S</a>\n                                    </div>  \n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-AVASMonitor\" role=\"tabpanel\" aria-labelledby=\"v-pills-AVASMonitor-tab\">\n                                    <!-- AVA's monitoring-->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/43\" class=\"list-group-item list-group-item-action\">IPR®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/34\" class=\"list-group-item list-group-item-action disabled\">IWOC®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/35\" class=\"list-group-item list-group-item-action\">Sensor Less®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/36\" class=\"list-group-item list-group-item-action\">Power Sag®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/37\" class=\"list-group-item list-group-item-action\">IRL®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/38\" class=\"list-group-item list-group-item-action\">GasLock®</a>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>","output":"str","x":350,"y":240,"wires":[["4c8b7786.0a4da8"]]},{"id":"8edea7ae.674088","type":"link out","z":"827787d0.ede678","g":"64ff74e5.f4c53c","name":"No user Out","links":["dd807959.9e5a08","bf656c1e.ff84","40b58948.5d5a48"],"x":725,"y":310,"wires":[]},{"id":"33c5f16c.c8a5ae","type":"link out","z":"827787d0.ede678","g":"64ff74e5.f4c53c","name":"Admin Out","links":["5cc2d788.18b678","ba3ec3f7.7f116","b87d8378.fe2aa","6f2053fa.77020c"],"x":725,"y":370,"wires":[]},{"id":"42f85e00.83b314","type":"link out","z":"827787d0.ede678","g":"64ff74e5.f4c53c","name":"Oper Out","links":["30e13f64.16c0d","ba3ec3f7.7f116","b87d8378.fe2aa","6f2053fa.77020c"],"x":725,"y":430,"wires":[]},{"id":"dd807959.9e5a08","type":"link in","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"No user In","links":["8edea7ae.674088"],"x":205,"y":160,"wires":[["4feb0a11.ed3ed4"]]},{"id":"5cc2d788.18b678","type":"link in","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Admin In","links":["33c5f16c.c8a5ae"],"x":205,"y":200,"wires":[["188fa39a.e3a3ec"]]},{"id":"30e13f64.16c0d","type":"link in","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Oper In","links":["42f85e00.83b314"],"x":205,"y":240,"wires":[["50c0a40f.f78b9c"]]},{"id":"df6fb5ca.5f8af8","type":"subflow:2657da37.013b66","z":"827787d0.ede678","g":"eb91dac5.690838","name":"Usuario","env":[],"x":1200,"y":80,"wires":[["7de51565.2383cc"]],"inputLabels":["Input msg"],"outputLabels":["Output msg"]},{"id":"28cd79fb.3dcae6","type":"ui_button","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","group":"a706ea3d.b7fbc8","order":11,"width":3,"height":1,"passthru":true,"label":"Cerrar sesión","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"num","topic":"Cerrar sesión","x":830,"y":80,"wires":[["df6fb5ca.5f8af8","2ffa7be0.763644","2066be8e.5c6832"]]},{"id":"2066be8e.5c6832","type":"ui_text_input","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","label":"Nombre de usuario","tooltip":"","group":"a706ea3d.b7fbc8","order":4,"width":"6","height":"1","passthru":true,"mode":"text","delay":"10","topic":"user","x":990,"y":150,"wires":[["df6fb5ca.5f8af8"]]},{"id":"e04fbd1c.98ffe","type":"ui_button","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","group":"a706ea3d.b7fbc8","order":10,"width":3,"height":1,"passthru":false,"label":"Iniciar sesión","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"Iniciar sesión","x":1010,"y":190,"wires":[["df6fb5ca.5f8af8"]]},{"id":"2ffa7be0.763644","type":"ui_text_input","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","label":"Contraseña","tooltip":"","group":"a706ea3d.b7fbc8","order":7,"width":"6","height":"1","passthru":true,"mode":"password","delay":"50","topic":"password","x":1010,"y":110,"wires":[["df6fb5ca.5f8af8"]]},{"id":"496f46c9.6e2eb8","type":"change","z":"c8b77ff3.ab501","name":"","rules":[{"t":"set","p":"Run","pt":"flow","to":"true","tot":"bool"},{"t":"set","p":"Reset","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":110,"wires":[["d5c3f10c.5e2e1"]]},{"id":"faf6a9fc.1f3448","type":"change","z":"c8b77ff3.ab501","name":"","rules":[{"t":"set","p":"Run","pt":"flow","to":"false","tot":"bool"},{"t":"set","p":"Reset","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":150,"wires":[["d5c3f10c.5e2e1"]]},{"id":"a92c8835.c15158","type":"change","z":"c8b77ff3.ab501","name":"","rules":[{"t":"set","p":"Reset","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":190,"wires":[["d5c3f10c.5e2e1"]]},{"id":"d5c3f10c.5e2e1","type":"function","z":"c8b77ff3.ab501","name":"LogicCommand","func":"//Buffer\nvar buffer = [0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0];\n\n//Global variables asignations\nvar Start_Stop  = flow.get(\"Run\");\nvar Direction   = flow.get(\"Direction\");\nvar Reset       = flow.get(\"Reset\")\nvar Command     = 0;\n\n// Start/Stop\nif(Start_Stop === true){buffer[0] = 0;  buffer[1] = 1;} // Start\nelse{                   buffer[0] = 1;  buffer[1] = 0;} // Stop\n\n//Reset\nif(Reset === true){     buffer[3] = 1;}                 // Reset\nelse{                   buffer[3] = 0;}\n\n// Direction\nif(Direction === true){buffer[4] = 0;   buffer[5] = 1;} // Reverse\nelse{                  buffer[4] = 1;   buffer[5] = 0;} // Forward \n\n//Command construction\nfor(var i=0; i<buffer.length; i++){\n    Command += buffer[i] * Math.pow(2, i);\n}\n\n//Mensaje de salida\nif(msg.payload == 'Start'){\n    if(Direction === true){\n        msg.command = \"Arranque 'Reverse'\";\n    }\n    else{\n        msg.command = \"Arranque 'Forward'\";\n    }\n}\nelse if(msg.payload == 'Stop'){\n    msg.command = \"Parada del equipo\";\n}\nelse if(msg.payload == 'Reset'){\n    msg.command = \"Reset del equipo\";\n}\nelse if(msg.payload == 'Forward'){\n    msg.command = \"Cambio sentido de giro a 'Forward'\";\n}\nelse if(msg.payload == 'Reverse'){\n    msg.command = \"Cambio sentido de giro a 'Reverse'\";\n}\n\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n\nmsg.payload = Command;\nmsg.buffer  = buffer;\n\nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":740,"y":190,"wires":[["bfda390e.8957b8"]]},{"id":"e3a323f2.83da5","type":"switch","z":"c8b77ff3.ab501","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Start","vt":"str"},{"t":"eq","v":"Stop","vt":"str"},{"t":"eq","v":"Reset","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":340,"y":150,"wires":[["496f46c9.6e2eb8"],["faf6a9fc.1f3448"],["a92c8835.c15158"]]},{"id":"d411e0cd.a63f9","type":"switch","z":"c8b77ff3.ab501","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"Basic","vt":"str"},{"t":"eq","v":"Direction","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":180,"y":200,"wires":[["e3a323f2.83da5"],["3f954611.0fa83a"]]},{"id":"3f954611.0fa83a","type":"switch","z":"c8b77ff3.ab501","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"eq","v":"1","vt":"num"}],"checkall":"true","repair":false,"outputs":2,"x":340,"y":250,"wires":[["29c6c985.5a6e56"],["1138740f.c6a8fc"]]},{"id":"29c6c985.5a6e56","type":"change","z":"c8b77ff3.ab501","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Forward","tot":"str"},{"t":"set","p":"Direction","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":230,"wires":[["d5c3f10c.5e2e1"]]},{"id":"1138740f.c6a8fc","type":"change","z":"c8b77ff3.ab501","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Reverse","tot":"str"},{"t":"set","p":"Direction","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":270,"wires":[["d5c3f10c.5e2e1"]]},{"id":"bfda390e.8957b8","type":"change","z":"c8b77ff3.ab501","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"command","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":950,"y":240,"wires":[[]]},{"id":"fecfa2a0.5ca25","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"b1b1e40e.b6b5b8","name":"Navbar Configuración-Estándar-Tipo_de_arranque","order":1,"width":12,"height":1,"format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":490,"y":650,"wires":[[]]},{"id":"430e037a.b0c2ec","type":"change","z":"e6caea2d.94f508","name":"Read command","rules":[{"t":"set","p":"payload","pt":"msg","to":"python -m cpppo.server.enip.get_attribute '@0x93/+++/9' -S -a IP","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"+++","fromt":"str","to":"Parameter","tot":"env"},{"t":"change","p":"payload","pt":"msg","from":"IP","fromt":"str","to":"IP","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":210,"y":70,"wires":[["bb5d72d2.8bb36"]]},{"id":"bb5d72d2.8bb36","type":"exec","z":"e6caea2d.94f508","command":"","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":360,"y":70,"wires":[["977ba8de.b9cf38"],[],[]]},{"id":"977ba8de.b9cf38","type":"function","z":"e6caea2d.94f508","name":"","func":"var Datatype = env.get(\"Datatype\");\nvar inicio  = msg.payload.indexOf(\"[\")+1;\nvar fin     = msg.payload.indexOf(\"]\");\nvar array   = msg.payload.slice(inicio,fin);\narray = array.split(',');\nvar intvalue = [];\n\nfor(var i=0; i<array.length; i++){\n    array[i] = parseInt(array[i]);\n    array[i] = array[i] << 8*i;\n    intvalue = intvalue | array[i];\n}\nif(Datatype == \"REAL\"){\n    msg.payload = parseFloat(Int2Float32(intvalue).toFixed(2));\n}\nelse if(Datatype == \"INT\"){\n    msg.payload = parseInt(intvalue);\n}\nreturn msg;\n\n// IEC 754 to Float Function\nfunction Int2Float32(bytes) {\n    var sign = (bytes & 0x80000000) ? -1 : 1;\n    var exponent = ((bytes >> 23) & 0xFF) - 127;\n    var significand = (bytes & ~(-1 << 23));\n\n    if (exponent == 128) \n        return sign * ((significand) ? Number.NaN : Number.POSITIVE_INFINITY);\n\n    if (exponent == -127) {\n        if (significand === 0) return sign * 0.0;\n        exponent = -126;\n        significand /= (1 << 22);\n    } else significand = (significand | (1 << 23)) / (1 << 23);\n\n    return sign * significand * Math.pow(2, exponent);\n}\n// Créditos: https://flows.nodered.org/flow/359ead34237b7ab6ec0465ee85a34b62","outputs":1,"noerr":0,"initialize":"","finalize":"","x":490,"y":60,"wires":[[]]},{"id":"645e5a91.8ccef4","type":"ui_text_input","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","label":"Rampa de aceleración","tooltip":"","group":"971dcd1e.a04d5","order":3,"width":4,"height":1,"passthru":true,"mode":"number","delay":"100","topic":"Accel","x":641,"y":180,"wires":[["2709f5cf.b4e16a"]]},{"id":"faa40213.086fa","type":"ui_text_input","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","label":"Rampa de desaceleración","tooltip":"","group":"971dcd1e.a04d5","order":6,"width":4,"height":1,"passthru":true,"mode":"number","delay":"100","topic":"","x":651,"y":260,"wires":[["3ca6161d.651d6a"]]},{"id":"ebeef8ea.3def58","type":"ui_text_input","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","label":"Límite mínimo","tooltip":"","group":"53f5e611.7d5b48","order":3,"width":4,"height":1,"passthru":true,"mode":"number","delay":"100","topic":"","x":641,"y":340,"wires":[["1358ba12.db4f76"]]},{"id":"7b0522e.ed903dc","type":"ui_text_input","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","label":"Límite máximo [Hz]","tooltip":"","group":"53f5e611.7d5b48","order":6,"width":4,"height":1,"passthru":true,"mode":"number","delay":"100","topic":"","x":651,"y":420,"wires":[["40fde4de.c5c06c"]]},{"id":"2163239b.5a9bbc","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Accel","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.Accel","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":371,"y":180,"wires":[["645e5a91.8ccef4"]]},{"id":"2498ec05.7284b4","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Decel Time 1","env":[{"name":"Parameter","value":"537","type":"num"}],"x":1840,"y":260,"wires":[["998f0e93.941f1"]]},{"id":"e5c3bbc0.8b2998","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Decel","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.Decel","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":371,"y":260,"wires":[["faa40213.086fa"]]},{"id":"e89aec53.9b1b1","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"MinLimit","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.MinLimit","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":381,"y":340,"wires":[["ebeef8ea.3def58"]]},{"id":"319a607a.54c89","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Min Limit Fwd","env":[{"name":"Parameter","value":"522","type":"num"}],"x":1830,"y":340,"wires":[[]]},{"id":"7048ef53.1fd6f","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Max Limit Fwd","env":[{"name":"Parameter","value":"520","type":"num"}],"x":1830,"y":420,"wires":[[]]},{"id":"d59b7b28.be0e68","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"MaxLimit","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.MaxLimit","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":381,"y":420,"wires":[["7b0522e.ed903dc"]]},{"id":"15ff1b61.43bc65","type":"comment","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Rampas y Límites","info":"","x":411,"y":140,"wires":[]},{"id":"2709f5cf.b4e16a","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","rules":[{"t":"set","p":"Speed_Control.Accel","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":971,"y":180,"wires":[[]]},{"id":"3ca6161d.651d6a","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","rules":[{"t":"set","p":"Speed_Control.Decel","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":971,"y":260,"wires":[[]]},{"id":"1358ba12.db4f76","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","rules":[{"t":"set","p":"Speed_Control.MinLimit","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":340,"wires":[[]]},{"id":"40fde4de.c5c06c","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","rules":[{"t":"set","p":"Speed_Control.MaxLimit","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":920,"y":420,"wires":[[]]},{"id":"acaa43fe.71bfa","type":"ui_button","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"","group":"971dcd1e.a04d5","order":10,"width":4,"height":1,"passthru":false,"label":"Confirmar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1220,"y":220,"wires":[["b559fab2.66fd28","df9eb38c.fa6d7","d4a47d02.7580e"]]},{"id":"b559fab2.66fd28","type":"change","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Send Accel","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.Accel","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":220,"wires":[["4d7667fd.f49138"]]},{"id":"df9eb38c.fa6d7","type":"change","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Send Decel","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.Decel","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":260,"wires":[["2498ec05.7284b4"]]},{"id":"f7f45d3a.6e4e4","type":"ui_button","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"","group":"53f5e611.7d5b48","order":10,"width":4,"height":1,"passthru":false,"label":"Confirmar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1220,"y":340,"wires":[["c104f9d3.1b01d8","7116aa90.5b13a4","c5a4efe1.dcb16","ee09985d.8da768","c48a9a39.50daa8"]]},{"id":"c104f9d3.1b01d8","type":"change","z":"43b51d90.0b47f4","d":true,"g":"a7e99088.c8108","name":"Send MinLimit","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.MinLimit","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1440,"y":340,"wires":[["319a607a.54c89","9c75f1ec.0814b"]]},{"id":"7116aa90.5b13a4","type":"change","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Send MaxLimit","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.MaxLimit","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1440,"y":420,"wires":[["67265960.942258","7048ef53.1fd6f"]]},{"id":"9706da4e.929b28","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Min Lim Rev","env":[{"name":"Parameter","value":"523","type":"num"}],"x":1840,"y":380,"wires":[[]]},{"id":"24d1e786.5ef6e8","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Max Limit Rev","env":[{"name":"Parameter","value":"521","type":"num"}],"x":1830,"y":460,"wires":[[]]},{"id":"4d7667fd.f49138","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Accel Time 1","env":[{"name":"Parameter","value":"535","type":"num"}],"x":1840,"y":220,"wires":[["998f0e93.941f1"]]},{"id":"9c75f1ec.0814b","type":"function","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Invertir","func":"msg.payload = msg.payload*-1;\nreturn msg;","outputs":1,"noerr":0,"x":1660,"y":380,"wires":[["9706da4e.929b28"]]},{"id":"d4e8aa0c.01c0c8","type":"function","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Invertir","func":"msg.payload = msg.payload*-1;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1660,"y":460,"wires":[["24d1e786.5ef6e8","827a7638.d6dd28"]]},{"id":"af3b1dcf.9d898","type":"comment","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Rampas y Límites","info":"","x":1250,"y":180,"wires":[]},{"id":"1ee1ef5.793bc11","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Acceleration","env":[{"name":"Parameter","value":"535","type":"num"}],"x":441,"y":220,"wires":[["645e5a91.8ccef4"]]},{"id":"6817551.a1c08ac","type":"switch","z":"43b51d90.0b47f4","g":"8a04702.34fd29","name":"Configuración-Estándar-Drive_C2S","property":"tab","propertyType":"msg","rules":[{"t":"eq","v":"4","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":2340,"y":190,"wires":[["fa33f7fa.bf0bd8"]]},{"id":"fa33f7fa.bf0bd8","type":"link out","z":"43b51d90.0b47f4","g":"8a04702.34fd29","name":"Pantalla Configuración-Estándar-Drive_C2S Link Out","links":["2d0c4fa4.505a8","251a85e5.2591ca","29bb8af3.ae5fa6","885891cc.84f0d","bd852785.499c28","6fe51a99.814d94","664a9d08.0c3cc4","af3a631.a66aea","dc9ea4ba.1aa038","b970befc.5452","e7412dd2.70fb","eb89266c.2d2618","7fd169a3.b2f638","f7031c65.4fe95","4b4d89b2.afea38"],"x":2515,"y":190,"wires":[]},{"id":"2d0c4fa4.505a8","type":"link in","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Accel Link In","links":["fa33f7fa.bf0bd8","ee762eb7.aef99"],"x":336,"y":220,"wires":[["1ee1ef5.793bc11"]]},{"id":"251a85e5.2591ca","type":"link in","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Decel Link In","links":["fa33f7fa.bf0bd8","ca5f96a1.874c58"],"x":336,"y":300,"wires":[["75cd2afc.41fc44"]]},{"id":"75cd2afc.41fc44","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Deceleration","env":[{"name":"Parameter","value":"537","type":"num"}],"x":441,"y":300,"wires":[["faa40213.086fa"]]},{"id":"29bb8af3.ae5fa6","type":"link in","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Min Limit","links":["fa33f7fa.bf0bd8"],"x":336,"y":380,"wires":[["75279853.2d0538","e89aec53.9b1b1"]]},{"id":"75279853.2d0538","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","d":true,"g":"6cdd72bc.8124cc","name":"Min Limit","env":[{"name":"Parameter","value":"522","type":"num"}],"x":431,"y":380,"wires":[["ebeef8ea.3def58"]]},{"id":"885891cc.84f0d","type":"link in","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Max Limit","links":["fa33f7fa.bf0bd8"],"x":336,"y":460,"wires":[["f75e195a.cf9c28"]]},{"id":"f75e195a.cf9c28","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Max Limit","env":[{"name":"Parameter","value":"520","type":"num"}],"x":431,"y":460,"wires":[["7fe9724f.0cf8ec","7b0522e.ed903dc"]]},{"id":"bd852785.499c28","type":"link in","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","links":["fa33f7fa.bf0bd8"],"x":336,"y":682,"wires":[["9e18b5a9.e943a8"]]},{"id":"9e18b5a9.e943a8","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Voltage","env":[{"name":"Parameter","value":"25","type":"num"}],"x":431,"y":682,"wires":[["b97c0cba.aea3"]]},{"id":"6fe51a99.814d94","type":"link in","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","links":["fa33f7fa.bf0bd8"],"x":336,"y":762,"wires":[["8a16b6f8.4cab88"]]},{"id":"8a16b6f8.4cab88","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Amps","env":[{"name":"Parameter","value":"26","type":"num"}],"x":421,"y":762,"wires":[["625acf36.28ca1"]]},{"id":"664a9d08.0c3cc4","type":"link in","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","links":["fa33f7fa.bf0bd8"],"x":336,"y":842,"wires":[["74e19d32.06a044"]]},{"id":"74e19d32.06a044","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Hertz","env":[{"name":"Parameter","value":"27","type":"num"}],"x":421,"y":842,"wires":[["52666b13.2f23b4"]]},{"id":"af3a631.a66aea","type":"link in","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","links":["fa33f7fa.bf0bd8"],"x":336,"y":922,"wires":[["8a96dde9.7f1ce"]]},{"id":"8a96dde9.7f1ce","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"RPM","env":[{"name":"Parameter","value":"28","type":"num"}],"x":421,"y":922,"wires":[["9fce2d60.4554b"]]},{"id":"dc9ea4ba.1aa038","type":"link in","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","links":["fa33f7fa.bf0bd8"],"x":336,"y":1002,"wires":[["1be8989c.a5ad57"]]},{"id":"1be8989c.a5ad57","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Power","env":[{"name":"Parameter","value":"30","type":"num"}],"x":421,"y":1002,"wires":[["a5bfded0.8a3cf"]]},{"id":"b970befc.5452","type":"link in","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","links":["fa33f7fa.bf0bd8"],"x":336,"y":1082,"wires":[["b71d8a2b.54dcc8"]]},{"id":"b71d8a2b.54dcc8","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Poles","env":[{"name":"Parameter","value":"31","type":"num"},{"name":"Datatype","value":"INT","type":"str"}],"x":421,"y":1082,"wires":[["dc569dcc.729"]]},{"id":"e7412dd2.70fb","type":"link in","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","links":["fa33f7fa.bf0bd8"],"x":335,"y":1170,"wires":[["3ac432d5.f6b63e"]]},{"id":"3ac432d5.f6b63e","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Power_Units","env":[{"name":"Parameter","value":"29","type":"num"},{"name":"Datatype","value":"INT","type":"str"}],"x":440,"y":1170,"wires":[["c3259a58.4fe088"]]},{"id":"eb89266c.2d2618","type":"link in","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","links":["fa33f7fa.bf0bd8"],"x":335,"y":1390,"wires":[["45c17b29.d24c94"]]},{"id":"45c17b29.d24c94","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"Start_Acc_Boost","env":[{"name":"Parameter","value":"60","type":"num"}],"x":460,"y":1390,"wires":[["5c27d2c5.3f268c"]]},{"id":"7fd169a3.b2f638","type":"link in","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","links":["fa33f7fa.bf0bd8"],"x":335,"y":1470,"wires":[["ba716101.086bd"]]},{"id":"ba716101.086bd","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"Break_Voltage","env":[{"name":"Parameter","value":"62","type":"num"}],"x":450,"y":1470,"wires":[["9b007129.593e9"]]},{"id":"f7031c65.4fe95","type":"link in","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","links":["fa33f7fa.bf0bd8"],"x":335,"y":1550,"wires":[["4305893.7fd6878"]]},{"id":"4305893.7fd6878","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"Break_Frequency","env":[{"name":"Parameter","value":"63","type":"num"}],"x":460,"y":1550,"wires":[["d290dc22.ecd03"]]},{"id":"824358e3.5e87b8","type":"comment","z":"43b51d90.0b47f4","g":"8a04702.34fd29","name":"Acceso a pantalla de configuración drive C2S","info":"","x":2225,"y":116,"wires":[]},{"id":"c5a4efe1.dcb16","type":"link out","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Send Limits Out","links":["367f4f35.fb249"],"x":1375,"y":460,"wires":[]},{"id":"fce43241.9e843","type":"function","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"LimitesVelocidad","func":"//var Velocidad = global.get(\"Speed_Control\");\n\nvar Min = global.get(\"Speed_Control.MinLimit\")||0;//Velocidad.MinLimit;\nvar Max = global.get(\"Speed_Control.MaxLimit\")||60;//Velocidad.MaxLimit;\n\nif(Max <= Min){\n    node.status({fill:\"grey\",shape:\"dot\",text:\"Payload: \"+msg.payload+\" MaxLim: \"+Max+\" MinLimit: \"+Min});\n    return;\n}\nif(msg.payload > Max){\n    msg.payload = Max;\n    node.status({fill:\"yellow\",shape:\"dot\",text:\"Payload: \"+msg.payload+\" MaxLim: \"+Max+\" MinLimit: \"+Min});\n    return msg;\n}\nelse if(msg.payload < Min){\n    msg.payload = Min;\n    node.status({fill:\"blue\",shape:\"dot\",text:\"Payload: \"+msg.payload+\" MaxLim: \"+Max+\" MinLimit: \"+Min});\n    return msg;\n}\nreturn;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":570,"y":400,"wires":[["2d017655.64384a"]]},{"id":"e1b497b2.06f878","type":"inject","z":"43b51d90.0b47f4","g":"8a04702.34fd29","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":2425,"y":156,"wires":[["fa33f7fa.bf0bd8"]]},{"id":"8253c33e.847cf","type":"function","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"Última referencia","func":"if(typeof msg.payload == 'number'){\n    context.set(\"Ref\",msg.payload);\n}\nelse if(typeof msg.payload == 'boolean' && msg.topic == 'Send'){\n    global.set(\"Ultima_Referencia\",context.get('Ref'));\n}\nreturn;","outputs":0,"noerr":0,"initialize":"","finalize":"","x":960,"y":510,"wires":[]},{"id":"40526d49.cc9b14","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"TemperaturaEntrada","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Vibración_general\",\t                \"Configuración-Protecciones-Fondo_Vibración_general_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor_actual\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones\"        \t       ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1380,"y":440,"wires":[["1882018b.4d179e"]]},{"id":"d4249aea.7ecbb8","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"PresionEntrada","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Vibración_general\",\t                \"Configuración-Protecciones-Fondo_Vibración_general_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor_actual\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones\"\t       ]\t   }\t}\t\t","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":400,"wires":[["1882018b.4d179e"]]},{"id":"39224b5b.70cb94","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"PresionDescarga","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Vibración_general\",\t                \"Configuración-Protecciones-Fondo_Vibración_general_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor_actual\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones\"\t       ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":480,"wires":[["1882018b.4d179e"]]},{"id":"284df00f.87b86","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Temperatura de descarga","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Vibración_general\",\t                \"Configuración-Protecciones-Fondo_Vibración_general_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor_actual\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga_actual\",\t                \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"\t                \t       ],\t       \"show\":[ \t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones\"\t        ]\t                \t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1390,"y":520,"wires":[["1882018b.4d179e"]]},{"id":"560686d1.a385a8","type":"ui_template","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","group":"896be3ec.eb491","name":"Menú Protecciones","order":1,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-pills nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-PresionEntrada-tab\" data-toggle=\"tab\" href=\"#nav-PresionEntrada\" role=\"tab\" aria-controls=\"nav-PresionEntrada\" aria-selected=\"true\" ng-click=\"send({payload:PresionEntrada()})\">Presión entrada</a>\n        <a class=\"nav-item nav-link\" id=\"nav-TemperaturaEntrada-tab\" data-toggle=\"tab\" href=\"#nav-TemperaturaEntrada\" role=\"tab\" aria-controls=\"nav-TemperaturaEntrada\" aria-selected=\"false\" ng-click=\"send({payload:TemperaturaEntrada()})\">Temperatura Entrada</a>\n        <a class=\"nav-item nav-link\" id=\"nav-PresionDescarga-tab\" data-toggle=\"tab\" href=\"#nav-PresionDescarga\" role=\"tab\" aria-controls=\"nav-PresionDescarga\" aria-selected=\"false\" ng-click=\"send({payload:PresionDescarga()})\">Presión descarga</a>\n        <a class=\"nav-item nav-link\" id=\"nav-TemperaturaDescarga-tab\" data-toggle=\"tab\" href=\"#nav-TemperaturaDescarga\" role=\"tab\" aria-controls=\"nav-TemperaturaDescarga\" aria-selected=\"false\" ng-click=\"send({payload:TemperaturaDescarga()})\">Temperatura descarga</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Menu2\" data-toggle=\"tab\" href=\"nav-Menu2\" role=\"tab\" aria-controls=\"nav-Menu2\" aria-selected=\"false\" ng-click=\"send({payload:Menu2()})\">\n            <img src=\"http://localhost:1880/bootstrap-icons/icons/caret-right-square.svg\" alt=\"\" width=\"20\" height=\"20\"> \n        </a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.PresionEntrada = function() { return \"PresionEntrada\"; };\n        this.scope.TemperaturaEntrada = function() { return \"TemperaturaEntrada\"; };\n        this.scope.PresionDescarga = function() { return \"PresionDescarga\"; };\n        this.scope.TemperaturaDescarga = function() { return \"TemperaturaDescarga\"; };\n        this.scope.Menu2 = function() { return \"Menu2\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":970,"y":500,"wires":[["b0e2a79d.a2fa38"]]},{"id":"b0e2a79d.a2fa38","type":"switch","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"PresionEntrada","vt":"str"},{"t":"eq","v":"TemperaturaEntrada","vt":"str"},{"t":"eq","v":"PresionDescarga","vt":"str"},{"t":"eq","v":"TemperaturaDescarga","vt":"str"},{"t":"eq","v":"Menu2","vt":"str"}],"checkall":"true","repair":false,"outputs":5,"x":1150,"y":500,"wires":[["d4249aea.7ecbb8"],["40526d49.cc9b14"],["39224b5b.70cb94"],["284df00f.87b86"],["98b87f1c.386a4"]]},{"id":"d7816a62.f2ef78","type":"comment","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Menu Protecciones Fondo","info":"","x":980,"y":360,"wires":[]},{"id":"8d721bd4.965938","type":"ui_template","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","group":"90d3dd63.5cfad","name":"Menú Protecciones 2","order":1,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-pills nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link\" id=\"nav-Menu\" data-toggle=\"tab\" href=\"nav-Menu\" role=\"tab\" aria-controls=\"nav-Menu\" aria-selected=\"false\" ng-click=\"send({payload:Menu()})\">\n            <img src=\"http://localhost:1880/bootstrap-icons/icons/caret-left-square.svg\" alt=\"\" width=\"20\" height=\"20\"> \n        </a>\n        <a class=\"nav-item nav-link\" id=\"nav-Vibracion-tab\" data-toggle=\"tab\" href=\"#nav-Vibracion\" role=\"tab\" aria-controls=\"nav-Vibracion\" aria-selected=\"true\" ng-click=\"send({payload:Vibracion()})\">Vibración</a>\n        <a class=\"nav-item nav-link\" id=\"nav-TemperaturaMotor-tab\" data-toggle=\"tab\" href=\"#nav-TemperaturaMotor\" role=\"tab\" aria-controls=\"nav-TemperaturaMotor\" aria-selected=\"false\" ng-click=\"send({payload:TemperaturaMotor()})\">Temperatura motor</a>\n        <a class=\"nav-item nav-link\" id=\"nav-CorrienteFuga-tab\" data-toggle=\"tab\" href=\"#nav-CorrienteFuga\" role=\"tab\" aria-controls=\"nav-CorrienteFuga\" aria-selected=\"false\" ng-click=\"send({payload:CorrienteFuga()})\">Corriente fuga</a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.Vibracion = function() { return \"Vibracion\"; };\n        this.scope.TemperaturaMotor = function() { return \"TemperaturaMotor\"; };\n        this.scope.CorrienteFuga = function() { return \"CorrienteFuga\"; };\n        this.scope.Menu = function() { return \"Menu\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":980,"y":670,"wires":[["85a449e3.6bf2d8"]]},{"id":"fdbff94e.9b8b48","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"TemperaturaMotor","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Vibración_general\",\t                \"Configuración-Protecciones-Fondo_Vibración_general_actual\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Temperatura_de_motor\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"\t                ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":650,"wires":[["1882018b.4d179e"]]},{"id":"e4281529.e777b8","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Vibración","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor_actual\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones\"\t                \t       \t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Vibración_general\",\t                \"Configuración-Protecciones-Fondo_Vibración_general_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"\t       ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1340,"y":610,"wires":[["1882018b.4d179e"]]},{"id":"90f4ad13.35a65","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"CorrienteFuga","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Vibración_general\",\t                \"Configuración-Protecciones-Fondo_Vibración_general_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones\"\t       ],\t       \"show\":[ \t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"\t                ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":690,"wires":[["1882018b.4d179e"]]},{"id":"85a449e3.6bf2d8","type":"switch","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Vibracion","vt":"str"},{"t":"eq","v":"TemperaturaMotor","vt":"str"},{"t":"eq","v":"CorrienteFuga","vt":"str"},{"t":"eq","v":"Menu","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":1150,"y":670,"wires":[["e4281529.e777b8"],["fdbff94e.9b8b48"],["90f4ad13.35a65"],["9ec47908.11be28"]]},{"id":"98b87f1c.386a4","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Ocultar Navegación protecciones","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Navegación_protecciones\"],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1420,"y":560,"wires":[["1882018b.4d179e"]]},{"id":"9ec47908.11be28","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Ocultar Navegación protecciones 2","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Navegación_protecciones\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1420,"y":730,"wires":[["1882018b.4d179e"]]},{"id":"2499f70f.806ab8","type":"switch","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"EntradasDigitales","vt":"str"},{"t":"eq","v":"EntradasAnalogicas","vt":"str"},{"t":"eq","v":"SalidasDigitales","vt":"str"},{"t":"eq","v":"SalidasAnalogicas","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":1130,"y":1340,"wires":[["c1f7c147.2e2dd"],["98ed183e.8031b8"],["950ebf98.9385d"],["8916af0a.61064"]]},{"id":"461615d3.efcb8c","type":"ui_template","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","group":"5d420622.3dd3c8","name":"Menú ES SWCPRO","order":4,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-pills nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-EntradasDigitales-tab\" data-toggle=\"tab\" href=\"#nav-EntradasDigitales\" role=\"tab\" aria-controls=\"nav-EntradasDigitales\" aria-selected=\"true\" ng-click=\"send({payload:EntradasDigitales()})\">Entradas digitales</a>\n        <a class=\"nav-item nav-link\" id=\"nav-EntradasAnalogicas-tab\" data-toggle=\"tab\" href=\"#nav-EntradasAnalogicas\" role=\"tab\" aria-controls=\"nav-EntradasAnalogicas\" aria-selected=\"false\" ng-click=\"send({payload:EntradasAnalogicas()})\">Entradas analógicas</a>\n        <a class=\"nav-item nav-link\" id=\"nav-SalidasDigitales-tab\" data-toggle=\"tab\" href=\"#nav-SalidasDigitales\" role=\"tab\" aria-controls=\"nav-SalidasDigitales\" aria-selected=\"false\" ng-click=\"send({payload:SalidasDigitales()})\">Salidas digitales</a>\n        <a class=\"nav-item nav-link\" id=\"nav-SalidasAnalogicas-tab\" data-toggle=\"tab\" href=\"#nav-SalidasAnalogicas\" role=\"tab\" aria-controls=\"nav-SalidasAnalogicas\" aria-selected=\"false\" ng-click=\"send({payload:SalidasAnalogicas()})\">Salidas analógicas</a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.EntradasDigitales = function() { return \"EntradasDigitales\"; };\n        this.scope.EntradasAnalogicas = function() { return \"EntradasAnalogicas\"; };\n        this.scope.SalidasDigitales = function() { return \"SalidasDigitales\"; };\n        this.scope.SalidasAnalogicas = function() { return \"SalidasAnalogicas\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":970,"y":1340,"wires":[["2499f70f.806ab8"]]},{"id":"c1f7c147.2e2dd","type":"change","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"Entradas digitales","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-E_S-SWCPRO_Configuración_E.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.A.\",\t                \"Configuración-E_S-SWCPRO_Configuración_S.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.D.\",\t                \"Configuración-E_S-SWCPRO_Configuración_S.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.A.\"],\t       \"show\":[ \"Configuración-E_S-SWCPRO_Configuración_E.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.D.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1300,"y":1280,"wires":[["b0a2cd1a.ab273"]]},{"id":"98ed183e.8031b8","type":"change","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"Entradas analógicas","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-E_S-SWCPRO_Configuración_E.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.D.\",\t                \"Configuración-E_S-SWCPRO_Configuración_S.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.D.\",\t                \"Configuración-E_S-SWCPRO_Configuración_S.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.A.\"],\t       \"show\":[ \"Configuración-E_S-SWCPRO_Configuración_E.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.A.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1310,"y":1320,"wires":[["b0a2cd1a.ab273"]]},{"id":"950ebf98.9385d","type":"change","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"Salidas digitales","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-E_S-SWCPRO_Configuración_E.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.A.\",\t                \"Configuración-E_S-SWCPRO_Configuración_E.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.D.\",\t                \"Configuración-E_S-SWCPRO_Configuración_S.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.A.\"],\t       \"show\":[ \"Configuración-E_S-SWCPRO_Configuración_S.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.D.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1290,"y":1360,"wires":[["b0a2cd1a.ab273"]]},{"id":"8916af0a.61064","type":"change","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"Salidas analógicas","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-E_S-SWCPRO_Configuración_E.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.A.\",\t                \"Configuración-E_S-SWCPRO_Configuración_S.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.D.\",\t                \"Configuración-E_S-SWCPRO_Configuración_E.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.D.\"],\t       \"show\":[ \"Configuración-E_S-SWCPRO_Configuración_S.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.A.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1300,"y":1400,"wires":[["b0a2cd1a.ab273"]]},{"id":"5a29608d.08d3","type":"switch","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Configuración-E_S-SWCPRO","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1130,"y":1280,"wires":[["c1f7c147.2e2dd"]]},{"id":"63f7b962.2c4718","type":"change","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","name":"Alarmas","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Eventos_Eventos\"\t       ],\t       \"show\":[ \"Eventos_Alarmas\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":1190,"wires":[["f7333c0a.a70d3"]]},{"id":"c01095f3.dc9138","type":"change","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","name":"Eventos","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Eventos_Alarmas\"\t       ],\t       \"show\":[ \"Eventos_Eventos\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":1150,"wires":[["f7333c0a.a70d3"]]},{"id":"6a981814.c37af8","type":"ui_template","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","group":"bc656da7.f93a9","name":"Menú Eventos/Alarmas","order":4,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-pills nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-Eventos-tab\" data-toggle=\"tab\" href=\"#nav-Eventos\" role=\"tab\" aria-controls=\"nav-Eventos\" aria-selected=\"true\" ng-click=\"send({payload:Eventos()})\">Eventos</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Alarmas-tab\" data-toggle=\"tab\" href=\"#nav-Alarmas\" role=\"tab\" aria-controls=\"nav-Alarmas\" aria-selected=\"false\" ng-click=\"send({payload:Alarmas()})\">Alarmas</a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.Eventos = function() { return \"Eventos\"; };\n        this.scope.Alarmas = function() { return \"Alarmas\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":980,"y":1170,"wires":[["d1fe0838.218468"]]},{"id":"d1fe0838.218468","type":"switch","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Eventos","vt":"str"},{"t":"eq","v":"Alarmas","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1190,"y":1170,"wires":[["c01095f3.dc9138"],["63f7b962.2c4718"]]},{"id":"23826d32.a4beb2","type":"comment","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","name":"Menu Eventos/Alarmas","info":"","x":970,"y":1130,"wires":[]},{"id":"f7333c0a.a70d3","type":"link out","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","name":"Actualizar Eventos/Alarmas","links":["805762db.d27b7","ebf4df19.2cfb2","ffbe710d.b4cce"],"x":1445,"y":1190,"wires":[]},{"id":"2c748bf2.5eecc4","type":"change","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"C2S","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Main_Datos_de_fondo\",\t                \"Main_Comandos_C2S\",\t                \"Main_Referencia_de_velocidad\",\t                \"Main_Datos_eléctricos\",\t                \"Main_Estado\",\t                \"Main_Control\"\t       ],\t       \"show\":[\"Main_Datos_C2S\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1310,"y":150,"wires":[["99ae3bc8.746f48"]]},{"id":"7beb0f41.ddbf1","type":"change","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"Fondo","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Main_Datos_C2S\",\t                \"Main_Comandos_C2S\",\t                \"Main_Referencia_de_velocidad\",\t                \"Main_Datos_eléctricos\",\t                \"Main_Estado\",\t                \"Main_Control\"\t       ],\t       \"show\":[ \"Main_Datos_de_fondo\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1310,"y":110,"wires":[["99ae3bc8.746f48"]]},{"id":"f21ab34b.181da","type":"change","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"PQA","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Main_Datos_de_fondo\",\t                \"Main_Datos_C2S\",\t                \"Main_Comandos_C2S\",\t                \"Main_Referencia_de_velocidad\",\t                \"Main_Estado\",\t                \"Main_Control\"\t       ],\t       \"show\":[\"Main_Datos_eléctricos\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1310,"y":190,"wires":[["99ae3bc8.746f48"]]},{"id":"7b211215.487a7c","type":"change","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"Comandos C2S","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"show\":[ \"Main_Comandos_C2S\",\t                \"Main_Referencia_de_velocidad\",\t                \"Main_Estado\",\t                \"Main_Control\"\t       ],\t       \"hide\":[ \"Main_Datos_C2S\",\t                \"Main_Datos_de_fondo\",\t                \"Main_Datos_eléctricos\"\t       ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1340,"y":230,"wires":[["99ae3bc8.746f48"]]},{"id":"18c9f1c2.4ccdce","type":"ui_template","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","group":"1115e53d.667bcb","name":"Menú Datos Operativos","order":1,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-pills nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-ComandosC2S-tab\" data-toggle=\"tab\" href=\"#nav-ComandosC2S\" role=\"tab\" aria-controls=\"nav-ComandosC2S\" aria-selected=\"false\" ng-click=\"send({payload:ComandosC2S()})\">Comandos C2S</a>\n        <a class=\"nav-item nav-link\" id=\"nav-C2S-tab\" data-toggle=\"tab\" href=\"#nav-C2S\" role=\"tab\" aria-controls=\"nav-C2S\" aria-selected=\"false\" ng-click=\"send({payload:C2S()})\">Datos C2S</a>\n        <a class=\"nav-item nav-link\" id=\"nav-electricos-tab\" data-toggle=\"tab\" href=\"#nav-electricos\" role=\"tab\" aria-controls=\"nav-electricos\" aria-selected=\"false\" ng-click=\"send({payload:electricos()})\">Datos eléctricos</a>\n        <!--<a class=\"nav-item nav-link\" id=\"nav-fondo-tab\" data-toggle=\"tab\" href=\"#nav-fondo\" role=\"tab\" aria-controls=\"nav-fondo\" aria-selected=\"true\" ng-click=\"send({payload:fondo()})\">Datos de fondo</a>-->\n      </div>\n    </nav>\n\n    <script>\n        this.scope.fondo = function() { return \"Fondo\"; };\n        this.scope.C2S = function() { return \"C2S\"; };\n        this.scope.electricos = function() { return \"Eléctricos\"; };\n        this.scope.ComandosC2S = function() { return \"ComandosC2S\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":990,"y":170,"wires":[["876da3c9.83763"]]},{"id":"876da3c9.83763","type":"switch","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Fondo","vt":"str"},{"t":"eq","v":"C2S","vt":"str"},{"t":"eq","v":"Eléctricos","vt":"str"},{"t":"eq","v":"ComandosC2S","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":1170,"y":170,"wires":[["7beb0f41.ddbf1"],["2c748bf2.5eecc4"],["f21ab34b.181da"],["7b211215.487a7c"]]},{"id":"2f1c2d62.414502","type":"comment","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"Menu Datos operativos pantalla principal","info":"","x":1030,"y":80,"wires":[]},{"id":"e3c8b897.8efb58","type":"switch","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1180,"y":230,"wires":[["7b211215.487a7c"]]},{"id":"4db81f03.8c212","type":"change","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"Corriente","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Superficie_Tensión\",\t                \"Configuración-Protecciones-Superficie_Tensión_actual\",\t                \"Configuración-Protecciones-Superficie_Bus_DC\",\t                \"Configuración-Protecciones-Superficie_Bus_DC_actual\",\t                \"Configuración-Protecciones-Superficie_Tubing\",\t                \"Configuración-Protecciones-Superficie_Tubing_actual\",\t                \"Configuración-Protecciones-Superficie_Casing\",\t                \"Configuración-Protecciones-Superficie_Casing_actual\"                \t        ],\t       \"show\":[ \"Configuración-Protecciones-Superficie_Corriente\",\t                \"Configuración-Protecciones-Superficie_Corriente_actual\"\t        ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1300,"y":900,"wires":[["3296d851.080568"]]},{"id":"8392125c.4233b","type":"change","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"Tensión","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Superficie_Corriente\",\t                \"Configuración-Protecciones-Superficie_Corriente_actual\",\t                \"Configuración-Protecciones-Superficie_Bus_DC\",\t                \"Configuración-Protecciones-Superficie_Bus_DC_actual\",\t                \"Configuración-Protecciones-Superficie_Tubing\",\t                \"Configuración-Protecciones-Superficie_Tubing_actual\",\t                \"Configuración-Protecciones-Superficie_Casing\",\t                \"Configuración-Protecciones-Superficie_Casing_actual\"\t        ],\t       \"show\":[ \"Configuración-Protecciones-Superficie_Tensión\",\t                \"Configuración-Protecciones-Superficie_Tensión_actual\"\t        ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1300,"y":860,"wires":[["3296d851.080568"]]},{"id":"5b4e837a.c0700c","type":"ui_template","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","group":"9ae9c438.b36418","name":"Menú Protecciones","order":4,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-pills nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-Tension-tab\" data-toggle=\"tab\" href=\"#nav-Tension\" role=\"tab\" aria-controls=\"nav-Tension\" aria-selected=\"true\" ng-click=\"send({payload:Tension()})\">Tensión</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Corriente-tab\" data-toggle=\"tab\" href=\"#nav-Corriente\" role=\"tab\" aria-controls=\"nav-Corriente\" aria-selected=\"false\" ng-click=\"send({payload:Corriente()})\">Carga</a>\n        <a class=\"nav-item nav-link\" id=\"nav-BusDC-tab\" data-toggle=\"tab\" href=\"#nav-BusDC\" role=\"tab\" aria-controls=\"nav-BusDC\" aria-selected=\"false\" ng-click=\"send({payload:BusDC()})\">Bus DC</a>\n        <!--<a class=\"nav-item nav-link\" id=\"nav-Tubing-tab\" data-toggle=\"tab\" href=\"#nav-Tubing\" role=\"tab\" aria-controls=\"nav-Tubing\" aria-selected=\"false\" ng-click=\"send({payload:Tubing()})\">Presión de Tubing (THP)</a>-->\n        <!--<a class=\"nav-item nav-link\" id=\"nav-Casing-tab\" data-toggle=\"tab\" href=\"#nav-Casing\" role=\"tab\" aria-controls=\"nav-Casing\" aria-selected=\"false\" ng-click=\"send({payload:Casing()})\">Presión de Casing</a>-->\n      </div>\n    </nav>\n\n    <script>\n        this.scope.Tension = function() { return \"Tension\"; };\n        this.scope.Corriente = function() { return \"Corriente\"; };\n        this.scope.BusDC = function() { return \"BusDC\"; };\n        this.scope.Tubing = function() { return \"Tubing\"; };\n        this.scope.Casing = function() { return \"Casing\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":960,"y":940,"wires":[["146ca456.d19d9c"]]},{"id":"146ca456.d19d9c","type":"switch","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Tension","vt":"str"},{"t":"eq","v":"Corriente","vt":"str"},{"t":"eq","v":"BusDC","vt":"str"},{"t":"eq","v":"Tubing","vt":"str"},{"t":"eq","v":"Casing","vt":"str"}],"checkall":"true","repair":false,"outputs":5,"x":1120,"y":940,"wires":[["8392125c.4233b"],["4db81f03.8c212"],["1ba7dd1.c24d723"],["3af735a9.70c83a"],["920374c9.134898"]]},{"id":"9c82a3f2.bb49d","type":"change","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","name":"Placa de Motor","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Estándar-Variador_Voltios_Hertz\",\t                \"Configuración-Estándar-Variador_Rampas\",\t                \"Configuración-Estándar-Variador_Límites\",\t                \"Configuración-Estándar-Variador_Rampa_prolongada\",\t                \"Configuración-Estándar-Variador_Escribir_parámetro_C2S\",\t                \"Configuración-Estándar-Variador_Control_de_motor\"],\t                \t       \"show\":[ \"Configuración-Estándar-Variador_Placa_de_motor\"]\t       \t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":1510,"wires":[["fc7e2763.e00d48"]]},{"id":"8aeb1e16.de316","type":"change","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","name":"Ramps y Límites","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Estándar-Variador_Placa_de_motor\",\t                \"Configuración-Estándar-Variador_Voltios_Hertz\",\t                \"Configuración-Estándar-Variador_Escribir_parámetro_C2S\",\t                \"Configuración-Estándar-Variador_Control_de_motor\"],\t       \"show\":[ \"Configuración-Estándar-Variador_Rampas\",\t                \"Configuración-Estándar-Variador_Límites\",\t                \"Configuración-Estándar-Variador_Rampa_prolongada\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1230,"y":1550,"wires":[["fc7e2763.e00d48"]]},{"id":"fb47c1da.61a69","type":"switch","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"PlacaMotor","vt":"str"},{"t":"eq","v":"RampsLimits","vt":"str"},{"t":"eq","v":"AjustesRefuerzo","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":1050,"y":1540,"wires":[["9c82a3f2.bb49d"],["8aeb1e16.de316"],["a57b470d.7af538"]]},{"id":"d8acaf52.27e43","type":"ui_template","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","group":"1d2ca82d.96c588","name":"Menú ","order":1,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-pills nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-PlacaMotor-tab\" data-toggle=\"tab\" href=\"#nav-PlacaMotor\" role=\"tab\" aria-controls=\"nav-PlacaMotor\" aria-selected=\"true\" ng-click=\"send({payload:PlacaMotor()})\">Placa de motor</a>\n        <a class=\"nav-item nav-link\" id=\"nav-RampsLimits-tab\" data-toggle=\"tab\" href=\"#nav-RampsLimits\" role=\"tab\" aria-controls=\"nav-RampsLimits\" aria-selected=\"false\" ng-click=\"send({payload:RampsLimits()})\">Rampas y Límites</a>\n        <a class=\"nav-item nav-link\" id=\"nav-AjustesRefuerzo-tab\" data-toggle=\"tab\" href=\"#nav-AjustesRefuerzo\" role=\"tab\" aria-controls=\"nav-AjustesRefuerzo\" aria-selected=\"false\" ng-click=\"send({payload:AjustesRefuerzo()})\">Ajuste de Refuerzo</a>\n    \n      </div>\n    </nav>\n\n    <script>\n        this.scope.PlacaMotor = function() { return \"PlacaMotor\"; };\n        this.scope.RampsLimits = function() { return \"RampsLimits\"; };\n        this.scope.AjustesRefuerzo = function() { return \"AjustesRefuerzo\"; };\n        \n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":930,"y":1540,"wires":[["fb47c1da.61a69"]]},{"id":"a57b470d.7af538","type":"change","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","name":"Ajustes de Refuerzo","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Estándar-Variador_Rampas\",\t                \"Configuración-Estándar-Variador_Placa_de_motor\",\t                \"Configuración-Estándar-Variador_Límites\",\t                \"Configuración-Estándar-Variador_Rampa_prolongada\",\t                \"Configuración-Estándar-Variador_Escribir_parámetro_C2S\",\t                \"Configuración-Estándar-Variador_Control_de_motor\"],\t       \"show\":[ \"Configuración-Estándar-Variador_Voltios_Hertz\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":1590,"wires":[["fc7e2763.e00d48"]]},{"id":"e95f6929.281ff8","type":"switch","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Configuración-Estándar-Variador","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1050,"y":1490,"wires":[["9c82a3f2.bb49d"]]},{"id":"ade861c3.eaeb3","type":"ui_template","z":"5ef5b1ce.d3899","g":"8c3082f9.73975","group":"8dad8fe5.e2a3f","name":"Menú ","order":1,"width":12,"height":1,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-pills nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-ArranqueEscalonado-tab\" data-toggle=\"tab\" href=\"#nav-ArranqueEscalonado\" role=\"tab\" aria-controls=\"nav-ArranqueEscalonado\" aria-selected=\"true\" ng-click=\"send({payload:ArranqueEscalonado()})\">Arranque escalonado</a>\n        <a class=\"nav-item nav-link\" id=\"nav-ReArranque-tab\" data-toggle=\"tab\" href=\"#nav-ReArranque\" role=\"tab\" aria-controls=\"nav-ReArranque\" aria-selected=\"false\" ng-click=\"send({payload:ReArranque()})\">Re Arranque</a>\n        <!--<a class=\"nav-item nav-link\" id=\"nav-RockingStart-tab\" data-toggle=\"tab\" href=\"#nav-RockingStart\" role=\"tab\" aria-controls=\"nav-RockingStart\" aria-selected=\"false\" ng-click=\"send({payload:RockingStart()})\">Rocking Start</a>-->\n      </div>\n    </nav>\n\n    <script>\n        this.scope.ArranqueEscalonado = function() { return \"ArranqueEscalonado\"; };\n        this.scope.ReArranque = function() { return \"ReArranque\"; };\n        this.scope.RockingStart = function() { return \"RockingStart\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":930,"y":1740,"wires":[["b5ae3cf9.8231b"]]},{"id":"64ddd641.711bd8","type":"switch","z":"5ef5b1ce.d3899","g":"8c3082f9.73975","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Configuración-Estándar-Tipo_de_arranque","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1050,"y":1680,"wires":[["30d8ddc4.25e6f2"]]},{"id":"b5ae3cf9.8231b","type":"switch","z":"5ef5b1ce.d3899","g":"8c3082f9.73975","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"ArranqueEscalonado","vt":"str"},{"t":"eq","v":"ReArranque","vt":"str"},{"t":"eq","v":"RockingStart","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":1050,"y":1740,"wires":[["30d8ddc4.25e6f2"],["34cfab64.3d4224"],["148343a6.619a1c"]]},{"id":"30d8ddc4.25e6f2","type":"change","z":"5ef5b1ce.d3899","g":"8c3082f9.73975","name":"Arranque Escalonado","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Estándar-Tipo_de_arranque_Habilitar\",\t                \"Configuración-Estándar-Tipo_de_arranque_Rampas_de_Aceleración\",\t                \"Configuración-Estándar-Tipo_de_arranque_Tiempo_de_rearme\",\t                \"Configuración-Estándar-Tipo_de_arranque_Re-arranque_por_protección\",\t                \"Configuración-Estándar-Tipo_de_arranque_No._de_Intentos\",\t                \"Configuración-Estándar-Tipo_de_arranque_Configuración\",\t                \"Configuración-Estándar-Tipo_de_arranque_Tendencia\",\t                \"Configuración-Estándar-Tipo_de_arranque_Control\"],\t       \"show\":[ \"Configuración-Estándar-Tipo_de_arranque_Arranque_escalonado\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":1700,"wires":[["63ae6ad3.b07874"]]},{"id":"34cfab64.3d4224","type":"change","z":"5ef5b1ce.d3899","g":"8c3082f9.73975","name":"Re Arranque","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Estándar-Tipo_de_arranque_Arranque_escalonado\",\t                \"Configuración-Estándar-Tipo_de_arranque_Configuración\",\t                \"Configuración-Estándar-Tipo_de_arranque_Tendencia\",\t                \"Configuración-Estándar-Tipo_de_arranque_Control\"],\t       \"show\":[ \"Configuración-Estándar-Tipo_de_arranque_Habilitar\",\t                \"Configuración-Estándar-Tipo_de_arranque_Rampas_de_Aceleración\",\t                \"Configuración-Estándar-Tipo_de_arranque_Tiempo_de_rearme\",\t                \"Configuración-Estándar-Tipo_de_arranque_Re-arranque_por_protección\",\t                \"Configuración-Estándar-Tipo_de_arranque_No._de_Intentos\"]\t            }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":1740,"wires":[["63ae6ad3.b07874"]]},{"id":"b4e17f62.3736","type":"ui_switch","z":"5ef5b1ce.d3899","g":"215bed4c.7858c2","name":"","label":"°C","tooltip":"","group":"4ea55fc.6175ca","order":2,"width":"3","height":1,"passthru":true,"decouple":"false","topic":"C","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":1600,"y":1190,"wires":[[]]},{"id":"e35436c7.11f1b8","type":"ui_switch","z":"5ef5b1ce.d3899","g":"215bed4c.7858c2","name":"","label":"°F","tooltip":"","group":"4ea55fc.6175ca","order":4,"width":"3","height":1,"passthru":true,"decouple":"false","topic":"F","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":1600,"y":1230,"wires":[[]]},{"id":"2a671cfc.7a9654","type":"ui_switch","z":"5ef5b1ce.d3899","g":"215bed4c.7858c2","name":"","label":"Bar","tooltip":"","group":"c1488a8e.209f28","order":4,"width":"3","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"false","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"true","offvalueType":"bool","officon":"","offcolor":"","x":1600,"y":1400,"wires":[[]]},{"id":"bc3bdaea.54eca8","type":"ui_switch","z":"5ef5b1ce.d3899","g":"215bed4c.7858c2","name":"","label":"psi","tooltip":"","group":"c1488a8e.209f28","order":2,"width":3,"height":1,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":1600,"y":1360,"wires":[[]]},{"id":"d265d888.a04558","type":"ui_switch","z":"5ef5b1ce.d3899","g":"215bed4c.7858c2","name":"","label":"Nm","tooltip":"","group":"83526f56.6f63","order":2,"width":3,"height":1,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"false","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"true","offvalueType":"bool","officon":"","offcolor":"","x":1600,"y":1320,"wires":[[]]},{"id":"5d9c013e.660f3","type":"ui_switch","z":"5ef5b1ce.d3899","g":"215bed4c.7858c2","name":"","label":"Lbft","tooltip":"","group":"83526f56.6f63","order":4,"width":3,"height":1,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":1600,"y":1280,"wires":[[]]},{"id":"3dd23d60.3a9252","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"HH DT","label":"Delay [s]","tooltip":"","group":"e149ba57.923428","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":2100,"y":830,"wires":[["4a731ce4.a7a854"]]},{"id":"217a7e83.476b12","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"H DT","label":"Delay [s] ","tooltip":"","group":"e149ba57.923428","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":2100,"y":970,"wires":[["54781f62.2457e"]]},{"id":"5ba4a28e.be396c","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"L DT","label":"Delay [s]","tooltip":"","group":"e149ba57.923428","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":2100,"y":1110,"wires":[["3d5fce47.6c25d2"]]},{"id":"b636759a.1af358","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"54b245d3.9431dc","name":"LL DT","label":"Delay [s]","tooltip":"","group":"e149ba57.923428","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":2100,"y":1250,"wires":[["5798187e.286368"]]},{"id":"de936866.24ffb8","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"HH DT","label":"Delay [s]","tooltip":"","group":"32eaa726.76f2f8","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":2120,"y":1430,"wires":[["516c4379.8b3fdc"]]},{"id":"c3763f57.e2b75","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"H DT","label":"Delay [s] ","tooltip":"","group":"32eaa726.76f2f8","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":2120,"y":1570,"wires":[["92c3216b.2a08e"]]},{"id":"c7c53db4.79034","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"L DT","label":"Delay [s]","tooltip":"","group":"32eaa726.76f2f8","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":2120,"y":1710,"wires":[["696af8b.6cc2208"]]},{"id":"ada97752.874638","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"b7d3914a.2a17","name":"LL DT","label":"Delay [s]","tooltip":"","group":"32eaa726.76f2f8","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":2120,"y":1850,"wires":[["4ce429b2.16f6c8"]]},{"id":"49f4bc47.e792b4","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"HH DT","label":"Delay [s]","tooltip":"","group":"a1a44702.88ed68","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":4040,"y":230,"wires":[["1d496804.d2c2f8"]]},{"id":"b2bf10ae.1293f","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"H DT","label":"Delay [s] ","tooltip":"","group":"a1a44702.88ed68","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":4040,"y":370,"wires":[["4160bf9.173304"]]},{"id":"2a0281a3.689efe","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"L DT","label":"Delay [s]","tooltip":"","group":"a1a44702.88ed68","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":4040,"y":510,"wires":[["f9d899c1.161488"]]},{"id":"ea97a2e4.6a67d","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"888265d9.138288","name":"LL DT","label":"Delay [s]","tooltip":"","group":"a1a44702.88ed68","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":4040,"y":650,"wires":[["1e6715c8.358b2a"]]},{"id":"12d295a5.7cda8a","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"HH DT","label":"Delay [s]","tooltip":"","group":"38e9a87.c300958","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":3180,"y":830,"wires":[["7458a005.66f77"]]},{"id":"5eb0694e.8b93e8","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"H DT","label":"Delay [s] ","tooltip":"","group":"38e9a87.c300958","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":3180,"y":970,"wires":[["9bea7e46.26625"]]},{"id":"174a50b7.39ca9f","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"L DT","label":"Delay [s]","tooltip":"","group":"38e9a87.c300958","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":3180,"y":1110,"wires":[["3113c7be.11c838"]]},{"id":"86aeff9f.23163","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"58747709.2ffd98","name":"LL DT","label":"Delay [s]","tooltip":"","group":"38e9a87.c300958","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":3180,"y":1250,"wires":[["a6333e19.ef71e"]]},{"id":"8391ee25.6681c","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"HH DT","label":"Delay [s]","tooltip":"","group":"79bd9737.7bcf68","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":4320,"y":830,"wires":[["f6a753ca.d6306"]]},{"id":"612144c8.db8e4c","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"H DT","label":"Delay [s] ","tooltip":"","group":"79bd9737.7bcf68","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":4320,"y":970,"wires":[["49379c96.283dd4"]]},{"id":"ef41c61b.f2f998","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"L DT","label":"Delay [s]","tooltip":"","group":"79bd9737.7bcf68","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":4320,"y":1110,"wires":[["32f9531b.a08ddc"]]},{"id":"3368017a.de213e","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b571a8f.d70524","name":"LL DT","label":"Delay [s]","tooltip":"","group":"79bd9737.7bcf68","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":4320,"y":1250,"wires":[["6576783e.0b9e38"]]},{"id":"c261ae3c.cdacd","type":"switch","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Configuración-Protecciones-Fondo","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1150,"y":400,"wires":[["d4249aea.7ecbb8"]]},{"id":"46731d6f.af2214","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"HH DT","label":"Delay [s]","tooltip":"","group":"e5d6b12b.cf15","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":3220,"y":1430,"wires":[["5f37b60a.040e98"]]},{"id":"4b370d9f.00c294","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"H DT","label":"Delay [s] ","tooltip":"","group":"e5d6b12b.cf15","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":3220,"y":1570,"wires":[["c507c3c.4a6f44"]]},{"id":"dfebd1a5.7fa3f","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"L DT","label":"Delay [s]","tooltip":"","group":"e5d6b12b.cf15","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":3220,"y":1710,"wires":[["6f1ff079.8108"]]},{"id":"739b4fcf.1c18","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"a3b836be.d5cde8","name":"LL DT","label":"Delay [s]","tooltip":"","group":"e5d6b12b.cf15","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":3220,"y":1850,"wires":[["605ef006.c23d"]]},{"id":"b9eeec2b.8259d","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"HH DT","label":"Delay [s]","tooltip":"","group":"b32f8dd1.f3e86","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT ","x":4320,"y":1430,"wires":[["b8413d80.707c1"]]},{"id":"b116daf7.152128","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"H DT","label":"Delay [s] ","tooltip":"","group":"b32f8dd1.f3e86","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT ","x":4320,"y":1570,"wires":[["b3ff66ec.1baab8"]]},{"id":"6456f2d9.f929ac","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"L DT","label":"Delay [s]","tooltip":"","group":"b32f8dd1.f3e86","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":4320,"y":1710,"wires":[["f20f1ff3.7073b"]]},{"id":"4fe0e535.f16e5c","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"53806295.7831ac","name":"LL DT","label":"Delay [s]","tooltip":"","group":"b32f8dd1.f3e86","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":4320,"y":1850,"wires":[["ef36995d.9e4a68"]]},{"id":"da6f04d.143ddf8","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Protección Tensión","env":[{"name":"Topic","value":"0","type":"num"}],"x":630,"y":210,"wires":[["61a58376.7d0cec"],["3fe04302.c538cc"],["30c80316.8016dc"]]},{"id":"91957e64.06da6","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección Temperatura de entrada","env":[{"name":"Topic","value":"6","type":"num"}],"x":560,"y":1130,"wires":[["f04c901f.dd12"],["e1469d81.80e24"],["66854960.424778"]]},{"id":"8d456762.d29828","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección Presión de entrada","env":[{"name":"Topic","value":"4","type":"num"}],"x":550,"y":890,"wires":[["a943ed58.e925d"],["4fbab036.e35de"],["5f9e6187.aeb77"]]},{"id":"50f03a.017defc8","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección Presión de descarga","env":[{"name":"Topic","value":"5","type":"num"}],"x":550,"y":1010,"wires":[["693c775a.488e48"],["2e11499b.b80e16"],["c031a11.d7a7d6"]]},{"id":"8c08f202.ae3eb","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección Temperatura de descarga","env":[{"name":"Topic","value":"8","type":"num"}],"x":570,"y":1370,"wires":[["40b18d07.723fa4"],["64e23160.f2226"],["fd04a4a3.98d468"]]},{"id":"6501d3d3.4e2dec","type":"link in","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Protección de tensión In","links":["2cd079.27675f88"],"x":485,"y":210,"wires":[["da6f04d.143ddf8"]]},{"id":"c47cc85b.26bd58","type":"link in","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Protección de sobrecarga In","links":["d54f3181.5d7ad"],"x":425,"y":440,"wires":[["9507ffef.f9eaf"]]},{"id":"23e61906.12bde6","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección de temperatura de entrada In","links":["4d839d32.72a8f4"],"x":375,"y":1130,"wires":[["91957e64.06da6"]]},{"id":"fef78832.db5dc8","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección de presión de entrada In","links":["33575158.040bce"],"x":375,"y":890,"wires":[["8d456762.d29828"]]},{"id":"de8cd607.5bc628","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección Presión de descarga In","links":["fa27ee3.dd7941"],"x":375,"y":1010,"wires":[["50f03a.017defc8"]]},{"id":"34e29829.fec988","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección temperatura de descarga In","links":["99ff714a.7a819"],"x":375,"y":1370,"wires":[["8c08f202.ae3eb"]]},{"id":"afd0928b.cd82a","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección Vibración general","env":[{"name":"Topic","value":"2","type":"num"}],"x":540,"y":650,"wires":[["e5601be4.cf01b8"],["7c83e70f.fd63d8"],["64e91638.e5d088"]]},{"id":"ec206eee.38338","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección Vibración general In","links":["64688fe5.072df"],"x":375,"y":650,"wires":[["afd0928b.cd82a"]]},{"id":"89023996.5cc628","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección Temperatura de motor","env":[{"name":"Topic","value":"7","type":"num"}],"x":560,"y":1250,"wires":[["b9fb6552.28c578"],["5c00e40a.1e606c"],["f0565f48.a5877"]]},{"id":"e8e85d1b.ab894","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección Corriente de fuga","env":[{"name":"Topic","value":"3","type":"num"}],"x":540,"y":770,"wires":[["a902e81d.dec2f8"],["f8ea205f.95545"],["c3312994.ff0fb8"]]},{"id":"ccacd35a.c0616","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Proteccion Temperatura de motor In","links":["3cab3ca5.8a90e4"],"x":375,"y":1250,"wires":[["89023996.5cc628"]]},{"id":"d23baded.2c27c","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección Corriente de fuga In","links":["4d351b9.638afe4"],"x":375,"y":770,"wires":[["e8e85d1b.ab894"]]},{"id":"5fe10083.8d019","type":"function","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"Protecciones","func":"// Definiciones para 10 proteciones\nvar Protecciones = context.get(\"Protecciones\") || [false,false,false,false,false,false,false,false,false,false];\nvar Tiempo = context.get(\"Tiempos\")||[0,0,0,0,0,0,0,0,0,0];\nvar Estado = 0;\nvar flag = context.get(\"flag\");\n\n// Asignar valor de protección\nif(typeof msg.topic != 'undefined'){\n    Protecciones[msg.topic] = msg.payload;\n    Tiempo[msg.topic] = Date.now();\n}\n// Politica de retención protecciones activas (1 minuto)\nvar TiempoRef = Date.now();\nfor(var i=0; i<Tiempo.length; i++){\n    Protecciones[i] = TiempoRef - Tiempo[i] > 60000 ? false : Protecciones[i];\n}\n// Array2dec\nfor(var j=0; j < Protecciones.length; j++){\n    var Aux = Protecciones[j] === true ? 1:0;\n    Estado += Aux * Math.pow(2, j);\n}\n\n// Guardar valor activo de protecciones y tiempos de retención en el contexto\ncontext.set(\"Protecciones\",Protecciones);\ncontext.set(\"Tiempos\",Tiempo);\n\n// Protección activa si alguna posición del vector de protecciones es true\nmsg.payload = Estado !== 0 ? true:false;\n\n// Estado protección\nif(msg.payload === true){   \n    node.status({fill:\"red\",shape:\"ring\",text:msg.payload});\n    context.set(\"flag\",msg.payload);\n}\nelse{\n    node.status({fill:\"green\",shape:\"ring\",text:msg.payload}); \n    context.set(\"flag\",msg.payload);    \n}\n\n// Solo retorna mensajes cada vez que hay un cambio de estado en la protecciones\nif(flag != msg.payload){\n    return msg;    \n}\nelse{\n    return;\n}\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1140,"y":840,"wires":[["77ab26cf.b76908","ef649b1a.9ba458","56b2f98a.e8c598"]]},{"id":"a7cf2e54.83bc5","type":"inject","z":"6c7d2db7.37ef34","g":"3cf0ba38.d2e4f6","name":"","props":[{"p":"payload"},{"p":"topic","v":"9","vt":"num"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":970,"y":1050,"wires":[["5fe10083.8d019"]]},{"id":"2f5679af.c10006","type":"inject","z":"6c7d2db7.37ef34","g":"3cf0ba38.d2e4f6","name":"","props":[{"p":"payload"},{"p":"topic","v":"9","vt":"num"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"false","payloadType":"bool","x":970,"y":1090,"wires":[["5fe10083.8d019"]]},{"id":"3f6add70.a832c2","type":"inject","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"","props":[{"p":"payload"}],"repeat":"15","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":970,"y":840,"wires":[["5fe10083.8d019"]]},{"id":"77ab26cf.b76908","type":"switch","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1300,"y":840,"wires":[["158a08bb.8224b7"]]},{"id":"158a08bb.8224b7","type":"link out","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"Protección Link Out","links":["e0c911fe.aaa9","40af526e.58f65c"],"x":1385,"y":840,"wires":[]},{"id":"ef649b1a.9ba458","type":"link out","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"Estado Protecciones Link Out","links":["8463a0cf.77c52"],"x":1265,"y":800,"wires":[]},{"id":"258395bf.b5730a","type":"change","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Corriente","rules":[{"t":"set","p":"topic","pt":"msg","to":"value","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":260,"y":340,"wires":[["1baa28a3.faa137","f88f8130.d51b2"]]},{"id":"3a8d51e1.99e71e","type":"link in","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Torque Link In","links":["5d91f41a.649a7c","510bf900.1fbea8"],"x":125,"y":340,"wires":[["258395bf.b5730a"]]},{"id":"a5fc5576.3f40e8","type":"change","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Tensión LN Prom","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Average_Line_Voltage","tot":"msg"},{"t":"set","p":"topic","pt":"msg","to":"value","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":130,"wires":[["da6f04d.143ddf8","8ab99b43.236ef8"]]},{"id":"991fe40d.443e28","type":"switch","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Filtro Null","property":"payload.Phase_1_Voltage","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":130,"wires":[["a5fc5576.3f40e8"]]},{"id":"eb7629af.3f96d8","type":"link in","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Datos PQA Link In","links":["f28712cf.12333"],"x":125,"y":130,"wires":[["991fe40d.443e28"]]},{"id":"c098b366.21f6e","type":"ui_level","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","group":"f545408b.4bb6f","order":2,"width":"4","height":"3","name":"","label":"Voltaje LL actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"V","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"property":"payload","peaktime":3000,"x":720,"y":130,"wires":[]},{"id":"8ab99b43.236ef8","type":"function","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Limites","func":"var Voltage = global.get(\"Protections.Voltage\") || null;\nif(Voltage != null){\n    msg.control = {'min':Voltage.LL.Setpoint, 'max':Voltage.HH.Setpoint};\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":590,"y":130,"wires":[["c098b366.21f6e"]]},{"id":"1baa28a3.faa137","type":"function","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Limites","func":"var Load = global.get(\"Protections.Load\");\nmsg.control = {'min':Load.LL.Setpoint, 'max':Load.HH.Setpoint};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":580,"y":340,"wires":[["e25384d8.73d5b8"]]},{"id":"15f0eae5.dcd0a5","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Limites","func":"var Vibration = global.get(\"Protections.Vibration\");\nmsg.control = {'min':Vibration.General.LL.Setpoint||0, 'max':Vibration.General.HH.Setpoint||0};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":570,"wires":[["f670f91d.3ad478"]]},{"id":"f670f91d.3ad478","type":"ui_level","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","group":"dcd8ce21.d354a","order":2,"width":"4","height":"3","name":"Vibración general","label":"Vibración actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"G","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"property":"payload","peaktime":3000,"x":650,"y":570,"wires":[]},{"id":"c5e33e4d.00d55","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Limites","func":"//var Current = global.get(\"Protections.Current\");\n\nvar min = global.get(\"Protections.Current.LL.Setpoint\")||0;\nvar max = global.get(\"Protections.Current.HH.Setpoint\")||0;\n\nmsg.control = {'min':min, 'max':max};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":730,"wires":[["d51b6dcd.3c4b5"]]},{"id":"d51b6dcd.3c4b5","type":"ui_level","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","group":"168d41c1.e88bfe","order":2,"width":"4","height":"3","name":"","label":"Corriente fuga actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"mA","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"property":"payload","peaktime":3000,"x":620,"y":730,"wires":[]},{"id":"a987ab73.5659c8","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Limites","func":"//var InPressure = global.get(\"Protections.Intake.Pressure\");\n\nvar min = global.get(\"Protections.Intake.Pressure.LL.Setpoint\")||0;\nvar max = global.get(\"Protections.Intake.Pressure.HH.Setpoint\")||0;\n\nmsg.control = {'min':min, 'max':max};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":850,"wires":[["3733b898.274cd8"]]},{"id":"3733b898.274cd8","type":"ui_level","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","group":"1afe1bac.d67314","order":2,"width":"4","height":"3","name":"","label":"Presión entrada actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"psi","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"property":"payload","peaktime":3000,"x":620,"y":850,"wires":[]},{"id":"7dedf7c7.3568e8","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Limites","func":"//var OutPressure = global.get(\"Protections.Discharge.Pressure\");\n\nvar min = global.get(\"Protections.Discharge.Pressure.LL.Setpoint\")||0;\nvar max = global.get(\"Protections.Discharge.Pressure.HH.Setpoint\")||0;\n\nmsg.control = {'min':min, 'max':max};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":970,"wires":[["8e3d778a.37fdd8"]]},{"id":"8e3d778a.37fdd8","type":"ui_level","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","group":"bfa870aa.dfbf3","order":2,"width":"4","height":"3","name":"","label":"Presión descarga actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"psi","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"property":"payload","peaktime":3000,"x":620,"y":970,"wires":[]},{"id":"b79b0088.e0571","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Limites","func":"//var InTemp = global.get(\"Protections.Intake.Temperature\");\n\nvar min = global.get(\"Protections.Intake.Temperature.LL.Setpoint\")||0;\nvar max = global.get(\"Protections.Intake.Temperature.HH.Setpoint\")||0;\n\nmsg.control = {'min':min, 'max':max};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":1090,"wires":[["6c8ad0aa.ecebd"]]},{"id":"6c8ad0aa.ecebd","type":"ui_level","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","group":"947448dd.d984b8","order":2,"width":"4","height":"3","name":"","label":"Temp. entrada actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"°F","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"property":"payload","peaktime":3000,"x":620,"y":1090,"wires":[]},{"id":"39509b2.05d2f64","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Limites","func":"//var MotorTemp = global.get(\"Protections.Motor.Temperature\");\n\nvar min = global.get(\"Protections.Motor.Temperature.LL.Setpoint\")||0;\nvar max = global.get(\"Protections.Motor.Temperature.HH.Setpoint\")||0;\n\nmsg.control = {'min':min, 'max':max};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":1210,"wires":[["9c9ca5e7.69fa38"]]},{"id":"9c9ca5e7.69fa38","type":"ui_level","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","group":"2a2a7835.816ec8","order":2,"width":"4","height":"3","name":"","label":"Temp. motor actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"°F","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"property":"payload","peaktime":3000,"x":620,"y":1210,"wires":[]},{"id":"390f354c.d49e3a","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Limites","func":"// var OutTemp = global.get(\"Protections.Discharge.Temperature\");\n\nvar min = global.get(\"Protections.Discharge.Temperature.LL.Setpoint\")||0;\nvar max = global.get(\"Protections.Discharge.Temperature.HH.Setpoint\")||0;\n\nmsg.control = {'min':min, 'max':max};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":1330,"wires":[["b777e226.10c8b"]]},{"id":"b777e226.10c8b","type":"ui_level","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","group":"92334174.4ca64","order":2,"width":"4","height":"3","name":"","label":"Temp. descarga actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"°F","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"property":"payload","peaktime":3000,"x":620,"y":1330,"wires":[]},{"id":"e25384d8.73d5b8","type":"ui_level","z":"6c7d2db7.37ef34","g":"aa324282.4f554","group":"cd288dd6.2e074","order":2,"width":"4","height":"3","name":"","label":"Corriente Actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"A","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"property":"payload","peaktime":3000,"x":720,"y":340,"wires":[]},{"id":"a210ddee.c7129","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"HH DT","label":"Delay [s]","tooltip":"","group":"5901c07f.97003","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":2060,"y":230,"wires":[["97925335.78553"]]},{"id":"6d73a85a.f42f18","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"H DT","label":"Delay [s] ","tooltip":"","group":"5901c07f.97003","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":2060,"y":370,"wires":[["8f90abd2.71ca98"]]},{"id":"f016e07e.fbcde","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"L DT","label":"Delay [s]","tooltip":"","group":"5901c07f.97003","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":2060,"y":510,"wires":[["471b8ebe.ebd96"]]},{"id":"cb0d324.9efa3d","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"LL DT","label":"Delay [s]","tooltip":"","group":"5901c07f.97003","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":2060,"y":650,"wires":[["5b1d2927.d1b308"]]},{"id":"15aef3d2.fbcebc","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"HH DT","label":"Delay [s]","tooltip":"","group":"6b5426f3.f658d8","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":3020,"y":230,"wires":[["bd3ac661.673888"]]},{"id":"ca4807a6.e20fa8","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"H DT","label":"Delay [s] ","tooltip":"","group":"6b5426f3.f658d8","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":3020,"y":370,"wires":[["cd0132de.28ef2"]]},{"id":"527b631b.e975ec","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"L DT","label":"Delay [s]","tooltip":"","group":"6b5426f3.f658d8","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":3020,"y":510,"wires":[["9b498fd7.493cf"]]},{"id":"5bf3fb88.25b264","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"LL DT","label":"Delay [s]","tooltip":"","group":"6b5426f3.f658d8","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":3020,"y":650,"wires":[["2b999efc.767842"]]},{"id":"9b47db26.0346f8","type":"switch","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Configuración-Protecciones-Superficie","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1210,"y":820,"wires":[["8392125c.4233b"]]},{"id":"ee09985d.8da768","type":"function","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"MinLimit","func":"msg.payload = 0;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1420,"y":380,"wires":[["319a607a.54c89","9c75f1ec.0814b"]]},{"id":"96de9397.2cea6","type":"change","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"U. Ref","rules":[{"t":"set","p":"payload","pt":"msg","to":"Ultima_Referencia","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1080,"y":400,"wires":[["3cc764fd.7e58cc","a4829f7d.87894"]]},{"id":"d53d6da0.4e44f","type":"ui_toast","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","position":"top right","displayTime":"3","highlight":"","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1250,"y":130,"wires":[]},{"id":"4d6c53ee.a2fdec","type":"function","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"Evento de Tensión","func":"var Tension = global.get(\"PQA.Real_Time_Parameters.Average_Line_Voltage\",'memoryOnly')||0;\nTension = parseFloat(Tension).toFixed(2);\n\nnode.status({fill:\"red\",shape:\"ring\",text:msg.Mensaje});\n\nif(msg.Mensaje == \"Trigger by HH Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por Proteción de Tensión HH: \"+ Tension;\n    global.set('Protections.Voltage.Status',4,'memoryOnly');    \n    delete msg.topic;\n    return msg;\n    \n}\nif(msg.Mensaje == \"Trigger by LL Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Tensión LL: \"+ Tension;\n    global.set('Protections.Voltage.Status',3,'memoryOnly');    \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by H Protection\"){\n    msg.payload = \"Alarma por Tensión H: \"+Tension;\n    global.set('Protections.Voltage.Status',2,'memoryOnly');    \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by L Protection\"){\n    msg.payload = \"Alarma por Tensión L: \"+Tension;\n    global.set('Protections.Voltage.Status',1,'memoryOnly');    \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Normal condition\"){\n    msg.payload = \"Condición normal\";\n    global.set('Protections.Voltage.Status',0,'memoryOnly');    \n    delete msg.topic;\n    return msg;\n}\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1010,"y":130,"wires":[["d53d6da0.4e44f","d3023171.a64c3"]]},{"id":"50e15d74.ddeaf4","type":"function","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"Evento de Carga","func":"var Carga = global.get(\"C2S.Output_Current\",'memoryOnly')||0;\nCarga = parseFloat(Carga).toFixed(2);\nnode.status({fill:\"red\",shape:\"ring\",text:msg.Mensaje});\n\nif(msg.Mensaje == \"Trigger by HH Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Corriente HH :\"+Carga;\n    global.set('Protections.Load.Status',4,'memoryOnly');\n    delete msg.topic;\n    return msg;\n    \n}\nif(msg.Mensaje == \"Trigger by LL Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Corriente LL: \"+Carga;\n    global.set('Protections.Load.Status',3,'memoryOnly');    \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by H Protection\"){\n    msg.payload = \"Alarma por Corriente H: \"+Carga;\n    global.set('Protections.Load.Status',2,'memoryOnly');    \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by L Protection\"){\n    msg.payload = \"Alarma por Corriente L: \"+Carga;\n    global.set('Protections.Load.Status',1,'memoryOnly');    \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Normal condition\"){\n    msg.payload = \"Condición normal\";\n    global.set('Protections.Load.Status',0,'memoryOnly');\n    delete msg.topic;\n    return msg;\n}\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1010,"y":180,"wires":[["d53d6da0.4e44f","d3023171.a64c3"]]},{"id":"db1e9db0.6840e","type":"link out","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"Link Eventos","links":["59e817c2.295b38"],"x":1325,"y":170,"wires":[]},{"id":"767cdd32.f3dfc4","type":"link out","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Torque Eventos Link","links":["728a8a65.02a3c4"],"x":755,"y":400,"wires":[]},{"id":"61a58376.7d0cec","type":"link out","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Tensión Eventos Link","links":["2115be6e.78c1f2"],"x":755,"y":170,"wires":[]},{"id":"2115be6e.78c1f2","type":"link in","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"Evento Tensión Link In","links":["61a58376.7d0cec"],"x":885,"y":130,"wires":[["4d6c53ee.a2fdec"]]},{"id":"728a8a65.02a3c4","type":"link in","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"Evento Torque Link In","links":["767cdd32.f3dfc4"],"x":885,"y":180,"wires":[["50e15d74.ddeaf4"]]},{"id":"39e546d5.bad0ca","type":"comment","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Todos se conectan por salida dos","info":"","x":560,"y":1820,"wires":[]},{"id":"9209cfb3.3a43a","type":"link in","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"Actualización Protecciones Link In","links":["3fe04302.c538cc","3c6e6977.ced646","2416b4e2.c6543c","7c83e70f.fd63d8","f8ea205f.95545","4fbab036.e35de","2e11499b.b80e16","e1469d81.80e24","5c00e40a.1e606c","64e23160.f2226","7208f314.664a4c","b5bb0faf.0b4a","68f08e0c.2488e"],"x":1005,"y":800,"wires":[["5fe10083.8d019"]]},{"id":"4aca35c3.0308ac","type":"exec","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","command":"","addpay":true,"append":"","useSpawn":"false","timer":"0.5","oldrc":false,"name":"","x":550,"y":190,"wires":[[],[],["bb03c26f.a7a22","82d933f2.bf653"]]},{"id":"1cb59f89.cf5d7","type":"change","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"Ping C2S","rules":[{"t":"set","p":"payload","pt":"msg","to":"ping -c 1 +++","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"+++","fromt":"str","to":"IP","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":420,"y":190,"wires":[["4aca35c3.0308ac"]]},{"id":"bd579703.22d958","type":"switch","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"","property":"payload.message","propertyType":"msg","rules":[{"t":"cont","v":"Command failed:","vt":"str"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":800,"y":190,"wires":[["1478ddff.860e02"],["98ca0b1c.cda4f8"]]},{"id":"ddd3ba80.4f0788","type":"ui_text_input","z":"5f404c88.fa75a4","g":"aa1ba550.cbd9d8","name":"Nombre del Pozo Main","label":"Nombre del pozo","tooltip":"","group":"57a005f9.8f8f9c","order":1,"width":0,"height":0,"passthru":true,"mode":"text","delay":300,"topic":"","x":1050,"y":1510,"wires":[["2acca295.66b21e","8d4d7.c3fc3b29"]]},{"id":"2acca295.66b21e","type":"change","z":"5f404c88.fa75a4","g":"aa1ba550.cbd9d8","name":"","rules":[{"t":"set","p":"Nombre_Pozo","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1350,"y":1510,"wires":[[]]},{"id":"41a6416e.309fb","type":"change","z":"5f404c88.fa75a4","g":"aa1ba550.cbd9d8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Nombre_Pozo","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":790,"y":1510,"wires":[["ddd3ba80.4f0788","8d4d7.c3fc3b29"]]},{"id":"8d4d7.c3fc3b29","type":"ui_text_input","z":"5f404c88.fa75a4","g":"aa1ba550.cbd9d8","name":"Nombre del Pozo Menú","label":"Nombre del pozo","tooltip":"","group":"df8da47a.3b74d8","order":1,"width":0,"height":0,"passthru":true,"mode":"text","delay":300,"topic":"","x":1060,"y":1550,"wires":[["ddd3ba80.4f0788","2acca295.66b21e"]]},{"id":"281ea19.4b8f45e","type":"link in","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Actualizar Max Limit Link In","links":["8912c72a.7dffc8"],"x":1265,"y":420,"wires":[["7116aa90.5b13a4"]]},{"id":"1478ddff.860e02","type":"change","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"Falla de comunicación","rules":[{"t":"set","p":"#:(memoryOnly)::Estado_Comunicacion_Drive","pt":"global","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":970,"y":170,"wires":[["b234b8c9.aaba78"]]},{"id":"98ca0b1c.cda4f8","type":"change","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"Comunicación Normal","rules":[{"t":"set","p":"#:(memoryOnly)::Estado_Comunicacion_Drive","pt":"global","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":970,"y":210,"wires":[[]]},{"id":"bb03c26f.a7a22","type":"rbe","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":680,"y":190,"wires":[["bd579703.22d958"]]},{"id":"c44c2bcf.479ab8","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal17","rules":[{"t":"set","p":"ES.ED.Canal17.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal17.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":460,"wires":[[]]},{"id":"c8be3f70.1b147","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal18","rules":[{"t":"set","p":"ES.ED.Canal18.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal18.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":500,"wires":[[]]},{"id":"90937545.972c78","type":"ui_text","z":"5ef5b1ce.d3899","g":"e0133d8.e6db5c","group":"7bcf8b9.016b774","order":1,"width":0,"height":0,"name":"Menu Clock","label":"","format":"{{msg.payload}}","layout":"row-spread","x":2170,"y":80,"wires":[]},{"id":"2409fb72.507894","type":"ui_text","z":"5ef5b1ce.d3899","g":"e0133d8.e6db5c","group":"f18bfe9b.24d66","order":1,"width":0,"height":0,"name":"Main Clock","label":"","format":"{{msg.payload}}","layout":"row-spread","x":2170,"y":120,"wires":[]},{"id":"a735dde2.fca15","type":"comment","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Arranque, Parada y Reset","info":"","x":280,"y":680,"wires":[]},{"id":"da35109a.abaf","type":"ui_button","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","group":"759fa4e7.01062c","order":2,"width":2,"height":1,"passthru":false,"label":"Arranque","tooltip":"","color":"","bgcolor":"green","icon":"","payload":"Start","payloadType":"str","topic":"Basic","x":460,"y":840,"wires":[["a64d37de.e6dbb8"]]},{"id":"80767bfb.6c99e8","type":"ui_button","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","group":"759fa4e7.01062c","order":3,"width":2,"height":1,"passthru":false,"label":"Parada","tooltip":"","color":"","bgcolor":"red","icon":"","payload":"Stop","payloadType":"str","topic":"Basic","x":460,"y":880,"wires":[["223cb03e.57618","af75dc7c.5eaad","ca280181.090e2","26eb2018.cea02"]]},{"id":"f2b2eb51.f0a778","type":"ui_button","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","group":"759fa4e7.01062c","order":4,"width":2,"height":1,"passthru":false,"label":"Reinicio","tooltip":"","color":"","bgcolor":"grey","icon":"","payload":"Reset","payloadType":"str","topic":"Basic","x":500,"y":940,"wires":[["ca280181.090e2"]]},{"id":"aa36a4b3.18fea8","type":"ui_toast","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","position":"top right","displayTime":"3","highlight":"","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":2360,"y":740,"wires":[]},{"id":"1fdf355.5b5f8cb","type":"link in","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reset Function","links":["5dd712bf.16f59c","1528bc05.41c944","f5974356.129d6","2b36623c.faf69e","fdc50122.eca2a","603d10a1.9639a","38626d7c.ef07b2","24025e15.4ddaf2","c7b640c9.5eab7"],"x":185,"y":720,"wires":[["a34d22bc.215c6"]]},{"id":"c581c8dc.d013e8","type":"link in","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Start Function","links":["dfc56d02.1bad5","e3b632a7.1266a","6d5046d2.315528","fee05810.876ba8","f0467867.449958","18c666f8.6b3809","399aa9e0.76e826","baa92aab.077738","d5cce8d4.bb9f98","3bc65cf3.0a7434","603d10a1.9639a","38626d7c.ef07b2","a6adbd4d.9a3c4","db429372.52e7a","fe53aea5.79aaf"],"x":185,"y":760,"wires":[["1377622f.f9616e"]]},{"id":"aefb683f.603ed8","type":"comment","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Eventos","info":"","x":2320,"y":700,"wires":[]},{"id":"516eb117.80341","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Direction","rules":[{"t":"set","p":"Direction","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":700,"y":940,"wires":[["ca280181.090e2"]]},{"id":"ed90d895.2dba38","type":"switch","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","property":"#:(memoryOnly)::Drive_Status.Command_dir","propertyType":"global","rules":[{"t":"eq","v":"1","vt":"num"},{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":2,"x":1030,"y":960,"wires":[["8795b125.03836"],["e9296706.6f4db8"]]},{"id":"8795b125.03836","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Forward","rules":[{"t":"set","p":"payload","pt":"msg","to":"Forward","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1160,"y":940,"wires":[["e45b510.d40b5b"]]},{"id":"e9296706.6f4db8","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reverse","rules":[{"t":"set","p":"payload","pt":"msg","to":"Reverse","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1160,"y":980,"wires":[["e45b510.d40b5b"]]},{"id":"edd86b06.db3c18","type":"ui_text","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","group":"759fa4e7.01062c","order":7,"width":4,"height":1,"name":"Direction Field","label":"Sentido de giro: ","format":"{{msg.payload}}","layout":"row-spread","x":1440,"y":960,"wires":[]},{"id":"1377622f.f9616e","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Arranque Desde Función","rules":[{"t":"set","p":"payload","pt":"msg","to":"Start","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Basic","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":450,"y":760,"wires":[["ca280181.090e2","d4aceefa.55a6d"]]},{"id":"a34d22bc.215c6","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reset Desde Función","rules":[{"t":"set","p":"payload","pt":"msg","to":"Reset","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Basic","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":460,"y":720,"wires":[["ca280181.090e2"]]},{"id":"bf656c1e.ff84","type":"link in","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"No user In","links":["8edea7ae.674088","935ca480.525e98"],"x":185,"y":840,"wires":[["7d8faac3.d24504"]]},{"id":"7d8faac3.d24504","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Disabled","rules":[{"t":"delete","p":"payload","pt":"msg"},{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":280,"y":840,"wires":[["da35109a.abaf","1c025a1f.5a68b6","7ce52484.84a5ec","1acb0c29.0ddee4","d3482e86.9d4d5","3cc764fd.7e58cc"]]},{"id":"3c2de1fe.525eae","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Enabled","rules":[{"t":"delete","p":"payload","pt":"msg"},{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":280,"y":880,"wires":[["da35109a.abaf","80767bfb.6c99e8","1c025a1f.5a68b6","7ce52484.84a5ec","1acb0c29.0ddee4","d3482e86.9d4d5","3cc764fd.7e58cc"]]},{"id":"ba3ec3f7.7f116","type":"link in","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"User loged","links":["33c5f16c.c8a5ae","42f85e00.83b314","1995f952.35b347"],"x":185,"y":880,"wires":[["3c2de1fe.525eae"]]},{"id":"b07f5c6d.27fb2","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Parada Desde Función","rules":[{"t":"set","p":"payload","pt":"msg","to":"Stop","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Basic","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":460,"y":800,"wires":[["ca280181.090e2","223cb03e.57618","af75dc7c.5eaad"]]},{"id":"ca280181.090e2","type":"subflow:c8b77ff3.ab501","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","env":[],"x":860,"y":850,"wires":[["512150a.24612b","f0e59da1.e1b2e","5da903f0.67311c","5a59784b.c9d428"]]},{"id":"e0c911fe.aaa9","type":"link in","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Stop Function","links":["158a08bb.8224b7","1c7b8016.16c5d","f9b5d79d.6ae798","4a74f74d.aedd28","875f5de0.359d8","40e04b3e.5c9264","3bc65cf3.0a7434","603d10a1.9639a","38626d7c.ef07b2","9423bfa9.83933","a1197dc9.92f25","eb62ad9.cbb145","782235ec.980bfc"],"x":185,"y":800,"wires":[["b07f5c6d.27fb2"]]},{"id":"41951c57.8e84c4","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Rechazar mensaje","func":"if(typeof msg.enabled == 'undefined'){\n    return msg;\n}\nelse{\n    return;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":670,"y":980,"wires":[["516eb117.80341"]]},{"id":"d4aceefa.55a6d","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"AR_Flag True","func":"global.set(\"AR_Flag\",true);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":870,"y":720,"wires":[[]]},{"id":"223cb03e.57618","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"AR_Flag False","func":"global.set(\"AR_Flag\",false);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":880,"y":680,"wires":[[]]},{"id":"b34e348c.08d3d8","type":"link out","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reset Funciones de control Link Out","links":["76e4fde6.1b44b4","bf6826f1.1eaf58","51d6f5bd.7b3bac"],"x":935,"y":900,"wires":[]},{"id":"af75dc7c.5eaad","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reset","rules":[{"t":"set","p":"topic","pt":"msg","to":"reset","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":850,"y":900,"wires":[["b34e348c.08d3d8"]]},{"id":"7ea30cf7.87bf74","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Eventos Arranque","func":"var Fuente = global.get(\"Source_for_events.Start\")||0;\nvar code = msg.code;\n\nnode.status({fill:\"green\",shape:\"dot\",text:\"Fuente: \"+Fuente+\" Code:\"+code});\ndelete msg.topic;\n\n// Eventos exitosos\nif(code === 0){\n    if(Fuente ==1){\n        msg.payload =\"Arranque local CILA2S exitoso\";\n        return msg;\n    }\n    else if(Fuente ==2){\n        msg.payload =\"Arranque Escalonado CILA2S exitoso\";\n        return msg;\n    }\n    else if(Fuente ==3){\n        msg.payload =\"Re Arranque automático CILA2S exitoso\";\n        return msg;\n    }\n    else if(Fuente ==4){\n        msg.payload =\"Arranque remoto CILA2S exitoso\";\n        return msg;\n    }\n    else if(Fuente ==5){\n        msg.payload =\"Arranque en duro local CILA2S exitoso\";\n        return msg;\n    }\n    else if(Fuente ==6){\n        msg.payload =\"Arranque en duro remoto CILA2S exitoso\";\n        return msg;\n    }\n}\n\n// Eventos fallidos\n\nif(code !== 0){\n    if(Fuente ==1){\n        msg.payload =\"Arranque local CILA2S fallido\";\n        return msg;\n    }\n    else if(Fuente ==2){\n        msg.payload =\"Arranque Escalonado CILA2S fallido\";\n        return msg;\n    }\n    else if(Fuente ==3){\n        msg.payload =\"Re Arranque automático CILA2S fallido\";\n        return msg;\n    }\n    else if(Fuente ==4){\n        msg.payload =\"Arranque remoto CILA2S fallido\";\n        return msg;\n    }\n    else if(Fuente ==5){\n        msg.payload =\"Arranque en duro local CILA2S fallido\";\n        return msg;\n    }\n    else if(Fuente ==6){\n        msg.payload =\"Arranque en duro remoto CILA2S fallido\";\n        return msg;\n    }\n}\nreturn;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2110,"y":790,"wires":[["aa36a4b3.18fea8","f99e70c8.70126"]]},{"id":"6c47cd85.078b04","type":"switch","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Arranque/Parada/Reset","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"Parada","vt":"str"},{"t":"cont","v":"Arranque","vt":"str"},{"t":"cont","v":"Reset","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":1870,"y":790,"wires":[["9045005a.2f943"],["7ea30cf7.87bf74"],["c0a7cbde.806148"]]},{"id":"9045005a.2f943","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Eventos Parada","func":"var Fuente = global.get(\"Source_for_events.Stop\")||0;\nvar code = msg.code;\n\nnode.status({fill:\"green\",shape:\"dot\",text:\"Fuente: \"+Fuente+\" Code:\"+code});\ndelete msg.topic;\n\n// Eventos exitosos\nif(code === 0){\n    if(Fuente == 1){\n        msg.payload = \"Parada local CILA2S exitosa\";\n        return msg;\n    }\n    else if(Fuente == 2){\n        msg.payload = \"Parada remota CILA2S exitosa\";\n        return msg;\n    }\n\n}\n\n// Eventos fallidos\nif(code !== 0 ){\n    if(Fuente == 1){\n        msg.payload =\"Parada local CILA2S fallida\";\n        return msg;\n    }\n    else if(Fuente == 2){\n        msg.payload =\"Parada remota CILA2S fallida\";\n        return msg;\n    }\n}\nreturn;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2100,"y":740,"wires":[["aa36a4b3.18fea8","f99e70c8.70126"]]},{"id":"6aaa222d.543dfc","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Command Dir","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::Drive_Status.Command_dir","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":290,"y":1020,"wires":[["8141640f.3598b8"]]},{"id":"8141640f.3598b8","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"NOT","func":"if(msg.payload === 0){\n    msg.payload = 1;\n}\nelse if(msg.payload == 1){\n    msg.payload = 0;\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":320,"y":980,"wires":[["1c025a1f.5a68b6","7ce52484.84a5ec","41951c57.8e84c4"]]},{"id":"2842bb88.2ace24","type":"delay","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":310,"y":1060,"wires":[["6aaa222d.543dfc"]]},{"id":"645af99b.4e8a38","type":"link in","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Actualizar sentido de giro Link In","links":["97407954.a004c8","ad87cee4.7dbb5"],"x":215,"y":1060,"wires":[["2842bb88.2ace24"]]},{"id":"f99e70c8.70126","type":"link out","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Arranque_Parada","links":["16fb733e.5b559d","504fb845.3276c8","59e817c2.295b38","65189a34.958f54"],"x":2285,"y":790,"wires":[]},{"id":"8197176b.7639a8","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"4f5c2b53.44a154","order":1,"width":4,"height":2,"name":"","label":"Frecuencia","format":"<font size = 6px> {{msg.payload}}Hz","layout":"col-center","x":3590,"y":50,"wires":[]},{"id":"8406554a.894a38","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"4f5c2b53.44a154","order":2,"width":4,"height":2,"name":"","label":"Tensión de fase prom","format":"<font size = 6px> {{msg.payload}}V","layout":"col-center","x":3620,"y":90,"wires":[]},{"id":"9e2b819.de0ee8","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"4f5c2b53.44a154","order":3,"width":4,"height":2,"name":"","label":"Tensión de línea prom","format":"<font size = 6px> {{msg.payload}}V","layout":"col-center","x":3620,"y":130,"wires":[]},{"id":"cbe5848c.3678c8","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"4f5c2b53.44a154","order":4,"width":4,"height":2,"name":"","label":"THD (V) Prom","format":"<font size = 6px> {{msg.payload}}%","layout":"col-center","x":3600,"y":170,"wires":[]},{"id":"11e153a8.ba3aac","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"4f5c2b53.44a154","order":5,"width":4,"height":2,"name":"","label":"THD (I) Prom","format":"<font size = 6px> {{msg.payload}}%","layout":"col-center","x":3590,"y":210,"wires":[]},{"id":"4ea7eb06.9f2174","type":"csv","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","sep":",","hdrin":false,"hdrout":"once","multi":"one","ret":"\\n","temp":"","skip":"0","strings":true,"include_empty_strings":false,"include_null_values":false,"x":1840,"y":150,"wires":[["4a152bf2.aedbf4"]]},{"id":"7e0625da.a5746c","type":"function","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Creación de archivo","func":"var PQA             = global.get(\"PQA.Real_Time_Parameters\",'memoryOnly')   || null;\nvar C2S             = global.get(\"C2S\",'memoryOnly')                        || null;\nvar DownHoleData    = global.get('DownHoleData','memoryOnly')               || null;\n\nvar date            = new Date();\n\n// Date\nvar year            = date.getFullYear();\nvar month           = date.getMonth()+1;\nvar day             = date.getDate();\n\n//Time\nvar hours           = date.getHours();\nvar minutes         = date.getMinutes();\nvar seconds         = date.getSeconds();\n\nmsg.payload = {\n    'fecha_hora'                : year+'/'+month+'/'+day+\" \"+hours+':'+minutes+':'+seconds,\n    'Frequency'                 : PQA != null && typeof PQA.Frequency                                          != 'undefined' ? parseFloat(PQA.Frequency).toFixed(3):\"--\",\n    'Phase_1_Voltage'           : PQA != null && typeof PQA.Phase_1_Voltage                                    != 'undefined' ? parseFloat(PQA.Phase_1_Voltage).toFixed(3):\"--\",\n    'Phase_2_Voltage'           : PQA != null && typeof PQA.Phase_2_Voltage                                    != 'undefined' ? parseFloat(PQA.Phase_2_Voltage).toFixed(3):\"--\",\n    'Phase_3_Voltage'           : PQA != null && typeof PQA.Phase_3_Voltage                                    != 'undefined' ? parseFloat(PQA.Phase_3_Voltage).toFixed(3):\"--\",\n    'Average_Phase_Voltage'     : PQA != null && typeof PQA.Average_Phase_Voltage                              != 'undefined' ? parseFloat(PQA.Average_Phase_Voltage).toFixed(3):\"--\",\n    'Line_Voltage_1_2'          : PQA != null && typeof PQA.Line_Voltage_1_2                                   != 'undefined' ? parseFloat(PQA.Line_Voltage_1_2).toFixed(3):\"--\",\n    'Line_Voltage_2_3'          : PQA != null && typeof PQA.Line_Voltage_2_3                                   != 'undefined' ? parseFloat(PQA.Line_Voltage_2_3).toFixed(3):\"--\",\n    'Line_Voltage_3_1'          : PQA != null && typeof PQA.Line_Voltage_3_1                                   != 'undefined' ? parseFloat(PQA.Line_Voltage_3_1).toFixed(3):\"--\",\n    'Average_Line_Voltage'      : PQA != null && typeof PQA.Average_Line_Voltage                               != 'undefined' ? parseFloat(PQA.Average_Line_Voltage).toFixed(3):\"--\",\n    'Total_Phase_A_Current'     : PQA != null && typeof PQA.Total_Phase_A_Current                              != 'undefined' ? parseFloat(PQA.Total_Phase_A_Current).toFixed(3):\"--\",\n    'Total_Phase_B_Current'     : PQA != null && typeof PQA.Total_Phase_B_Current                              != 'undefined' ? parseFloat(PQA.Total_Phase_B_Current).toFixed(3):\"--\",\n    'Total_Phase_C_Current'     : PQA != null && typeof PQA.Total_Phase_C_Current                              != 'undefined' ? parseFloat(PQA.Total_Phase_C_Current).toFixed(3):\"--\",\n    'Neutral_Current'           : PQA != null && typeof PQA.Neutral_Current                                    != 'undefined' ? parseFloat(PQA.Neutral_Current).toFixed(3):\"--\",\n    'Phase_A_Power'             : PQA != null && typeof PQA.Phase_A_Power                                      != 'undefined' ? parseFloat(PQA.Phase_A_Power).toFixed(3):\"--\",\n    'Phase_B_Power'             : PQA != null && typeof PQA.Phase_B_Power                                      != 'undefined' ? parseFloat(PQA.Phase_B_Power).toFixed(3):\"--\",\n    'Phase_C_Power'             : PQA != null && typeof PQA.Phase_C_Power                                      != 'undefined' ? parseFloat(PQA.Phase_C_Power).toFixed(3):\"--\",\n    'Total_System_Power'        : PQA != null && typeof PQA.Total_System_Power                                 != 'undefined' ? parseFloat(PQA.Total_System_Power).toFixed(3):\"--\",\n    'Phase_A_Reactive_Power'    : PQA != null && typeof PQA.Phase_A_Reactive_Power                             != 'undefined' ? parseFloat(PQA.Phase_A_Reactive_Power).toFixed(3):\"--\",\n    'Phase_B_Reactive_Power'    : PQA != null && typeof PQA.Phase_B_Reactive_Power                             != 'undefined' ? parseFloat(PQA.Phase_B_Reactive_Power).toFixed(3):\"--\",\n    'Phase_C_Reactive_Power'    : PQA != null && typeof PQA.Phase_C_Reactive_Power                             != 'undefined' ? parseFloat(PQA.Phase_C_Reactive_Power).toFixed(3):\"--\",\n    'Phase_A_Apparent_Power'    : PQA != null && typeof PQA.Phase_A_Apparent_Power                             != 'undefined' ? parseFloat(PQA.Phase_A_Apparent_Power).toFixed(3):\"--\",\n    'Phase_B_Apparent_Power'    : PQA != null && typeof PQA.Phase_B_Apparent_Power                             != 'undefined' ? parseFloat(PQA.Phase_B_Apparent_Power).toFixed(3):\"--\",\n    'Phase_C_Apparent_Power'    : PQA != null && typeof PQA.Phase_C_Apparent_Power                             != 'undefined' ? parseFloat(PQA.Phase_C_Apparent_Power).toFixed(3):\"--\",\n    'Output_Frecuency'          : C2S != null && typeof C2S.Output_Frecuency                                   != 'undefined' ? parseFloat(C2S.Output_Frecuency).toFixed(3):\"--\",\n    'Output_Current'            : C2S != null && typeof C2S.Output_Current                                     != 'undefined' ? parseFloat(C2S.Output_Current).toFixed(3):\"--\",\n    'Output_Voltage'            : C2S != null && typeof C2S.Output_Voltage                                     != 'undefined' ? parseFloat(C2S.Output_Voltage).toFixed(3):\"--\",\n    'Output_Power'              : C2S != null && typeof C2S.Output_Power                                       != 'undefined' ? parseFloat(C2S.Output_Power).toFixed(3):\"--\",\n    'Power_Factor'              : C2S != null && typeof C2S.Power_Factor                                       != 'undefined' ? parseFloat(C2S.Power_Factor).toFixed(3):\"--\",\n    'Bus_DC_Volts'              : C2S != null && typeof C2S.Bus_DC_Volts                                       != 'undefined' ? parseFloat(C2S.Bus_DC_Volts).toFixed(3):\"--\",\n    'Drive_Temp_C'              : C2S != null && typeof C2S.Drive_Temp_C                                       != 'undefined' ? parseFloat(C2S.Drive_Temp_C).toFixed(3):\"--\",\n    'Elapsed_Run_Time'          : C2S != null && typeof C2S.Elapsed_Run_Time                                   != 'undefined' ? parseFloat(C2S.Elapsed_Run_Time).toFixed(3):\"--\",\n    'Last_Fault_Code'           : C2S != null && typeof C2S.Last_Fault_Code                                    != 'undefined' ? parseFloat(C2S.Last_Fault_Code).toFixed(3):\"--\"//,\n    //'Presión de entrada'        : DownHoleData != null && typeof DownHoleData.DHS[\"Presión de entrada\"]         != 'undefined' ? parseFloat(DownHoleData.DHS[\"Presión de entrada\"]).toFixed(3):\"--\",\n    //'Presión de descarga'       : DownHoleData != null && typeof DownHoleData.DHS[\"Presión de descarga\"]        != 'undefined' ? parseFloat(DownHoleData.DHS[\"Presión de descarga\"]).toFixed(3):\"--\",\n    //'Temperatura de entrada'    : DownHoleData != null && typeof DownHoleData.DHS[\"Temperatura de entrada\"]     != 'undefined' ? parseFloat(DownHoleData.DHS[\"Temperatura de entrada\"]).toFixed(3):\"--\",\n    //'Temperatura de descarga'   : DownHoleData != null && typeof DownHoleData.DHS[\"Temperatura de descarga\"]    != 'undefined' ? parseFloat(DownHoleData.DHS[\"Temperatura de descarga\"]).toFixed(3):\"--\",\n    //'Temperatura de motor'      : DownHoleData != null && typeof DownHoleData.DHS[\"Temperatura de motor\"]       != 'undefined' ? parseFloat(DownHoleData.DHS[\"Temperatura de motor\"]).toFixed(3):\"--\",\n    //'Vibración en X'            : DownHoleData != null && typeof DownHoleData.DHS[\"Vibración X\"]                != 'undefined' ? parseFloat(DownHoleData.DHS[\"Vibración X\"]).toFixed(3):\"--\",\n    //'Vibración en Z'            : DownHoleData != null && typeof DownHoleData.DHS[\"Vibración Z\"]                != 'undefined' ? parseFloat(DownHoleData.DHS[\"Vibración Z\"]).toFixed(3):\"--\",\n    //'Corriente de fuga'         : DownHoleData != null && typeof DownHoleData.DHS[\"Corriente de fuga\"]          != 'undefined' ? parseFloat(DownHoleData.DHS[\"Corriente de fuga\"]).toFixed(3):\"--\"\n}\n\n// Archivo\nmsg.columns = Object.keys(msg.payload).toString();\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1490,"y":150,"wires":[["ccef2ff8.d103a"]]},{"id":"ccef2ff8.d103a","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"filename","pt":"msg","to":"+++/Datalogger/***.csv","tot":"str"},{"t":"change","p":"filename","pt":"msg","from":"+++","fromt":"str","to":"/home/pi/node_modules","tot":"str"},{"t":"change","p":"filename","pt":"msg","from":"***","fromt":"str","to":"Nombre_Archivo_Datalogger","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":150,"wires":[["4ea7eb06.9f2174"]]},{"id":"4a152bf2.aedbf4","type":"file","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","filename":"","appendNewline":false,"createDir":true,"overwriteFile":"false","encoding":"utf8","x":1960,"y":150,"wires":[[]]},{"id":"ac8dba55.436ca8","type":"ui_button","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Activar","group":"b006ff9.8805c","order":3,"width":"4","height":"1","passthru":false,"label":"Activar datalogger","tooltip":"","color":"","bgcolor":"","icon":"","payload":"true","payloadType":"bool","topic":"","x":200,"y":150,"wires":[["3b3e865c.e649aa","7e9f72bb.cc0ccc"]]},{"id":"b92820bf.a85cd","type":"ui_dropdown","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","label":"Unidad de tiempo","tooltip":"","place":"Seleccione","group":"a41af5be.52be18","order":5,"width":"6","height":"1","passthru":true,"multiple":false,"options":[{"label":"Segundos","value":"Segundos","type":"str"},{"label":"Minutos","value":"Minutos","type":"str"},{"label":"Horas","value":"Horas","type":"str"}],"payload":"","topic":"","x":610,"y":420,"wires":[["7409201c.daf43","458b1cd4.6b15f4"]]},{"id":"53de6e8d.a41ec","type":"ui_text_input","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","label":"Tasa de muestreo","tooltip":"","group":"a41af5be.52be18","order":3,"width":"3","height":"1","passthru":false,"mode":"number","delay":"0","topic":"","x":610,"y":310,"wires":[["793ef4d5.ef60dc","458b1cd4.6b15f4"]]},{"id":"7409201c.daf43","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"Datalogger.Units","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":420,"wires":[[]]},{"id":"793ef4d5.ef60dc","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"Datalogger.Magnitude","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":870,"y":310,"wires":[[]]},{"id":"556daeb1.5f8c4","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"Datalogger.Rate_Data","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":870,"y":370,"wires":[[]]},{"id":"458b1cd4.6b15f4","type":"function","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Calculate_Rate","func":"var Datalogger = global.get(\"Datalogger\");\n\nif (typeof Datalogger != 'undefined' && Datalogger.Units === 'Segundos')\n    {\n        msg.payload = Datalogger.Magnitude;\n    }\n\nelse if (typeof Datalogger != 'undefined' && Datalogger.Units === 'Minutos')\n    {\n        msg.payload = Datalogger.Magnitude*60;\n    }\n\nelse if (typeof Datalogger != 'undefined' && Datalogger.Units === 'Horas')\n    {\n        msg.payload = Datalogger.Magnitude*3600;\n    }\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":370,"wires":[["556daeb1.5f8c4"]]},{"id":"c16175a3.4e3dc8","type":"inject","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":550,"y":100,"wires":[["6e2e57d6.1acb68"]]},{"id":"6e2e57d6.1acb68","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"Datalogger.Activated","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":760,"y":150,"wires":[["a88b1b0d.338558"]]},{"id":"c0a93ee0.0bece","type":"switch","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Datalogger Activo ?","property":"Datalogger.Activated","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":870,"y":240,"wires":[["a88b1b0d.338558"]]},{"id":"bb20b02b.93fbf","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"Datalogger.Flag","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":200,"wires":[["6e2e57d6.1acb68"]]},{"id":"87d327f9.2d5698","type":"inject","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":true,"onceDelay":"1","topic":"","payload":"true","payloadType":"bool","x":710,"y":240,"wires":[["c0a93ee0.0bece"]]},{"id":"a5965533.262318","type":"inject","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"false","payloadType":"bool","x":550,"y":240,"wires":[["bb20b02b.93fbf","bb20b02b.93fbf"]]},{"id":"8b735152.e0f1d","type":"switch","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Tomar muestra true","property":"payload.TakeSample","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1280,"y":150,"wires":[["7e0625da.a5746c"]]},{"id":"a88b1b0d.338558","type":"function","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Bandera tomar muestra","func":"// Leer varibables del contexto\nvar Rate = global.get(\"Datalogger.Rate_Data\");\nvar enable1 = global.get(\"Datalogger.Activated\");\nvar Bandera = flow.get(\"Datalogger.Flag\") || false;\nvar FechaFinal = context.get(\"FinalDate\") || \"\";\n\n// Definiciones\nvar TakeSample = false;\nvar CurrentDate = new Date();\n\nif (enable1 === true){\n    if (Bandera === false ){\n        var DateString = CurrentDate.toString();\n        FechaFinal = new Date(DateString);\n        FechaFinal.setSeconds( FechaFinal.getSeconds() + Rate);\n        context.set(\"FinalDate\",FechaFinal);\n        Bandera = true;   \n        TakeSample = false;\n    }\n    else {\n        if (CurrentDate >= FechaFinal){\n            TakeSample = true;\n            Bandera = false;\n        }\n    }\n    msg.payload = {\n        'Current'   : CurrentDate,\n        'Final'     : FechaFinal,\n        'TakeSample': TakeSample\n    }\n}\n\nflow.set(\"Datalogger.Flag\",Bandera);\nnode.status({fill:\"red\",shape:\"ring\",text:\"Bandera: \"+Bandera+\" Fecha: \"+FechaFinal});\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1060,"y":150,"wires":[["8b735152.e0f1d"]]},{"id":"1770e069.fa06e","type":"ui_button","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Desactivar","group":"b006ff9.8805c","order":6,"width":"4","height":"1","passthru":false,"label":"Desactivar datalogger","tooltip":"","color":"","bgcolor":"","icon":"","payload":"false","payloadType":"bool","topic":"","x":200,"y":190,"wires":[["c2a083b6.80ece","acd83647.191f48"]]},{"id":"a1296c3e.0467d","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Datalogger.Magnitude","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":310,"wires":[["53de6e8d.a41ec"]]},{"id":"7fcfdd93.ac45a4","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Datalogger.Units","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":420,"wires":[["b92820bf.a85cd"]]},{"id":"15d31797.55bf88","type":"inject","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Initial","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":"1","topic":"","payload":"","payloadType":"date","x":400,"y":360,"wires":[["a1296c3e.0467d","7fcfdd93.ac45a4"]]},{"id":"96675df9.60de8","type":"ui_ui_control","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","events":"change","x":110,"y":360,"wires":[["65c0afcd.8388"]]},{"id":"65c0afcd.8388","type":"switch","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Datalogger","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":240,"y":360,"wires":[["a1296c3e.0467d","7fcfdd93.ac45a4"]]},{"id":"70eee707.21eb08","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToTrue","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":100,"wires":[["89541385.7f5a6"]]},{"id":"3b3e865c.e649aa","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToFalse","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":200,"y":100,"wires":[["ac8dba55.436ca8","70eee707.21eb08"]]},{"id":"89541385.7f5a6","type":"link out","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"DescativarToTrue_Out","links":["bc74ae1c.8050f"],"x":445,"y":100,"wires":[]},{"id":"bc74ae1c.8050f","type":"link in","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"DescativarToTrue_In","links":["89541385.7f5a6","2ffd423b.f2a4ae"],"x":75,"y":190,"wires":[["1770e069.fa06e"]]},{"id":"7d3c0e90.bc175","type":"link out","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ActivateToTrue_Out","links":["64bd474c.8651a8","b498c216.d75a3","b7dd79e1.1a6908"],"x":445,"y":240,"wires":[]},{"id":"64bd474c.8651a8","type":"link in","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ActivateToTrue_In","links":["7d3c0e90.bc175","e3de11a.525d4f"],"x":75,"y":150,"wires":[["ac8dba55.436ca8"]]},{"id":"c2a083b6.80ece","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToFalse","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":200,"y":240,"wires":[["e19ab68f.2ca7d8","1770e069.fa06e"]]},{"id":"e19ab68f.2ca7d8","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToTrue","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":240,"wires":[["7d3c0e90.bc175"]]},{"id":"7e9f72bb.cc0ccc","type":"link out","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"StartDatalogger_Out","links":["f125f8dc.4fc0e8"],"x":345,"y":150,"wires":[]},{"id":"f125f8dc.4fc0e8","type":"link in","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"StartDatalogger_In","links":["7e9f72bb.cc0ccc"],"x":575,"y":150,"wires":[["6e2e57d6.1acb68"]]},{"id":"acd83647.191f48","type":"link out","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"StopDatalogger_Out","links":["ac947de3.26a6d"],"x":345,"y":190,"wires":[]},{"id":"ac947de3.26a6d","type":"link in","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"StopDatalogger_In","links":["acd83647.191f48"],"x":575,"y":200,"wires":[["bb20b02b.93fbf"]]},{"id":"1e92883e.9ef498","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"842bb1a0.451f4","name":"Navbar Datalogger","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":390,"y":1890,"wires":[[]]},{"id":"3300d502.d9f2da","type":"ui_dropdown","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","label":"Creación de Archivo","tooltip":"","place":"Seleccione","group":"a41af5be.52be18","order":9,"width":"6","height":"1","passthru":true,"multiple":false,"options":[{"label":"Diario","value":"Diario","type":"str"},{"label":"Semanal","value":"Semanal","type":"str"},{"label":"Mensual","value":"Mensual","type":"str"}],"payload":"","topic":"","x":1050,"y":100,"wires":[["669ee12e.3c9e4","4c30ceb7.d240a"]]},{"id":"ec92d582.14aa18","type":"inject","z":"5f404c88.fa75a4","g":"e2589faa.5b6d2","name":"Arranque de sistema","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":270,"y":1510,"wires":[["ad87cee4.7dbb5"]]},{"id":"ad87cee4.7dbb5","type":"link out","z":"5f404c88.fa75a4","g":"e2589faa.5b6d2","name":"Inicio Node-RED","links":["41414c01.67ae34","3af4cca.ce68834","ba8baeac.e028c","fb44ddcd.cf816","f4208b50.a8abc8","fbd8c1e9.7d493","a146fd5d.dc194","63e65a73.8cb0e4","771cef6c.01352","2a2c1e7e.8315e2","faa1754f.28b418","9206f485.85e898","d1eb5972.c7ee38","e8213157.b1599","c1563df1.773bd","7b0660a5.67eab","47e5c17d.f308","9ff75bfd.245638","bedc0725.f22738","4e129740.b3ea78","273454d7.4d089c","c9269ec0.0b874","645af99b.4e8a38","d0a19b38.893ab8","366a2d5a.01dbf2","ca41ebf5.6cdf28","8ef5c8d6.524028","b8c12e8b.715b2","b7da3a44.60ff68","1f64b646.6359aa","a283dc1b.7c48f","938aa2d6.74dae","75954ddb.3b0f04","da8d71fd.6a33c","5e926cf.a17a594","c92e244.7f686d8","cd729508.733ad8","6ca291a4.d57d7","39dc61d6.38245e","7ced728d.a743bc","41395ba6.48d124","9d7ce324.c64f6","e6ef4f23.27ccf","3ffc59.29e723a8","577047bb.6519b8","b275f5b2.e7e328","73af0be0.8d91e4","8c73338.8deb8d","7c18d010.a2ff9","65b39642.c7ada8","ea1e3c9f.dc8c2","6048b01f.b48ef","a0463b75.cabb18","25506b4e.d714c4","6b5f7518.04fddc","1708596a.fe0687","88d232ea.2ef4b","b3c62075.a7822","9315f673.0e6318","51d2e767.639a98","37528c32.e720c4","1f5ba763.537da9","78769808.230b18","b225175.383e7e8","a561ec59.a63d6","3df3dfb.cab992","8d16d48d.753ca8","f9233058.fe67f","a8eca441.f9a4b8","a7923a8c.7c39d8","28b9d8d4.780938","dbdd149d.067a48","66c4a9b8.ae31f8","66f7993.0d5e268","e12b70ff.8552b"],"x":405,"y":1510,"wires":[]},{"id":"41414c01.67ae34","type":"link in","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"Referencia de velocidad","links":["ad87cee4.7dbb5"],"x":915,"y":400,"wires":[["96de9397.2cea6"]]},{"id":"a72a1eba.19d99","type":"link in","z":"6c7d2db7.37ef34","g":"dabbb1f4.9b65e","name":"","links":["97407954.a004c8"],"x":1675,"y":100,"wires":[["485a456c.532fdc"]]},{"id":"fb44ddcd.cf816","type":"link in","z":"43b51d90.0b47f4","name":"Configuración VSD","links":["ad87cee4.7dbb5"],"x":175,"y":880,"wires":[["2163239b.5a9bbc","e5c3bbc0.8b2998","e89aec53.9b1b1","d59b7b28.be0e68","a90890e0.f21c8","ed08c0de.3ee1e","e89df25d.18cdc","9355594d.0b5af8","fa5d0b5d.173c98","657a5d37.6d07c4","f7f5dc17.aa232","c1afba0d.22f5d8","64263ab2.3a9e04","370e9542.6d045a","b732c4f9.4ad3d8"]]},{"id":"fbd8c1e9.7d493","type":"link in","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"Acciones de usuario","links":["ad87cee4.7dbb5"],"x":585,"y":510,"wires":[["ffad1340.f8a3b"]]},{"id":"a146fd5d.dc194","type":"link in","z":"827787d0.ede678","g":"eb91dac5.690838","name":"Acceso de usuario","links":["ad87cee4.7dbb5"],"x":675,"y":80,"wires":[["28cd79fb.3dcae6"]]},{"id":"23a2e534.c227ba","type":"function","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3320,"y":50,"wires":[["d42fcc39.f4823"]]},{"id":"47e5c17d.f308","type":"link in","z":"5f404c88.fa75a4","g":"aa1ba550.cbd9d8","name":"Nombre del pozo","links":["ad87cee4.7dbb5"],"x":655,"y":1510,"wires":[["41a6416e.309fb"]]},{"id":"7abe043b.fb14fc","type":"ui_ui_control","z":"5f404c88.fa75a4","g":"e9e93a2c.deeb18","name":"","events":"all","x":310,"y":1600,"wires":[["97407954.a004c8","37f2db57.b831c4"]]},{"id":"97407954.a004c8","type":"link out","z":"5f404c88.fa75a4","g":"e9e93a2c.deeb18","name":"UI-Control Out","links":["1660e38d.24cefc","938193ac.02d98","8166c609.8e8328","441e9860.ad6ed8","2099abe.2850a54","a0e88921.4ebe88","fd328934.0ddd18","f65a5bee.378fe8","23b2730.9c7eb8e","645af99b.4e8a38","476a789d.6fd428","97494ae0.a13ca8","4482dc9f.5ee144","2b47642.2404d9c","51d66341.8ee0fc","d458c292.e2009","abd57ed0.925e2","eeb74e26.02437","487b8eaa.36a75","242f1895.633768","a72a1eba.19d99"],"x":405,"y":1600,"wires":[]},{"id":"805762db.d27b7","type":"link in","z":"5f404c88.fa75a4","g":"e9e93a2c.deeb18","name":"UI-Control In","links":["502a7e8f.2ab2d","9eea6118.7b917","99ae3bc8.746f48","1882018b.4d179e","3296d851.080568","1981cd18.e62913","ea1ac6a6.fda178","d795f048.456e2","f7333c0a.a70d3","b0a2cd1a.ab273","fc7e2763.e00d48","63ae6ad3.b07874","e6e875a0.3f91d8","651fde0c.6b2e9","e1e3b3d1.65f75","b176ecba.94d95"],"x":215,"y":1600,"wires":[["7abe043b.fb14fc"]]},{"id":"1660e38d.24cefc","type":"link in","z":"8528a254.70837","g":"11f55817.139c18","name":"Eventos UI-Control","links":["97407954.a004c8"],"x":165,"y":120,"wires":[["75851744.fc50c8"]]},{"id":"938193ac.02d98","type":"link in","z":"8528a254.70837","g":"cf57802e.7d258","name":"","links":["97407954.a004c8"],"x":1075,"y":120,"wires":[["d9101c40.6e85a"]]},{"id":"8166c609.8e8328","type":"link in","z":"43b51d90.0b47f4","g":"8a04702.34fd29","name":"Acceso a pantalla de configuración drive C2S","links":["97407954.a004c8"],"x":2165,"y":190,"wires":[["6817551.a1c08ac"]]},{"id":"99ae3bc8.746f48","type":"link out","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"Menú Datos operativos pantalla principal","links":["805762db.d27b7"],"x":1615,"y":230,"wires":[]},{"id":"441e9860.ad6ed8","type":"link in","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"Menú Datos operativos pantalla principal","links":["97407954.a004c8"],"x":1095,"y":230,"wires":[["e3c8b897.8efb58"]]},{"id":"1882018b.4d179e","type":"link out","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Menú Protecciones Fondo","links":["805762db.d27b7"],"x":1665,"y":570,"wires":[]},{"id":"2099abe.2850a54","type":"link in","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Menú Protecciones Fondo","links":["97407954.a004c8"],"x":1065,"y":400,"wires":[["c261ae3c.cdacd"]]},{"id":"3296d851.080568","type":"link out","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"Menú Protecciones Superficie","links":["805762db.d27b7"],"x":1455,"y":940,"wires":[]},{"id":"a0e88921.4ebe88","type":"link in","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"Menú Protecciones Superficie","links":["97407954.a004c8"],"x":1125,"y":820,"wires":[["9b47db26.0346f8"]]},{"id":"b0a2cd1a.ab273","type":"link out","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"Menú Entradas/Salidas SWCPRO","links":["805762db.d27b7"],"x":1475,"y":1360,"wires":[]},{"id":"fd328934.0ddd18","type":"link in","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"Menú Entradas/Salidas SWCPRO","links":["97407954.a004c8"],"x":1045,"y":1280,"wires":[["5a29608d.08d3"]]},{"id":"fc7e2763.e00d48","type":"link out","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","name":"","links":["805762db.d27b7"],"x":1385,"y":1550,"wires":[]},{"id":"f65a5bee.378fe8","type":"link in","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","name":"","links":["97407954.a004c8"],"x":965,"y":1490,"wires":[["e95f6929.281ff8"]]},{"id":"63ae6ad3.b07874","type":"link out","z":"5ef5b1ce.d3899","g":"8c3082f9.73975","name":"","links":["805762db.d27b7"],"x":1385,"y":1740,"wires":[]},{"id":"23b2730.9c7eb8e","type":"link in","z":"5ef5b1ce.d3899","g":"8c3082f9.73975","name":"","links":["97407954.a004c8"],"x":965,"y":1680,"wires":[["64ddd641.711bd8"]]},{"id":"9ff75bfd.245638","type":"link in","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","name":"Navigation bar","links":["ad87cee4.7dbb5"],"x":215,"y":380,"wires":[["49fc1b59.51f164"]]},{"id":"619de7f9.420de8","type":"template","z":"5ef5b1ce.d3899","name":"Boostrap","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <div class=\"disable-select\">\n        {{{payload}}}\n    </div>\n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS \n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script> -->\n  </body>\n  \n<style>\n    .disable-select {\n        user-select: none; /* supported by Chrome and Opera */\n        -webkit-user-select: none; /* Safari */\n        -khtml-user-select: none; /* Konqueror HTML */\n        -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n    }\n</style>\n  \n</html>","output":"str","x":174,"y":464,"wires":[["3bd2923f.2169ae","ec6f0468.330258","a94086ae.ab4a78","1e92883e.9ef498","e3b242da.1cd29","1a3e4532.22ef5b","7a336fa4.b80d3","335b3a95.f258c6","33924ef6.c0eca2","fecfa2a0.5ca25","452c5a8c.8530a4","b5c23987.426b28","30237182.6ab22e","73b9407c.4ce98","adc3a650.9795a8","1e55d9a.1ad3926","d192f60a.894e68","f6e8fbe4.4a94e8","587cd4fe.b5184c","3fc54723.62b978","da157b1a.e8eb88","117295c5.1ff4ea","2976c32b.5e795c","13c95730.dc8459","4b3ceae3.bb8a84","9dbe0a3.53061f8","9a43c9b1.af8138","814db426.2a5bf8","1f443c09.755434","7bb293cb.faf72c","2c5a7e92.2d6be2","ae3517f4.0d6d88","2db6a760.856798","ad56625d.fdd01","2563434b.e228dc","2665915.a411c6e","eef48f93.f418","f5a2b632.6a8ac8","d971ff84.76256","a1c4871a.8ded58","f4f581a.cfeba8","9709f15b.d49e5","b2d06cf6.fb5af"]]},{"id":"a94086ae.ab4a78","type":"ui_template","z":"5ef5b1ce.d3899","group":"ec084c75.e7ad7","name":"Users Navbar","order":0,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":380,"y":450,"wires":[[]]},{"id":"669ee12e.3c9e4","type":"function","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Diario, semanal, mensual","func":"var Well = global.get(\"Nombre_Pozo\")||\"--\";\nvar date    = new Date();\n// Date\nvar year    = date.getFullYear();\nvar month   = date.getMonth()+1;\nvar day     = date.getDate();\n\n//Time\nvar hours   = date.getHours();\nvar minutes = date.getMinutes();\nvar seconds = date.getSeconds();\n\n// Asignar nombre de archivo\nif(msg.payload == 'Diario'){\n    msg.filename = Well+' '+day+'-'+month+'-'+year;\n}\nelse if(msg.payload == 'Semanal'){\n    var week;\n    if(day<=8){week=1;}\n    else if(day<=16){week=2;}\n    else if(day<=24){week=3;}\n    else {week=4;}\n    msg.filename = Well+' Semana_'+week+'-'+month+'-'+year;\n}\nelse if(msg.payload == 'Mensual'){\n    msg.filename = Well+' '+month+'-'+year;\n}\nflow.set(\"Nombre_Archivo_Datalogger\",msg.filename);\ndelete msg.payload;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1280,"y":100,"wires":[["882afa67.5605e8"]]},{"id":"bedc0725.f22738","type":"link in","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Datalogger","links":["ad87cee4.7dbb5"],"x":1025,"y":260,"wires":[["b9ed60ab.26f43"]]},{"id":"3c51eaef.2751d6","type":"switch","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","property":"Datalogger.Activated","propertyType":"global","rules":[{"t":"true"},{"t":"false"}],"checkall":"true","repair":false,"outputs":2,"x":1230,"y":260,"wires":[["6b7af496.0913bc"],["4cb76011.15326"]]},{"id":"e3de11a.525d4f","type":"link out","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Datalogger Activated","links":["64bd474c.8651a8"],"x":1515,"y":200,"wires":[]},{"id":"2ffd423b.f2a4ae","type":"link out","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Datalogger deactivate","links":["bc74ae1c.8050f"],"x":1515,"y":320,"wires":[]},{"id":"6b7af496.0913bc","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToFalse","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1410,"y":200,"wires":[["e3de11a.525d4f","b59d2d9c.bc7c8"]]},{"id":"4cb76011.15326","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToFalse","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1410,"y":320,"wires":[["2ffd423b.f2a4ae","a222d060.87b67"]]},{"id":"5c0f44f8.2977bc","type":"inject","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1210,"y":200,"wires":[["6b7af496.0913bc"]]},{"id":"27ab586e.ff3e28","type":"inject","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1210,"y":320,"wires":[["4cb76011.15326"]]},{"id":"b59d2d9c.bc7c8","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToTrue","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1400,"y":240,"wires":[["2ffd423b.f2a4ae"]]},{"id":"a222d060.87b67","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToTrue","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1400,"y":280,"wires":[["e3de11a.525d4f"]]},{"id":"4c30ceb7.d240a","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"Datalogger.Archive","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1290,"y":60,"wires":[[]]},{"id":"4e129740.b3ea78","type":"link in","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Datalogger","links":["ad87cee4.7dbb5"],"x":735,"y":100,"wires":[["a28ff141.b8c37"]]},{"id":"a28ff141.b8c37","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Datalogger.Archive","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":850,"y":100,"wires":[["3300d502.d9f2da"]]},{"id":"b9ed60ab.26f43","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Flag","rules":[{"t":"set","p":"Datalogger.Flag","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":260,"wires":[["3c51eaef.2751d6"]]},{"id":"58cdfd92.f6f8f4","type":"inject","z":"d35c32b9.6419b","g":"b509ce91.c5418","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":true,"onceDelay":"10","topic":"","payload":"true","payloadType":"bool","x":690,"y":1470,"wires":[["bef62d1e.d88b3"]]},{"id":"697008fb.202388","type":"comment","z":"d35c32b9.6419b","g":"b509ce91.c5418","name":"INSERT to specific measurement","info":"","x":750,"y":1430,"wires":[]},{"id":"bef62d1e.d88b3","type":"function","z":"d35c32b9.6419b","g":"b509ce91.c5418","name":"multiple measurement points","func":"var PQA_Data = global.get(\"PQA\", \"memoryOnly\") || null;\nvar C2S_Data = global.get(\"C2S\", \"memoryOnly\") || null;\n\nif(C2S_Data != null && PQA_Data != null){\n    msg.payload = [\n        {\n            measurement: \"Input_Data\",\n            fields: {\n                V_L1N:      parseFloat(PQA_Data.Real_Time_Parameters.Phase_1_Voltage.toFixed(3)),\n                V_L2N:      parseFloat(PQA_Data.Real_Time_Parameters.Phase_2_Voltage.toFixed(3)),\n                V_L3N:      parseFloat(PQA_Data.Real_Time_Parameters.Phase_3_Voltage.toFixed(3)),\n                VLNAvg:     parseFloat(PQA_Data.Real_Time_Parameters.Average_Phase_Voltage.toFixed(3)),\n                V_L1L2:     parseFloat(PQA_Data.Real_Time_Parameters.Line_Voltage_1_2.toFixed(3)),\n                V_L1L3:     parseFloat(PQA_Data.Real_Time_Parameters.Line_Voltage_3_1.toFixed(3)),\n                V_L2L3:     parseFloat(PQA_Data.Real_Time_Parameters.Line_Voltage_2_3.toFixed(3)),\n                V_LLAvg:    parseFloat(PQA_Data.Real_Time_Parameters.Average_Phase_Voltage.toFixed(3)),\n                I_L1:       parseFloat(PQA_Data.Real_Time_Parameters.Total_Phase_A_Current.toFixed(3)),\n                I_L2:       parseFloat(PQA_Data.Real_Time_Parameters.Total_Phase_B_Current.toFixed(3)),\n                I_L3:       parseFloat(PQA_Data.Real_Time_Parameters.Total_Phase_C_Current.toFixed(3)),\n                I_Avg:      parseFloat(PQA_Data.Real_Time_Parameters.Average_Phase_Current.toFixed(3)),\n                P_Act:      parseFloat(PQA_Data.Real_Time_Parameters.Total_System_Power.toFixed(3)),\n                P_Rct:      parseFloat(PQA_Data.Real_Time_Parameters.Total_Reactive_Power.toFixed(3)),\n                P_Apa:      parseFloat(PQA_Data.Real_Time_Parameters.Total_Apparent_Power.toFixed(3)),\n            }\n        },\n        {\n            measurement: \"Operative_Data\",\n            fields: {\n                Voltage:        parseFloat(C2S_Data.Output_Voltage), \n                Current_VFD:    parseFloat(C2S_Data.Output_Current),\n                Current_Mtr:    parseFloat(C2S_Data.Output_Current),\n                Power_KW:       parseFloat(C2S_Data.Output_Power),\n                VBusDC:         parseFloat(C2S_Data.Bus_DC_Volts),\n                Reference:      parseFloat(C2S_Data.Commanded_SpdRef),\n                Feedback_Speed: 0,//parseFloat(C2S_Data.Mtr_Vel_Fdbk),\n                Voltage_Mtr:    parseFloat(C2S_Data.Output_Voltage),\n                THP:            0,\n                CHP:            0,\n                THT:            0,\n                CHT:            0,\n            }\n        },\n        {\n            measurement: \"Downhole_Data\",\n            fields: {\n                PIn:            0,\n                POut:           0,\n                PDiff:          0,\n                T_In:           0,\n                T_Out:          0,\n            }\n        }\n    ];\n    return msg;\n}\nreturn;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":880,"y":1470,"wires":[["af5bc0f2.0bc23","a25809c.5d92ff8"]]},{"id":"af5bc0f2.0bc23","type":"influxdb batch","z":"d35c32b9.6419b","d":true,"g":"b509ce91.c5418","influxdb":"be84226.2d60ee","precision":"s","retentionPolicy":"","name":"","x":1140,"y":1490,"wires":[]},{"id":"d0735f18.f858d","type":"function","z":"d35c32b9.6419b","g":"da3ae781.998328","name":"","func":"var CurrentTab              = flow.get(\"Current-Tab\",\"memoryOnly\") || \"\";\nvar CurrentMeasurement      = flow.get(\"Query\",\"memoryOnly\") || {'Measurement': \"\"};\nvar ArrayDB                 = flow.get(\"Trend\",\"memoryOnly\");\nvar PQA_Data                = global.get(\"PQA\", \"memoryOnly\") || \"\";\nvar C2S_Data                = global.get(\"C2S\", \"memoryOnly\") || \"\";\n\nvar i = 0;\nvar Current_OperativeData     = { \n                                'Time'              :Date.now(), \n                                'Current_Mtr'       :C2S_Data.Output_Current, \n                                'Current_VFD'       :C2S_Data.Output_Current, \n                                'Power_KW'          :C2S_Data.Output_Power,\n                                'Reference'         :C2S_Data.Commanded_SpdRef, \n                                'VBusDC'            :C2S_Data.Bus_DC_Volts,\n                                'Voltage_Out'       :C2S_Data.Output_Voltage,\n                                'Feedback_Speed'    :C2S_Data.Output_Frecuency, \n                                'Voltage_Mtr'       :C2S_Data.Output_Voltage, \n                                'CHP'               :0, \n                                'THP'               :0, \n                                'CHT'               :0, \n                                'THT'               :0, \n                                //'Torque'            :0,\n                                };\nCurrent_InputData             = { \n                                'Time'              :Date.now(),\n                                'V_L1N'             :parseFloat(PQA_Data.Real_Time_Parameters.Phase_1_Voltage.toFixed(3)),\n                                'V_L2N'             :parseFloat(PQA_Data.Real_Time_Parameters.Phase_2_Voltage.toFixed(3)),\n                                'V_L3N'             :parseFloat(PQA_Data.Real_Time_Parameters.Phase_3_Voltage.toFixed(3)),\n                                'V_L1L2'            :parseFloat(PQA_Data.Real_Time_Parameters.Line_Voltage_1_2.toFixed(3)),\n                                'V_L1L3'            :parseFloat(PQA_Data.Real_Time_Parameters.Line_Voltage_3_1.toFixed(3)),\n                                'V_L2L3'            :parseFloat(PQA_Data.Real_Time_Parameters.Line_Voltage_2_3.toFixed(3)),\n                                'I_L1'              :parseFloat(PQA_Data.Real_Time_Parameters.Total_Phase_A_Current.toFixed(3)),\n                                'I_L2'              :parseFloat(PQA_Data.Real_Time_Parameters.Total_Phase_B_Current.toFixed(3)),\n                                'I_L3'              :parseFloat(PQA_Data.Real_Time_Parameters.Total_Phase_C_Current.toFixed(3)),\n                                'P_Act'             :parseFloat(PQA_Data.Real_Time_Parameters.Total_System_Power.toFixed(3)),\n                                'P_Rct'             :parseFloat(PQA_Data.Real_Time_Parameters.Total_Reactive_Power.toFixed(3)),\n                                'P_Apa'             :parseFloat(PQA_Data.Real_Time_Parameters.Total_Apparent_Power.toFixed(3)),\n                                }; \n                                \nCurrent_DownholeData          = { \n                                'Time'              :Date.now(),\n                                'PIn'               :[],\n                                'POut'              :[],\n                                'PDiff'             :[],\n                                'T_In'              :[],\n                                'T_Out'             :[],\n                                }; \n                \n//------------------------------------------ Tendencias Datos Operativos ------------------------------------------\n\nif (CurrentMeasurement.Measurement == \"Operative_Data\")\n    {\n            //------------------------------------------------------ Velocidad ------------------------------------------------------------\n            if (CurrentTab == \"VelocidadActual\")\n                {   \n                    ArrayDB.Time.unshift(Current_OperativeData.Time);        \n                    ArrayDB.Reference.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Reference});\n                    ArrayDB.Feedback_Speed.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Feedback_Speed}); \n                    \n                    ArrayDB.Time.pop();\n                    ArrayDB.Reference.pop();\n                    ArrayDB.Feedback_Speed.pop();\n                            \n                    msg.payload = [ArrayDB.Reference, ArrayDB.Feedback_Speed];\n                    msg.series  = [\"Referencia de Velocidad\", \"Velocidad Actal\"];\n                    msg.label   = \"Velocidad vs Feedback\";\n                }\n             //------------------------------------------------------ Tensión ------------------------------------------------------------ \n            else if (CurrentTab == \"Voltaje\")\n                {\n                    ArrayDB.Time.unshift(Current_OperativeData.Time);\n                    ArrayDB.Voltage_Out.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Voltage_Out});\n                    ArrayDB.VBusDC.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.VBusDC});\n                    ArrayDB.Voltage_Mtr.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Voltage_Mtr});\n                    \n                    ArrayDB.Time.pop();\n                    ArrayDB.Voltage_Out.pop();\n                    ArrayDB.VBusDC.pop();\n                    ArrayDB.Voltage_Mtr.pop();            \n                \n                    msg.payload = [ArrayDB.Voltage_Out,ArrayDB.VBusDC, ArrayDB.Voltage_Mtr];\n                    msg.series  = [\"Voltaje VFD\", \"Voltaje BusDC\", \"Voltaje de Motor\"];\n                    msg.label   = \"Niveles de Tensión del sistema\";     \n                }\n            //------------------------------------------------------ Carga ------------------------------------------------------------    \n            else if (CurrentTab == \"Carga\")\n                {\n                    ArrayDB.Time.unshift(Current_OperativeData.Time);    \n                    ArrayDB.Current_VFD.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Current_Mtr});\n                    ArrayDB.Current_Mtr.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Current_Mtr});\n                    //ArrayDB.Torque.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Torque});\n                    \n                    ArrayDB.Time.pop();\n                    ArrayDB.Current_VFD.pop();\n                    ArrayDB.Current_Mtr.pop();\n                    //ArrayDB.Torque.pop();\n                    \n                    //msg.payload = [ArrayDB.Current_VFD,ArrayDB.Current_Mtr, ArrayDB.Torque];\n                    msg.payload = [ArrayDB.Current_VFD,ArrayDB.Current_Mtr];\n                    msg.series  = [\"Corriente VFD\", \"Corriente de Motor\"]; \n                    msg.label   = \"Carga del sistema\";   \n                }\n            //------------------------------------------------------ Potencia ------------------------------------------------------------\n            else if (CurrentTab == \"Potencia\")\n                {\n                    ArrayDB.Time.unshift(Current_OperativeData.Time);\n    \n                    ArrayDB.Power_KW.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Power_KW});\n                    //ArrayDB.Power_KVAR.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Power_KVAR});\n                    //ArrayDB.Power_KVA.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Power_KVA});\n                    \n                    ArrayDB.Time.pop();\n                    ArrayDB.Power_KW.pop();\n                    //ArrayDB.Power_KVAR.pop();\n                    //ArrayDB.Power_KVA.pop();\n                    \n                    //msg.payload = [ArrayDB.Power_KW,ArrayDB.Power_KVAR, ArrayDB.Power_KVA];\n                    msg.payload = [ArrayDB.Power_KW];\n                    //msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                    msg.series  = [\"Potencia activa\"];\n                    msg.label   = \"Potencia del sistema\";     \n                }\n            //------------------------------------------------------ Temperatura ------------------------------------------------------------        \n            else if (CurrentTab == \"Temperatura\")\n                {\n                    ArrayDB.Time.unshift(Current_OperativeData.Time);\n                    ArrayDB.CHT.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.CHT});\n                    ArrayDB.THT.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.THT});\n                    \n                    ArrayDB.Time.pop();\n                    ArrayDB.CHT.pop();\n                    ArrayDB.THT.pop();\n                    \n                    msg.payload = [ArrayDB.CHT,ArrayDB.THT];\n                    msg.series  = [\"CHT\", \"THT\"];\n                    msg.label   = \"Temperatura del sistema\";\n                }\n            //------------------------------------------------------ Presión ------------------------------------------------------------        \n            else if (CurrentTab == \"Presion\")\n                {\n                    ArrayDB.Time.unshift(Current_OperativeData.Time);\n                    ArrayDB.CHP.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.CHP});\n                    ArrayDB.THP.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.THP});\n                    \n                    ArrayDB.Time.pop();\n                    ArrayDB.CHP.pop();\n                    ArrayDB.THP.pop();\n                    \n                    msg.payload = [ArrayDB.CHP, ArrayDB.THP];\n                    msg.series  = [\"CHP\", \"THP\"];\n                    msg.label   = \"Presión del sistema\";    \n                }        \n    }\n/* ------------------------------------------ Tendencias Datos Eléctricos ------------------------------------------ */\nelse if (CurrentMeasurement.Measurement == \"Input_Data\")\n    {\n        //------------------------------------------------------ Voltaje de Entrada ------------------------------------------------------------\n        if(CurrentTab == \"Voltaje\")\n            {\n                ArrayDB.Time.unshift(Current_InputData.Time);\n                ArrayDB.V_L1N.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.V_L1N});\n                ArrayDB.V_L2N.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.V_L2N});\n                ArrayDB.V_L3N.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.V_L3N});\n                ArrayDB.V_L1L2.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.V_L1L2}); \n                ArrayDB.V_L1L3.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.V_L1L2}); \n                ArrayDB.V_L2L3.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.V_L1L2});   \n                \n                ArrayDB.Time.pop();\n                ArrayDB.V_L1N.pop();\n                ArrayDB.V_L2N.pop();\n                ArrayDB.V_L3N.pop();\n                ArrayDB.V_L1L2.pop();\n                ArrayDB.V_L1L3.pop();\n                ArrayDB.V_L2L3.pop();\n                \n                msg.payload =   [   \n                                    ArrayDB.V_L1N,ArrayDB.V_L2N,ArrayDB.V_L3N,ArrayDB.V_L1L2,\n                                    ArrayDB.V_L1L3,ArrayDB.V_L2L3\n                                ];\n                msg.series  = [\"L1-N\",\"L2-N\",\"L3-N\",\"L1-L2\",\"L1-L3\",\"L2L3\"];\n                msg.label   = \"Tensión de entrada del sistema\";   \n            }\n        //------------------------------------------------------ Corriente de Entrada ------------------------------------------------------------   \n        else if (CurrentTab == \"Corriente\")\n            {\n                ArrayDB.Time.unshift(Current_InputData.Time);\n                ArrayDB.I_L1.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.I_L1});\n                ArrayDB.I_L2.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.I_L2});\n                ArrayDB.I_L3.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.I_L3});\n                \n                ArrayDB.Time.pop();\n                ArrayDB.I_L1.pop();\n                ArrayDB.I_L2.pop();\n                ArrayDB.I_L3.pop();\n                \n                msg.payload = [ArrayDB.I_L1, ArrayDB.I_L2,ArrayDB.I_L3];\n                msg.series  = [\"L1\", \"L2\", \"L3\"];\n                msg.label   = \"Corriente de entrada del sistema\";\n            }\n        //------------------------------------------------------ Potencia de Entrada ------------------------------------------------------------\n        else if (CurrentTab == \"Potencia\")\n            {\n                ArrayDB.Time.unshift(Current_InputData.Time);\n                ArrayDB.P_Act.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.P_Act});\n                ArrayDB.P_Rct.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.P_Rct});\n                ArrayDB.P_Apa.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.P_Apa});\n                \n                ArrayDB.Time.pop();\n                ArrayDB.P_Act.pop();\n                ArrayDB.P_Rct.pop();\n                ArrayDB.P_Apa.pop();\n                        \n                msg.payload = [ArrayDB.P_Act,ArrayDB.P_Rct,ArrayDB.P_Apa];\n                msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                msg.label   = \"Potencia de entrada del sistema\";        \n            }    \n    } \n/*------------------------------------------ Tendencias Datos de Fondo ------------------------------------------*/    \nelse if (CurrentMeasurement.Measurement == \"Downhole_Data\")\n    {\n        //------------------------------------------------------ Presión de fondo ------------------------------------------------------------\n        if (CurrentTab == \"Presión\")\n           {\n                ArrayDB.Time.unshift(Current_DownholeData.Time);\n                ArrayDB.PIn.unshift({\"x\":Current_DownholeData.Time,\"y\":Current_DownholeData.PIn});\n                ArrayDB.POut.unshift({\"x\":Current_DownholeData.Time,\"y\":Current_DownholeData.POut});\n                ArrayDB.PDiff.unshift({\"x\":Current_DownholeData.Time,\"y\":Current_DownholeData.PDiff});\n                \n                ArrayDB.Time.pop();\n                ArrayDB.P_Act.pop();\n                ArrayDB.P_Rct.pop();\n                ArrayDB.P_Apa.pop();\n                \n                msg.payload = [Array_DownholeData.PIn,Array_DownholeData.POut,Array_DownholeData.PDiff];\n                msg.series  = [\"Presión de entrada\",\"Presión de Salida\",\"Presión diferencial\"];\n                msg.label   = \"Presión de entrada del sistema\";\n            }\n            \n        //------------------------------------------------------ Temperatura de fondo ------------------------------------------------------------\n        else if (CurrentTab == \"Temperatura\")\n           {\n                ArrayDB.Time.unshift(Current_DownholeData.Time);\n                ArrayDB.T_In.unshift({\"x\":Current_DownholeData.Time,\"y\":Current_DownholeData.T_In});\n                ArrayDB.T_Out.unshift({\"x\":Current_DownholeData.Time,\"y\":Current_DownholeData.T_Out});\n                \n                ArrayDB.Time.pop();\n                ArrayDB.P_Act.pop();\n                ArrayDB.P_Rct.pop();\n                ArrayDB.P_Apa.pop();\n                \n                msg.payload = [Array_DownholeData.T_In,Array_DownholeData.T_Out];\n                msg.series  = [\"Temperatura de entrada\",\"Temperatura de Salida\"];\n                msg.label   = \"Presión de entrada del sistema\";\n                      \n            }\n    }\nflow.set(\"Trend\", ArrayDB,\"memoryOnly\");\nreturn msg;        \n\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":750,"wires":[["d1ec13b9.2d54a"]]},{"id":"d49cbbef.71a878","type":"inject","z":"d35c32b9.6419b","g":"da3ae781.998328","name":"Update 2 samples","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":190,"y":750,"wires":[["42196f55.8e867"]]},{"id":"ad8181d.652538","type":"influxdb in","z":"d35c32b9.6419b","d":true,"g":"9dbc79d1.85ede8","influxdb":"29eec29e.f8e8ce","name":"Read","query":"","rawOutput":false,"precision":"s","retentionPolicy":"","org":"","x":870,"y":1260,"wires":[["5110e71f.5746a8","80b34dd.dbd91b"]]},{"id":"5110e71f.5746a8","type":"function","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"DateHandle","func":"//------------------------------------------ Declaración de variables ------------------------------------------\nvar CurrentTab              = flow.get(\"Current-Tab\",\"memoryOnly\") || \"VelocidadActual\";\nvar CurrentMeasurement      = flow.get(\"Query\",\"memoryOnly\") || {'Measurement': \"\"};\nvar Array_OperativeData     = { 'Time'              :[], \n                                'Current_Mtr'       :[], \n                                'Current_VFD'       :[], \n                                'Power_KVA'         :[], \n                                'Power_KVAR'        :[], \n                                'Power_KW'          :[],\n                                'Reference'         :[], \n                                'VBusDC'            :[],\n                                'Voltage_Out'       :[],\n                                'Feedback_Speed'    :[], \n                                'Voltage_Mtr'       :[], \n                                'CHP'               :[], \n                                'THP'               :[], \n                                'CHT'               :[], \n                                'THT'               :[], \n                                //'Torque'            :[],\n                                'Flag'              : 0};\n\nArray_InputData             = { 'Time'              :[],\n                                'V_L1N'             :[],\n                                'V_L2N'             :[],\n                                'V_L3N'             :[],\n                                'V_L1L2'            :[],\n                                'V_L1L3'            :[],\n                                'V_L2L3'            :[],\n                                'I_L1'              :[],\n                                'I_L2'              :[],\n                                'I_L3'              :[],\n                                'P_Act'             :[],\n                                'P_Rct'             :[],\n                                'P_Apa'             :[],\n                                'Flag'              : 0}; \n                                \nArray_DownholeData          = { 'Time'              :[],\n                                'PIn'               :[],\n                                'POut'              :[],\n                                'PDiff'             :[],\n                                'T_In'              :[],\n                                'T_Out'             :[],\n                                'Flag'              : 0}; \nvar i = 0;\n\n\n//------------------------------------------ Tendencias Datos Operativos ------------------------------------------\n\n// Selección tendencias Datos Operativos\nif (CurrentMeasurement.Measurement == \"Operative_Data\")\n    {\n        //------------------------------------------------------ Velocidad ------------------------------------------------------------\n        if (CurrentTab == \"VelocidadActual\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.push(msg.payload[i].time);\n                        Array_OperativeData.Reference.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Reference});\n                        Array_OperativeData.Feedback_Speed.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Feedback_Speed});\n                        \n                    }\n                msg.payload = [Array_OperativeData.Reference,Array_OperativeData.Feedback_Speed];\n                msg.series  = [\"Referencia de Velocidad\", \"Velocidad Actual\"];\n                msg.label   = \"Velocidad del sistema\";\n            }\n        //------------------------------------------------------ Tensión ------------------------------------------------------------\n        else if (CurrentTab == \"Voltaje\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        \n                        Array_OperativeData.Time.push(msg.payload[i].time);\n                        Array_OperativeData.Voltage_Out.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage});\n                        Array_OperativeData.VBusDC.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].VBusDC});\n                        Array_OperativeData.Voltage_Mtr.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage_Mtr});\n                    }\n                msg.payload = [Array_OperativeData.Voltage_Out,Array_OperativeData.VBusDC, Array_OperativeData.Voltage_Mtr];\n                msg.series  = [\"Voltaje VFD\", \"Voltaje BusDC\", \"Voltaje de Motor\"];\n                msg.label   = \"Niveles de Tensión del sistema\";    \n            }\n        \n        //------------------------------------------------------ Carga ------------------------------------------------------------\n        else if (CurrentTab == \"Carga\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.push(msg.payload[i].time);\n                        Array_OperativeData.Current_VFD.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_VFD});\n                        Array_OperativeData.Current_Mtr.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_Mtr});\n                        //Array_OperativeData.Torque.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Torque});\n                    }\n                //msg.payload = [Array_OperativeData.Current_VFD,Array_OperativeData.Current_Mtr, Array_OperativeData.Torque];\n                msg.payload = [Array_OperativeData.Current_VFD,Array_OperativeData.Current_Mtr];\n                //msg.series  = [\"Corriente VFD\", \"Corriente de Motor\", \"Torque actual\"];\n                msg.series  = [\"Corriente VFD\", \"Corriente de Motor\"];\n                msg.label   = \"Carga del sistema\";    \n            }  \n        //------------------------------------------------------ Potencia ------------------------------------------------------------\n        else if (CurrentTab == \"Potencia\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.push(msg.payload[i].time);\n                        Array_OperativeData.Power_KW.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KW});\n                        //Array_OperativeData.Power_KVAR.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVAR});\n                        //Array_OperativeData.Power_KVA.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVA});\n                    }\n                //msg.payload = [Array_OperativeData.Power_KW,Array_OperativeData.Power_KVAR, Array_OperativeData.Power_KVA];\n                msg.payload = [Array_OperativeData.Power_KW];\n                //msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                msg.series  = [\"Potencia activa\"];\n                msg.label   = \"Potencia del sistema\";    \n            }\n        //------------------------------------------------------ Temperatura ------------------------------------------------------------    \n        else if (CurrentTab == \"Temperatura\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.push(msg.payload[i].time);\n                        Array_OperativeData.CHT.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHT});\n                        Array_OperativeData.THT.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THT});\n                    }\n                msg.payload = [Array_OperativeData.CHT,Array_OperativeData.THT];\n                msg.series  = [\"CHT\", \"THT\"];\n                msg.label   = \"Temperatura del sistema\";    \n            }\n        //------------------------------------------------------ Presión ------------------------------------------------------------    \n        else if (CurrentTab == \"Presion\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.push(msg.payload[i].time);\n                        Array_OperativeData.CHP.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHP});\n                        Array_OperativeData.THP.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THP});\n                    }\n                msg.payload = [Array_OperativeData.CHP, Array_OperativeData.THP];\n                msg.series  = [\"CHP\", \"THP\"];\n                msg.label   = \"Presión del sistema\";    \n            }\n    Array_OperativeData.Flag = 0;    \n    flow.set(\"Trend\", Array_OperativeData,\"memoryOnly\");                \n    }\n    \n//------------------------------------------ Tendencias Datos Eléctricos de Entrada ------------------------------------------\n\n// Selección tendencias Datos eléctricos de entrada\nelse if (CurrentMeasurement.Measurement == \"Input_Data\")\n    {\n            //------------------------------------------------------ Voltaje de Entrada ------------------------------------------------------------\n            if (CurrentTab == \"Voltaje\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            Array_InputData.Time.push(msg.payload[i].time);\n                            Array_InputData.V_L1N.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1N});\n                            Array_InputData.V_L2N.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L2N});\n                            Array_InputData.V_L3N.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L3N});\n                            Array_InputData.V_L1L2.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                            Array_InputData.V_L1L3.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                            Array_InputData.V_L2L3.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                            \n                        }\n                    msg.payload =   [   \n                                        Array_InputData.V_L1N,Array_InputData.V_L2N,Array_InputData.V_L3N,Array_InputData.V_L1L2,\n                                        Array_InputData.V_L1L3,Array_InputData.V_L2L3\n                                    ];\n                    msg.series  = [\"L1-N\",\"L2-N\",\"L3-N\",\"L1-L2\",\"L1-L3\",\"L2L3\"];\n                    msg.label   = \"Tensión de entrada del sistema\";    \n                }\n            //------------------------------------------------------ Corriente de Entrada ------------------------------------------------------------\n            else if (CurrentTab == \"Corriente\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            Array_InputData.Time.push(msg.payload[i].time);\n                            Array_InputData.I_L1.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L1});\n                            Array_InputData.I_L2.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L2});\n                            Array_InputData.I_L3.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L3});\n                        }\n                    msg.payload = [Array_InputData.I_L1, Array_InputData.I_L2,Array_InputData.I_L3];\n                    msg.series  = [\"L1\", \"L2\", \"L3\"];\n                    msg.label   = \"Corriente de entrada del sistema\";\n                }\n            //------------------------------------------------------ Potencia de Entrada ------------------------------------------------------------\n            else if (CurrentTab == \"Potencia\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            Array_InputData.Time.push(msg.payload[i].time);\n                            Array_InputData.P_Act.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Act});\n                            Array_InputData.P_Rct.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Rct});\n                            Array_InputData.P_Apa.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Apa});\n                        }\n                    msg.payload = [Array_InputData.P_Act,Array_InputData.P_Rct,Array_InputData.P_Apa];\n                    msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                    msg.label   = \"Potencia de entrada del sistema\";\n                }\n            \n        Array_InputData.Flag = 0;    \n        flow.set(\"Trend\", Array_InputData,\"memoryOnly\");\n    }\n/*------------------------------------------ Tendencias Datos de Fondo ------------------------------------------*/\nelse if (CurrentMeasurement.Measurement == \"Downhole_Data\")\n{\n            //------------------------------------------------------ Presión de fondo ------------------------------------------------------------\n            if (CurrentTab == \"Presión\")\n               {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            Array_DownholeData.Time.push(msg.payload[i].time);\n                            Array_DownholeData.PIn.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PIn});\n                            Array_DownholeData.POut.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].POut});\n                            Array_DownholeData.PDiff.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PDiff});\n                        }\n                    msg.payload = [Array_DownholeData.PIn,Array_DownholeData.POut,Array_DownholeData.PDiff];\n                    msg.series  = [\"Presión de entrada\",\"Presión de Salida\",\"Presión diferencial\"];\n                    msg.label   = \"Presión de entrada del sistema\";\n                }\n                \n            //------------------------------------------------------ Temperatura de fondo ------------------------------------------------------------\n            else if (CurrentTab == \"Temperatura\")\n               {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            Array_DownholeData.Time.push(msg.payload[i].time);\n                            Array_DownholeData.T_In.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_In});\n                            Array_DownholeData.T_Out.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_Out});\n                        }\n                    msg.payload = [Array_DownholeData.T_In,Array_DownholeData.T_Out];\n                    msg.series  = [\"Temperatura de entrada\",\"Temperatura de Salida\"];\n                    msg.label   = \"Presión de entrada del sistema\";\n                }\n        Array_DownholeData.Flag = 0;    \n        flow.set(\"Trend\", Array_DownholeData,\"memoryOnly\");\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1030,"y":1260,"wires":[["d1ec13b9.2d54a","6a9bae72.3bb93"]]},{"id":"bc3827d0.25b248","type":"comment","z":"d35c32b9.6419b","g":"da3ae781.998328","name":"Tendencia en tiempo real","info":"","x":190,"y":710,"wires":[]},{"id":"9f65b6e4.fa9b58","type":"change","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"","rules":[{"t":"delete","p":"#:(memoryOnly)::Trend","pt":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":490,"y":1260,"wires":[["e23d1e5c.76f6a"]]},{"id":"89b96b56.401e78","type":"function","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"","func":"var LastSample = flow.get(\"Trend.Time[29]\",\"memoryOnly\");\nvar Flag = flow.get(\"Trend.Flag\",\"memoryOnly\"); \nvar Sample = (new Date(LastSample)).toISOString();\nvar Consult = flow.get(\"Query\",\"memoryOnly\");\n\n/*\nSe evalua:\n    - Que no se haya presionado en el instante anterior el botón, de \n      muestra más antigua.\n    - Si se presiona repetidamente el botón \"Atrás\", aguardará a que \n    termine de trazar la gráfica para volver a cargarla.\n*/\nif ((Flag != 2) && (Flag != 4))\n{\n    Flag = 2;\n    msg.query = \"SELECT * FROM \" + Consult.Measurement + \" WHERE time < \" + \"'\" + Sample +\"'\"+ \" ORDER BY DESC LIMIT 1\"; \n    flow.set(\"Trend.Flag\",Flag,\"memoryOnly\");\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":430,"y":880,"wires":[["1a80eeb1.999511"]]},{"id":"cb63afbb.b38ed","type":"comment","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"Tendencia 2 muestra hacia atrás","info":"","x":500,"y":840,"wires":[]},{"id":"1a80eeb1.999511","type":"influxdb in","z":"d35c32b9.6419b","d":true,"g":"e60e8bfd.7a3248","influxdb":"29eec29e.f8e8ce","name":"Read","query":"","rawOutput":false,"precision":"s","retentionPolicy":"","org":"","x":560,"y":880,"wires":[["ac5a3eb4.6c60d","9d2ef708.6a7618"]]},{"id":"7893f953.690d58","type":"function","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"","func":"var CurrentTab              = flow.get(\"Current-Tab\",\"memoryOnly\") || \"\";\nvar CurrentMeasurement      = flow.get(\"Query\",\"memoryOnly\") || {'Measurement': \"\"};\nvar ArrayDB                 = flow.get(\"Trend\",\"memoryOnly\");\n\n//------------------------------------------ Tendencias Datos Operativos ------------------------------------------\n\n    if (CurrentMeasurement.Measurement == \"Operative_Data\")\n        {\n            //------------------------------------------------------ Velocidad ------------------------------------------------------------\n            if (CurrentTab == \"VelocidadActual\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.Reference.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Reference});\n                            ArrayDB.Feedback_Speed.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Feedback_Speed}); \n                            \n                            //Elimina muestras del final\n                            ArrayDB.Time.pop();\n                            ArrayDB.Reference.pop();\n                            ArrayDB.Feedback_Speed.pop();\n                        }\n                    msg.payload = [ArrayDB.Reference, ArrayDB.Feedback_Speed];\n                    msg.series  = [\"Referencia de Velocidad\", \"Velocidad Actal\"];\n                    msg.label   = \"Velocidad vs Feedback\";\n                }\n            //------------------------------------------------------ Tensión ------------------------------------------------------------\n            else if (CurrentTab == \"Voltaje\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.Voltage_Out.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage});\n                            ArrayDB.VBusDC.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].VBusDC});\n                            ArrayDB.Voltage_Mtr.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage_Mtr});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.Voltage_Out.pop();\n                            ArrayDB.VBusDC.pop();\n                            ArrayDB.Voltage_Mtr.pop();\n                            \n                            \n                        }\n                    msg.payload = [ArrayDB.Voltage_Out, ArrayDB.VBusDC, ArrayDB.Voltage_Mtr];\n                    msg.series  = [\"Voltaje VFD\", \"Voltaje BusDC\", \"Voltaje de Motor\"];\n                    msg.label   = \"Niveles de Tensión del sistema\";      \n                }\n            //------------------------------------------------------ Carga ------------------------------------------------------------\n            else if (CurrentTab == \"Carga\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.Current_VFD.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_VFD});\n                            ArrayDB.Current_Mtr.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_Mtr});\n                            //ArrayDB.Torque.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Torque});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.Current_VFD.pop();\n                            ArrayDB.Current_Mtr.pop();\n                            //ArrayDB.Torque.pop();\n                            \n                        }\n                    //msg.payload = [ArrayDB.Current_VFD, ArrayDB.Current_Mtr, ArrayDB.Torque];\n                    msg.payload = [ArrayDB.Current_VFD, ArrayDB.Current_Mtr];\n                    //msg.series  = [\"Corriente VFD\", \"Corriente de Motor\", \"Torque actual\"];\n                    msg.series  = [\"Corriente VFD\", \"Corriente de Motor\"];\n                    msg.label   = \"Carga del sistema\";    \n                }\n            //------------------------------------------------------ Potencia ------------------------------------------------------------\n            else if (CurrentTab == \"Potencia\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.Power_KW.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KW});\n                            //ArrayDB.Power_KVAR.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVAR});\n                            //ArrayDB.Power_KVA.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVA});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.Power_KW.pop();\n                            //ArrayDB.Power_KVAR.pop();\n                            //ArrayDB.Power_KVA.pop();\n                            \n                        }\n                    //msg.payload = [ArrayDB.Power_KW,ArrayDB.Power_KVAR, ArrayDB.Power_KVA];\n                    msg.payload = [ArrayDB.Power_KW];\n                    //msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                    msg.series  = [\"Potencia activa\"];\n                    msg.label   = \"Potencia del sistema\";    \n                }\n            //------------------------------------------------------ Temperatura ------------------------------------------------------------    \n            else if (CurrentTab == \"Temperatura\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.CHT.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHT});\n                            ArrayDB.THT.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THT});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.CHT.pop();\n                            ArrayDB.THT.pop();\n                            \n                        }\n                    msg.payload = [ArrayDB.CHT,ArrayDB.THT];\n                    msg.series  = [\"CHT\", \"THT\"];\n                    msg.label   = \"Temperatura del sistema\";    \n                }\n                //------------------------------------------------------ Presión ------------------------------------------------------------    \n            else if (CurrentTab == \"Presion\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.CHP.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHP});\n                            ArrayDB.THP.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THP});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.CHP.pop();\n                            ArrayDB.THP.pop();\n                        }\n                    msg.payload = [ArrayDB.CHP, ArrayDB.THP];\n                    msg.series  = [\"CHP\", \"THP\"];\n                    msg.label   = \"Presión del sistema\";    \n                }\n        }\n/* ------------------------------------------ Tendencias Datos Eléctricos ------------------------------------------ */\n    else if (CurrentMeasurement.Measurement == \"Input_Data\")\n        {\n            //------------------------------------------------------ Voltaje de Entrada ------------------------------------------------------------\n            if(CurrentTab == \"Voltaje\")\n                {\n                    if (msg.payload[0].time == ArrayDB.Time[0]){i = 1} else {i=0}\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.V_L1N.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1N});\n                            ArrayDB.V_L2N.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L2N});\n                            ArrayDB.V_L3N.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L3N});\n                            ArrayDB.V_L1L2.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                            ArrayDB.V_L1L3.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                            ArrayDB.V_L2L3.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2});   \n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.V_L1N.pop();\n                            ArrayDB.V_L2N.pop();\n                            ArrayDB.V_L3N.pop();\n                            ArrayDB.V_L1L2.pop();\n                            ArrayDB.V_L1L3.pop();\n                            ArrayDB.V_L2L3.pop();  \n                        }\n                    msg.payload =   [   \n                                        ArrayDB.V_L1N,ArrayDB.V_L2N,ArrayDB.V_L3N,ArrayDB.V_L1L2,\n                                        ArrayDB.V_L1L3,ArrayDB.V_L2L3\n                                    ];\n                    msg.series  = [\"L1-N\",\"L2-N\",\"L3-N\",\"L1-L2\",\"L1-L3\",\"L2L3\"];\n                    msg.label   = \"Tensión de entrada del sistema\";      \n                }\n            \n            //------------------------------------------------------ Corriente de Entrada ------------------------------------------------------------\n            else if (CurrentTab == \"Corriente\")\n                {\n                    for(i = 0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.I_L1.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L1});\n                            ArrayDB.I_L2.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L2});\n                            ArrayDB.I_L3.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L3});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.I_L1.pop();\n                            ArrayDB.I_L2.pop();\n                            ArrayDB.I_L3.pop();\n                        }\n                    msg.payload = [ArrayDB.I_L1, ArrayDB.I_L2,ArrayDB.I_L3];\n                    msg.series  = [\"L1\", \"L2\", \"L3\"];\n                    msg.label   = \"Corriente de entrada del sistema\";\n                }\n            //------------------------------------------------------ Potencia de Entrada ------------------------------------------------------------    \n            else if (CurrentTab == \"Potencia\")\n                {\n                    for(i = 0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.P_Act.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Act});\n                            ArrayDB.P_Rct.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Rct});\n                            ArrayDB.P_Apa.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Apa});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.P_Act.pop();\n                            ArrayDB.P_Rct.pop();\n                            ArrayDB.P_Apa.pop();\n                        }\n                    \n                    msg.payload = [ArrayDB.P_Act,ArrayDB.P_Rct,ArrayDB.P_Apa];\n                    msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                    msg.label   = \"Potencia de entrada del sistema\";\n                }    \n        } \n/*------------------------------------------ Tendencias Datos de Fondo ------------------------------------------*/    \n    else if (CurrentMeasurement.Measurement == \"Downhole_Data\")\n        {\n            //------------------------------------------------------ Presión de fondo ------------------------------------------------------------\n            if (CurrentTab == \"Presión\")\n               {\n                    for(i = 0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.PIn.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PIn});\n                            ArrayDB.POut.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].POut});\n                            ArrayDB.PDiff.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PDiff});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.PIn.pop();\n                            ArrayDB.POut.pop();\n                            ArrayDB.PDiff.pop();\n                        }\n                    msg.payload = [ArrayDB.PIn,ArrayDB.POut,ArrayDB.PDiff];\n                    msg.series  = [\"Presión de entrada\",\"Presión de Salida\",\"Presión diferencial\"];\n                    msg.label   = \"Presión de entrada del sistema\";\n                        \n                }\n            //------------------------------------------------------ Temperatura de fondo ------------------------------------------------------------    \n            else if (CurrentTab == \"Temperatura\")\n               {\n                    for(i = 0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.T_In.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_In});\n                            ArrayDB.T_Out.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_Out});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.T_In.pop();\n                            ArrayDB.T_Out.pop();\n                            \n                        }\n                    msg.payload = [ArrayDB.T_In,ArrayDB.T_Out];\n                    msg.series  = [\"Temperatura de entrada\",\"Temperatura de Salida\"];\n                    msg.label   = \"Presión de entrada del sistema\";    \n                }\n        }\n\nflow.set(\"Trend\", ArrayDB,\"memoryOnly\");\n\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":830,"y":1070,"wires":[["d1ec13b9.2d54a"]]},{"id":"e6513f08.9de2b","type":"influxdb in","z":"d35c32b9.6419b","d":true,"g":"b19ef7d3.42ea68","influxdb":"29eec29e.f8e8ce","name":"Read","query":"","rawOutput":false,"precision":"s","retentionPolicy":"","org":"","x":580,"y":1050,"wires":[["103b42c0.753efd"]]},{"id":"1007271e.7b5509","type":"function","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"","func":"var Flag        = flow.get(\"Trend.Flag\",\"memoryOnly\");\nvar LastSample  = flow.get(\"Trend.Time[0]\",\"memoryOnly\"); \nvar Sample      = (new Date(LastSample)).toISOString();\nvar Consult     = flow.get(\"Query\",\"memoryOnly\") || {'Measurement': \"\"};\n\n\n/*\nSe evalua:\n    - Que no se haya presionado en el instante anterior el botón, de \n      muestras en tiempo real\n    - Si se presiona repetidamente el botón \"Adelante\", aguardará a que \n    termine de trazar la gráfica para volver a cargarla.\n*/\nif ((Flag != 1) && (Flag != 3) )\n{\n    msg.query = \"SELECT * FROM \" + Consult.Measurement +  \" WHERE time > \" +\"'\"+Sample+\"'\"+ \" LIMIT 1\";\n    Flag = 1;\n    flow.set(\"Trend.Flag\",Flag,\"memoryOnly\");\n    return msg;\n}\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":450,"y":1050,"wires":[["e6513f08.9de2b"]]},{"id":"ac5a3eb4.6c60d","type":"function","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"","func":"var CurrentTab              = flow.get(\"Current-Tab\",\"memoryOnly\") || \"\";\nvar CurrentMeasurement      = flow.get(\"Query\",\"memoryOnly\") || {'Measurement': \"\"};\nvar ArrayDB                 = flow.get(\"Trend\",\"memoryOnly\");\n\n/* ------------------------------------------ Tendencias Datos Operativos ------------------------------------------ */\n\n// Selección tendencias Datos Operativos\n    if (CurrentMeasurement.Measurement == \"Operative_Data\")\n        {\n            //------------------------------------------------------ Velocidad ------------------------------------------------------------\n            if (CurrentTab == \"VelocidadActual\")\n                {\n                    for(i = 0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.push(msg.payload[i].time);\n                            ArrayDB.Reference.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Reference});\n                            ArrayDB.Feedback_Speed.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Feedback_Speed}); \n                        \n                            ArrayDB.Time.shift();\n                            ArrayDB.Reference.shift();\n                            ArrayDB.Feedback_Speed.shift();   \n                        }\n                    msg.payload = [ArrayDB.Reference, ArrayDB.Feedback_Speed];\n                    msg.series  = [\"Referencia de Velocidad\", \"Velocidad Actal\"];\n                    msg.label   = \"Velocidad vs Feedback\";\n                }\n            //------------------------------------------------------ Tensión ------------------------------------------------------------ \n            else if (CurrentTab == \"Voltaje\")\n                {\n                    for(i = 0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.push(msg.payload[i].time);\n                            ArrayDB.Voltage_Out.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage});\n                            ArrayDB.VBusDC.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].VBusDC});\n                            ArrayDB.Voltage_Mtr.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage_Mtr});\n                            \n                            ArrayDB.Time.shift();\n                            ArrayDB.Voltage_Out.shift();\n                            ArrayDB.VBusDC.shift();\n                            ArrayDB.Voltage_Mtr.shift();\n                        }\n                    msg.payload = [ArrayDB.Voltage_Out,ArrayDB.VBusDC, ArrayDB.Voltage_Mtr];\n                    msg.series  = [\"Voltaje VFD\", \"Voltaje BusDC\", \"Voltaje de Motor\"];\n                    msg.label   = \"Niveles de Tensión del sistema\";\n                }\n            //------------------------------------------------------ Carga ------------------------------------------------------------    \n            else if (CurrentTab == \"Carga\")\n            {\n                for(i = 0; i < msg.payload.length; i++)\n                    {\n                        ArrayDB.Time.push(msg.payload[i].time);\n                        ArrayDB.Current_VFD.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_VFD});\n                        ArrayDB.Current_Mtr.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_Mtr});\n                        //ArrayDB.Torque.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Torque});\n                        \n                        ArrayDB.Time.shift();\n                        ArrayDB.Current_VFD.shift();\n                        ArrayDB.Current_Mtr.shift();\n                        //ArrayDB.Torque.shift();\n                        \n                    }\n                //msg.payload = [ArrayDB.Current_VFD,ArrayDB.Current_Mtr, ArrayDB.Torque];\n                msg.payload = [ArrayDB.Current_VFD,ArrayDB.Current_Mtr];\n                //msg.series  = [\"Corriente VFD\", \"Corriente de Motor\", \"Torque actual\"];\n                msg.series  = [\"Corriente VFD\", \"Corriente de Motor\"];\n                msg.label   = \"Carga del sistema\";\n                \n            }\n        //------------------------------------------------------ Potencia ------------------------------------------------------------\n        else if (CurrentTab == \"Potencia\")\n            {\n                for(i = 0; i < msg.payload.length; i++)\n                    {\n                        ArrayDB.Time.push(msg.payload[i].time);\n                        ArrayDB.Power_KW.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KW});\n                        //ArrayDB.Power_KVAR.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVAR});\n                        //ArrayDB.Power_KVA.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVA});\n                        \n                        ArrayDB.Time.shift();\n                        ArrayDB.Power_KW.shift();\n                        //ArrayDB.Power_KVAR.shift();\n                        //ArrayDB.Power_KVA.shift();\n                    }\n                //msg.payload = [ArrayDB.Power_KW,ArrayDB.Power_KVAR, ArrayDB.Power_KVA];\n                msg.payload = [ArrayDB.Power_KW];\n                //msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                msg.series  = [\"Potencia activa\"];\n                msg.label   = \"Potencia del sistema\";    \n            }\n        //------------------------------------------------------ Temperatura ------------------------------------------------------------     \n        else if (CurrentTab == \"Temperatura\")\n            {\n                for(i = 0; i < msg.payload.length; i++)\n                    {\n                        ArrayDB.Time.push(msg.payload[i].time);\n                        ArrayDB.CHT.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHT});\n                        ArrayDB.THT.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THT});\n                        \n                        ArrayDB.Time.shift();\n                        ArrayDB.CHT.shift();\n                        ArrayDB.THT.shift();\n                    }\n                msg.payload = [ArrayDB.CHT,ArrayDB.THT];\n                msg.series  = [\"CHT\", \"THT\"];\n                msg.label   = \"Temperatura del sistema\";    \n            }\n        //------------------------------------------------------ Presión ------------------------------------------------------------    \n        else if (CurrentTab == \"Presion\")\n            {\n                for(i = 0; i < msg.payload.length; i++)\n                    {\n                        ArrayDB.Time.push(msg.payload[i].time);\n                        ArrayDB.CHP.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHP});\n                        ArrayDB.THP.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THP});\n                    \n                        ArrayDB.Time.shift();\n                        ArrayDB.CHP.shift();\n                        ArrayDB.THP.shift();\n                    }\n                msg.payload = [ArrayDB.CHP,ArrayDB.THP];\n                msg.series  = [\"CHP\", \"THP\"];\n                msg.label   = \"Presión del sistema\";\n                msg.contador = 666;\n            }\n            \n        }\n/* ------------------------------------------ Tendencias Datos Eléctricos ------------------------------------------ */\n    else if (CurrentMeasurement.Measurement == \"Input_Data\")\n        {\n            if(CurrentTab == \"Voltaje\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.push(msg.payload[i].time);\n                            ArrayDB.V_L1N.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1N});\n                            ArrayDB.V_L2N.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L2N});\n                            ArrayDB.V_L3N.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L3N});\n                            ArrayDB.V_L1L2.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                            ArrayDB.V_L1L3.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                            ArrayDB.V_L2L3.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2});   \n                            \n                            ArrayDB.Time.shift();\n                            ArrayDB.V_L1N.shift();\n                            ArrayDB.V_L2N.shift();\n                            ArrayDB.V_L3N.shift();\n                            ArrayDB.V_L1L2.shift();\n                            ArrayDB.V_L1L3.shift();\n                            ArrayDB.V_L2L3.shift();\n                            \n                        }\n                    msg.payload =   [   \n                                        ArrayDB.V_L1N,ArrayDB.V_L2N,ArrayDB.V_L3N,ArrayDB.V_L1L2,\n                                        ArrayDB.V_L1L3,ArrayDB.V_L2L3\n                                    ];\n                    msg.series  = [\"L1-N\",\"L2-N\",\"L3-N\",\"L1-L2\",\"L1-L3\",\"L2L3\"];\n                    msg.label   = \"Tensión de entrada del sistema\";    \n                }\n            //------------------------------------------------------ Corriente de Entrada ------------------------------------------------------------\n            else if (CurrentTab == \"Corriente\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.push(msg.payload[i].time);\n                            ArrayDB.I_L1.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L1});\n                            ArrayDB.I_L2.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L2});\n                            ArrayDB.I_L3.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L3});\n                            \n                            ArrayDB.Time.shift();\n                            ArrayDB.I_L1.shift();\n                            ArrayDB.I_L2.shift();\n                            ArrayDB.I_L3.shift();\n                        }\n                    msg.payload = [ArrayDB.I_L1, ArrayDB.I_L2,ArrayDB.I_L3];\n                    msg.series  = [\"L1\", \"L2\", \"L3\"];\n                    msg.label   = \"Corriente de entrada del sistema\";\n                }\n            //------------------------------------------------------ Potencia de Entrada ------------------------------------------------------------\n            else if (CurrentTab == \"Potencia\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.push(msg.payload[i].time);\n                            ArrayDB.P_Act.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Act});\n                            ArrayDB.P_Rct.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Rct});\n                            ArrayDB.P_Apa.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Apa});\n                            \n                            ArrayDB.Time.shift();\n                            ArrayDB.P_Act.shift();\n                            ArrayDB.P_Rct.shift();\n                            ArrayDB.P_Apa.shift();\n                        }\n                    msg.payload = [ArrayDB.P_Act,ArrayDB.P_Rct,ArrayDB.P_Apa];\n                    msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                    msg.label   = \"Potencia de entrada del sistema\";     \n                }    \n        } \n/*------------------------------------------ Tendencias Datos de Fondo ------------------------------------------*/    \n    else if (CurrentMeasurement.Measurement == \"Downhole_Data\")\n        {\n            //------------------------------------------------------ Presión de fondo ------------------------------------------------------------\n            if (CurrentTab == \"Presión\")\n               {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.push(msg.payload[i].time);\n                            ArrayDB.PIn.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PIn});\n                            ArrayDB.POut.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].POut});\n                            ArrayDB.PDiff.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PDiff});\n                            \n                            ArrayDB.Time.shift();\n                            ArrayDB.P_Act.shift();\n                            ArrayDB.P_Rct.shift();\n                            ArrayDB.P_Apa.shift();\n                        }\n                    msg.payload = [ArrayDB.PIn,ArrayDB.POut,ArrayDB.PDiff];\n                    msg.series  = [\"Presión de entrada\",\"Presión de Salida\",\"Presión diferencial\"];\n                    msg.label   = \"Presión de entrada del sistema\";\n                }\n            //------------------------------------------------------ Temperatura de fondo ------------------------------------------------------------      \n            else if (CurrentTab == \"Temperatura\")\n               {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.push(msg.payload[i].time);\n                            ArrayDB.T_In.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_In});\n                            ArrayDB.T_Out.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_Out});\n                            \n                            ArrayDB.Time.shift();\n                            ArrayDB.P_Act.shift();\n                            ArrayDB.P_Rct.shift();\n                            ArrayDB.P_Apa.shift();\n                        }\n                    msg.payload = [ArrayDB.T_In,ArrayDB.T_Out];\n                    msg.series  = [\"Temperatura de entrada\",\"Temperatura de Salida\"];\n                    msg.label   = \"Presión de entrada del sistema\";\n                }\n        }            \n\nflow.set(\"Trend\", ArrayDB,\"memoryOnly\");\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":750,"y":880,"wires":[["d1ec13b9.2d54a","fb5402e7.72322"]]},{"id":"cd5498e2.4669f8","type":"comment","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"Tendencia 2 muestra hacia adelante","info":"","x":530,"y":1010,"wires":[]},{"id":"bc863fbb.54cc7","type":"comment","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"Tendencia valores actuales","info":"","x":490,"y":1220,"wires":[]},{"id":"a3d8c9a4.70d3a8","type":"ui_button","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"Back 2 Samples Input Data","group":"309a2895.5230c8","order":3,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-left","payload":"","payloadType":"str","topic":"","x":220,"y":840,"wires":[["89b96b56.401e78"]]},{"id":"e98639ed.c7faa8","type":"ui_button","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"Forward 2 Samples Operative Data","group":"419728a7.c16f68","order":4,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-right","payload":"","payloadType":"str","topic":"","x":220,"y":1050,"wires":[["1007271e.7b5509"]]},{"id":"c8301305.155ca","type":"ui_button","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"Current Operative Data","group":"419728a7.c16f68","order":5,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-double-right","payload":"","payloadType":"str","topic":"","x":220,"y":1260,"wires":[["9f65b6e4.fa9b58"]]},{"id":"8c2fe53.e0c5a18","type":"ui_button","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"Oldest Operative Data","group":"419728a7.c16f68","order":2,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-double-left","payload":"","payloadType":"str","topic":"","x":180,"y":580,"wires":[["5953427.341fdbc"]]},{"id":"1e4b1bbe.54e204","type":"influxdb in","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","influxdb":"29eec29e.f8e8ce","name":"Read Influx","query":"","rawOutput":false,"precision":"s","retentionPolicy":"","x":730,"y":580,"wires":[["fe3cf8d4.9ecf68"]]},{"id":"5953427.341fdbc","type":"change","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"","rules":[{"t":"delete","p":"#:(memoryOnly)::Trend","pt":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":580,"wires":[["164dac78.253234"]]},{"id":"c984d5a4.ec6ac8","type":"comment","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"Tendencia valores más antiguos","info":"","x":450,"y":540,"wires":[]},{"id":"e23d1e5c.76f6a","type":"function","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"Get_LastestSamples","func":"var Consult = flow.get(\"Query\",\"memoryOnly\") || {'Measurement': \"\"};\n\nmsg.query = \"SELECT * FROM \" + Consult.Measurement + \" ORDER BY DESC LIMIT 30\";\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":700,"y":1260,"wires":[["ad8181d.652538"]]},{"id":"4b56d4c2.92bedc","type":"change","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Current-Tab","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":230,"y":1300,"wires":[["9f65b6e4.fa9b58"]]},{"id":"371bd93d.a97226","type":"ui_button","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"Current Input Data","group":"309a2895.5230c8","order":5,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-double-right","payload":"","payloadType":"str","topic":"","x":240,"y":1220,"wires":[["9f65b6e4.fa9b58"]]},{"id":"2514f0b3.8e71d","type":"ui_button","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"Back 2 Samples Operative Data","group":"419728a7.c16f68","order":3,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-left","payload":"","payloadType":"str","topic":"","x":210,"y":880,"wires":[["89b96b56.401e78"]]},{"id":"78fe1ad6.697684","type":"switch","z":"d35c32b9.6419b","g":"da3ae781.998328","name":"Flag Filter","property":"#:(memoryOnly)::Trend.Flag","propertyType":"flow","rules":[{"t":"eq","v":"3","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":540,"y":750,"wires":[["d0735f18.f858d"]]},{"id":"afef9de4.5ac33","type":"ui_button","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"Forward 2 Samples Input Data","group":"309a2895.5230c8","order":4,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-right","payload":"","payloadType":"str","topic":"","x":230,"y":1010,"wires":[["1007271e.7b5509"]]},{"id":"823f98aa.daa8d8","type":"ui_button","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"Oldest Input Data","group":"309a2895.5230c8","order":2,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-double-left","payload":"","payloadType":"str","topic":"","x":190,"y":620,"wires":[["5953427.341fdbc"]]},{"id":"164dac78.253234","type":"function","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"","func":"var Consult = flow.get(\"Query\",\"memoryOnly\");\n\nmsg.query = \"SELECT * FROM \" + Consult.Measurement +  \" ORDER BY ASC LIMIT 30\";\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":580,"y":580,"wires":[["1e4b1bbe.54e204"]]},{"id":"fe3cf8d4.9ecf68","type":"function","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"DateHandle","func":"//------------------------------------------ Declaración de variables ------------------------------------------\nvar CurrentTab              = flow.get(\"Current-Tab\",\"memoryOnly\");\nvar CurrentMeasurement      = flow.get(\"Query\",\"memoryOnly\");\nvar Array_OperativeData     = { 'Time'              :[], \n                                'Current_Mtr'       :[], \n                                'Current_VFD'       :[], \n                                //'Power_KVA'         :[], \n                                //'Power_KVAR'        :[], \n                                'Power_KW'          :[],\n                                'Reference'         :[], \n                                'VBusDC'            :[],\n                                'Voltage_Out'       :[],\n                                'Feedback_Speed'    :[], \n                                'Voltage_Mtr'       :[], \n                                'CHP'               :[], \n                                'THP'               :[], \n                                'CHT'               :[], \n                                'THT'               :[], \n                                //'Torque'            :[],\n                                'Flag'              : 0};\n                                \nvar Array_InputData         =   {\n                                'Time'              :[],\n                                'V_L1N'             :[],\n                                'V_L2N'             :[],\n                                'V_L3N'             :[],\n                                'V_L1L2'            :[],\n                                'V_L1L3'            :[],\n                                'V_L2L3'            :[],\n                                'I_L1'              :[],\n                                'I_L2'              :[],\n                                'I_L3'              :[],\n                                'P_Act'             :[],\n                                'P_Rct'             :[],\n                                'P_Apa'             :[],\n                                'Flag'              : 0\n                                }; \n                                \nvar Array_DownholeData      =   {\n                                'Time'              :[],\n                                'PIn'               :[],\n                                'POut'              :[],\n                                'PDiff'             :[],\n                                'T_In'              :[],\n                                'T_Out'             :[],\n                                'Flag'              : 0\n                                }; \n\nvar i = 0;\n\n//------------------------------------------ Tendencias Datos Operativos ------------------------------------------\n\n// Selección tendencias Datos Operativos\nif (CurrentMeasurement.Measurement == \"Operative_Data\")\n    {\n        //------------------------------------------------------ Velocidad ------------------------------------------------------------\n        if (CurrentTab == \"VelocidadActual\")\n            {\n                for(i = 0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.unshift(msg.payload[i].time);\n                        Array_OperativeData.Reference.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Reference});\n                        Array_OperativeData.Feedback_Speed.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Feedback_Speed}); \n                    }\n                    \n                    msg.payload = [Array_OperativeData.Reference,Array_OperativeData.Feedback_Speed];\n                    msg.series  = [\"Referencia de Velocidad\", \"Velocidad Actual\"];\n                    msg.label   = \"Velocidad vs Feedback\";\n            }\n        //------------------------------------------------------ Tensión ------------------------------------------------------------\n        else if (CurrentTab == \"Voltaje\")\n            {\n                for(i = 0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.unshift(msg.payload[i].time);\n                        Array_OperativeData.Voltage_Out.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage});\n                        Array_OperativeData.VBusDC.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].VBusDC});\n                        Array_OperativeData.Voltage_Mtr.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage_Mtr});\n                    }\n                msg.payload = [Array_OperativeData.Voltage_Out,Array_OperativeData.VBusDC, Array_OperativeData.Voltage_Mtr];\n                msg.series  = [\"Voltaje VFD\", \"Voltaje BusDC\", \"Voltaje de Motor\"];\n                msg.label   = \"Niveles de Tensión del sistema\";  \n            }\n        //------------------------------------------------------ Carga ------------------------------------------------------------            \n        else if (CurrentTab == \"Carga\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.unshift(msg.payload[i].time);\n                        Array_OperativeData.Current_VFD.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_VFD});\n                        Array_OperativeData.Current_Mtr.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_Mtr});\n                        //Array_OperativeData.Torque.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Torque});\n                    }\n                //msg.payload = [Array_OperativeData.Current_VFD,Array_OperativeData.Current_Mtr, Array_OperativeData.Torque];\n                msg.payload = [Array_OperativeData.Current_VFD,Array_OperativeData.Current_Mtr];\n                //msg.series  = [\"Corriente VFD\", \"Corriente de Motor\", \"Torque actual\"];\n                msg.series  = [\"Corriente VFD\", \"Corriente de Motor\"];\n                msg.label   = \"Carga del sistema\";      \n            }\n        //------------------------------------------------------ Potencia ------------------------------------------------------------    \n        else if (CurrentTab == \"Potencia\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.unshift(msg.payload[i].time);\n                        Array_OperativeData.Power_KW.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KW});\n                        //Array_OperativeData.Power_KVAR.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVAR});\n                        //Array_OperativeData.Power_KVA.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVA});\n                    }\n                //msg.payload = [Array_OperativeData.Power_KW,Array_OperativeData.Power_KVAR, Array_OperativeData.Power_KVA];\n                msg.payload = [Array_OperativeData.Power_KW];\n                //msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                msg.series  = [\"Potencia activa\"];\n                msg.label   = \"Potencia del sistema\";     \n            }\n        //------------------------------------------------------ Temperatura ------------------------------------------------------------    \n        else if (CurrentTab == \"Temperatura\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.unshift(msg.payload[i].time);\n                        Array_OperativeData.CHT.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHT});\n                        Array_OperativeData.THT.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THT});\n                    }\n                msg.payload = [Array_OperativeData.CHT,Array_OperativeData.THT];\n                msg.series  = [\"CHT\", \"THT\"];\n                msg.label   = \"Temperatura del sistema\"; \n            }\n        //------------------------------------------------------ Presión ------------------------------------------------------------        \n        else if (CurrentTab == \"Presion\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.unshift(msg.payload[i].time);\n                        Array_OperativeData.CHP.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHP});\n                        Array_OperativeData.THP.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THP});\n                    }\n                msg.payload = [Array_OperativeData.CHP, Array_OperativeData.THP];\n                msg.series  = [\"CHP\", \"THP\"];\n                msg.label   = \"Presión del sistema\";      \n            }\n        Array_OperativeData.Flag = 4;    \n        flow.set(\"Trend\", Array_OperativeData,\"memoryOnly\");\n    }\n//------------------------------------------ Tendencias Datos Eléctricos de Entrada ------------------------------------------\n\n// Selección tendencias Datos eléctricos de entrada\nelse if (CurrentMeasurement.Measurement == \"Input_Data\")\n    {\n        //------------------------------------------------------ Voltaje de Entrada ------------------------------------------------------------\n        if (CurrentTab == \"Voltaje\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_InputData.Time.unshift(msg.payload[i].time);\n                        Array_InputData.V_L1N.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1N});\n                        Array_InputData.V_L2N.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L2N});\n                        Array_InputData.V_L3N.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L3N});\n                        Array_InputData.V_L1L2.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                        Array_InputData.V_L1L3.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                        Array_InputData.V_L2L3.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2});\n                    }\n                msg.payload =   [   \n                                    Array_InputData.V_L1N,Array_InputData.V_L2N,Array_InputData.V_L3N,Array_InputData.V_L1L2,\n                                    Array_InputData.V_L1L3,Array_InputData.V_L2L3\n                                ];\n                msg.series  = [\"L1-N\",\"L2-N\",\"L3-N\",\"L1-L2\",\"L1-L3\",\"L2L3\"];\n                msg.label   = \"Tensión de entrada del sistema\"; \n            }\n        //------------------------------------------------------ Corriente de Entrada ------------------------------------------------------------   \n        else if (CurrentTab == \"Corriente\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_InputData.Time.unshift(msg.payload[i].time);\n                        Array_InputData.I_L1.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L1});\n                        Array_InputData.I_L2.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L2});\n                        Array_InputData.I_L3.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L3});\n                    }\n                msg.payload = [Array_InputData.I_L1, Array_InputData.I_L2,Array_InputData.I_L3];\n                msg.series  = [\"L1\", \"L2\", \"L3\"];\n                msg.label   = \"Corriente de entrada del sistema\";\n            }\n        //------------------------------------------------------ Potencia de Entrada ------------------------------------------------------------    \n        else if (CurrentTab == \"Potencia\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_InputData.Time.unshift(msg.payload[i].time);\n                        Array_InputData.P_Act.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Act});\n                        Array_InputData.P_Rct.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Rct});\n                        Array_InputData.P_Apa.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Apa});\n                    }\n                msg.payload = [Array_InputData.P_Act,Array_InputData.P_Rct,Array_InputData.P_Apa];\n                msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                msg.label   = \"Potencia de entrada del sistema\";\n            }\n            \n        Array_InputData.Flag = 4;    \n        flow.set(\"Trend\", Array_InputData,\"memoryOnly\");\n    }\n/*------------------------------------------ Tendencias Datos de Fondo ------------------------------------------*/\nelse if (CurrentMeasurement.Measurement == \"Downhole_Data\")\n    {\n        //------------------------------------------------------ Presión de fondo ------------------------------------------------------------\n        if (CurrentTab == \"Presión\")\n           {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_DownholeData.Time.unshift(msg.payload[i].time);\n                        Array_DownholeData.PIn.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PIn});\n                        Array_DownholeData.POut.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].POut});\n                        Array_DownholeData.PDiff.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PDiff});\n                    }\n                msg.payload = [Array_DownholeData.PIn,Array_DownholeData.POut,Array_DownholeData.PDiff];\n                msg.series  = [\"Presión de entrada\",\"Presión de Salida\",\"Presión diferencial\"];\n                msg.label   = \"Presión de entrada del sistema\";\n            }\n            \n        //------------------------------------------------------ Temperatura de fondo ------------------------------------------------------------ \n        else if (CurrentTab == \"Temperatura\")\n           {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_DownholeData.Time.unshift(msg.payload[i].time);\n                        Array_DownholeData.T_In.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_In});\n                        Array_DownholeData.T_Out.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_Out});\n                    }\n                msg.payload = [Array_DownholeData.T_In,Array_DownholeData.T_Out];\n                msg.series  = [\"Temperatura de entrada\",\"Temperatura de Salida\"];\n                msg.label   = \"Presión de entrada del sistema\";\n            }\n        Array_DownholeData.Flag = 4;    \n        flow.set(\"Trend\", Array_DownholeData,\"memoryOnly\");\n    }\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":890,"y":580,"wires":[["d1ec13b9.2d54a","e2792bcf.8bea78"]]},{"id":"42196f55.8e867","type":"switch","z":"d35c32b9.6419b","g":"da3ae781.998328","name":"Trend Prompted","property":"#:(memoryOnly)::Query.Trend_Prompted","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":750,"wires":[["78fe1ad6.697684"]]},{"id":"2f01cd27.190772","type":"comment","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","name":"Navbar by Screens","info":"","x":170,"y":1430,"wires":[]},{"id":"cda1db41.a4fd88","type":"ui_template","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","group":"a832170e.124748","name":"Operative Data Navbar","order":1,"width":12,"height":1,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-VelocidadActual-tab\" data-toggle=\"tab\" href=\"#nav-VelocidadActual\" role=\"tab\" aria-controls=\"nav-VelocidadActual\" aria-selected=\"true\" ng-click=\"send({payload:VelocidadActual()})\">Velocidad Actual</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Voltaje-tab\" data-toggle=\"tab\" href=\"#nav-Voltaje\" role=\"tab\" aria-controls=\"nav-Voltaje\" aria-selected=\"false\" ng-click=\"send({payload:Voltaje()})\">Voltaje</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Carga-tab\" data-toggle=\"tab\" href=\"#nav-Carga\" role=\"tab\" aria-controls=\"nav-Carga\" aria-selected=\"false\" ng-click=\"send({payload:Carga()})\">Carga</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Potencia-tab\" data-toggle=\"tab\" href=\"#nav-Potencia\" role=\"tab\" aria-controls=\"nav-Potencia\" aria-selected=\"false\" ng-click=\"send({payload:Potencia()})\">Potencia</a>\n        <!-- <a class=\"nav-item nav-link\" id=\"nav-Temperatura-tab\" data-toggle=\"tab\" href=\"#nav-Temperatura\" role=\"tab\" aria-controls=\"nav-Temperatura\" aria-selected=\"false\" ng-click=\"send({payload:Temperatura()})\">Temperatura</a>-->\n        <!--<a class=\"nav-item nav-link\" id=\"nav-Presion-tab\" data-toggle=\"tab\" href=\"#nav-Presion\" role=\"tab\" aria-controls=\"nav-Presion\" aria-selected=\"false\" ng-click=\"send({payload:Presion()})\">Presión</a>-->\n        <!--\n        <a class=\"nav-item nav-link\" id=\"nav-Menu2\" data-toggle=\"tab\" href=\"nav-Menu2\" role=\"tab\" aria-controls=\"nav-Menu2\" aria-selected=\"false\" ng-click=\"send({payload:Menu2()})\">\n            <img src=\"http://localhost:1880/bootstrap-icons/icons/caret-right-square.svg\" alt=\"\" width=\"20\" height=\"20\"> \n        </a>\n        -->\n      </div>\n    </nav>\n\n    <script>\n        this.scope.VelocidadActual = function() { return \"VelocidadActual\"; };\n        this.scope.Voltaje = function() { return \"Voltaje\"; };\n        this.scope.Carga = function() { return \"Carga\"; };\n        this.scope.Potencia = function() { return \"Potencia\"; };\n        this.scope.Temperatura = function() { return \"Temperatura\"; };\n        this.scope.Presion = function() { return \"Presion\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":390,"y":1510,"wires":[["5b8bc10c.bbb33"]]},{"id":"d0a81664.403aa8","type":"ui_template","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","group":"52f8d217.2f360c","name":"Input Data Navbar","order":1,"width":12,"height":1,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n    \n        <a class=\"nav-item nav-link active\" id=\"nav-Voltaje-tab\" data-toggle=\"tab\" href=\"#nav-Voltaje\" role=\"tab\" aria-controls=\"nav-Voltaje\" aria-selected=\"false\" ng-click=\"send({payload:Voltaje()})\">Voltaje</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Corriente-tab\" data-toggle=\"tab\" href=\"#nav-Corriente\" role=\"tab\" aria-controls=\"nav-Corriente\" aria-selected=\"false\" ng-click=\"send({payload:Corriente()})\">Corriente</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Potencia-tab\" data-toggle=\"tab\" href=\"#nav-Potencia\" role=\"tab\" aria-controls=\"nav-Potencia\" aria-selected=\"false\" ng-click=\"send({payload:Potencia()})\">Potencia</a>\n    \n      </div>\n    </nav>\n\n    <script>\n        this.scope.Voltaje = function() { return \"Voltaje\"; };\n        this.scope.Corriente = function() { return \"Corriente\"; };\n        this.scope.Potencia = function() { return \"Potencia\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":400,"y":1550,"wires":[["5b8bc10c.bbb33"]]},{"id":"6ea29ae7.e81044","type":"ui_template","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","group":"5708535c.2ece0c","name":"Downhole Data Navbar","order":1,"width":12,"height":1,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-Presion-tab\" data-toggle=\"tab\" href=\"#nav-Presion\" role=\"tab\" aria-controls=\"nav-Presion\" aria-selected=\"true\" ng-click=\"send({payload:Presion()})\">Presión</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Temperatura-tab\" data-toggle=\"tab\" href=\"#nav-Temperatura\" role=\"tab\" aria-controls=\"nav-Temperatura\" aria-selected=\"false\" ng-click=\"send({payload:Temperatura()})\">Temperatura</a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.Presion = function() { return \"Presion\"; };\n        this.scope.Temperatura = function() { return \"Temperatura\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":380,"y":1470,"wires":[["5b8bc10c.bbb33"]]},{"id":"671c4fb2.c61c","type":"comment","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","name":"Trend to consult detection","info":"","x":190,"y":1590,"wires":[]},{"id":"ef56b9cd.e179f8","type":"function","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","name":"Measurement Assignment","func":"var Consulta    = flow.get(\"Query\",\"memoryOnly\") || {'Measurement': \"\", 'Trend_Prompted': false};\nvar Current_Tab = flow.get(\"Current-Tab\",\"memoryOnly\") || \"\";\n\nif (msg.name == \"Tendencias-Superficie-Datos_operativos\")\n    {\n        Consulta.Measurement = \"Operative_Data\";\n        Consulta.Trend_Prompted = true;\n        Current_Tab = \"VelocidadActual\";\n        \n    }\nelse if (msg.name == \"Tendencias-Superficie-Datos_eléctricos_de_entrada\")\n    {\n        Consulta.Measurement = \"Input_Data\";\n        Consulta.Trend_Prompted = true;\n        Current_Tab = \"Voltaje\";\n        \n    }\nelse if (msg.name == \"Tendencias-Fondo-Sensor_de_fondo\")\n    {\n        Consulta.Measurement = \"Downhole_Data\";\n        Consulta.Trend_Prompted = true;\n        Current_Tab = \"Presion\";\n        \n    }\nelse if (msg.name == \"Tendencias-Fondo-Sensor_Less\")\n    {\n        Consulta.Measurement = \"Sensorless_Data\";\n        Consulta.Trend_Prompted = true;\n        \n    }\nelse {\n        Consulta.Measurement = \"\";\n        Consulta.Trend_Prompted = false;\n        return ;\n    }\nflow.set(\"Query\", Consulta,\"memoryOnly\");\nflow.set(\"Current-Tab\", Current_Tab,\"memoryOnly\");\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":330,"y":1630,"wires":[["148d0d1.2a0f4f3"]]},{"id":"32d68976.059f96","type":"ui_ui_control","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","name":"","events":"change","x":140,"y":1630,"wires":[["ef56b9cd.e179f8"]]},{"id":"5b8bc10c.bbb33","type":"link out","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","name":"Navbar by Screen","links":["8fe15b1a.8efeb8"],"x":545,"y":1510,"wires":[]},{"id":"148d0d1.2a0f4f3","type":"link out","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","name":"AccessToScreen","links":["be845e9a.07b99"],"x":475,"y":1630,"wires":[]},{"id":"3a6fab3.c7e5154","type":"inject","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":180,"y":1510,"wires":[["cda1db41.a4fd88","d0a81664.403aa8","6ea29ae7.e81044"]]},{"id":"8fe15b1a.8efeb8","type":"link in","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"","links":["5b8bc10c.bbb33"],"x":95,"y":1300,"wires":[["4b56d4c2.92bedc"]]},{"id":"f24850fc.2d265","type":"ui_button","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"Current Downhole Data","group":"60a3a013.03c5e","order":5,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-double-right","payload":"","payloadType":"str","topic":"","x":220,"y":1180,"wires":[["9f65b6e4.fa9b58"]]},{"id":"d225d3dc.95f5d","type":"ui_button","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"Oldest Downhole Data","group":"60a3a013.03c5e","order":2,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-double-left","payload":"","payloadType":"str","topic":"","x":180,"y":540,"wires":[["5953427.341fdbc"]]},{"id":"30a20927.0852c6","type":"ui_button","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"Forward 2 Samples Downhole Data","group":"60a3a013.03c5e","order":4,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-right","payload":"","payloadType":"str","topic":"","x":220,"y":1090,"wires":[["1007271e.7b5509"]]},{"id":"c2c53040.c272b","type":"ui_button","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"Back 2 Samples Downhole Data","group":"60a3a013.03c5e","order":3,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-left","payload":"","payloadType":"str","topic":"","x":210,"y":920,"wires":[["89b96b56.401e78"]]},{"id":"be845e9a.07b99","type":"link in","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"","links":["148d0d1.2a0f4f3"],"x":315,"y":1340,"wires":[["9f65b6e4.fa9b58"]]},{"id":"b317eb9e.fa5ea8","type":"ui_chart","z":"d35c32b9.6419b","d":true,"g":"9e9a162d.d4b0a8","name":"","group":"3a102a42.7f8df6","order":1,"width":"12","height":"6","label":"{{msg.label}}","chartType":"line","legend":"true","xformat":"auto","interpolate":"linear","nodata":"No Data","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#61a037","#ec5555","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"outputs":1,"x":1310,"y":860,"wires":[["9e15cbfa.3def58","ae4e1e77.28e04"]]},{"id":"d1ec13b9.2d54a","type":"function","z":"d35c32b9.6419b","g":"9e9a162d.d4b0a8","name":"","func":"var chart = \n    [{\n\"series\": msg.series,\n\"data\": msg.payload,\n\"labels\": [\"\"]\n\n}];\nmsg.payload = chart;\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1050,"y":900,"wires":[["190757f3.f04c38"]]},{"id":"9e15cbfa.3def58","type":"function","z":"d35c32b9.6419b","g":"9e9a162d.d4b0a8","name":"","func":"var Flag = flow.get(\"Trend.Flag\",\"memoryOnly\");\n\nif (Flag === 0)\n    {\n        Flag = 3;\n    }\nelse if (Flag == 1 || Flag == 2)\n    {\n        Flag = 5;\n    }\nnode.status({fill:\"red\",shape:\"ring\",text:Flag});\nflow.set(\"Trend.Flag\",Flag,\"memoryOnly\");\nreturn ;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1460,"y":900,"wires":[[]]},{"id":"103b42c0.753efd","type":"switch","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"","property":"payload","propertyType":"msg","rules":[{"t":"empty"},{"t":"nempty"}],"checkall":"true","repair":false,"outputs":2,"x":700,"y":1050,"wires":[["f0b8ccfd.3b4c8"],["7893f953.690d58"]]},{"id":"f0b8ccfd.3b4c8","type":"change","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"To real time","rules":[{"t":"set","p":"Trend.Flag","pt":"flow","to":"3","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":840,"y":1030,"wires":[[]]},{"id":"190757f3.f04c38","type":"switch","z":"d35c32b9.6419b","g":"9e9a162d.d4b0a8","name":"","property":"#:(memoryOnly)::Query.Measurement","propertyType":"flow","rules":[{"t":"eq","v":"Operative_Data","vt":"str"},{"t":"eq","v":"Input_Data","vt":"str"},{"t":"eq","v":"Sensorless_Data","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":1180,"y":900,"wires":[["b317eb9e.fa5ea8"],["3d1d1baa.08cbd4"],["6f55b697.307bd8"]]},{"id":"3d1d1baa.08cbd4","type":"ui_chart","z":"d35c32b9.6419b","d":true,"g":"9e9a162d.d4b0a8","name":"","group":"e6616ee7.07ad2","order":1,"width":"12","height":"6","label":"{{msg.label}}","chartType":"line","legend":"true","xformat":"auto","interpolate":"linear","nodata":"No Data","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#61a037","#ec5555","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"outputs":1,"x":1310,"y":900,"wires":[["9e15cbfa.3def58"]]},{"id":"6f55b697.307bd8","type":"ui_chart","z":"d35c32b9.6419b","d":true,"g":"9e9a162d.d4b0a8","name":"","group":"f0246745.e75b18","order":1,"width":"0","height":"0","label":"{{msg.label}}","chartType":"line","legend":"true","xformat":"auto","interpolate":"linear","nodata":"No Data","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#61a037","#ec5555","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"outputs":1,"x":1310,"y":940,"wires":[["9e15cbfa.3def58"]]},{"id":"6a9bae72.3bb93","type":"debug","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1200,"y":1260,"wires":[]},{"id":"e2792bcf.8bea78","type":"debug","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":1080,"y":580,"wires":[]},{"id":"fb5402e7.72322","type":"debug","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":760,"y":920,"wires":[]},{"id":"9d2ef708.6a7618","type":"debug","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":580,"y":920,"wires":[]},{"id":"80b34dd.dbd91b","type":"debug","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":890,"y":1300,"wires":[]},{"id":"ae4e1e77.28e04","type":"debug","z":"d35c32b9.6419b","g":"9e9a162d.d4b0a8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":1470,"y":860,"wires":[]},{"id":"ad6faa1f.ab6618","type":"function","z":"f4a6b35e.fd0a3","name":"TON Alrm","func":"var Act = msg.alrm;\nvar Ant = context.get(\"Anterior\")||false;\nvar Output = { payload: false };\n\n//Flanco de subida\nif(Act === true && Ant === false){\n    context.set(\"RefTime\", Date.now());\n}\n\nelse if(Act === true && Ant === true){\n    if(Date.now() - context.get(\"RefTime\") >= msg.delay){\n        Output.payload = true;\n        Output.Mensaje = msg.message; \n    }\n}\nelse{\n    Output.payload = false;\n}\n\ncontext.set(\"Anterior\", Act);\n\nreturn Output;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":450,"wires":[[]]},{"id":"273454d7.4d089c","type":"link in","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Navigation bar","links":["ad87cee4.7dbb5"],"x":205,"y":120,"wires":[["4feb0a11.ed3ed4"]]},{"id":"ad35e08b.93dd","type":"function","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3320,"y":90,"wires":[["18bd4053.0ce7f"]]},{"id":"b5f98fab.54e65","type":"function","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3320,"y":130,"wires":[["2faeafb3.f06ad"]]},{"id":"767c6edd.e99ef","type":"function","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3320,"y":170,"wires":[["b25a670a.e0cc68"]]},{"id":"61519ed8.7e8ec","type":"function","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3320,"y":210,"wires":[["6204d467.e3a61c"]]},{"id":"6ba29ec9.ca738","type":"ui_text_input","z":"ef673f81.6ec95","g":"58f712f1.3e5eec","name":"","label":"IP :","tooltip":"","group":"907f5ff7.25cd8","order":2,"width":"6","height":"1","passthru":true,"mode":"text","delay":"0","topic":"IP","x":880,"y":340,"wires":[["5bdfa98d.170d08"]]},{"id":"225e0422.f4c54c","type":"inject","z":"ef673f81.6ec95","g":"58f712f1.3e5eec","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"IP","payloadType":"global","x":750,"y":340,"wires":[["6ba29ec9.ca738"]]},{"id":"e5d62358.6f646","type":"change","z":"ef673f81.6ec95","g":"58f712f1.3e5eec","name":"","rules":[{"t":"set","p":"IP","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1020,"y":380,"wires":[[]]},{"id":"ea20c75e.326798","type":"function","z":"f4a6b35e.fd0a3","name":"TON Disp","func":"var Act = msg.disp;\nvar Ant = context.get(\"Anterior\")||false;\nvar Output = { \n    payload: false,\n    Mensaje: msg.message\n};\n\n// Actualizar el contexto\ncontext.set(\"Anterior\", Act);\n\n//Flanco de subida\nif(Act === true && Ant === false){\n    context.set(\"RefTime\", Date.now());\n}\nelse if(Act === true && Ant === true){\n    if(Date.now() - context.get(\"RefTime\") >= msg.delay){\n        Output.payload = true;\n    }\n}\nreturn Output;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":540,"wires":[["b71d6bf5.e7b948","99413ec8.d0ac9"]]},{"id":"8f669088.6ce6","type":"function","z":"f4a6b35e.fd0a3","name":"TON Alrm","func":"var Act = msg.alrm;\nvar Ant = context.get(\"Anterior\")||false;\nvar Output = { \n    payload: false,\n    Mensaje: msg.message\n};\n\n// Actualizar el contexto\ncontext.set(\"Anterior\", Act);\n\n//Flanco de subida\nif(Act === true && Ant === false){\n    context.set(\"RefTime\", Date.now());\n}\nelse if(Act === true && Ant === true){\n    if(Date.now() - context.get(\"RefTime\") >= msg.delay){\n        Output.payload = true;\n    }\n}\nreturn Output;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":590,"wires":[["85be8781.2bbf48"]]},{"id":"85be8781.2bbf48","type":"rbe","z":"f4a6b35e.fd0a3","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":950,"y":590,"wires":[["32df09df.1438a6"]]},{"id":"32df09df.1438a6","type":"switch","z":"f4a6b35e.fd0a3","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1070,"y":590,"wires":[[]]},{"id":"b71d6bf5.e7b948","type":"rbe","z":"f4a6b35e.fd0a3","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":950,"y":540,"wires":[["f2e977d8.049be8"]]},{"id":"f2e977d8.049be8","type":"switch","z":"f4a6b35e.fd0a3","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1070,"y":540,"wires":[[]]},{"id":"d3023171.a64c3","type":"switch","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"Disparo","vt":"str"},{"t":"cont","v":"Alarma","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1240,"y":190,"wires":[["db1e9db0.6840e"],["4e8f42ac.3431ac"]]},{"id":"4e8f42ac.3431ac","type":"link out","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"Link Alarmas","links":["33f2aa3c.6c08f6"],"x":1325,"y":210,"wires":[]},{"id":"ffbe710d.b4cce","type":"link in","z":"8528a254.70837","g":"cf57802e.7d258","name":"Actualizar Alarmas In","links":["f7333c0a.a70d3"],"x":1075,"y":160,"wires":[["d9101c40.6e85a"]]},{"id":"99413ec8.d0ac9","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Topic","tot":"env"}],"action":"","property":"","from":"","to":"","reg":false,"x":980,"y":500,"wires":[[]]},{"id":"3fe04302.c538cc","type":"link out","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Tensión Estado Link","links":["9209cfb3.3a43a"],"x":755,"y":210,"wires":[]},{"id":"3c6e6977.ced646","type":"link out","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Torque Estado Link","links":["9209cfb3.3a43a"],"x":755,"y":440,"wires":[]},{"id":"26eb2018.cea02","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Parada local","rules":[{"t":"set","p":"Source_for_events.Stop","pt":"global","to":"1","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":870,"y":800,"wires":[[]]},{"id":"179175a2.e04cba","type":"function","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"Referencia","func":"if(msg.topic == 'Ref'){\n    context.set('Reference',msg.payload,'file');\n}\nelse if(msg.topic == 'Send'){\n    msg.payload = context.get('Reference','file');\n    node.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n    return msg;\n}\nreturn;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":940,"y":460,"wires":[["79fb7790.809a08"]]},{"id":"512150a.24612b","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Drive_Command","pt":"flow","to":"command","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":900,"wires":[[]]},{"id":"fea9bef5.a9067","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Status de escritura","func":"var Comm = context.get('CommOK','memoryOnly')||0;\n\nif(typeof msg.payload != 'undefined'){\n    context.set('CommOK',msg.payload,'memoryOnly');\n}\n\nif(Comm == 1 && typeof msg.status != 'undefined'){\n    var Status = {payload: flow.get('Drive_Command','memoryOnly')} \n    Status.code = msg.status.fill == 'green' ? 0:1;\n}\nnode.status({fill:\"green\",shape:\"dot\",text:Comm});\nreturn Status;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1640,"y":790,"wires":[["6c47cd85.078b04"]]},{"id":"1ab4ef0d.3e8111","type":"function","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"Status de escritura","func":"var Comm = context.get('CommOK','memoryOnly')||0;\n\nif(typeof msg.payload != 'undefined'){\n    context.set('CommOK',msg.payload,'memoryOnly');\n}\nif(Comm == 1 && typeof msg.status != 'undefined'){\n    msg.code = msg.status.fill == 'green' ? 0:1;\n    return msg;\n}\nelse{\n    return;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1210,"y":550,"wires":[["1c5b5d3c.1c9023"]]},{"id":"1c7f798e.cabbe6","type":"function","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"Delta RPM","func":"// Definitions\nvar PRef    = global.get(\"Prolonged_Reference\");\nvar Hz      = PRef.Hz;\nvar Time    = PRef.Time;\n\nvar Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\nHz = parseFloat(((Hz * P* Rel)/((1-slip)*120)).toFixed(3));\n\n// Horas a Segundos\nTime        = Time*60;\nPRef.dHz    = 10*(Hz/Time);\n\nnode.status({fill:\"green\",shape:\"dot\",text:\"Delta Hz : \"+ PRef.dHz});\nglobal.set(\"Prolonged_Reference\",PRef);\n\nmsg.payload = PRef.dHz;\nreturn msg;\n\n/* \n\nDefinitions\nvar PRef    = flow.get(\"Prolonged_Reference\");\nvar RPM     = PRef.RPM;\nvar Time    = PRef.Time;\n\n// Minutes to secods\nTime        = Time*60;\nPRef.dRPM   = RPM/Time;\n\nnode.status({fill:\"green\",shape:\"dot\",text:\"Delta RPM : \"+ RPM/Time});\nflow.set(\"Prolonged_Reference\",PRef);\n\nmsg.payload = PRef.dRPM;\nreturn msg;\n\n*/","outputs":1,"noerr":0,"initialize":"","finalize":"","x":770,"y":110,"wires":[[]]},{"id":"bec0e16.9c3212","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"","label":"Incremento en Hz","tooltip":"","group":"1c1f6ab9.b77ba5","order":2,"width":"0","height":"0","passthru":false,"mode":"number","delay":"100","topic":"","x":540,"y":160,"wires":[["26359185.e1f66e","1c7f798e.cabbe6"]]},{"id":"ef5dfbf1.adb148","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"","label":"Tiempo (min)","tooltip":"","group":"1c1f6ab9.b77ba5","order":3,"width":"4","height":"1","passthru":false,"mode":"number","delay":"100","topic":"","x":580,"y":200,"wires":[["460c1f1f.82178","1c7f798e.cabbe6"]]},{"id":"26359185.e1f66e","type":"change","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"","rules":[{"t":"set","p":"Prolonged_Reference.Hz","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":840,"y":160,"wires":[[]]},{"id":"460c1f1f.82178","type":"change","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"","rules":[{"t":"set","p":"Prolonged_Reference.Time","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":850,"y":200,"wires":[["6d33fcb1.428484"]]},{"id":"e3ec1f07.c757","type":"change","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"Hz","rules":[{"t":"set","p":"payload","pt":"msg","to":"Prolonged_Reference.Hz","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":380,"y":160,"wires":[["bec0e16.9c3212"]]},{"id":"2813951c.bf7bfa","type":"change","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"Time","rules":[{"t":"set","p":"payload","pt":"msg","to":"Prolonged_Reference.Time","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":380,"y":200,"wires":[["ef5dfbf1.adb148"]]},{"id":"74d5017e.e1082","type":"comment","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"Incremento prolongado","info":"","x":230,"y":120,"wires":[]},{"id":"9353759f.984b88","type":"change","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"","rules":[{"t":"set","p":"Prolonged_Reference.Reference","pt":"global","to":"Ultima_Referencia","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":870,"y":240,"wires":[[]]},{"id":"d0a19b38.893ab8","type":"link in","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"Incremento prolongado","links":["ad87cee4.7dbb5","bd420231.1a153","bdd292d2.61916"],"x":285,"y":200,"wires":[["e3ec1f07.c757","2813951c.bf7bfa","9353759f.984b88"]]},{"id":"51d6f5bd.7b3bac","type":"link in","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Prolonged Reference Update Status","links":["6bb7cd2e.159434","8b72bbb3.5d5a38","b34e348c.08d3d8"],"x":195,"y":350,"wires":[["406ea535.518d9c"]]},{"id":"7984b34.194704c","type":"link in","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Staggered Start State Input","links":["cfde9e34.955e5"],"x":145,"y":480,"wires":[["67f2d064.1098c"]]},{"id":"406ea535.518d9c","type":"finite-state-machine","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Prolonged Reference","fsmDefinition":"{\"state\":{\"status\":\"E0\"},\"transitions\":{\"E0\":{\"Start\":\"E1\"},\"E1\":{\"Ref Done\":\"E2\",\"Error\":\"E1\"},\"E2\":{\"Ref Reached\":\"E0\",\"Ref Not Reached yet\":\"E1\"}}}","sendInitialState":false,"sendStateWithoutChange":true,"showTransitionErrors":false,"x":430,"y":370,"wires":[["cfde9e34.955e5"]]},{"id":"67f2d064.1098c","type":"switch","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"","property":"payload.status","propertyType":"msg","rules":[{"t":"eq","v":"E0","vt":"str"},{"t":"eq","v":"E1","vt":"str"},{"t":"eq","v":"E2","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":230,"y":480,"wires":[[],["825a8d81.e5826","95ba5bc8.730648"],["39b139ed.19f7a6"]]},{"id":"825a8d81.e5826","type":"delay","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"","pauseType":"delay","timeout":"10","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":470,"y":410,"wires":[["76e5042d.a8799c"]]},{"id":"39b139ed.19f7a6","type":"function","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"VSD_Ref","func":"// Definitions\nvar PR          = global.get(\"Prolonged_Reference\")||null;\nvar Mtr_Speed   = global.get('C2S.Output_Frecuency','memoryOnly');\nMtr_Speed       = Math.abs(Mtr_Speed);\n\nvar Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\nvar Ref = parseFloat(((PR.Reference * P* Rel)/((1-slip)*120)).toFixed(3));\nnode.status({fill:\"green\",shape:\"dot\",text:msg.topic});\n\nif(Ref == Mtr_Speed){\n    msg.topic = \"Ref Reached\";\n}\nelse{\n    msg.topic = \"Ref Not Reached yet\";\n}\nnode.status({fill:\"green\",shape:\"dot\",text:msg.topic});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":470,"y":500,"wires":[["8b72bbb3.5d5a38","b416b548.9000d8"]]},{"id":"76e5042d.a8799c","type":"function","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"VSD_Ref","func":"// Definitions\nvar PR          = global.get(\"Prolonged_Reference\")||null;\nvar Mtr_Speed   = global.get('C2S.Output_Frecuency','memoryOnly')||0;\nMtr_Speed       = Math.abs(Mtr_Speed);\nvar URef        = global.get(\"Ultima_Referencia\");\nvar Sts         = global.get(\"Drive_Status.Active\",\"memoryOnly\")||0;\n\nvar Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\n// Frecuencia Drive\nURef = parseFloat(((URef * P* Rel)/((1-slip)*120)).toFixed(3));\nvar Ref = parseFloat(((PR.Reference * P* Rel)/((1-slip)*120)).toFixed(3));\n\n\nif(Ref < Mtr_Speed){\n    msg.payload = parseFloat(Mtr_Speed) - PR.dHz;\n    msg.payload = msg.payload - PR.dHz < Ref ? Ref : msg.payload;\n    msg.code = 0;\n    node.status({fill:\"green\",shape:\"dot\",text: \"Ref:\"+Ref+\":\"+ Mtr_Speed+ \" - \"+(PR.dHz).toFixed(2)+\" = \"+(msg.payload).toFixed(2)});\n}\nelse if(Ref > Mtr_Speed){\n    msg.payload = parseFloat(Mtr_Speed) + PR.dHz;\n    msg.payload = msg.payload + PR.dHz > Ref ? Ref : msg.payload;\n    msg.payload.code = 0;\n    node.status({fill:\"green\",shape:\"dot\",text: \"Ref:\"+Ref+\":\"+ Mtr_Speed+ \" + \"+(PR.dHz).toFixed(2)+\" = \"+(msg.payload).toFixed(2)});\n}\nelse{\n    msg.payload = Mtr_Speed;\n    msg.code = 0;\n}\nif(Sts == 0){\n    msg.payload = URef;\n    msg.code = 0;\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":610,"y":410,"wires":[["4d54b2ab.9b58bc","e6356da9.60663"]]},{"id":"4d54b2ab.9b58bc","type":"switch","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"","property":"code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":760,"y":410,"wires":[["595852e0.7df8ec"],["a42f4760.a32ab8"]]},{"id":"595852e0.7df8ec","type":"change","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Ref Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"Ref Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":890,"y":390,"wires":[["6bb7cd2e.159434"]]},{"id":"a42f4760.a32ab8","type":"change","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":430,"wires":[["6bb7cd2e.159434"]]},{"id":"cfde9e34.955e5","type":"link out","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Prolonged Reference New State","links":["7984b34.194704c","85372fe1.ad35a"],"x":565,"y":370,"wires":[]},{"id":"6bb7cd2e.159434","type":"link out","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Prolonged Reference E1","links":["51d6f5bd.7b3bac"],"x":1015,"y":430,"wires":[]},{"id":"8b72bbb3.5d5a38","type":"link out","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Prolonged Reference E2","links":["51d6f5bd.7b3bac"],"x":565,"y":500,"wires":[]},{"id":"e6356da9.60663","type":"pccc out","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","endpoint":"5a40295d.6caa18","variable":"PF755T_SpeedReference","name":"Referencia de velocidad","x":820,"y":350,"wires":[]},{"id":"2cc21db0.31ad62","type":"comment","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Maquina de estados arranque escalonado","info":"","x":260,"y":1010,"wires":[]},{"id":"fceee294.75f2a","type":"finite-state-machine","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered start","fsmDefinition":"{\"state\":{\"status\":\"E0\"},\"transitions\":{\"E0\":{\"Start\":\"E1\"},\"E1\":{\"AcT1 Done\":\"E2\",\"Error\":\"E1\"},\"E2\":{\"Ref V1 Done\":\"E3\",\"Error\":\"E2\"},\"E3\":{\"Start Done\":\"E4\",\"Error\":\"E3\"},\"E4\":{\"Ref V1 Reached\":\"E5\",\"Ref V1 Not reached yet\":\"E4\"},\"E5\":{\"T2 Done\":\"E6\"},\"E6\":{\"AcT2 Done\":\"E7\",\"Error\":\"E6\"},\"E7\":{\"Ref V2 Done\":\"E8\",\"Error\":\"E7\"},\"E8\":{\"Ref V2 Reached\":\"E9\",\"Ref V2 Not reached yet\":\"E8\"},\"E9\":{\"Accel Done\":\"E0\",\"Error\":\"E9\"}}}","sendInitialState":true,"sendStateWithoutChange":false,"showTransitionErrors":false,"x":720,"y":1070,"wires":[["c8e55399.c9ba1"]]},{"id":"2da6eab8.1a0d46","type":"link in","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start Update Status","links":["a238dee5.dce89","933dddee.7aa6b","1693e576.9b12ab","19987e51.456892","95c850f6.36643","1d20ae55.84ce82","97085297.91fc4","1a666499.a2effb","402cd950.ce2c18"],"x":565,"y":1130,"wires":[["fceee294.75f2a"]]},{"id":"df0f741c.af19a8","type":"switch","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","property":"payload.status","propertyType":"msg","rules":[{"t":"eq","v":"E0","vt":"str"},{"t":"eq","v":"E1","vt":"str"},{"t":"eq","v":"E2","vt":"str"},{"t":"eq","v":"E3","vt":"str"},{"t":"eq","v":"E4","vt":"str"},{"t":"eq","v":"E5","vt":"str"},{"t":"eq","v":"E6","vt":"str"},{"t":"eq","v":"E7","vt":"str"},{"t":"eq","v":"E8","vt":"str"},{"t":"eq","v":"E9","vt":"str"}],"checkall":"true","repair":false,"outputs":10,"x":220,"y":1420,"wires":[[],["4fa4f9ba.bbe438"],["457f5e6e.ca6a6"],["399aa9e0.76e826"],["5a332056.69647"],["b3caef3.352311"],["9582cf9f.08cd2"],["94a055d5.0c9b78"],["8342ff02.52b06"],["b577a0f5.21f92"]]},{"id":"f2d35fb.fa772a","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Start","rules":[{"t":"set","p":"topic","pt":"msg","to":"Start","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":350,"y":1090,"wires":[["101b1cf1.8df2b3"]]},{"id":"8fb0b4bf.9589d8","type":"inject","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","props":[{"p":"payload","v":"","vt":"num"},{"p":"topic","v":"reset","vt":"string"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"reset","payload":"","payloadType":"num","x":530,"y":1050,"wires":[["fceee294.75f2a"]]},{"id":"d49b2738.582fc8","type":"switch","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","property":"payload.code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":650,"y":1200,"wires":[["29c7a23.727065e","d521fa7d.be0208"],["d21b5c08.66b8c"]]},{"id":"29c7a23.727065e","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"AcT1 Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"AcT1 Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":1180,"wires":[["a238dee5.dce89"]]},{"id":"d21b5c08.66b8c","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":1220,"wires":[["a238dee5.dce89"]]},{"id":"a238dee5.dce89","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start E1","links":["2da6eab8.1a0d46"],"x":915,"y":1220,"wires":[]},{"id":"5a87edb6.8c3394","type":"switch","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"","property":"code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1310,"y":1060,"wires":[["857e53fb.e5dae"],["e1454e7d.97fa8"]]},{"id":"857e53fb.e5dae","type":"change","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Ref V1 Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"Ref V1 Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1460,"y":1040,"wires":[["933dddee.7aa6b"]]},{"id":"e1454e7d.97fa8","type":"change","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1440,"y":1080,"wires":[["933dddee.7aa6b"]]},{"id":"933dddee.7aa6b","type":"link out","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Staggered Start E2","links":["2da6eab8.1a0d46"],"x":1575,"y":1080,"wires":[]},{"id":"457f5e6e.ca6a6","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"V1","rules":[{"t":"set","p":"payload","pt":"msg","to":"Staggered_start.Reference_1","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":1260,"wires":[["4383a027.ff80a"]]},{"id":"399aa9e0.76e826","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start","links":["c581c8dc.d013e8"],"x":375,"y":1300,"wires":[]},{"id":"65189a34.958f54","type":"link in","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"VSD Command Data Link Arranque escalonado","links":["f99e70c8.70126"],"x":425,"y":1330,"wires":[["3024e2c5.a2abce"]]},{"id":"ed48b163.a810f","type":"switch","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","property":"code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":650,"y":1330,"wires":[["ca0a5684.ea6928"],["66413682.a144a8"]]},{"id":"ca0a5684.ea6928","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Start Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"Start Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":1310,"wires":[["1693e576.9b12ab"]]},{"id":"66413682.a144a8","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":1350,"wires":[["1693e576.9b12ab"]]},{"id":"1693e576.9b12ab","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start E3","links":["2da6eab8.1a0d46"],"x":915,"y":1350,"wires":[]},{"id":"5a332056.69647","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"E4","func":"var Motor_Speed = Math.abs(global.get(\"C2S.Output_Frecuency\",'memoryOnly')||0);\nvar Reference1  = flow.get(\"Staggered_start\").Reference_1||0;\n\nvar Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\nReference1 = parseFloat(((Reference1 * P* Rel)/((1-slip)*120)).toFixed(3));\n\nif(Motor_Speed == Reference1){\n    msg.topic = \"Ref V1 Reached\";\n}\nelse{\n    msg.topic = \"Ref V1 Not reached yet\";\n}\nnode.status({fill:\"green\",shape:\"dot\",text:\"Reference : \"+Reference1+\", \"+\"Motor Speed : \"+ Motor_Speed});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":410,"y":1390,"wires":[["6b84c64e.dcc588"]]},{"id":"6b84c64e.dcc588","type":"delay","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","pauseType":"delay","timeout":"100","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":1390,"wires":[["19987e51.456892"]]},{"id":"19987e51.456892","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start E4","links":["2da6eab8.1a0d46"],"x":915,"y":1390,"wires":[]},{"id":"b3caef3.352311","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"T2","rules":[{"t":"set","p":"delay","pt":"msg","to":"Staggered_start.Time_2","tot":"flow"},{"t":"set","p":"topic","pt":"msg","to":"T2 Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":1440,"wires":[["1f018e5b.62ca82"]]},{"id":"e4129fed.88799","type":"delay","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","pauseType":"delayv","timeout":"60","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":770,"y":1440,"wires":[["95c850f6.36643"]]},{"id":"95c850f6.36643","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start E5","links":["2da6eab8.1a0d46"],"x":915,"y":1440,"wires":[]},{"id":"66a490ba.d5e37","type":"switch","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","property":"payload.code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":650,"y":1500,"wires":[["b22288f6.37a878"],["8552caa4.241e38"]]},{"id":"b22288f6.37a878","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"AcT2 Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"AcT2 Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":1480,"wires":[["1d20ae55.84ce82"]]},{"id":"8552caa4.241e38","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":1520,"wires":[["1d20ae55.84ce82"]]},{"id":"1d20ae55.84ce82","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start E6","links":["2da6eab8.1a0d46"],"x":915,"y":1520,"wires":[]},{"id":"2451ed0d.81d282","type":"switch","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"","property":"code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1310,"y":1140,"wires":[["35641b5c.fa1334"],["e9f8a5f1.b0bdb8"]]},{"id":"35641b5c.fa1334","type":"change","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Ref V2 Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"Ref V2 Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1460,"y":1120,"wires":[["97085297.91fc4"]]},{"id":"e9f8a5f1.b0bdb8","type":"change","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1440,"y":1160,"wires":[["97085297.91fc4"]]},{"id":"97085297.91fc4","type":"link out","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Staggered Start E7","links":["2da6eab8.1a0d46"],"x":1575,"y":1160,"wires":[]},{"id":"94a055d5.0c9b78","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"V2","rules":[{"t":"set","p":"payload","pt":"msg","to":"Staggered_start.Reference_2","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":1560,"wires":[["d7c6bd69.7a7ef"]]},{"id":"8342ff02.52b06","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"E8","func":"var Motor_Speed = Math.abs(global.get(\"C2S.Output_Frecuency\",'memoryOnly')||0);\nvar Reference2  = flow.get(\"Staggered_start\").Reference_2||0;\n\nvar Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\nReference2 = parseFloat(((Reference2 * P* Rel)/((1-slip)*120)).toFixed(3));\n\nif(Motor_Speed == Reference2){\n    msg.topic = \"Ref V2 Reached\";\n}\nelse{\n    msg.topic = \"Ref V2 Not reached yet\"\n}\nnode.status({fill:\"green\",shape:\"dot\",text:\"Reference : \"+Reference2+\", \"+\"Motor Speed : \"+ Motor_Speed});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":410,"y":1600,"wires":[["d57a1b85.5bfae8"]]},{"id":"d57a1b85.5bfae8","type":"delay","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","pauseType":"delay","timeout":"100","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":760,"y":1600,"wires":[["1a666499.a2effb"]]},{"id":"1a666499.a2effb","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start E8","links":["2da6eab8.1a0d46"],"x":915,"y":1600,"wires":[]},{"id":"b577a0f5.21f92","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Accel","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.Accel","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":1660,"wires":[["8f53cc8f.84257"]]},{"id":"54744e61.1040a","type":"switch","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","property":"payload.code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":650,"y":1660,"wires":[["ac2b4653.316da8"],["4400c779.7b65c8"]]},{"id":"ac2b4653.316da8","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Accel Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"Accel Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":1640,"wires":[["402cd950.ce2c18","6af3aebb.d62aa","bb39aa69.c4e278"]]},{"id":"4400c779.7b65c8","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":1680,"wires":[["402cd950.ce2c18"]]},{"id":"402cd950.ce2c18","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start E9","links":["2da6eab8.1a0d46"],"x":915,"y":1680,"wires":[]},{"id":"c8e55399.c9ba1","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start New State","links":["f27260f5.84ea7"],"x":915,"y":1070,"wires":[]},{"id":"f27260f5.84ea7","type":"link in","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start State Input","links":["c8e55399.c9ba1"],"x":135,"y":1420,"wires":[["df0f741c.af19a8"]]},{"id":"4fa4f9ba.bbe438","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"AcT1","func":"var Motor_Hz    = global.get(\"Motor_Control.Nameplate.Hertz\")||0;\nvar SS          = flow.get(\"Staggered_start\")||null;\n\nvar Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\n// Frecuencia Drive\nRef1 = parseFloat(((SS.Reference_1 * P* Rel)/((1-slip)*120)).toFixed(3));\n\nmsg.payload     = Motor_Hz*SS.Time_1/Ref1;\nnode.status({fill:\"green\",shape:\"dot\",text:\"Accel Time : \"+msg.payload});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":410,"y":1200,"wires":[["16d2de82.3f9bd1"]]},{"id":"9582cf9f.08cd2","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"AcT2","func":"var Motor_Hz    = global.get(\"Motor_Control.Nameplate.Hertz\")||0;\nvar SS          = flow.get(\"Staggered_start\")||null;\n\nvar Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\nRef1 = parseFloat(((SS.Reference_1 * P* Rel)/((1-slip)*120)).toFixed(3));\nRef2 = parseFloat(((SS.Reference_2 * P* Rel)/((1-slip)*120)).toFixed(3));\n\nmsg.payload     = Motor_Hz*SS.Time_3/(Ref2 - Ref1);\nnode.status({fill:\"green\",shape:\"dot\",text:\"Accel Time : \"+msg.payload});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":410,"y":1500,"wires":[["eb1fb4ef.aeeb68"]]},{"id":"1f018e5b.62ca82","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"msg.delay ms2sec","func":"msg.delay = msg.delay * 1000;\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":1440,"wires":[["e4129fed.88799"]]},{"id":"5a992b9e.0fe264","type":"link in","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Arranque Escalonado Link In","links":["8565c38.316b44"],"x":235,"y":1090,"wires":[["f2d35fb.fa772a"]]},{"id":"bf6826f1.1eaf58","type":"link in","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Reset Funciones de control Link In","links":["b34e348c.08d3d8"],"x":565,"y":1010,"wires":[["fceee294.75f2a"]]},{"id":"101b1cf1.8df2b3","type":"switch","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Variador Active?","property":"Drive_Status.Active","propertyType":"global","rules":[{"t":"neq","v":"1","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":500,"y":1090,"wires":[["fceee294.75f2a"]]},{"id":"3024e2c5.a2abce","type":"switch","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Arranque","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"Arranque","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":520,"y":1330,"wires":[["ed48b163.a810f"]]},{"id":"16d2de82.3f9bd1","type":"subflow:1ae6c379.02ea3d","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"AcT1","env":[{"name":"Parameter","value":"535","type":"num"}],"x":530,"y":1200,"wires":[["d49b2738.582fc8"]]},{"id":"19a2b155.ff424f","type":"pccc out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","endpoint":"5a40295d.6caa18","variable":"PF755T_SpeedReference","name":"Referencia de velocidad","x":870,"y":1260,"wires":[]},{"id":"eb1fb4ef.aeeb68","type":"subflow:1ae6c379.02ea3d","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"AcT2","env":[{"name":"Parameter","value":"535","type":"num"}],"x":530,"y":1500,"wires":[["66a490ba.d5e37"]]},{"id":"a9bbfe07.11d31","type":"pccc out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","endpoint":"5a40295d.6caa18","variable":"PF755T_SpeedReference","name":"Referencia de velocidad","x":940,"y":1560,"wires":[]},{"id":"8f53cc8f.84257","type":"subflow:1ae6c379.02ea3d","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Accel","env":[{"name":"Parameter","value":"535","type":"num"}],"x":530,"y":1660,"wires":[["54744e61.1040a"]]},{"id":"686f05a3.dd6cfc","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","label":"Referencia Inicial [Hz]","tooltip":"","group":"a2cdbb78.31d778","order":1,"width":"6","height":1,"passthru":false,"mode":"number","delay":300,"topic":"","x":560,"y":760,"wires":[["f74cea60.fcb698"]]},{"id":"92726765.16d7f8","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","label":"Referencia Final [Hz]","tooltip":"","group":"a2cdbb78.31d778","order":2,"width":"6","height":1,"passthru":false,"mode":"number","delay":300,"topic":"","x":550,"y":800,"wires":[["fb3c6926.732028","e2832ff4.8c486"]]},{"id":"5cb3e34e.01455c","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","label":"T1 [s]","tooltip":"","group":"a2cdbb78.31d778","order":3,"width":"4","height":1,"passthru":false,"mode":"number","delay":300,"topic":"","x":510,"y":840,"wires":[["fb0cb7ee.fd5898"]]},{"id":"5871112e.0973d","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","label":"T2 [s]","tooltip":"","group":"a2cdbb78.31d778","order":4,"width":"4","height":1,"passthru":false,"mode":"number","delay":300,"topic":"","x":510,"y":880,"wires":[["bd09ef7a.b5593"]]},{"id":"9f479937.6b8aa8","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","label":"T3 [s]","tooltip":"","group":"a2cdbb78.31d778","order":5,"width":"4","height":1,"passthru":false,"mode":"number","delay":300,"topic":"","x":510,"y":920,"wires":[["deff6b32.1521a8"]]},{"id":"f74cea60.fcb698","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","rules":[{"t":"set","p":"Staggered_start.Reference_1","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":850,"y":760,"wires":[[]]},{"id":"fb3c6926.732028","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","rules":[{"t":"set","p":"Staggered_start.Reference_2","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":850,"y":800,"wires":[[]]},{"id":"fb0cb7ee.fd5898","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","rules":[{"t":"set","p":"Staggered_start.Time_1","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":840,"wires":[[]]},{"id":"bd09ef7a.b5593","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","rules":[{"t":"set","p":"Staggered_start.Time_2","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":713,"y":880,"wires":[[]]},{"id":"deff6b32.1521a8","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","rules":[{"t":"set","p":"Staggered_start.Time_3","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":920,"wires":[[]]},{"id":"7157d825.d18368","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"V1","rules":[{"t":"set","p":"payload","pt":"msg","to":"Staggered_start.Reference_1","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":760,"wires":[["686f05a3.dd6cfc"]]},{"id":"44c815d7.7d19fc","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"V2","rules":[{"t":"set","p":"payload","pt":"msg","to":"Staggered_start.Reference_2","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":800,"wires":[["92726765.16d7f8"]]},{"id":"133426a.57f73d9","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"T1","rules":[{"t":"set","p":"payload","pt":"msg","to":"Staggered_start.Time_1","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":840,"wires":[["5cb3e34e.01455c"]]},{"id":"a8a729db.101208","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"T2","rules":[{"t":"set","p":"payload","pt":"msg","to":"Staggered_start.Time_2","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":880,"wires":[["5871112e.0973d"]]},{"id":"9408742.a02f988","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"T3","rules":[{"t":"set","p":"payload","pt":"msg","to":"Staggered_start.Time_3","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":920,"wires":[["9f479937.6b8aa8"]]},{"id":"f22dd0a7.a22fc","type":"comment","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"Arranque Escalonado","info":"","x":200,"y":710,"wires":[]},{"id":"366a2d5a.01dbf2","type":"link in","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"Arrnanque escalonado","links":["ad87cee4.7dbb5"],"x":245,"y":828,"wires":[["7157d825.d18368","44c815d7.7d19fc","133426a.57f73d9","a8a729db.101208","9408742.a02f988"]]},{"id":"4383a027.ff80a","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Escalar","func":"msg.payload = msg.payload * 1;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":540,"y":1260,"wires":[["18b7ec9d.857c53"]]},{"id":"d7c6bd69.7a7ef","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Escalar","func":"msg.payload = msg.payload * 1;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":540,"y":1560,"wires":[["1ac6c21e.e50dbe"]]},{"id":"a032476a.407a38","type":"inject","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":350,"y":1130,"wires":[["f2d35fb.fa772a"]]},{"id":"7eae3e0f.631e6","type":"function","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Status de escritura","func":"msg.code = msg.status.fill == 'green' ? 0:1;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1100,"y":1110,"wires":[["5a87edb6.8c3394","2451ed0d.81d282"]]},{"id":"ac35b5d7.c82f98","type":"status","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Estado escritura referencia","scope":["19a2b155.ff424f","a9bbfe07.11d31"],"x":1080,"y":1070,"wires":[["7eae3e0f.631e6"]]},{"id":"b55e7290.1631b","type":"inject","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":210,"y":790,"wires":[["7157d825.d18368","44c815d7.7d19fc","133426a.57f73d9","a8a729db.101208","9408742.a02f988"]]},{"id":"f7bbcee0.96201","type":"switch","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"A. Escalonado/Normal","property":"A_Escalonado","propertyType":"global","rules":[{"t":"true"},{"t":"false"}],"checkall":"true","repair":false,"outputs":2,"x":900,"y":760,"wires":[["eac4a50a.98c358"],["560532dc.951a7c"]]},{"id":"560532dc.951a7c","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Arranque local","rules":[{"t":"set","p":"Source_for_events.Start","pt":"global","to":"1","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":1100,"y":780,"wires":[["ca280181.090e2"]]},{"id":"eac4a50a.98c358","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Escalonado local","rules":[{"t":"set","p":"Source_for_events.Start","pt":"global","to":"2","tot":"num"},{"t":"set","p":"payload","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":740,"wires":[["8565c38.316b44"]]},{"id":"8565c38.316b44","type":"link out","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Arranque Escalonado Link Out","links":["5a992b9e.0fe264"],"x":1235,"y":740,"wires":[]},{"id":"c0305bdc.676a28","type":"finite-state-machine","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart","fsmDefinition":"{\"state\":{\"status\":\"E0\"},\"transitions\":{\"E0\":{\"RA_ON\":\"E1\",\"RA_OFF\":\"E0\"},\"E1\":{\"Clear Failure\":\"E2\",\"Error\":\"E1\"},\"E2\":{\"Attempt in Range\":\"E3\",\"End of Attempts\":\"E4\"},\"E3\":{\"Restart Time elapsed\":\"E5\"},\"E4\":{\"Automatic Restart, Status Updated\":\"E1\"},\"E5\":{\"Reset executed\":\"E6\",\"Error\":\"E5\"},\"E6\":{\"Start executed\":\"E7\",\"Error\":\"E6\"},\"E7\":{\"Restored Accel\":\"E1\",\"Error or Busy\":\"E7\"}}}","sendInitialState":true,"sendStateWithoutChange":true,"showTransitionErrors":false,"x":850,"y":2230,"wires":[["3c6bdbde.b87f34","853cd9a2.d77cf8"]]},{"id":"3781fe66.587af2","type":"inject","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"reset","payload":"","payloadType":"num","x":380,"y":2230,"wires":[["c0305bdc.676a28"]]},{"id":"2e7249b4.58bd66","type":"function","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"E2","func":"// Definitions\nvar AR = flow.get(\"Automatic_Restart\")||0;\nvar Current_Attempt = AR.Attempts.Current_Attempt||0;\n\nCurrent_Attempt++;\nAR.Attempts.Current_Attempt = Current_Attempt;\nflow.set(\"Automatic_Restart\",AR);\n\n// Transitions\nif( Current_Attempt <= AR.Attempts.Max ){\n    msg.topic = \"Attempt in Range\";\n}\nelse{\n    msg.topic = \"End of Attempts\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":600,"y":2400,"wires":[["c325ce5a.11ef9"]]},{"id":"32c8b0ee.45f27","type":"function","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"E3","func":"// Definitions\nvar AR              = flow.get(\"Automatic_Restart\")||null;\nvar Attempt         = AR.Attempts.Current_Attempt || 0;\nvar max_index       = 0;\n\nvar Attempt_Array   = [ AR.Ramps.Accel1, AR.Ramps.Accel2, AR.Ramps.Accel3, AR.Ramps.Accel4 ];\nvar Restart_Array   = [ AR.Restart.Time1*60000, AR.Restart.Time2*60000, AR.Restart.Time3*60000, AR.Restart.Time4*60000];\n\nif(AR.Ramps.Enable_Accel4     === true){    max_index = 3; }\nelse if(AR.Ramps.Enable_Accel3 === true){   max_index = 2; }\nelse if(AR.Ramps.Enable_Accel2 === true){   max_index = 1; }\nelse if(AR.Ramps.Enable_Accel1 === true){   max_index = 0; }\n\n// Code Excecution\nif(Attempt - 1 <= max_index ){  msg.payload = Attempt_Array[Attempt - 1]; \n                                msg.delay   = Restart_Array[Attempt - 1];\n}\nelse{                           msg.payload = Attempt_Array[max_index];\n                                msg.delay   = Restart_Array[max_index];\n}\n// Transition\nmsg.topic = \"Restart Time elapsed\";\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":600,"y":2440,"wires":[["383d0d61.1e6de2","c1723a65.a620c8"]]},{"id":"66ec00f0.b69ff","type":"function","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"E4","func":"// Definitions\nvar AR = flow.get(\"Automatic_Restart\");\nAR.Attempts.Current_Attempt = AR.Attempts.Max;\nmsg.payload = \"End of Attemps reached!\";\n// Transition\nmsg.topic = \"Automatic Restart, Status Updated\";\nreturn msg;\n\n","outputs":1,"noerr":0,"x":600,"y":2480,"wires":[["60c61f62.f5c34","8aebe900.f1cdd8"]]},{"id":"3c6bdbde.b87f34","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","rules":[{"t":"set","p":"Automatic_Restart.Status","pt":"flow","to":"payload.status","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":2210,"wires":[[]]},{"id":"383d0d61.1e6de2","type":"delay","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Restart Time","pauseType":"delayv","timeout":"60","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":740,"y":2440,"wires":[["12c8fd79.9681e3"]]},{"id":"fdc50122.eca2a","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"AR Reset","links":["1fdf355.5b5f8cb"],"x":745,"y":2558,"wires":[]},{"id":"14c9d205.a3aa7e","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart Update State","links":["8276f23c.bfc3f","364f96f4.f46f0a","587d6709.b2cc68","c325ce5a.11ef9","7c8924eb.60c91c","60c61f62.f5c34","12c8fd79.9681e3"],"x":645,"y":2270,"wires":[["c0305bdc.676a28"]]},{"id":"40db7d54.6eda64","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart State Input","links":["853cd9a2.d77cf8"],"x":325,"y":2440,"wires":[["e603fb56.c7b328"]]},{"id":"853cd9a2.d77cf8","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart New State","links":["40db7d54.6eda64"],"x":985,"y":2250,"wires":[]},{"id":"e603fb56.c7b328","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","property":"payload.status","propertyType":"msg","rules":[{"t":"eq","v":"E0","vt":"str"},{"t":"eq","v":"E2","vt":"str"},{"t":"eq","v":"E3","vt":"str"},{"t":"eq","v":"E4","vt":"str"},{"t":"eq","v":"E5","vt":"str"},{"t":"eq","v":"E6","vt":"str"},{"t":"eq","v":"E7","vt":"str"}],"checkall":"true","repair":false,"outputs":7,"x":410,"y":2440,"wires":[["58e6dd7.174e024"],["2e7249b4.58bd66"],["32c8b0ee.45f27"],["66ec00f0.b69ff"],["37db10ec.6a6f7","9423bfa9.83933"],["baa92aab.077738"],["ac728c7b.ad488"]]},{"id":"7a545a2b.6f6b74","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"E0","rules":[{"t":"set","p":"topic","pt":"msg","to":"RA_ON","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":770,"y":2340,"wires":[["8276f23c.bfc3f"]]},{"id":"8276f23c.bfc3f","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart E0","links":["14c9d205.a3aa7e"],"x":855,"y":2340,"wires":[]},{"id":"6db9c12b.c8705","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"E1","rules":[{"t":"set","p":"topic","pt":"msg","to":"Clear Failure","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":500,"y":2268,"wires":[["c0305bdc.676a28"]]},{"id":"c325ce5a.11ef9","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart E2","links":["14c9d205.a3aa7e"],"x":845,"y":2400,"wires":[]},{"id":"12c8fd79.9681e3","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart E3","links":["14c9d205.a3aa7e","1be77946.3d6847","bc0c7c1c.40245"],"x":845,"y":2440,"wires":[]},{"id":"60c61f62.f5c34","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart E4","links":["14c9d205.a3aa7e"],"x":845,"y":2480,"wires":[]},{"id":"504fb845.3276c8","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"VSD Command Data Link Re arranque automático","links":["f99e70c8.70126"],"x":1075,"y":2638,"wires":[["b3d1cf2a.f818c"]]},{"id":"34c4f209.65d5fe","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","property":"code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1300,"y":2558,"wires":[["cb35c95f.b22ce8"],["876f26f1.b555a8"]]},{"id":"cb35c95f.b22ce8","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Reset executed","rules":[{"t":"set","p":"topic","pt":"msg","to":"Reset executed","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1450,"y":2538,"wires":[["364f96f4.f46f0a"]]},{"id":"876f26f1.b555a8","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1420,"y":2578,"wires":[["364f96f4.f46f0a"]]},{"id":"364f96f4.f46f0a","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart E5","links":["14c9d205.a3aa7e"],"x":1575,"y":2578,"wires":[]},{"id":"baa92aab.077738","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"AR Start","links":["c581c8dc.d013e8"],"x":585,"y":2638,"wires":[]},{"id":"17a116b7.129529","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","property":"code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1300,"y":2638,"wires":[["a6252416.b477e8"],["7add8997.38ea28"]]},{"id":"a6252416.b477e8","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Start executed","rules":[{"t":"set","p":"topic","pt":"msg","to":"Start executed","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1450,"y":2618,"wires":[["587d6709.b2cc68"]]},{"id":"7add8997.38ea28","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1420,"y":2658,"wires":[["587d6709.b2cc68"]]},{"id":"587d6709.b2cc68","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart E6","links":["14c9d205.a3aa7e"],"x":1575,"y":2658,"wires":[]},{"id":"1efee279.9d3c5e","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Accel","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.Accel","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":940,"y":2698,"wires":[["ee2f7708.642508"]]},{"id":"24b7cec5.441a12","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","property":"payload.code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1220,"y":2698,"wires":[["9beed943.b3e2c8"],["9209505b.0e275"]]},{"id":"9beed943.b3e2c8","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Restored Accel","rules":[{"t":"set","p":"topic","pt":"msg","to":"Restored Accel","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1390,"y":2698,"wires":[["7c8924eb.60c91c"]]},{"id":"9209505b.0e275","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error or Busy","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":940,"y":2748,"wires":[["7c8924eb.60c91c"]]},{"id":"7c8924eb.60c91c","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart E7","links":["14c9d205.a3aa7e"],"x":1515,"y":2748,"wires":[]},{"id":"58e6dd7.174e024","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Enable True","property":"Automatic_Restart.Enable","propertyType":"flow","rules":[{"t":"true"},{"t":"false"}],"checkall":"true","repair":false,"outputs":2,"x":620,"y":2360,"wires":[["7a545a2b.6f6b74"],["ff0d6d6.216379"]]},{"id":"36e990a0.a6e0b","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Accel Done?","property":"#:(memoryOnly)::Drive_Status.Accel","propertyType":"global","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":770,"y":2738,"wires":[["1efee279.9d3c5e"],["9209505b.0e275"]]},{"id":"3c3c201f.7b4db","type":"delay","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","pauseType":"delay","timeout":"10","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":620,"y":2738,"wires":[["36e990a0.a6e0b"]]},{"id":"8aebe900.f1cdd8","type":"ui_toast","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","position":"top right","displayTime":"10","highlight":"orange","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":770,"y":2520,"wires":[]},{"id":"633be9f8.688fd8","type":"comment","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Re Arranque Automático","info":"","x":210,"y":2130,"wires":[]},{"id":"55b87356.a4664c","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart enable In","links":["be37bc8e.b3c0e","1c3a6d7c.b77d53","602f998.3e64168","4e19cfd4.3982f"],"x":525,"y":2200,"wires":[["c0449741.019748"]]},{"id":"ff0d6d6.216379","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"E0","rules":[{"t":"set","p":"Automatic_Restart.Attempts.Current_Attempt","pt":"flow","to":"0","tot":"num"},{"t":"set","p":"topic","pt":"msg","to":"RA_OFF","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":770,"y":2380,"wires":[["8276f23c.bfc3f"]]},{"id":"c0449741.019748","type":"function","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Reset","func":"if(msg.payload === false){\n    msg.topic = \"reset\";  \n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":610,"y":2200,"wires":[["c0305bdc.676a28"]]},{"id":"ac728c7b.ad488","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Fuente: Re arranque","rules":[{"t":"set","p":"Source_for_events.Start","pt":"global","to":"3","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":660,"y":2698,"wires":[["3c3c201f.7b4db"]]},{"id":"aafdc29a.6cbc","type":"ui_toast","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"Permitir","cancel":"Cancelar","raw":false,"topic":"","name":"","x":1150,"y":2380,"wires":[["66285a83.0c7794"]]},{"id":"14170dd0.bdfb02","type":"function","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Start_Stop","func":"var Start_Stop = global.get(\"AR_Flag\");\n\nif(Start_Stop){\n    node.status({fill:\"green\",shape:\"dot\",text:\"Started\"});\n    return msg;\n}\nelse{\n    node.status({fill:\"yellow\",shape:\"dot\",text:\"Stoped\"});\n    return;\n}\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":360,"y":2268,"wires":[["6db9c12b.c8705"]]},{"id":"66285a83.0c7794","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Cancelar","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Cancelar","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1160,"y":2420,"wires":[["cf38473a.357f48"]]},{"id":"cf38473a.357f48","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"reset","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":2340,"wires":[["c0305bdc.676a28"]]},{"id":"46402130.f1178","type":"complete","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","scope":["32c8b0ee.45f27"],"uncaught":false,"x":950,"y":2340,"wires":[["98d021b5.4ab52"]]},{"id":"98d021b5.4ab52","type":"function","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Alerta Re-Arranque","func":"msg.topic = \"Alerta de arranque automático\";\nmsg.payload = \"ALERTA! El equipo arrancará automáticamente en \"+ msg.delay/1000+\" s\";\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1130,"y":2340,"wires":[["aafdc29a.6cbc"]]},{"id":"c5765955.018718","type":"comment","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Re Arranque Automático","info":"","x":210,"y":1820,"wires":[]},{"id":"497412a1.c5deec","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 1 [seg]","tooltip":"","group":"78b8f22f.a47d4c","order":1,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":570,"y":1880,"wires":[["ea37e9ba.aa7508"]]},{"id":"5df27476.8a476c","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 2 [seg]","tooltip":"","group":"78b8f22f.a47d4c","order":2,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":570,"y":1920,"wires":[["52a8c629.843998"]]},{"id":"bf9f3756.731868","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 4 [seg]","tooltip":"","group":"78b8f22f.a47d4c","order":4,"width":0,"height":0,"passthru":true,"mode":"number","delay":"400","topic":"","x":570,"y":2000,"wires":[["a56dfe8e.9d817"]]},{"id":"4e9cdd5a.9541e4","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 3 [seg]","tooltip":"","group":"78b8f22f.a47d4c","order":3,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":570,"y":1960,"wires":[["b0e43e11.45b77"]]},{"id":"874c5aed.184488","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 1 [min]","tooltip":"","group":"edf097a9.5fb028","order":1,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":2250,"y":1890,"wires":[["97729306.5f405"]]},{"id":"cb991004.c84de","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 2 [min]","tooltip":"","group":"edf097a9.5fb028","order":2,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":2250,"y":1930,"wires":[["d8da080.181c0f8"]]},{"id":"9b89d9af.1de058","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 3 [min]","tooltip":"","group":"edf097a9.5fb028","order":3,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":2250,"y":1970,"wires":[["8be14622.b08ef8"]]},{"id":"acf47dfa.1c447","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 4 [min]","tooltip":"","group":"edf097a9.5fb028","order":4,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":2250,"y":2010,"wires":[["b91731c.f01b2d"]]},{"id":"ea37e9ba.aa7508","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Accel1","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":840,"y":1880,"wires":[[]]},{"id":"52a8c629.843998","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Accel2","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":840,"y":1920,"wires":[[]]},{"id":"b0e43e11.45b77","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Accel3","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":840,"y":1960,"wires":[[]]},{"id":"a56dfe8e.9d817","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Accel4","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":840,"y":2000,"wires":[[]]},{"id":"97729306.5f405","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Restart.Time1","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2520,"y":1890,"wires":[[]]},{"id":"d8da080.181c0f8","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Restart.Time2","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2520,"y":1930,"wires":[[]]},{"id":"8be14622.b08ef8","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Restart.Time3","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2520,"y":1970,"wires":[[]]},{"id":"b91731c.f01b2d","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Restart.Time4","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2520,"y":2010,"wires":[[]]},{"id":"685eb5d0.f522ec","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Intentos","label":"Max. Intentos","tooltip":"","group":"e72670e4.f5998","order":1,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":600,"y":1840,"wires":[["2c2a7aa0.9ef0d6"]]},{"id":"2c2a7aa0.9ef0d6","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Attempts.Max","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":840,"y":1840,"wires":[[]]},{"id":"28d953db.54529c","type":"ui_switch","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"","tooltip":"","group":"20076456.83052c","order":2,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":1490,"y":1880,"wires":[["4e0a3fc7.922b2"]]},{"id":"45809fd1.8506","type":"ui_switch","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"","tooltip":"","group":"20076456.83052c","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":1490,"y":1930,"wires":[["20949174.cb72ee"]]},{"id":"7a12922f.1cbe9c","type":"ui_switch","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"","tooltip":"","group":"20076456.83052c","order":4,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":1490,"y":1980,"wires":[["ab740524.1ae268"]]},{"id":"d768e1d2.1e7f1","type":"ui_switch","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"","tooltip":"","group":"20076456.83052c","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":1490,"y":2030,"wires":[["f486135b.0c2e3"]]},{"id":"4e0a3fc7.922b2","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable_Accel_1","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Enable_Accel1","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1650,"y":1880,"wires":[[]]},{"id":"20949174.cb72ee","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable_Accel_2","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Enable_Accel2","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1650,"y":1930,"wires":[[]]},{"id":"ab740524.1ae268","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable_Accel_3","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Enable_Accel3","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1650,"y":1980,"wires":[[]]},{"id":"f486135b.0c2e3","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable_Accel_4","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Enable_Accel4","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1650,"y":2030,"wires":[[]]},{"id":"b2b71204.5d357","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Accel1","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Accel1","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":1880,"wires":[["497412a1.c5deec"]]},{"id":"891ddd2d.407f3","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Accel2","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Accel2","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":1920,"wires":[["5df27476.8a476c"]]},{"id":"1e43264c.b5a5fa","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Accel3","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Accel3","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":1960,"wires":[["4e9cdd5a.9541e4"]]},{"id":"61109ded.3b49a4","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Accel4","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Accel4","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":2000,"wires":[["bf9f3756.731868"]]},{"id":"a877cbae.a027a8","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable Accel1","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Enable_Accel1","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":1880,"wires":[["28d953db.54529c"]]},{"id":"39c71fe2.06935","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable Accel2","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Enable_Accel2","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":1930,"wires":[["45809fd1.8506"]]},{"id":"449e7bab.192fe4","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable Accel3","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Enable_Accel3","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":1980,"wires":[["7a12922f.1cbe9c"]]},{"id":"6ae46230.0f8d4c","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable Accel4","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Enable_Accel4","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":2030,"wires":[["d768e1d2.1e7f1"]]},{"id":"fbbc75ab.913998","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Restart Time 1","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Restart.Time1","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2060,"y":1890,"wires":[["874c5aed.184488"]]},{"id":"6e4597fe.cd4c38","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Restart Time 2","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Restart.Time2","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2060,"y":1930,"wires":[["cb991004.c84de"]]},{"id":"1da40511.9db73b","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Restart Time 3","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Restart.Time3","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2060,"y":1970,"wires":[["9b89d9af.1de058"]]},{"id":"2cde88bf.5168b8","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Restart Time 4","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Restart.Time4","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2060,"y":2010,"wires":[["acf47dfa.1c447"]]},{"id":"dff7a91d.077a48","type":"ui_button","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","group":"e72670e4.f5998","order":3,"width":0,"height":0,"passthru":false,"label":"Limpiar intentos","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":830,"y":2040,"wires":[["49e64ca4.8b1944"]]},{"id":"49e64ca4.8b1944","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Clear","rules":[{"t":"set","p":"Automatic_Restart.Attempts.Current_Attempt","pt":"flow","to":"0","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":980,"y":2040,"wires":[["c1723a65.a620c8"]]},{"id":"a4e7e30d.3de15","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Intentos","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Attempts.Max","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":420,"y":1840,"wires":[["685eb5d0.f522ec"]]},{"id":"f213a859.b29578","type":"ui_text","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","group":"e72670e4.f5998","order":2,"width":0,"height":0,"name":"Mostrar Intento actual","label":"","format":"Intento actual: {{msg.payload}}","layout":"col-center","x":640,"y":2040,"wires":[]},{"id":"c1723a65.a620c8","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Cargar intentos","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Attempts.Current_Attempt","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":440,"y":2040,"wires":[["f213a859.b29578"]]},{"id":"ca41ebf5.6cdf28","type":"link in","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Re Arranque Automático","links":["ad87cee4.7dbb5"],"x":265,"y":1940,"wires":[["a4e7e30d.3de15","b2b71204.5d357","891ddd2d.407f3","1e43264c.b5a5fa","61109ded.3b49a4","c1723a65.a620c8"]]},{"id":"8ef5c8d6.524028","type":"link in","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Re Arranque Automático","links":["ad87cee4.7dbb5"],"x":1155,"y":1930,"wires":[["a877cbae.a027a8","39c71fe2.06935","449e7bab.192fe4","6ae46230.0f8d4c"]]},{"id":"b8c12e8b.715b2","type":"link in","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Re Arranque Automático","links":["ad87cee4.7dbb5"],"x":1905,"y":1950,"wires":[["fbbc75ab.913998","6e4597fe.cd4c38","1da40511.9db73b","2cde88bf.5168b8"]]},{"id":"ee2f7708.642508","type":"subflow:1ae6c379.02ea3d","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Accel Time","env":[{"name":"Parameter","value":"535","type":"num"}],"x":1080,"y":2698,"wires":[["24b7cec5.441a12"]]},{"id":"c0a7cbde.806148","type":"link out","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reset","links":["203c8b78.5472b4"],"x":2035,"y":840,"wires":[]},{"id":"b3d1cf2a.f818c","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Arranque","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"Arranque","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1170,"y":2638,"wires":[["17a116b7.129529"]]},{"id":"13163876.95eea8","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Reset","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"Reset","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1160,"y":2558,"wires":[["34c4f209.65d5fe"]]},{"id":"203c8b78.5472b4","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","links":["c0a7cbde.806148"],"x":1075,"y":2558,"wires":[["13163876.95eea8"]]},{"id":"b7da3a44.60ff68","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Re Arranque Automático","links":["ad87cee4.7dbb5"],"x":115,"y":2268,"wires":[["f1031a6d.683328","58e6dd7.174e024"]]},{"id":"6e5aa94d.e5afd8","type":"inject","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"false","payloadType":"bool","x":380,"y":2318,"wires":[["6db9c12b.c8705"]]},{"id":"316f57da.0f2fc8","type":"exec","z":"ef673f81.6ec95","g":"a163450f.bc4438","command":"sudo systemctl start kiosk.service","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":500,"y":570,"wires":[[],[],[]]},{"id":"f4208b50.a8abc8","type":"link in","z":"ef673f81.6ec95","g":"a163450f.bc4438","name":"Lanzar Kiosk","links":["ad87cee4.7dbb5"],"x":185,"y":570,"wires":[["5f07f1b.ac4631"]]},{"id":"5f07f1b.ac4631","type":"delay","z":"ef673f81.6ec95","g":"a163450f.bc4438","name":"","pauseType":"delay","timeout":"10","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":280,"y":570,"wires":[["316f57da.0f2fc8"]]},{"id":"4d5c72d.3ef098c","type":"trigger","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"Esperar Confirmación","op1":"1","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","topic":"topic","outputs":1,"x":970,"y":550,"wires":[["1ab4ef0d.3e8111"]]},{"id":"2edc6015.2c551","type":"delay","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","pauseType":"delay","timeout":"0.5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1840,"y":440,"wires":[["1ab4ef0d.3e8111","2623f9cb.362ad6"]]},{"id":"2623f9cb.362ad6","type":"debug","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":2010,"y":440,"wires":[]},{"id":"a25809c.5d92ff8","type":"debug","z":"d35c32b9.6419b","g":"b509ce91.c5418","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1080,"y":1450,"wires":[]},{"id":"c9b9512f.10fa","type":"function","z":"51296ca5.0c0cb4","name":"DI","func":"var DI      = env.get(\"Channel\");\nvar Req     = 'IO.DI.'+DI;\nmsg.payload = global.get(Req,'memoryOnly');\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":240,"y":70,"wires":[[]]},{"id":"ba40b293.69fa9","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 19","env":[{"name":"Channel","value":"19","type":"num"}],"x":950,"y":1140,"wires":[["eeee6a7d.5b1c18"]]},{"id":"eeee6a7d.5b1c18","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal19","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal19","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":1140,"wires":[["d5af92d1.30c4d"]]},{"id":"c19731de.9f7ce","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 20","env":[{"name":"Channel","value":"20","type":"num"}],"x":150,"y":1200,"wires":[["b4f9d47a.daf3d8"]]},{"id":"b4f9d47a.daf3d8","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal20","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal20","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":310,"y":1200,"wires":[["b8115e69.2fa69"]]},{"id":"123256cf.a6e189","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 21","env":[{"name":"Channel","value":"21","type":"num"}],"x":150,"y":1250,"wires":[["1ea25171.b45eef"]]},{"id":"1ea25171.b45eef","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal21","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal21","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":310,"y":1250,"wires":[["b8115e69.2fa69"]]},{"id":"13a2af85.2e896","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 22","env":[{"name":"Channel","value":"22","type":"num"}],"x":150,"y":1300,"wires":[["a8055038.008e3"]]},{"id":"a8055038.008e3","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal22","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal22","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":310,"y":1300,"wires":[["b8115e69.2fa69"]]},{"id":"3effc50b.71ceba","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 23","env":[{"name":"Channel","value":"23","type":"num"}],"x":150,"y":1350,"wires":[["58071b9e.a38484"]]},{"id":"58071b9e.a38484","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal23","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal23","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":310,"y":1350,"wires":[["b8115e69.2fa69"]]},{"id":"c06df558.df5ee8","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 24","env":[{"name":"Channel","value":"24","type":"num"}],"x":550,"y":1200,"wires":[["4dc9efde.bc6cb"]]},{"id":"4573a9d3.6416f8","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 25","env":[{"name":"Channel","value":"25","type":"num"}],"x":550,"y":1250,"wires":[["be019981.2941f8"]]},{"id":"fd80d16.7c4df3","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 26","env":[{"name":"Channel","value":"26","type":"num"}],"x":550,"y":1300,"wires":[["42dfe362.ecf9fc"]]},{"id":"584af226.6a9c6c","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 27","env":[{"name":"Channel","value":"27","type":"num"}],"x":550,"y":1350,"wires":[["b62e9296.2afd8"]]},{"id":"4dc9efde.bc6cb","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal24","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal16","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":1200,"wires":[["2b33cbc0.5a4c64"]]},{"id":"be019981.2941f8","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal25","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal25","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":1250,"wires":[["2b33cbc0.5a4c64"]]},{"id":"42dfe362.ecf9fc","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal26","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal26","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":1300,"wires":[["2b33cbc0.5a4c64"]]},{"id":"b62e9296.2afd8","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal27","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal27","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":1350,"wires":[["2b33cbc0.5a4c64"]]},{"id":"2b33cbc0.5a4c64","type":"link out","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"DI5","links":["59cc6269.8b63dc"],"x":865,"y":1280,"wires":[]},{"id":"f682cea0.507b9","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal19","rules":[{"t":"set","p":"ES.ED.Canal19.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal19.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":540,"wires":[[]]},{"id":"dba1ea5a.227608","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal20","rules":[{"t":"set","p":"ES.ED.Canal20.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal20.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":580,"wires":[[]]},{"id":"bf79e240.5ab82","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal21","rules":[{"t":"set","p":"ES.ED.Canal21.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal21.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":620,"wires":[[]]},{"id":"c971dc53.ca862","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal22","rules":[{"t":"set","p":"ES.ED.Canal22.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal23.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":660,"wires":[[]]},{"id":"92923f3a.deb0e","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal23","rules":[{"t":"set","p":"ES.ED.Canal23.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal23.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":700,"wires":[[]]},{"id":"dabf45d6.c9a6b8","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal24","rules":[{"t":"set","p":"ES.ED.Canal24.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal24.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":740,"wires":[[]]},{"id":"1b8abdf6.3dcb22","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal25","rules":[{"t":"set","p":"ES.ED.Canal25.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal25.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":780,"wires":[[]]},{"id":"adc1722f.13e2","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal26","rules":[{"t":"set","p":"ES.ED.Canal26.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal26.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":820,"wires":[[]]},{"id":"ba03cbde.df6f78","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal27","rules":[{"t":"set","p":"ES.ED.Canal27.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal27.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":860,"wires":[[]]},{"id":"2cf175fc.6aae8a","type":"inject","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":370,"y":120,"wires":[["4feb0a11.ed3ed4"]]},{"id":"3d932183.a9966e","type":"function","z":"4973034f.ff5fac","name":"AI","func":"var AI      = env.get(\"Channel\");\nvar Req     = 'IO.AI.'+AI;\nmsg.payload = global.get(Req,'memoryOnly');\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":230,"y":30,"wires":[[]]},{"id":"cde14508.520038","type":"inject","z":"4973034f.ff5fac","name":"500 ms","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"Channel","payloadType":"env","x":100,"y":30,"wires":[["3d932183.a9966e"]]},{"id":"1252dc55.783c04","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN4","env":[{"name":"Channel","value":"4","type":"num"}],"x":1440,"y":720,"wires":[["a65ddf0c.e44da"]]},{"id":"7c61da60.31add4","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN5","env":[{"name":"Channel","value":"5","type":"num"}],"x":1440,"y":770,"wires":[["f4655786.614248"]]},{"id":"462f214a.e5fd","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN6","env":[{"name":"Channel","value":"6","type":"num"}],"x":1440,"y":820,"wires":[["8a8d5c74.6c919"]]},{"id":"fa18228c.8181c","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN7","env":[{"name":"Channel","value":"7","type":"num"}],"x":1440,"y":870,"wires":[["3c9fecb8.51c404"]]},{"id":"a65ddf0c.e44da","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN4","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN4","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN4.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1560,"y":720,"wires":[["835e4ff1.50739"]]},{"id":"f4655786.614248","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN5","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN5","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN5.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1560,"y":770,"wires":[["29f2664c.10cf1a"]]},{"id":"8a8d5c74.6c919","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN6","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN6","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN6.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1560,"y":820,"wires":[["511841f8.1761e"]]},{"id":"3c9fecb8.51c404","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN7","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN7","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN7.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1560,"y":870,"wires":[["c1ca7972.7efad8"]]},{"id":"afd9656e.c67a18","type":"debug","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1960,"y":520,"wires":[]},{"id":"e3fc54b9.c1b108","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN0","rules":[{"t":"set","p":"ES.EA.AN0.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN0.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN0.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2570,"y":150,"wires":[[]]},{"id":"a2be0fbd.31585","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN5","rules":[{"t":"set","p":"ES.EA.AN5.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN5.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN5.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2570,"y":350,"wires":[[]]},{"id":"4a02b457.a1fecc","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN6","rules":[{"t":"set","p":"ES.EA.AN6.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN6.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN6.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2570,"y":390,"wires":[[]]},{"id":"ffda9256.dc79c","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN7","rules":[{"t":"set","p":"ES.EA.AN7.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN7.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN7.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2570,"y":430,"wires":[[]]},{"id":"d1695de0.41452","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear [0,5] señal eléctrica.\nvar a = [200,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n        ang=parseFloat(t.toFixed(0));\n    // Asignar payload\n    \n    msg.payload =Math.trunc(ang); \n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1730,"y":570,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"f406d5d7.37bf18","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear [0,5] señal eléctrica.\nvar a = [200,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    // Asignar payload\n    msg.payload = parseFloat(t.toFixed(3));\n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1730,"y":620,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"8f314f6c.0c944","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear [0,5] señal eléctrica.\nvar a = [200,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    // Asignar payload\n    msg.payload = parseFloat(t.toFixed(3));\n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1730,"y":670,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"835e4ff1.50739","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear [0,5] señal eléctrica.\nvar a = [200,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    // Asignar payload\n    msg.payload = parseFloat(t.toFixed(3));\n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1730,"y":720,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"29f2664c.10cf1a","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear [0,5] señal eléctrica.\nvar a = [200,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    // Asignar payload\n    msg.payload = parseFloat(t.toFixed(3));\n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1730,"y":770,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"511841f8.1761e","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear [0,5] señal eléctrica.\nvar a = [200,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    // Asignar payload\n    msg.payload = parseFloat(t.toFixed(3));\n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1730,"y":820,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"c1ca7972.7efad8","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear [0,5] señal eléctrica.\nvar a = [200,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    // Asignar payload\n    msg.payload = parseFloat(t.toFixed(3));\n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1730,"y":870,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"2067d6cd.3e46ca","type":"switch","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"True","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":570,"y":1440,"wires":[["fe53aea5.79aaf"]]},{"id":"9a2d670b.656248","type":"switch","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"True","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":570,"y":1490,"wires":[["782235ec.980bfc"]]},{"id":"45b32200.ade75","type":"switch","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"True","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":570,"y":1540,"wires":[["38626d7c.ef07b2"]]},{"id":"4b7a8d2a.7dcd74","type":"rbe","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":450,"y":1540,"wires":[["45b32200.ade75"]]},{"id":"9670bb31.dbb068","type":"rbe","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":450,"y":1490,"wires":[["9a2d670b.656248"]]},{"id":"7a84d54f.a2970c","type":"rbe","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":450,"y":1440,"wires":[["2067d6cd.3e46ca"]]},{"id":"5e0e5966.967498","type":"function","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"Start","func":"msg.payload = flow.get('ActFunctions','memoryOnly');\n\nif(msg.payload != 'undefined' && msg.payload.length > 0){\n    for(var i=0; i< msg.payload.length; i++ ){\n        if(msg.payload[i].Funcion == \"Start\"){\n            node.status({fill:\"green\",shape:\"dot\",text:msg.payload[i].Estado});\n            msg.payload = msg.payload[i].Estado;\n            return msg;\n        }\n    }\n}\nelse{\n    node.status({fill:\"grey\",shape:\"dot\",text:\"None\"});\n    return;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":330,"y":1440,"wires":[["7a84d54f.a2970c"]]},{"id":"ce7147d6.294208","type":"function","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"Stop","func":"msg.payload = flow.get('ActFunctions','memoryOnly');\n\nif(msg.payload != 'undefined' && msg.payload.length > 0){\n    for(var i=0; i< msg.payload.length; i++ ){\n        if(msg.payload[i].Funcion == \"Stop\"){\n            node.status({fill:\"green\",shape:\"dot\",text:msg.payload[i].Estado});\n            msg.payload = msg.payload[i].Estado;\n            return msg;\n        }\n    }\n}\nelse{\n    node.status({fill:\"grey\",shape:\"dot\",text:\"None\"});\n    return;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":330,"y":1490,"wires":[["9670bb31.dbb068"]]},{"id":"5ccfc99a.046e78","type":"function","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"Reset","func":"msg.payload = flow.get('ActFunctions','memoryOnly');\n\nif(msg.payload != 'undefined' && msg.payload.length > 0){\n    for(var i=0; i< msg.payload.length; i++ ){\n        if(msg.payload[i].Funcion == \"Reset\"){\n            node.status({fill:\"green\",shape:\"dot\",text:msg.payload[i].Estado});\n            msg.payload = msg.payload[i].Estado;\n            return msg;\n        }\n    }\n}\nelse{\n    node.status({fill:\"grey\",shape:\"dot\",text:\"None\"});\n    return;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":330,"y":1540,"wires":[["4b7a8d2a.7dcd74"]]},{"id":"55d7f98f.7ca518","type":"inject","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":160,"y":1440,"wires":[["5e0e5966.967498","ce7147d6.294208","5ccfc99a.046e78"]]},{"id":"fe53aea5.79aaf","type":"link out","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"Start_IO","links":["923454af.73d8c8","a2e9dd68.3a78","c581c8dc.d013e8"],"x":655,"y":1440,"wires":[]},{"id":"782235ec.980bfc","type":"link out","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"Stop_IO","links":["1305b2ed.1b6f1d","923454af.73d8c8","e0c911fe.aaa9"],"x":655,"y":1490,"wires":[]},{"id":"38626d7c.ef07b2","type":"link out","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"Reset_IO","links":["1fdf355.5b5f8cb","c581c8dc.d013e8","e0c911fe.aaa9"],"x":655,"y":1540,"wires":[]},{"id":"8e67a2d0.14549","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal43","rules":[{"t":"set","p":"ES.SD.Canal43.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal43.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":2170,"wires":[[]]},{"id":"b234b8c9.aaba78","type":"link out","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"Falla de comunicación","links":["18a1edf5.590c02","d0939ac3.e463f8"],"x":1105,"y":170,"wires":[]},{"id":"f0e59da1.e1b2e","type":"trigger","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Esperar Confirmación","op1":"1","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"units":"s","reset":"","bytopic":"all","topic":"topic","outputs":1,"x":1420,"y":810,"wires":[["fea9bef5.a9067"]]},{"id":"4b8f3906.dd4198","type":"delay","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1460,"y":770,"wires":[["fea9bef5.a9067"]]},{"id":"1c025a1f.5a68b6","type":"ui_button","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Forward","group":"759fa4e7.01062c","order":8,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"","bgcolor":"","icon":"fa-repeat","payload":"¿Desea cambiar el sentido de giro a Forward?","payloadType":"str","topic":"Cambio de giro","x":540,"y":1050,"wires":[["fe0231d7.12171"]]},{"id":"7ce52484.84a5ec","type":"ui_button","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reverse","group":"759fa4e7.01062c","order":9,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"","bgcolor":"","icon":"fa-undo","payload":"¿Desea cambiar el sentido de giro a Reverse?","payloadType":"str","topic":"Cambio de giro","x":540,"y":1090,"wires":[["9881e750.db2aa8"]]},{"id":"fe0231d7.12171","type":"ui_toast","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"Aceptar","cancel":"Cancelar","raw":false,"topic":"","name":"","x":690,"y":1050,"wires":[["56429c56.7dd754"]]},{"id":"9881e750.db2aa8","type":"ui_toast","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"Aceptar","cancel":"Cancelar","raw":false,"topic":"","name":"","x":690,"y":1090,"wires":[["464e0e1.78c22f"]]},{"id":"56429c56.7dd754","type":"switch","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Aceptar","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Aceptar","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":840,"y":1050,"wires":[["4bc9b58e.7b883c"]]},{"id":"464e0e1.78c22f","type":"switch","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Aceptar","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Aceptar","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":840,"y":1090,"wires":[["7721aa62.486c74"]]},{"id":"4bc9b58e.7b883c","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Forward","rules":[{"t":"set","p":"payload","pt":"msg","to":"0","tot":"num"},{"t":"set","p":"topic","pt":"msg","to":"Direction","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":980,"y":1050,"wires":[["41951c57.8e84c4","2b4f4fc2.a7ca"]]},{"id":"7721aa62.486c74","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reverse","rules":[{"t":"set","p":"payload","pt":"msg","to":"1","tot":"num"},{"t":"set","p":"topic","pt":"msg","to":"Direction","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":980,"y":1090,"wires":[["41951c57.8e84c4","2b4f4fc2.a7ca"]]},{"id":"37db10ec.6a6f7","type":"delay","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","pauseType":"delay","timeout":"0.5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":640,"y":2558,"wires":[["fdc50122.eca2a"]]},{"id":"9423bfa9.83933","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"AR_Stop","links":["e0c911fe.aaa9"],"x":585,"y":2598,"wires":[]},{"id":"f1031a6d.683328","type":"delay","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","pauseType":"delay","timeout":"20","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":210,"y":2268,"wires":[["14170dd0.bdfb02"]]},{"id":"eb7c6393.8c838","type":"pccc out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","endpoint":"5a40295d.6caa18","variable":"PF755T_SpeedReference","name":"Referencia de velocidad","x":1060,"y":2600,"wires":[]},{"id":"5237e183.b1e0e","type":"function","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Referencia","func":"Ref = global.get(\"Ultima_Referencia\",'file');\nRef = Ref*1;\nmsg.payload = Ref;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":860,"y":2560,"wires":[["21b10d96.275432"]]},{"id":"bc0c7c1c.40245","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Actualizar Referencia","links":["12c8fd79.9681e3"],"x":745,"y":2600,"wires":[["5237e183.b1e0e"]]},{"id":"c1b971d5.d569b","type":"switch","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"EntradasDigitales","vt":"str"},{"t":"eq","v":"EntradasAnalogicas","vt":"str"},{"t":"eq","v":"SalidasDigitales","vt":"str"},{"t":"eq","v":"SalidasAnalogicas","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":1100,"y":1960,"wires":[["1b4be866.c708e8","b4f36c30.74091"],["ad513f4.2f74fc","b4f36c30.74091"],["503b4883.fb3c68","b4f36c30.74091"],["b4f36c30.74091","9b29345d.646748"]]},{"id":"e803a739.db17f8","type":"ui_template","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","group":"51710525.9fc4ac","name":"Menú ES SWCPRO","order":4,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-pills nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-EntradasDigitales-tab\" data-toggle=\"tab\" href=\"#nav-EntradasDigitales\" role=\"tab\" aria-controls=\"nav-EntradasDigitales\" aria-selected=\"true\" ng-click=\"send({payload:EntradasDigitales()})\">Entradas digitales</a>\n        <a class=\"nav-item nav-link\" id=\"nav-EntradasAnalogicas-tab\" data-toggle=\"tab\" href=\"#nav-EntradasAnalogicas\" role=\"tab\" aria-controls=\"nav-EntradasAnalogicas\" aria-selected=\"false\" ng-click=\"send({payload:EntradasAnalogicas()})\">Entradas analógicas</a>\n        <a class=\"nav-item nav-link\" id=\"nav-SalidasDigitales-tab\" data-toggle=\"tab\" href=\"#nav-SalidasDigitales\" role=\"tab\" aria-controls=\"nav-SalidasDigitales\" aria-selected=\"false\" ng-click=\"send({payload:SalidasDigitales()})\">Salidas digitales</a>\n        <a class=\"nav-item nav-link\" id=\"nav-SalidasAnalogicas-tab\" data-toggle=\"tab\" href=\"#nav-SalidasAnalogicas\" role=\"tab\" aria-controls=\"nav-SalidasAnalogicas\" aria-selected=\"false\" ng-click=\"send({payload:SalidasAnalogicas()})\">Salidas analógicas</a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.EntradasDigitales = function() { return \"EntradasDigitales\"; };\n        this.scope.EntradasAnalogicas = function() { return \"EntradasAnalogicas\"; };\n        this.scope.SalidasDigitales = function() { return \"SalidasDigitales\"; };\n        this.scope.SalidasAnalogicas = function() { return \"SalidasAnalogicas\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":940,"y":1960,"wires":[["c1b971d5.d569b"]]},{"id":"1b4be866.c708e8","type":"change","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"Entradas digitales","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Monitoreo_ES_CILA2S_Monitoreo_E.A.\",\t                \"Monitoreo_ES_CILA2S_Monitoreo_S.D.\",\t                \"Monitoreo_ES_CILA2S_Monitoreo_S.A.\"],\t       \"show\":[ \"Monitoreo_ES_CILA2S_Monitoreo_E.D.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1350,"y":1900,"wires":[["e6e875a0.3f91d8","53875927.5a9b18"]]},{"id":"ad513f4.2f74fc","type":"change","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"Entradas analógicas","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Monitoreo_ES_CILA2S_Monitoreo_E.D.\",\t                \"Monitoreo_ES_CILA2S_Monitoreo_S.D.\",\t                \"Monitoreo_ES_CILA2S_Monitoreo_S.A.\"],\t       \"show\":[ \"Monitoreo_ES_CILA2S_Monitoreo_E.A.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":1940,"wires":[["e6e875a0.3f91d8"]]},{"id":"503b4883.fb3c68","type":"change","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"Salidas digitales","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Monitoreo_ES_CILA2S_Monitoreo_E.D.\",\t                \"Monitoreo_ES_CILA2S_Monitoreo_E.A.\",\t                \"Monitoreo_ES_CILA2S_Monitoreo_S.A.\"],\t       \"show\":[ \"Monitoreo_ES_CILA2S_Monitoreo_S.D.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1340,"y":1980,"wires":[["e6e875a0.3f91d8"]]},{"id":"efd996cd.90e648","type":"switch","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Monitoreo_ES_CILA2S","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1100,"y":1900,"wires":[["1b4be866.c708e8"]]},{"id":"e6e875a0.3f91d8","type":"link out","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"Menú Entradas/Salidas SWCPRO","links":["805762db.d27b7"],"x":1555,"y":1980,"wires":[]},{"id":"476a789d.6fd428","type":"link in","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"Menú Entradas/Salidas SWCPRO","links":["97407954.a004c8"],"x":1015,"y":1900,"wires":[["efd996cd.90e648"]]},{"id":"b4f36c30.74091","type":"link out","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"Selección Monitoreo ES Link Out","links":["87b3cc18.eed9f"],"x":1275,"y":2060,"wires":[]},{"id":"eeb1651a.36a6c8","type":"link in","z":"68deacdf.9a36f4","g":"17c31216.1aa6ce","name":"Consulta IO Link In","links":["8779966a.f672e8"],"x":1975,"y":80,"wires":[["a8a1cb28.4cb2d8"]]},{"id":"43c29f1e.c217f","type":"link in","z":"68deacdf.9a36f4","g":"9560ef4.a49141","name":"Consulta IO Link In","links":["8779966a.f672e8"],"x":1365,"y":80,"wires":[["685e27da.9ce058"]]},{"id":"8779966a.f672e8","type":"link out","z":"68deacdf.9a36f4","g":"f185a628.7c4598","name":"Consulta IO Link Out","links":["43c29f1e.c217f","eeb1651a.36a6c8","e39916f8.4609d8","7fb016f3.574be8"],"x":2125,"y":170,"wires":[]},{"id":"d73d6d43.ab8f4","type":"inject","z":"68deacdf.9a36f4","g":"f185a628.7c4598","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":true,"onceDelay":"0.5","topic":"","payload":"true","payloadType":"bool","x":2030,"y":170,"wires":[["8779966a.f672e8"]]},{"id":"87b3cc18.eed9f","type":"link in","z":"68deacdf.9a36f4","g":"b5305a67.80d008","name":"Selección Monitoreo ES Link In","links":["b4f36c30.74091"],"x":2215,"y":210,"wires":[["fa4bb7a.8739c48"]]},{"id":"fa4bb7a.8739c48","type":"change","z":"68deacdf.9a36f4","g":"b5305a67.80d008","name":"","rules":[{"t":"set","p":"Monitoreo_ES_Sel","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2370,"y":210,"wires":[[]]},{"id":"a8a1cb28.4cb2d8","type":"switch","z":"68deacdf.9a36f4","g":"17c31216.1aa6ce","name":"EA","property":"Monitoreo_ES_Sel","propertyType":"flow","rules":[{"t":"eq","v":"EntradasAnalogicas","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":2060,"y":80,"wires":[["f894367d.626e58"]]},{"id":"685e27da.9ce058","type":"switch","z":"68deacdf.9a36f4","g":"9560ef4.a49141","name":"DI","property":"Monitoreo_ES_Sel","propertyType":"flow","rules":[{"t":"eq","v":"EntradasDigitales","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1450,"y":80,"wires":[["72bc0ef0.eb795"]]},{"id":"53875927.5a9b18","type":"change","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"EntradasDigitales","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1570,"y":1900,"wires":[["b4f36c30.74091"]]},{"id":"cb16cea3.9311e","type":"change","z":"e86f0ca4.7feb5","g":"2fc65bf7.d30fb4","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"ES","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":320,"y":2720,"wires":[["56b9f9c.38c5208"]]},{"id":"56b9f9c.38c5208","type":"link out","z":"e86f0ca4.7feb5","g":"2fc65bf7.d30fb4","name":"Configuración IOs Link Out","links":["a842573a.e6e518"],"x":435,"y":2720,"wires":[]},{"id":"5039e78a.ed1d88","type":"complete","z":"e86f0ca4.7feb5","g":"2fc65bf7.d30fb4","name":"Configuración IOs","scope":["5612c7d7.dfac98","9946d95c.306678","8d5d3cd1.75de5","d3888470.828598","ce1dc649.cc5748","15368445.fbcc8c","c19d1216.bf754","4968d3dd.74a03c","c1725583.cfc348","4526b0f7.fa6a6","f67e70e4.5f30e","bb68e810.a57a38","ce5f1106.c4ff9","85590fb.bc50ef","dbf2523c.156f3","23cf0be1.ad7274","ab7a7e6.0a4ca8","1a41c067.58aff","4b7792b7.b882fc","8e749bbe.f74f28","8e67a2d0.14549","5135d0c7.6a31b","d3ab8d40.89bb8","3c83aebf.54ee92","85f12e7a.2e726","303c96fd.f6ab4a","e9b72ba.cbd4bd8","1d4ffc63.2c9fb4"],"uncaught":false,"x":130,"y":2720,"wires":[["cb16cea3.9311e"]]},{"id":"a842573a.e6e518","type":"link in","z":"68deacdf.9a36f4","g":"b5305a67.80d008","name":"Configuración IOs Link In","links":["56b9f9c.38c5208"],"x":2315,"y":170,"wires":[["476b5c3e.4e4d44"]]},{"id":"476b5c3e.4e4d44","type":"change","z":"68deacdf.9a36f4","g":"b5305a67.80d008","name":"","rules":[{"t":"set","p":"ES","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2420,"y":170,"wires":[[]]},{"id":"72bc0ef0.eb795","type":"function","z":"68deacdf.9a36f4","g":"9560ef4.a49141","name":"ED","func":"Canal   = flow.get('ES');\nIO      = global.get('IO','memoryOnly');\n\nvar Funciones   = [];\nvar TipoIO      = [];\nvar Values      = [];\n\n// Entradas Digitales\nvar str = \"Canal\"+8;\nvar otro = Object.keys(IO.DI);\n\nfor(var i = 0; i<otro.length; i++){\n    var index= 'Canal'+otro[i];\n    if(typeof Canal.ED[index] != 'undefined'){\n        Funciones.push(Canal.ED[index].Funcion);\n        TipoIO.push(Canal.ED[index].Tipo);\n        Values.push(Canal.ED[index].Tipo == 'NC' ? !IO.DI[otro[i]]:IO.DI[otro[i]]);\n        \n    }\n    else{\n        Funciones.push('Ninguno');\n        TipoIO.push('--');\n        Values.push('--');\n    }\n}\nmsg.payload = {\n    'Canales': otro, \n    'Funciones':Funciones,\n    'Tipo': TipoIO,\n    'Values': Values\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1570,"y":80,"wires":[["864b03bd.9ce3c"]]},{"id":"43ded433.bb53cc","type":"ui_template","z":"68deacdf.9a36f4","g":"9560ef4.a49141","group":"8966e791.7e5758","name":"","order":1,"width":"0","height":"0","format":"","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":1840,"y":80,"wires":[[]]},{"id":"f894367d.626e58","type":"function","z":"68deacdf.9a36f4","g":"17c31216.1aa6ce","name":"EA","func":"Canal   = flow.get('ES');\nIO      = global.get('IO','memoryOnly');\n\nvar Funciones   = [];\nvar TipoIO      = [];\nvar Values      = [];\n\n// Entradas Analogicas\nvar otro = Object.keys(IO.AI);\n\nfor(var i = 0; i<otro.length; i++){\n    var index= 'AN'+otro[i];\n    if(typeof Canal.EA[index] != 'undefined'){\n        Funciones.push(Canal.EA[index].Funcion);\n        Values.push(Escalizar([Canal.EA[index].Rango_Min,Canal.EA[index].Rango_Max],IO.AI[otro[i]]));\n    }\n    else{\n        Funciones.push('Ninguno');\n        Values.push('--');\n    }\n}\nmsg.payload = {\n    'Canales': otro, \n    'Funciones':Funciones,\n    'Tipo': TipoIO,\n    'Values': Values\n}\n\nfunction Escalizar(b,value){\n    a = [200,1023];\n    // Mapeo\n    if(b !== null && typeof b[0] == 'number' && typeof b[1] == 'number' ){\n        var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n        // Saturación\n        if(t > b[1]){    \n            t = b[1];\n        }\n        else if(t < b[0]){ \n            t = b[0];\n        }\n        // Asignar payload\n        return parseFloat(t.toFixed(2));\n    }\n    else {\n        // Asignar payload\n        return 0;\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2180,"y":80,"wires":[["6db11539.a3447c"]]},{"id":"dfd4edc3.552ee","type":"ui_template","z":"68deacdf.9a36f4","g":"17c31216.1aa6ce","group":"4a35385f.d514b8","name":"","order":1,"width":"0","height":"0","format":"","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":2450,"y":80,"wires":[[]]},{"id":"6db11539.a3447c","type":"template","z":"68deacdf.9a36f4","g":"17c31216.1aa6ce","name":"","field":"template","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!DOCTYPE html>\n<html>\n    <head>\n        <style>\n            table {\n                font-family: arial, sans-serif;\n                border-collapse: collapse;\n                font-size:14px;\n                margin-left: auto;\n                margin-right: auto;\n                margin-top:10px;\n            }\n            tr{\n                widtd:20px;\n            }\n            td,tr,th {\n              border: 2px solid #000000;\n              text-align: center;\n              padding: 4px;\n            }\n            th{\n                color: #fcfeff;\n                background-color: #77797a;\n            }\n        </style>\n    </head>\n        <table class=\"TextBox\">\n            <tr>\n                <th>Canal</th>\n                <th>Función</th>\n                <th>Valor escalizado</th>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.0}}}</td>\n                <td>{{payload.Funciones.0}}</td>\n                <td>{{payload.Values.0}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.1}}}</td>\n                <td>{{payload.Funciones.1}}</td>\n                <td>{{payload.Values.1}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.2}}}</td>\n                <td>{{payload.Funciones.2}}</td>\n                <td>{{payload.Values.2}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.3}}}</td>\n                <td>{{payload.Funciones.3}}</td>\n                <td>{{payload.Values.3}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.4}}}</td>\n                <td>{{payload.Funciones.4}}</td>\n                <td>{{payload.Values.4}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.5}}}</td>\n                <td>{{payload.Funciones.5}}</td>\n                <td>{{payload.Values.5}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.6}}}</td>\n                <td>{{payload.Funciones.6}}</td>\n                <td>{{payload.Values.6}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.7}}}</td>\n                <td>{{payload.Funciones.7}}</td>\n                <td>{{payload.Values.7}}</td>\n            </tr>\n        </table>\n </body>\n\n</html>           \n        ","output":"str","x":2310,"y":80,"wires":[["dfd4edc3.552ee"]]},{"id":"864b03bd.9ce3c","type":"template","z":"68deacdf.9a36f4","g":"9560ef4.a49141","name":"","field":"template","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!DOCTYPE html>\n<html>\n    <head>\n        <style>\n            table {\n                font-family: arial, sans-serif;\n                border-collapse: collapse;\n                font-size: 14px;\n                margin-left: auto;\n                margin-right: auto;\n                margin-top:10px;\n            }\n            tr{\n                widtd:20px;\n            }\n            td,tr,th {\n              border: 2px solid #000000;\n              text-align: center;\n              padding: 4px;\n            }\n            th{\n                color: #fcfeff;\n                background-color: #77797a;\n            }\n            \n        </style>\n    </head>\n    <table class=\"TextBox\">\n        <tr>\n            <th>Canal</th>\n            <th>Función</th>\n            <th>Tipo</th>\n            <th>Estado</th>\n            <th>   </th>\n            <th>Canal</th>\n            <th>Función</th>\n            <th>Tipo</th>\n            <th>Estado</th>\n        </tr>\n        <tr>\n            <td>{{{payload.Canales.0}}}</td> <!--8-->\n            <td>{{payload.Funciones.0}}</td>\n            <td>{{payload.Tipo.0}}</td>\n            <td>{{payload.Values.0}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.8}}}</td><!--16-->\n            <td>{{payload.Funciones.8}}</td>\n            <td>{{payload.Tipo.8}}</td>\n            <td>{{payload.Values.8}}</td>\n            \n        </tr>\n        <tr>\n            <td>{{{payload.Canales.1}}}</td><!--9-->\n            <td>{{payload.Funciones.1}}</td>\n            <td>{{payload.Tipo.1}}</td>\n            <td>{{payload.Values.1}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.9}}}</td><!--17-->\n            <td>{{payload.Funciones.9}}</td>\n            <td>{{payload.Tipo.9}}</td>\n            <td>{{payload.Values.9}}</td>\n            \n        </tr>\n        <tr>\n            <td>{{{payload.Canales.2}}}</td><!--10-->\n            <td>{{payload.Funciones.2}}</td>\n            <td>{{payload.Tipo.2}}</td>\n            <td>{{payload.Values.2}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.10}}}</td><!--18-->\n            <td>{{payload.Funciones.10}}</td>\n            <td>{{payload.Tipo.10}}</td>\n            <td>{{payload.Values.10}}</td>\n            \n        </tr>\n        <tr>\n            <td>{{{payload.Canales.3}}}</td><!--11-->\n            <td>{{payload.Funciones.3}}</td>\n            <td>{{payload.Tipo.3}}</td>\n            <td>{{payload.Values.3}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.11}}}</td><!--19-->\n            <td>{{payload.Funciones.11}}</td>\n            <td>{{payload.Tipo.11}}</td>\n            <td>{{payload.Values.11}}</td>\n        </tr>\n        <tr>\n            <td>{{{payload.Canales.4}}}</td><!--12-->\n            <td>{{payload.Funciones.4}}</td>\n            <td>{{payload.Tipo.4}}</td>\n            <td>{{payload.Values.4}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.12}}}</td><!--20-->\n            <td>{{payload.Funciones.12}}</td>\n            <td>{{payload.Tipo.12}}</td>\n            <td>{{payload.Values.12}}</td>\n            \n        </tr>\n        <tr>\n            <td>{{{payload.Canales.5}}}</td><!--13-->\n            <td>{{payload.Funciones.5}}</td>\n            <td>{{payload.Tipo.5}}</td>\n            <td>{{payload.Values.5}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.13}}}</td><!--21-->\n            <td>{{payload.Funciones.13}}</td>\n            <td>{{payload.Tipo.13}}</td>\n            <td>{{payload.Values.13}}</td>\n            \n        </tr>\n        <tr>\n            <td>{{{payload.Canales.6}}}</td><!--14-->\n            <td>{{payload.Funciones.6}}</td>\n            <td>{{payload.Tipo.6}}</td>\n            <td>{{payload.Values.6}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.14}}}</td><!--22-->\n            <td>{{payload.Funciones.14}}</td>\n            <td>{{payload.Tipo.14}}</td>\n            <td>{{payload.Values.14}}</td>\n        </tr>\n        <tr>\n            <td>{{{payload.Canales.7}}}</td><!--15-->\n            <td>{{payload.Funciones.7}}</td>\n            <td>{{payload.Tipo.7}}</td>\n            <td>{{payload.Values.7}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.15}}}</td><!--23-->\n            <td>{{payload.Funciones.15}}</td>\n            <td>{{payload.Tipo.15}}</td>\n            <td>{{payload.Values.15}}</td>\n        </tr>\n        \n    </table>\n </body>\n\n</html>           \n        ","output":"str","x":1700,"y":80,"wires":[["43ded433.bb53cc"]]},{"id":"1be701e.c661bfe","type":"change","z":"68deacdf.9a36f4","g":"b5305a67.80d008","name":"","rules":[{"t":"set","p":"Pestaña","pt":"flow","to":"name","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2420,"y":250,"wires":[[]]},{"id":"4482dc9f.5ee144","type":"link in","z":"68deacdf.9a36f4","g":"b5305a67.80d008","name":"","links":["97407954.a004c8"],"x":2295,"y":250,"wires":[["1be701e.c661bfe","8207386.0661fc8"]]},{"id":"8207386.0661fc8","type":"debug","z":"68deacdf.9a36f4","g":"b5305a67.80d008","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"name","targetType":"msg","statusVal":"","statusType":"auto","x":2420,"y":290,"wires":[]},{"id":"95837cd7.bf6c2","type":"modbus-read","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"PyModbusServer","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"1","dataType":"HoldingRegister","adr":"55","quantity":"1","rate":"1","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"3548b3b4.c8d65c","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"x":3290,"y":650,"wires":[["75c0e161.43a1c"],[]]},{"id":"2941139c.7c7b0c","type":"switch","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"","property":"payload[0]","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"num"},{"t":"eq","v":"2","vt":"num"},{"t":"eq","v":"4","vt":"num"}],"checkall":"true","repair":false,"outputs":3,"x":3720,"y":650,"wires":[[],[],["24025e15.4ddaf2"]]},{"id":"a6adbd4d.9a3c4","type":"link out","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Remote Start","links":["923454af.73d8c8","c581c8dc.d013e8"],"x":4175,"y":550,"wires":[]},{"id":"a1197dc9.92f25","type":"link out","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Remote Stop","links":["e0c911fe.aaa9","923454af.73d8c8"],"x":4175,"y":630,"wires":[]},{"id":"24025e15.4ddaf2","type":"link out","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Remote Reset","links":["1fdf355.5b5f8cb","923454af.73d8c8"],"x":3825,"y":690,"wires":[]},{"id":"21fd4ac4.46c936","type":"rbe","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload[0]","x":3600,"y":650,"wires":[["2941139c.7c7b0c"]]},{"id":"6e311205.1a499c","type":"change","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Arranque Remoto","rules":[{"t":"set","p":"Source_for_events.Start","pt":"global","to":"4","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":3900,"y":570,"wires":[["4de602f2.c6858c"]]},{"id":"eb2a9f36.96637","type":"change","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Parada remota","rules":[{"t":"set","p":"Source_for_events.Stop","pt":"global","to":"2","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":3890,"y":650,"wires":[["6054591f.97bbc8"]]},{"id":"56b2f98a.e8c598","type":"change","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"Protections","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.Status","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1320,"y":880,"wires":[[]]},{"id":"eb2d9138.c0a31","type":"change","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"RFlag","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.RFlag","pt":"global","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1300,"y":960,"wires":[[]]},{"id":"5e84b7c.af1d848","type":"switch","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1170,"y":960,"wires":[["eb2d9138.c0a31"]]},{"id":"5da903f0.67311c","type":"switch","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reset Protec","property":"command","propertyType":"msg","rules":[{"t":"cont","v":"Reset","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1390,"y":850,"wires":[["dc0e9251.31ef4"]]},{"id":"dc0e9251.31ef4","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.RFlag","pt":"global","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1640,"y":850,"wires":[[]]},{"id":"cd467bf8.39af48","type":"change","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::Protections.Status","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":920,"wires":[["5e84b7c.af1d848"]]},{"id":"5805c268.31f02c","type":"inject","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1168,"y":920,"wires":[["cd467bf8.39af48"]]},{"id":"8849a3f7.9bc5c","type":"inject","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Update 2 samples","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":160,"y":1770,"wires":[["d7f76c0e.485b3"]]},{"id":"55ada7e8.48e908","type":"switch","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Trend Generating","property":"#:(memoryOnly)::Staggered_Start.Running","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":620,"y":1770,"wires":[["da1755b1.3969a8"]]},{"id":"da1755b1.3969a8","type":"function","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Data Handle-StaggeredStart","func":"var C2S_Data                = global.get(\"C2S\", \"memoryOnly\") || \"\";\nvar Data_Points             = flow.get(\"Staggered_Start.Data_Points\",\"memoryOnly\") ||[];\nvar Final_Reference         = flow.get(\"Staggered_Start.Final_Reference\",\"memoryOnly\") || 30; \nvar Staggered_Start_Run     = flow.get(\"Staggered_Start.Running\",\"memoryOnly\") || false; \n\nvar Current_OperativeData   = { \n    'Time'              :Date.now(), \n    'Feedback_Speed'    :C2S_Data.Output_Frecuency, \n};\n\nif (Math.abs(C2S_Data.Output_Frecuency) != Final_Reference){   \n    Data_Points.unshift({\n        \"x\":Current_OperativeData.Time,\n        \"y\":Current_OperativeData.Feedback_Speed\n    }); \n    msg.payload = [Data_Points];\n    //msg.series  = [\"Velocidad Feedbak\"];\n    //msg.label   = \"Arranque Escalonado\";\n}\nelse {\n    Staggered_Start_Run = false;\n}\n\nnode.status({fill:\"green\",shape:\"dot\",text:C2S_Data.Output_Frecuency+''+Final_Reference});\nflow.set(\"Staggered_Start.Running\",Staggered_Start_Run,\"memoryOnly\");\nflow.set(\"Staggered_Start.Data_Points\", Data_Points,\"memoryOnly\");\n\nreturn msg; \n       \n\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":850,"y":1770,"wires":[["87c65176.454a3"]]},{"id":"87c65176.454a3","type":"function","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Chart generation","func":"var chart = [{\n    \"series\": msg.series,\n    \"data\": msg.payload,\n    \"labels\": [\"\"]\n}];\n\nmsg.payload = chart;\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1080,"y":1770,"wires":[["8dc70b63.8db398","55be084e.2ad3b8"]]},{"id":"8dc70b63.8db398","type":"ui_chart","z":"d35c32b9.6419b","d":true,"g":"96c06653.552da8","name":"","group":"a2cdbb78.31d778","order":8,"width":"12","height":"4","label":"{{msg.label}}","chartType":"line","legend":"false","xformat":"auto","interpolate":"linear","nodata":"No Data","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#0d09dc","#ec5555","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"outputs":1,"x":1240,"y":1750,"wires":[[]]},{"id":"6cb6e6d5.480798","type":"change","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Start-Flag-assignament ","rules":[{"t":"set","p":"#:(memoryOnly)::Staggered_Start.Running","pt":"flow","to":"true","tot":"bool"},{"t":"delete","p":"#:(memoryOnly)::Staggered_Start.Data_Points","pt":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":500,"y":1810,"wires":[[]]},{"id":"d1fecbd.301b138","type":"link in","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Start Pushed - Link In","links":["dda94060.94b98","f87a07cd.22b318"],"x":235,"y":1810,"wires":[["5bacb488.41284c"]]},{"id":"cea13bfe.739068","type":"link in","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Final Refence Keyboard Change - Link In","links":["e2832ff4.8c486"],"x":235,"y":1850,"wires":[["ed0df9a.c740c08"]]},{"id":"ed0df9a.c740c08","type":"change","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Final Reference from keyboard","rules":[{"t":"set","p":"#:(memoryOnly)::Staggered_Start.Final_Reference","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":1850,"wires":[[]]},{"id":"f6342c49.36019","type":"link in","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"","links":["ba5f4e4b.e55a2"],"x":235,"y":1890,"wires":[["a561eba3.47a5f8"]]},{"id":"a561eba3.47a5f8","type":"change","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Final Reference from file","rules":[{"t":"set","p":"#:(memoryOnly)::Staggered_Start.Final_Reference","pt":"flow","to":"payload.Reference_2","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":380,"y":1890,"wires":[[]]},{"id":"d7f76c0e.485b3","type":"switch","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Staggered Start Activated ? ","property":"A_Escalonado","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":390,"y":1770,"wires":[["55ada7e8.48e908"]]},{"id":"f87a07cd.22b318","type":"link out","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Start Pushed - Link Out","links":["17820369.07024d","d1fecbd.301b138","76e4fde6.1b44b4"],"x":705,"y":880,"wires":[]},{"id":"a283dc1b.7c48f","type":"link in","z":"3df4c8d9.0bdc38","g":"440775ff.2a92fc","name":"","links":["ad87cee4.7dbb5"],"x":1245,"y":1250,"wires":[["d7a20d07.4ac76"]]},{"id":"d7a20d07.4ac76","type":"change","z":"3df4c8d9.0bdc38","g":"440775ff.2a92fc","name":"","rules":[{"t":"set","p":"payload.Reference_2","pt":"msg","to":"Staggered_start.Reference_2","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1410,"y":1250,"wires":[["ba5f4e4b.e55a2"]]},{"id":"ba5f4e4b.e55a2","type":"link out","z":"3df4c8d9.0bdc38","g":"440775ff.2a92fc","name":"Staggered Start File - Link Out","links":["f6342c49.36019"],"x":1575,"y":1250,"wires":[]},{"id":"5bacb488.41284c","type":"switch","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Start","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":320,"y":1810,"wires":[["6cb6e6d5.480798"]]},{"id":"55be084e.2ad3b8","type":"debug","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1240,"y":1790,"wires":[]},{"id":"e2832ff4.8c486","type":"link out","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"Final reference from Keyboard","links":["cea13bfe.739068"],"x":715,"y":720,"wires":[]},{"id":"3c83aebf.54ee92","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"O3","rules":[{"t":"set","p":"ES.SA.AO3.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.SA.AO3.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.SA.AO3.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2510,"y":1920,"wires":[[]]},{"id":"85f12e7a.2e726","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"O4","rules":[{"t":"set","p":"ES.SA.AO4.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.SA.AO4.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.SA.AO4.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2510,"y":1960,"wires":[[]]},{"id":"ac67f4df.445778","type":"debug","z":"e86f0ca4.7feb5","g":"c17de691.f363c8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":2350,"y":1970,"wires":[]},{"id":"9dfbc830.a03298","type":"modbus-flex-getter","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"PQA Modbus TCP","showStatusActivities":false,"showErrors":false,"logIOActivities":false,"server":"ae58460d.12c698","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":3160,"y":1420,"wires":[["7c9484af.5ac80c"],[]]},{"id":"fe356255.fc99","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Lectura PQA","func":"var count = context.get(\"Count\")||0;\n\n// Real Time Parameters\nif(count === 0){\n    msg.topic = \"Real Time Parameters\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16384, \n                    'quantity': 39*2 \n    }\n    count ++;\n}\n\n// Energy Parameters\nelse if (count == 1){\n    msg.topic = \"Energy Parameters\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16456, \n                    'quantity': 24*2 \n    }\n    count ++;\n}\n\n// Harmonics - Power Quality\nelse if (count == 2){\n    msg.topic = \"Power Quality\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16474, \n                    'quantity': 8 \n    }\n    count ++;\n}\n\n// Phase Angles\nelse if (count == 3){\n    msg.topic = \"Phase Angles\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 17056, \n                    'quantity': 5 \n    }\n    count ++;\n}\nelse if (count == 4){\n    msg.topic = \"Harmonics_V1(V12)\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16482, \n                    'quantity': 12 \n    }\n    count ++;\n}\nelse if (count == 5){\n    msg.topic = \"Harmonics_V2(V31)\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16516, \n                    'quantity': 12 \n    }\n    count ++;\n}\nelse if (count == 6){\n    msg.topic = \"Harmonics_V3(V23)\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16550, \n                    'quantity': 12 \n    }\n    count ++;\n}\nelse if (count == 7){\n    msg.topic = \"Harmonics_I1\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16584, \n                    'quantity': 12 \n    }\n    count ++;\n}\nelse if (count == 8){\n    msg.topic = \"Harmonics_I2\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16617, \n                    'quantity': 12 \n    }\n    count ++;\n}\nelse if (count == 9){\n    msg.topic = \"Harmonics_I3\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16650, \n                    'quantity': 12 \n    }\n    count ++;\n}\n\n// Error\nelse {\n    msg.topic = msg.payload;\n    msg.payload = \"Function Error!\";\n}\n\n// Count Reset\nif(count > 9){count = 0;}\n\n// Context update\ncontext.set(\"Count\",count);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2980,"y":1420,"wires":[["9dfbc830.a03298"]]},{"id":"3b57e8b1.f78e28","type":"inject","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","props":[{"p":"payload"}],"repeat":"0.2","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":2990,"y":1370,"wires":[["fe356255.fc99"]]},{"id":"10a8d7ac.83d708","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Real Time Parameters IEC754 to Float ","func":"var CTS = global.get('PQA.CTS') || null;\nvar RelCT = CTS !== null ? CTS.CT1/CTS.CT2 :1;\n\n// Convert 2 registers of 16 bits in one of 32 bits\nvar Frequency               = ((msg.payload[0] << 16) + msg.payload[1]); Frequency                  = Int2Float32(Frequency);\nvar Phase_1_Voltage\t        = ((msg.payload[2] << 16) + msg.payload[3]); Phase_1_Voltage            = Int2Float32(Phase_1_Voltage);\nvar Phase_2_Voltage         = ((msg.payload[4] << 16) + msg.payload[5]); Phase_2_Voltage            = Int2Float32(Phase_2_Voltage);\nvar Phase_3_Voltage         = ((msg.payload[6] << 16) + msg.payload[7]); Phase_3_Voltage            = Int2Float32(Phase_3_Voltage);\nvar Average_Phase_Voltage\t= ((msg.payload[8] << 16) + msg.payload[9]); Average_Phase_Voltage      = Int2Float32(Average_Phase_Voltage);\n\nvar Line_Voltage_1_2        = ((msg.payload[10] << 16) + msg.payload[11]); Line_Voltage_1_2         = Int2Float32(Line_Voltage_1_2);\nvar Line_Voltage_2_3        = ((msg.payload[12] << 16) + msg.payload[13]); Line_Voltage_2_3         = Int2Float32(Line_Voltage_2_3);\nvar Line_Voltage_3_1        = ((msg.payload[14] << 16) + msg.payload[15]); Line_Voltage_3_1         = Int2Float32(Line_Voltage_3_1);\nvar Average_Line_Voltage\t= ((msg.payload[16] << 16) + msg.payload[17]); Average_Line_Voltage     = Int2Float32(Average_Line_Voltage);\n\nvar Total_Phase_A_Current   = ((msg.payload[18] << 16) + msg.payload[19]); Total_Phase_A_Current    = Int2Float32(Total_Phase_A_Current);\nvar Total_Phase_B_Current\t= ((msg.payload[20] << 16) + msg.payload[21]); Total_Phase_B_Current    = Int2Float32(Total_Phase_B_Current);\nvar Total_Phase_C_Current   = ((msg.payload[22] << 16) + msg.payload[23]); Total_Phase_C_Current    = Int2Float32(Total_Phase_C_Current);\nvar Average_Phase_Current\t= ((msg.payload[24] << 16) + msg.payload[25]); Average_Phase_Current    = Int2Float32(Average_Phase_Current);\nvar Neutral_Current         = ((msg.payload[26] << 16) + msg.payload[27]); Neutral_Current          = Int2Float32(Neutral_Current);\n\nvar Phase_A_Power           = ((msg.payload[28] << 16) + msg.payload[29]); Phase_A_Power            = Int2Float32(Phase_A_Power);\nvar Phase_B_Power\t        = ((msg.payload[30] << 16) + msg.payload[31]); Phase_B_Power            = Int2Float32(Phase_B_Power);\nvar Phase_C_Power           = ((msg.payload[32] << 16) + msg.payload[33]); Phase_C_Power\t        = Int2Float32(Phase_C_Power);\nvar Total_System_Power      = ((msg.payload[34] << 16) + msg.payload[35]); Total_System_Power       = Int2Float32(Total_System_Power);\n\nvar Phase_A_Reactive_Power  = ((msg.payload[36] << 16) + msg.payload[37]); Phase_A_Reactive_Power   = Int2Float32(Phase_A_Reactive_Power);\nvar Phase_B_Reactive_Power\t= ((msg.payload[38] << 16) + msg.payload[39]); Phase_B_Reactive_Power   = Int2Float32(Phase_B_Reactive_Power);\nvar Phase_C_Reactive_Power\t= ((msg.payload[40] << 16) + msg.payload[41]); Phase_C_Reactive_Power   = Int2Float32(Phase_C_Reactive_Power);\nvar Total_Reactive_Power    = ((msg.payload[42] << 16) + msg.payload[43]); Total_Reactive_Power     = Int2Float32(Total_Reactive_Power);\n\nvar Phase_A_Apparent_Power\t= ((msg.payload[44] << 16) + msg.payload[45]); Phase_A_Apparent_Power   = Int2Float32(Phase_A_Apparent_Power);\nvar Phase_B_Apparent_Power\t= ((msg.payload[46] << 16) + msg.payload[47]); Phase_B_Apparent_Power   = Int2Float32(Phase_B_Apparent_Power);\nvar Phase_C_Apparent_Power\t= ((msg.payload[48] << 16) + msg.payload[49]); Phase_C_Apparent_Power   = Int2Float32(Phase_C_Apparent_Power);\nvar Total_Apparent_Power\t= ((msg.payload[50] << 16) + msg.payload[51]); Total_Apparent_Power     = Int2Float32(Total_Apparent_Power);\n\nvar Phase_A_Power_Factor\t= ((msg.payload[52] << 16) + msg.payload[53]); Phase_A_Power_Factor     = Int2Float32(Phase_A_Power_Factor);\nvar Phase_B_Power_Factor    = ((msg.payload[54] << 16) + msg.payload[55]); Phase_B_Power_Factor     = Int2Float32(Phase_B_Power_Factor);\nvar Phase_C_Power_Factor    = ((msg.payload[56] << 16) + msg.payload[57]); Phase_C_Power_Factor     = Int2Float32(Phase_C_Power_Factor);\nvar Total_Power_Factor\t    = ((msg.payload[58] << 16) + msg.payload[59]); Total_Power_Factor       = Int2Float32(Total_Power_Factor);\n\n// Output Message\nmsg.payload = {\n    \"Frequency\"                 : Frequency,\n    \"Phase_1_Voltage\"           : Phase_1_Voltage,\n    \"Phase_2_Voltage\"           : Phase_2_Voltage,\n    \"Phase_3_Voltage\"           : Phase_3_Voltage,\n    \"Average_Phase_Voltage\"     : Average_Phase_Voltage,\n    \"Line_Voltage_1_2\"          : Line_Voltage_1_2,\n    \"Line_Voltage_2_3\"          : Line_Voltage_2_3,\n    \"Line_Voltage_3_1\"          : Line_Voltage_3_1,\n    \"Average_Line_Voltage\"      : Average_Line_Voltage,\n    \"Total_Phase_A_Current\"     : RelCT * Total_Phase_A_Current,\n    \"Total_Phase_B_Current\"     : RelCT * Total_Phase_B_Current,\n    \"Total_Phase_C_Current\"     : RelCT * Total_Phase_C_Current,\n    \"Average_Phase_Current\"     : RelCT * Average_Phase_Current,\n    \"Neutral_Current\"           : Neutral_Current,\n    \"Phase_A_Power\"             : RelCT * Phase_A_Power/1000,\n    \"Phase_B_Power\"             : RelCT * Phase_B_Power/1000,\n    \"Phase_C_Power\"             : RelCT * Phase_C_Power/1000,\n    \"Total_System_Power\"        : RelCT * Total_System_Power/1000,\n    \"Phase_A_Reactive_Power\"    : RelCT * Phase_A_Reactive_Power/1000,\n    \"Phase_B_Reactive_Power\"    : RelCT * Phase_B_Reactive_Power/1000,\n    \"Phase_C_Reactive_Power\"    : RelCT * Phase_C_Reactive_Power/1000,\n    \"Total_Reactive_Power\"      : RelCT * Total_Reactive_Power/1000,\n    \"Phase_A_Apparent_Power\"    : RelCT * Phase_A_Apparent_Power/1000,\n    \"Phase_B_Apparent_Power\"    : RelCT * Phase_B_Apparent_Power/1000,\n    \"Phase_C_Apparent_Power\"    : RelCT * Phase_C_Apparent_Power/1000,\n    \"Total_Apparent_Power\"      : RelCT * Total_Apparent_Power/1000,\n    \"Phase_A_Power_Factor\"      : Phase_A_Power_Factor,\n    \"Phase_B_Power_Factor\"      : Phase_B_Power_Factor,\n    \"Phase_C_Power_Factor\"      : Phase_C_Power_Factor,\n    \"Total_Power_Factor\"        : Total_Power_Factor\n}\n\nreturn msg;\n\n\n\n\n// IEC 754 to Float Function\n\n/* Converts from an number, string, buffer or array representing an IEEE-754 value\n * to a javascript float.\n * The following may be given in msg.payload:\n *      A string representing a number, which may be hex or binary\n *        examples, \"1735\"  \"0x02045789\"  0b01000000010010010000111111011011\n *      An integer value\n *      A four element array or buffer of 8 bit values, most significant byte first.\n*/ \n// first make a number from the given payload if necessary\n\nfunction Int2Float32(bytes) {\n    var sign = (bytes & 0x80000000) ? -1 : 1;\n    var exponent = ((bytes >> 23) & 0xFF) - 127;\n    var significand = (bytes & ~(-1 << 23));\n\n    if (exponent == 128) \n        return sign * ((significand) ? Number.NaN : Number.POSITIVE_INFINITY);\n\n    if (exponent == -127) {\n        if (significand === 0) return sign * 0.0;\n        exponent = -126;\n        significand /= (1 << 22);\n    } else significand = (significand | (1 << 23)) / (1 << 23);\n\n    return sign * significand * Math.pow(2, exponent);\n}\n\n// Créditos: https://flows.nodered.org/flow/359ead34237b7ab6ec0465ee85a34b62RelCT","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3620,"y":1240,"wires":[["f28712cf.12333","2c9537b.8dbd1c8"]]},{"id":"7c9484af.5ac80c","type":"switch","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"Real Time Parameters","vt":"str"},{"t":"eq","v":"Energy Parameters","vt":"str"},{"t":"eq","v":"Power Quality","vt":"str"},{"t":"eq","v":"Phase Angles","vt":"str"},{"t":"eq","v":"Harmonics_V1(V12)","vt":"str"},{"t":"eq","v":"Harmonics_V2(V31)","vt":"str"},{"t":"eq","v":"Harmonics_V3(V23)","vt":"str"},{"t":"eq","v":"Harmonics_I1","vt":"str"},{"t":"eq","v":"Harmonics_I2","vt":"str"},{"t":"eq","v":"Harmonics_I3","vt":"str"}],"checkall":"false","repair":false,"outputs":10,"x":3320,"y":1420,"wires":[["10a8d7ac.83d708"],["4d065d75.805514"],["2f63d344.dc84dc"],["d803580d.4bff08"],["34a60198.0d6f0e"],["b4701456.7bb958"],["ce6e0060.94917"],["d9579473.d8da18"],["7bdf0458.df1dcc"],["bb3305d0.ffb338"]]},{"id":"2f63d344.dc84dc","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Harmonics - Power Quality","func":"msg.payload = {\n    \"THD_V1(V12)\"   : msg.payload[0]/100,\n    \"THD_V2(V31)\"   : msg.payload[1]/100,\n    \"THD_V3(V23)\"   : msg.payload[2]/100,\n    \"THD_avg\"       : msg.payload[3]/100,\n    \"THD_I1\"        : msg.payload[4]/100,\n    \"THD_I2\"        : msg.payload[5]/100,\n    \"THD_I3\"        : msg.payload[6]/100,\n    \"THD_Iavg\"      : msg.payload[7]/100\n}\nreturn msg;","outputs":1,"noerr":0,"x":3590,"y":1320,"wires":[["f28712cf.12333","4c713c15.0ad934"]]},{"id":"d803580d.4bff08","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Phase Angles","func":"msg.payload = {\n    \"Phase_Angle_of_V2_to_V1\"   : msg.payload[0]/10,\n    \"Phase_Angle_of_V3_to_V1\"   : msg.payload[1]/10,\n    \"Phase_Angle_of_I1_to_V1\"   : msg.payload[2]/10,\n    \"Phase_Angle_of_I2_to_V1\"   : msg.payload[3]/10,\n    \"Phase_Angle_of_I3_to_V1\"   : msg.payload[4]/10\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3550,"y":1360,"wires":[["f28712cf.12333","552444bc.3806fc"]]},{"id":"4d065d75.805514","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Energy Parameters IEC754 to Float ","func":"/* Converts from an number, string, buffer or array representing an IEEE-754 value\n * to a javascript float.\n * The following may be given in msg.payload:\n *      A string representing a number, which may be hex or binary\n *        examples, \"1735\"  \"0x02045789\"  0b01000000010010010000111111011011\n *      An integer value\n *      A four element array or buffer of 8 bit values, most significant byte first.\n*/ \n// first make a number from the given payload if necessary\n\n\n// Convert 2 registers of 16 bits in one of 32 bits\nvar Consumed_Energy\t            = ((msg.payload[0] << 16) + msg.payload[1]); Consumed_Energy            = Int2Float32(Consumed_Energy);\nvar Generated_Energy\t\t    = ((msg.payload[2] << 16) + msg.payload[3]); Generated_Energy           = Int2Float32(Generated_Energy);\nvar Consumed_Reactive_Energy    = ((msg.payload[4] << 16) + msg.payload[5]); Consumed_Reactive_Energy   = Int2Float32(Consumed_Reactive_Energy);\nvar Generated_Reactive_Energy   = ((msg.payload[6] << 16) + msg.payload[7]); Generated_Reactive_Energy  = Int2Float32(Generated_Reactive_Energy);\nvar Total_Energy\t\t        = ((msg.payload[8] << 16) + msg.payload[9]); Total_Energy               = Int2Float32(Total_Energy);\n\n// Output Message\nmsg.payload = {\n    \"Consumed_Energy\"           : Consumed_Energy,\n    \"Generated_Energy\"          : Generated_Energy,\n    \"Consumed_Reactive_Energy\"  : Consumed_Reactive_Energy,\n    \"Generated_Reactive_Energy\" : Generated_Energy,\n    \"Total_Energy\"              : Total_Energy\n}\n\nreturn msg;\n\n// IEC 754 to Float Function\nfunction Int2Float32(bytes) {\n    var sign = (bytes & 0x80000000) ? -1 : 1;\n    var exponent = ((bytes >> 23) & 0xFF) - 127;\n    var significand = (bytes & ~(-1 << 23));\n\n    if (exponent == 128) \n        return sign * ((significand) ? Number.NaN : Number.POSITIVE_INFINITY);\n\n    if (exponent == -127) {\n        if (significand === 0) return sign * 0.0;\n        exponent = -126;\n        significand /= (1 << 22);\n    } else significand = (significand | (1 << 23)) / (1 << 23);\n\n    return sign * significand * Math.pow(2, exponent);\n}\n\n// Créditos: https://flows.nodered.org/flow/359ead34237b7ab6ec0465ee85a34b62","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3610,"y":1280,"wires":[["f28712cf.12333","4493e96a.770e08"]]},{"id":"f28712cf.12333","type":"link out","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Datos PQA","links":["58926891.1f2dd8","eb7629af.3f96d8","2a5a7292.85414e","9a4415f9.400998"],"x":3825,"y":1190,"wires":[]},{"id":"2c9537b.8dbd1c8","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Real_Time_Parameters","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3960,"y":1240,"wires":[[]]},{"id":"4493e96a.770e08","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Energy_Parameters","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3950,"y":1280,"wires":[[]]},{"id":"4c713c15.0ad934","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Harmonics.Power_Quality","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3970,"y":1320,"wires":[[]]},{"id":"552444bc.3806fc","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Phase_Angles","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3940,"y":1360,"wires":[[]]},{"id":"34a60198.0d6f0e","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Harmonics - V1(V12)","func":"msg.payload = {\n    \"THD_V1(V12)_3o\"    : msg.payload[1]/100,\n    \"THD_V1(V12)_5o\"    : msg.payload[3]/100,\n    \"THD_V1(V12)_7o\"    : msg.payload[5]/100,\n    \"THD_V1(V12)_9o\"    : msg.payload[7]/100,\n    \"THD_V1(V12)_11o\"   : msg.payload[9]/100,\n    \"THD_V1(V12)_13o\"   : msg.payload[11]/100,\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3570,"y":1400,"wires":[["c404fb6a.ab0d48"]]},{"id":"c404fb6a.ab0d48","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Harmonics.V1_V12","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3950,"y":1400,"wires":[[]]},{"id":"ce6e0060.94917","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Harmonics_V3(V23)","func":"msg.payload = {\n    \"THD_V3(V23)_3o\"    : msg.payload[1]/100,\n    \"THD_V3(V23)_5o\"    : msg.payload[3]/100,\n    \"THD_V3(V23)_7o\"    : msg.payload[5]/100,\n    \"THD_V3(V23)_9o\"    : msg.payload[7]/100,\n    \"THD_V3(V23)_11o\"   : msg.payload[9]/100,\n    \"THD_V3(V23)_13o\"   : msg.payload[11]/100,\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3560,"y":1480,"wires":[["908d15a.2c73de8"]]},{"id":"908d15a.2c73de8","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Harmonics.V3_V23","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3950,"y":1480,"wires":[[]]},{"id":"d2ffdd1e.e26f5","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Harmonics.V2_V31","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3950,"y":1440,"wires":[[]]},{"id":"d9579473.d8da18","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Harmonics_I1","func":"msg.payload = {\n    \"THD_I1_3o\"    : msg.payload[1]/100,\n    \"THD_I1_5o\"    : msg.payload[3]/100,\n    \"THD_I1_7o\"    : msg.payload[5]/100,\n    \"THD_I1_9o\"    : msg.payload[7]/100,\n    \"THD_I1_11o\"   : msg.payload[9]/100,\n    \"THD_I1_13o\"   : msg.payload[11]/100,\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3550,"y":1520,"wires":[["2249a8a.5b30458"]]},{"id":"7bdf0458.df1dcc","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Harmonics_I2","func":"msg.payload = {\n    \"THD_I2_3o\"    : msg.payload[1]/100,\n    \"THD_I2_5o\"    : msg.payload[3]/100,\n    \"THD_I2_7o\"    : msg.payload[5]/100,\n    \"THD_I2_9o\"    : msg.payload[7]/100,\n    \"THD_I2_11o\"   : msg.payload[9]/100,\n    \"THD_I2_13o\"   : msg.payload[11]/100,\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3550,"y":1560,"wires":[["ff32f894.ee0898"]]},{"id":"bb3305d0.ffb338","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Harmonics_I3","func":"msg.payload = {\n    \"THD_I3_3o\"    : msg.payload[1]/100,\n    \"THD_I3_5o\"    : msg.payload[3]/100,\n    \"THD_I3_7o\"    : msg.payload[5]/100,\n    \"THD_I3_9o\"    : msg.payload[7]/100,\n    \"THD_I3_11o\"   : msg.payload[9]/100,\n    \"THD_I3_13o\"   : msg.payload[11]/100,\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3550,"y":1600,"wires":[["b9b8eb03.7d72f8"]]},{"id":"b4701456.7bb958","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Harmonics_V2(V31)","func":"msg.payload = {\n    \"THD_V2(V31)_3o\"    : msg.payload[1]/100,\n    \"THD_V2(V31)_5o\"    : msg.payload[3]/100,\n    \"THD_V2(V31)_7o\"    : msg.payload[5]/100,\n    \"THD_V2(V31)_9o\"    : msg.payload[7]/100,\n    \"THD_V2(V31)_11o\"   : msg.payload[9]/100,\n    \"THD_V2(V31)_13o\"   : msg.payload[11]/100,\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3560,"y":1440,"wires":[["d2ffdd1e.e26f5"]]},{"id":"b9b8eb03.7d72f8","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Harmonics.I3","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3930,"y":1600,"wires":[[]]},{"id":"ff32f894.ee0898","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Harmonics.I2","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3930,"y":1560,"wires":[[]]},{"id":"2249a8a.5b30458","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Harmonics.I1","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3930,"y":1520,"wires":[[]]},{"id":"5b529f4c.7ffeb","type":"ui_chart","z":"d35c32b9.6419b","d":true,"g":"aafad2ba.dcc8b","name":"","group":"760e85bd.1f3e7c","order":2,"width":0,"height":0,"label":"{{msg.label}}","chartType":"bar","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#f20707","#033e8c","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"outputs":1,"x":1020,"y":2030,"wires":[[]]},{"id":"6c9ed5d3.e7799c","type":"function","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"Harmonics chart generation","func":"var chart = \n[{\n    \"series\": [\"THD-V\", \"THD-I\"],\n    \"data\": msg.payload,\n    \"labels\": [ \"1o\", \"3o\",\"5o\",\"7o\",\"9o\",\"11o\",\"13o\"]\n}];\n\nmsg.payload = chart;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":830,"y":2030,"wires":[["5b529f4c.7ffeb"]]},{"id":"76a74813.5dd3f8","type":"inject","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":120,"y":2030,"wires":[["c8aa3a95.12b518"]]},{"id":"23815ef1.931a32","type":"ui_dropdown","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","label":"Seleccione ","tooltip":"","place":"Select option","group":"760e85bd.1f3e7c","order":1,"width":0,"height":0,"passthru":true,"multiple":false,"options":[{"label":"Línea 1 ","value":"Linea1","type":"str"},{"label":"Línea 2","value":"Linea2","type":"str"},{"label":"Línea 3 ","value":"Linea3","type":"str"},{"label":"Promedio","value":"LineaP","type":"str"}],"payload":"","topic":"","x":520,"y":1980,"wires":[["20b8681c.81fd48"]]},{"id":"2b47642.2404d9c","type":"link in","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","links":["97407954.a004c8"],"x":155,"y":2090,"wires":[["eddefb96.175bf8","ec03441d.979088"]]},{"id":"eddefb96.175bf8","type":"switch","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"User in harmonics Screen ?","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Monitoreo-Datos_Operativos-Superficie_y_Fondo","vt":"str"},{"t":"neq","v":"Monitoreo-Datos_Operativos-Superficie_y_Fondo","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":310,"y":2090,"wires":[["a5c181ee.2efe1"],["b54a4559.022378"]]},{"id":"a5c181ee.2efe1","type":"change","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Harmonics_Chart.Prompt","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":590,"y":2070,"wires":[[]]},{"id":"b54a4559.022378","type":"change","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Harmonics_Chart.Prompt","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":590,"y":2110,"wires":[[]]},{"id":"3ea5879e.bf0588","type":"function","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"Data Handle harmonics chart","func":"var PQA_Data                = global.get(\"PQA.Harmonics\", \"memoryOnly\") || \"[]\";\nvar Chart_Selection         = flow.get(\"Harmonics_Chart.Selection\", \"memoryOnly\") || \"\";\n\nvar Linea1_V = Object.values(PQA_Data.V1_V12);\nvar Linea1_I = Object.values(PQA_Data.I1);\n\nvar Linea2_V = Object.values(PQA_Data.V2_V31);\nvar Linea2_I = Object.values(PQA_Data.I2);\n\n\nvar Linea3_V = Object.values(PQA_Data.V3_V23);\nvar Linea3_I = Object.values(PQA_Data.I3);\n\nvar LineaP_V = [\n                    ((Linea1_V[0]+Linea2_V[0]+Linea3_V[0])/3).toFixed(2),\n                    ((Linea1_V[1]+Linea2_V[1]+Linea3_V[1])/3).toFixed(2),\n                    ((Linea1_V[2]+Linea2_V[0]+Linea3_V[2])/3).toFixed(2),\n                    ((Linea1_V[3]+Linea2_V[0]+Linea3_V[3])/3).toFixed(2),\n                    ((Linea1_V[4]+Linea2_V[0]+Linea3_V[4])/3).toFixed(2),\n                    ((Linea1_V[5]+Linea2_V[0]+Linea3_V[5])/3).toFixed(2)\n                ];\nvar LineaP_I = [\n                    ((Linea1_I[0]+Linea2_I[0]+Linea3_I[0])/3).toFixed(2),\n                    ((Linea1_I[1]+Linea2_I[1]+Linea3_I[1])/3).toFixed(2),\n                    ((Linea1_I[2]+Linea2_I[0]+Linea3_I[2])/3).toFixed(2),\n                    ((Linea1_I[3]+Linea2_I[0]+Linea3_I[3])/3).toFixed(2),\n                    ((Linea1_I[4]+Linea2_I[0]+Linea3_I[4])/3).toFixed(2),\n                    ((Linea1_I[5]+Linea2_I[0]+Linea3_I[5])/3).toFixed(2),\n                ];\n\nif(Chart_Selection == \"Linea1\")\n    {\n        msg.payload =  [ Linea1_V , Linea1_I];\n        msg.label   = \"Porcentaje Armónico Línea 1\";\n    }\nelse if(Chart_Selection == \"Linea2\")\n    {\n        msg.payload =  [ Linea2_V , Linea2_I];\n        msg.label   = \"Porcentaje Armónico Línea 2\";\n    }\nelse if(Chart_Selection == \"Linea3\")\n    {\n        msg.payload =  [ Linea3_V , Linea3_I];\n        msg.label   = \"Porcentaje Armónico Línea 3\";\n    }\nelse if(Chart_Selection == \"LineaP\")\n    {\n        {\n        msg.payload =  [ LineaP_V , LineaP_I];\n        msg.label   = \"Porcentaje Armónico Promedio\";\n    }\n    }\nreturn msg; \n\n\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":570,"y":2030,"wires":[["6c9ed5d3.e7799c"]]},{"id":"c8aa3a95.12b518","type":"switch","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"Harmonics Chart Prompted? ","property":"#:(memoryOnly)::Harmonics_Chart.Prompt","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":2030,"wires":[["3ea5879e.bf0588"]]},{"id":"20b8681c.81fd48","type":"change","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Harmonics_Chart.Selection","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":750,"y":1980,"wires":[[]]},{"id":"ec03441d.979088","type":"debug","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":240,"y":2130,"wires":[]},{"id":"d3482e86.9d4d5","type":"ui_button","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"","group":"eb661a32.5e64e8","order":1,"width":0,"height":0,"passthru":false,"label":"Local/Remoto","tooltip":"","color":"","bgcolor":"","icon":"","payload":"Desea cambiar el modo de control a:","payloadType":"str","topic":"","x":1560,"y":230,"wires":[["ce30a63b.0bdbd8"]]},{"id":"2e03fe57.8c60b2","type":"change","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"Local/Remoto","rules":[{"t":"set","p":"Local/Remoto","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":230,"wires":[["463cab1e.a805d4","8f8e4fb5.2d9b2"]]},{"id":"463cab1e.a805d4","type":"ui_text","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","group":"eb661a32.5e64e8","order":2,"width":0,"height":0,"name":"","label":"L/R:","format":"{{msg.payload}}","layout":"row-spread","x":2110,"y":230,"wires":[]},{"id":"ce30a63b.0bdbd8","type":"ui_toast","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"Local","cancel":"Remoto","raw":false,"topic":"","name":"","x":1730,"y":230,"wires":[["2e03fe57.8c60b2","3cbffb1f.402f24"]]},{"id":"938aa2d6.74dae","type":"link in","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"Local/Remoto","links":["ad87cee4.7dbb5","5bcc4439.12381c"],"x":1745,"y":150,"wires":[["5f8495ce.db632c"]]},{"id":"7b33059d.fa394c","type":"inject","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1590,"y":190,"wires":[["5f8495ce.db632c"]]},{"id":"5f8495ce.db632c","type":"change","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Local/Remoto","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":190,"wires":[["2e03fe57.8c60b2"]]},{"id":"1995f952.35b347","type":"link out","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"Enable","links":["ba3ec3f7.7f116"],"x":2335,"y":170,"wires":[]},{"id":"8f8e4fb5.2d9b2","type":"switch","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"Local","vt":"str"},{"t":"cont","v":"Remoto","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":2110,"y":190,"wires":[["17133f68.94e5f1"],["935ca480.525e98"]]},{"id":"935ca480.525e98","type":"link out","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"Remote Disable","links":["ba17111f.99209","bf656c1e.ff84","a7923a8c.7c39d8"],"x":2195,"y":210,"wires":[]},{"id":"17133f68.94e5f1","type":"switch","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"User","property":"UserStatus","propertyType":"global","rules":[{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":2240,"y":170,"wires":[["1995f952.35b347"]]},{"id":"40c12bb3.ead9f4","type":"link in","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"","links":["6d40adaa.11d2c4"],"x":1745,"y":110,"wires":[["5f8495ce.db632c"]]},{"id":"f4f581a.cfeba8","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"d6b9a19.933576","name":"Navbar Monitoreo Datos eléctrico","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":440,"y":1930,"wires":[[]]},{"id":"a8914523.bc9e68","type":"inject","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":140,"y":540,"wires":[["49fc1b59.51f164"]]},{"id":"e39916f8.4609d8","type":"link in","z":"68deacdf.9a36f4","g":"52cef377.daab5c","name":"Consulta IO Link In","links":["8779966a.f672e8"],"x":1365,"y":170,"wires":[["20bcc378.2c882c"]]},{"id":"20bcc378.2c882c","type":"switch","z":"68deacdf.9a36f4","g":"52cef377.daab5c","name":"DO","property":"Monitoreo_ES_Sel","propertyType":"flow","rules":[{"t":"eq","v":"SalidasDigitales","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1450,"y":170,"wires":[["c4d4160a.bd9958"]]},{"id":"c4d4160a.bd9958","type":"function","z":"68deacdf.9a36f4","g":"52cef377.daab5c","name":"DO","func":"Canal   = flow.get('ES');\nIO      = global.get('IO','memoryOnly');\n\nvar Funciones   = [];\nvar TipoIO      = [];\nvar Values      = [];\n\n// Entradas Digitales\nvar str = \"Canal\"+8;\nvar otro = Object.keys(IO.DO);\n\nfor(var i = 0; i<otro.length; i++){\n    var index= 'Canal'+otro[i];\n    if(typeof Canal.SD[index] != 'undefined'){\n        Funciones.push(Canal.SD[index].Funcion);\n        TipoIO.push(Canal.SD[index].Tipo);\n        Values.push(IO.DO[otro[i]]);\n        \n    }\n    else{\n        Funciones.push('Ninguno');\n        TipoIO.push('--');\n        Values.push('--');\n    }\n}\nmsg.payload = {\n    'Canales': otro, \n    'Funciones':Funciones,\n    'Tipo': TipoIO,\n    'Values': Values\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1570,"y":170,"wires":[["b4b08522.2499f8"]]},{"id":"273246a6.a5d34a","type":"ui_template","z":"68deacdf.9a36f4","g":"52cef377.daab5c","group":"bf3ce100.cbf08","name":"","order":1,"width":"0","height":"0","format":"","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":1840,"y":170,"wires":[[]]},{"id":"b4b08522.2499f8","type":"template","z":"68deacdf.9a36f4","g":"52cef377.daab5c","name":"","field":"template","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!DOCTYPE html>\n<html>\n    <head>\n        <style>\n            table {\n                font-family: arial, sans-serif;\n                border-collapse: collapse;\n                font-size:14px;\n                margin-left: auto;\n                margin-right: auto;\n                margin-top:10px;\n            }\n            tr{\n                widtd:20px;\n            }\n            td,tr,th {\n              border: 2px solid #000000;\n              text-align: center;\n              padding: 4px;\n            }\n            th{\n                color: #fcfeff;\n                background-color: #77797a;\n            }\n        </style>\n    </head>\n        <table class=\"TextBox\">\n            <tr>\n                <th>Canal</th>\n                <th>Función</th>\n                <th>Tipo</th>\n                <th>Estado</th>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.0}}}</td>\n                <td>{{payload.Funciones.0}}</td>\n                <td>{{payload.Tipo.0}}</td>\n                <td>{{payload.Values.0}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.1}}}</td>\n                <td>{{payload.Funciones.1}}</td>\n                <td>{{payload.Tipo.1}}</td>\n                <td>{{payload.Values.1}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.2}}}</td>\n                <td>{{payload.Funciones.2}}</td>\n                <td>{{payload.Tipo.2}}</td>\n                <td>{{payload.Values.2}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.3}}}</td>\n                <td>{{payload.Funciones.3}}</td>\n                <td>{{payload.Tipo.3}}</td>\n                <td>{{payload.Values.3}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.4}}}</td>\n                <td>{{payload.Funciones.4}}</td>\n                <td>{{payload.Tipo.4}}</td>\n                <td>{{payload.Values.4}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.5}}}</td>\n                <td>{{payload.Funciones.5}}</td>\n                <td>{{payload.Tipo.5}}</td>\n                <td>{{payload.Values.5}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.6}}}</td>\n                <td>{{payload.Funciones.6}}</td>\n                <td>{{payload.Tipo.6}}</td>\n                <td>{{payload.Values.6}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.7}}}</td>\n                <td>{{payload.Funciones.7}}</td>\n                <td>{{payload.Tipo.7}}</td>\n                <td>{{payload.Values.7}}</td>\n            </tr>\n            \n        </table>\n </body>\n\n</html>           \n        ","output":"str","x":1700,"y":170,"wires":[["273246a6.a5d34a"]]},{"id":"7fb016f3.574be8","type":"link in","z":"68deacdf.9a36f4","g":"76192ad6.067fa4","name":"Consulta IO Link In","links":["8779966a.f672e8"],"x":1365,"y":260,"wires":[["eae4c15c.1567d"]]},{"id":"eae4c15c.1567d","type":"switch","z":"68deacdf.9a36f4","g":"76192ad6.067fa4","name":"SA","property":"Monitoreo_ES_Sel","propertyType":"flow","rules":[{"t":"eq","v":"SalidasAnalogicas","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1450,"y":260,"wires":[["fe4792d6.27d84"]]},{"id":"fe4792d6.27d84","type":"function","z":"68deacdf.9a36f4","g":"76192ad6.067fa4","name":"SA","func":"Canal   = flow.get('ES');\nIO      = global.get('IO','memoryOnly');\n\nvar Funciones   = [];\nvar TipoIO      = [];\nvar Values      = [];\n\n// Salidas Analógicas\nvar otro = [1,2,3,4];\n\nfor(var i = 0; i<otro.length; i++){\n    var index= 'AO'+otro[i];\n    if(typeof Canal.SA[index] != 'undefined'){\n        Funciones.push(Canal.SA[index].Funcion);\n        Values.push(IO.AO[index]);\n    }\n    else{\n        Funciones.push('Ninguno');\n        TipoIO.push('--');\n        Values.push('--');\n    }\n}\nmsg.payload = {\n    'Canales': otro, \n    'Funciones':Funciones,\n    'Values': Values\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1570,"y":260,"wires":[["4f79f4f3.46588c"]]},{"id":"9ac5fb1d.327ff8","type":"ui_template","z":"68deacdf.9a36f4","g":"76192ad6.067fa4","group":"a25dadea.709bb","name":"","order":1,"width":"0","height":"0","format":"","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":1840,"y":260,"wires":[[]]},{"id":"9b29345d.646748","type":"change","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"Salidas analógicas","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Monitoreo_ES_CILA2S_Monitoreo_E.D.\",\t                \"Monitoreo_ES_CILA2S_Monitoreo_E.A.\",\t                \"Monitoreo_ES_CILA2S_Monitoreo_S.D.\"],\t       \"show\":[ \"Monitoreo_ES_CILA2S_Monitoreo_S.A.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1350,"y":2020,"wires":[["e6e875a0.3f91d8"]]},{"id":"4f79f4f3.46588c","type":"template","z":"68deacdf.9a36f4","g":"76192ad6.067fa4","name":"","field":"template","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!DOCTYPE html>\n<html>\n    <head>\n        <style>\n            table {\n                font-family: arial, sans-serif;\n                border-collapse: collapse;\n                font-size:14px;\n                margin-left: auto;\n                margin-right: auto;\n                margin-top:10px;\n            }\n            tr{\n                widtd:20px;\n            }\n            td,tr,th {\n              border: 2px solid #000000;\n              text-align: center;\n              padding: 4px;\n            }\n            th{\n                color: #fcfeff;\n                background-color: #77797a;\n            }\n        </style>\n    </head>\n        <table class=\"TextBox\">\n            <tr>\n                <th>Canal</th>\n                <th>Función</th>\n                <th>Valor escalizado 4-20 mA</th>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.0}}}</td>\n                <td>{{payload.Funciones.0}}</td>\n                <td>{{payload.Values.0}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.1}}}</td>\n                <td>{{payload.Funciones.1}}</td>\n                <td>{{payload.Values.1}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.2}}}</td>\n                <td>{{payload.Funciones.2}}</td>\n                <td>{{payload.Values.2}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.3}}}</td>\n                <td>{{payload.Funciones.3}}</td>\n                <td>{{payload.Values.3}}</td>\n            </tr>\n        </table>\n </body>\n\n</html>           \n        ","output":"str","x":1700,"y":260,"wires":[["9ac5fb1d.327ff8"]]},{"id":"d4a47d02.7580e","type":"function","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Evento Rampas","func":"Accel_Decel = global.get('Speed_Control');\nmsg.payload = \"Cambio de rampas: Aceleración: \" +Accel_Decel.Accel+\" Desaceleración: \"+Accel_Decel.Decel;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1440,"y":180,"wires":[["44b05f12.5269e","272a4804.a55718"]]},{"id":"44b05f12.5269e","type":"ui_toast","z":"43b51d90.0b47f4","g":"a7e99088.c8108","position":"top right","displayTime":"5","highlight":"","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1810,"y":180,"wires":[]},{"id":"272a4804.a55718","type":"link out","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Rampas y límites","links":["59e817c2.295b38"],"x":1735,"y":140,"wires":[]},{"id":"c48a9a39.50daa8","type":"function","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Evento Límites","func":"Accel_Decel = global.get('Speed_Control');\nmsg.payload = \"Cambio de límites de velocidad: Mínimo: \" +Accel_Decel.MinLimit+\" Máximo: \"+Accel_Decel.MaxLimit;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1440,"y":300,"wires":[["272a4804.a55718","44b05f12.5269e"]]},{"id":"b5a3116a.ae72c","type":"function","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Evento placa de motor","func":"\nAccel_Decel = global.get('Speed_Control');\nmsg.payload = \"Actualización de los datos de placa de motor\";\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1539,"y":648,"wires":[["8307ca17.c4d5b8","1b0e4b2b.ecf4e5"]]},{"id":"8307ca17.c4d5b8","type":"ui_toast","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","position":"top right","displayTime":"5","highlight":"","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1879,"y":648,"wires":[]},{"id":"1b0e4b2b.ecf4e5","type":"link out","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Rampas y límites","links":["59e817c2.295b38"],"x":1754,"y":608,"wires":[]},{"id":"d517c385.40ed7","type":"ui_toast","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","position":"top right","displayTime":"5","highlight":"","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1880,"y":1356,"wires":[]},{"id":"2e60217a.d7bbae","type":"link out","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Rampas y límites","links":["59e817c2.295b38"],"x":1795,"y":1316,"wires":[]},{"id":"190647c5.caaac8","type":"function","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Evento ajustes de refuerzo","func":"\nAccel_Decel = global.get('Speed_Control');\nmsg.payload = \"Actualización de los ajustes de refuerzo\";\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1610,"y":1356,"wires":[["d517c385.40ed7","2e60217a.d7bbae"]]},{"id":"4de602f2.c6858c","type":"switch","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Remoto","property":"Local/Remoto","propertyType":"global","rules":[{"t":"eq","v":"Remoto","vt":"str"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":4070,"y":570,"wires":[["a6adbd4d.9a3c4"],["17ca02e7.855ccd"]]},{"id":"6054591f.97bbc8","type":"switch","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Remoto","property":"Local/Remoto","propertyType":"global","rules":[{"t":"eq","v":"Remoto","vt":"str"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":4070,"y":650,"wires":[["a1197dc9.92f25"],["9515e42e.7cd818"]]},{"id":"3cbffb1f.402f24","type":"function","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"Evento Local/Remoto","func":"msg.payload = \"Modo de control: \"+ msg.payload;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1940,"y":270,"wires":[["49449801.c79e48"]]},{"id":"49449801.c79e48","type":"link out","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"Local/Remoto","links":["59e817c2.295b38"],"x":2075,"y":270,"wires":[]},{"id":"75954ddb.3b0f04","type":"link in","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"Inicio Menu","links":["ad87cee4.7dbb5"],"x":1215,"y":270,"wires":[["7b211215.487a7c"]]},{"id":"da8d71fd.6a33c","type":"link in","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Inicio Menu Protecciones Fondo","links":["ad87cee4.7dbb5"],"x":1185,"y":440,"wires":[["d4249aea.7ecbb8"]]},{"id":"5e926cf.a17a594","type":"link in","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"Inicio Menu Protecciones Superficie","links":["ad87cee4.7dbb5"],"x":1125,"y":860,"wires":[["8392125c.4233b"]]},{"id":"7ced728d.a743bc","type":"link in","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","name":"Inicio Menu Eventos/Alarmas","links":["ad87cee4.7dbb5"],"x":1155,"y":1130,"wires":[["c01095f3.dc9138"]]},{"id":"e6ef4f23.27ccf","type":"link in","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","name":"Bypass filtro armónicos","links":["ad87cee4.7dbb5"],"x":1185,"y":900,"wires":[["62dfb358.79fc6c"]]},{"id":"62dfb358.79fc6c","type":"switch","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","name":"","property":"A_Escalonado","propertyType":"global","rules":[{"t":"true"},{"t":"false"},{"t":"else"}],"checkall":"true","repair":false,"outputs":3,"x":1280,"y":880,"wires":[["1428e521.1c8dbb","299186bf.a445da"],["a574d4a.7590528","87796f75.f8ab"],["87796f75.f8ab","a574d4a.7590528","dc60d9f3.42b4d8"]]},{"id":"1428e521.1c8dbb","type":"change","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1460,"y":750,"wires":[["d31746bc.9f2cd8"]]},{"id":"299186bf.a445da","type":"change","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1460,"y":790,"wires":[["34e00571.9b85ea"]]},{"id":"87796f75.f8ab","type":"change","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1460,"y":830,"wires":[["d31746bc.9f2cd8"]]},{"id":"a574d4a.7590528","type":"change","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1460,"y":870,"wires":[["34e00571.9b85ea"]]},{"id":"d31746bc.9f2cd8","type":"ui_button","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","name":"","group":"a2cdbb78.31d778","order":6,"width":"6","height":"1","passthru":false,"label":"Habilitar Arranque Escalonado","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1680,"y":790,"wires":[["f9a107ed.f66078"]]},{"id":"f9a107ed.f66078","type":"change","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","name":"Habilitar","rules":[{"t":"set","p":"A_Escalonado","pt":"global","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1970,"y":850,"wires":[[]]},{"id":"dc60d9f3.42b4d8","type":"change","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","name":"Deshabilitar","rules":[{"t":"set","p":"A_Escalonado","pt":"global","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1980,"y":890,"wires":[[]]},{"id":"34e00571.9b85ea","type":"ui_button","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","name":"","group":"a2cdbb78.31d778","order":7,"width":"6","height":"1","passthru":false,"label":"Deshabilitar Arranque Escalonado","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1690,"y":830,"wires":[["dc60d9f3.42b4d8"]]},{"id":"b653852f.0fd278","type":"complete","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","name":"","scope":["f9a107ed.f66078","dc60d9f3.42b4d8"],"uncaught":false,"x":1130,"y":860,"wires":[["62dfb358.79fc6c","d902f116.599ee"]]},{"id":"d902f116.599ee","type":"change","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"A_Escalonado","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":710,"wires":[["3a17a6ec.a258ca"]]},{"id":"3a17a6ec.a258ca","type":"function","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","name":"Color","func":"if(msg.payload){\n    msg.payload = \"green\";\n    node.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n}\nelse{\n    msg.payload = \"grey\";\n    node.status({fill:\"grey\",shape:\"dot\",text:msg.payload});\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1640,"y":710,"wires":[["e6f2640b.e79278"]]},{"id":"e6f2640b.e79278","type":"ui_text","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","group":"45237b74.b00cc4","order":1,"width":0,"height":0,"name":"Indicador arranque escalonado","label":"<font color= {{msg.payload}}><font size=3><font = bold>Arranque","format":"<font color= {{msg.payload}}><font size=3>Escalonado","layout":"col-center","x":1840,"y":710,"wires":[]},{"id":"a114a289.8a1e4","type":"modbus-flex-write","z":"e86f0ca4.7feb5","g":"e2e299a6.d3c5c8","name":"PyModbus","showStatusActivities":true,"showErrors":true,"server":"3548b3b4.c8d65c","emptyMsgOnFail":false,"keepMsgProperties":false,"x":3340,"y":810,"wires":[[],[]]},{"id":"1e5314e3.cd3f7b","type":"function","z":"e86f0ca4.7feb5","g":"e2e299a6.d3c5c8","name":"Mapa Modbus","func":"var C2S         = global.get('C2S','memoryOnly')                || null;\nvar Np          = global.get('Motor_Control.Nameplate')         || null;\nvar LR          = global.get('Local/Remoto')                    || null;     \nvar SC          = global.get('Speed_Control')                   || null;\nvar Status      = global.get('Drive_Status','memoryOnly')       || null;\nvar PQA         = global.get('PQA','memoryOnly')                || null;\nvar MtrCurrent  = global.get('Motor.Current','memoryOnly')      || 0;\nvar MtrVoltage  = global.get('Motor.Voltage','memoryOnly')      || 0;\nvar DHSelect    = flow.get('DownholeSensor.Number')             || 0;\nvar DHSData     = global.get('DownHoleData.DHS','memoryOnly')   || null;\nvar DHSData2    = global.get('DownHoleData.AI','memoryOnly')    || null;\n\nvar Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\nvar RPMOut = Math.round((120 * C2S.Output_Frecuency * (1-slip))/(P*Rel));\n\n// Vector mapa Modbus\nvar Mapa = [];\n\nif(typeof C2S != 'undefined' && C2S != null){\n    Mapa[0]   = val(C2S.Output_Frecuency*10);\n    Mapa[1]   = val(MtrVoltage*10);\n    Mapa[2]   = val(C2S.Output_Current*10);\n    Mapa[8]   = val(C2S.Output_Power*10);\n    Mapa[10]  = val(C2S.Output_Voltage*10);\n    Mapa[12]  = val(RPMOut);\n    Mapa[14]  = val(C2S.Commanded_SpdRef);\n    Mapa[15]  = 1;                                        // No se ha definido. Estados Re-Arranque\n    Mapa[16]  = val(C2S.Bus_DC_Volts);\n    Mapa[17]  = 1;                                        // No se ha definido. Potencia aparente.\n    Mapa[18]  = val(C2S.Drive_Temp_C);\n    Mapa[20]  = 1;                                        // No se ha definido. Relación TX Elevador.\n    Mapa[21]  = 1;                                        // No se ha definido. Delta Voltaje de caida actual.\n    Mapa[22]  = 0;//val(DHSData[\"Vibración X\"]);                                        \n    Mapa[23]  = 0;//val(DHSData[\"Vibración Z\"]);                                        \n    Mapa[24]  = 1;                                        // No se ha definido. Vibración bomba lado acople.\n    Mapa[47]  = 1;                                        // No se ha definido. Referencia prolongada.\n\n}\n\n// Datos placa de motor.\nif(typeof MtrCurrent != 'undefined' && MtrCurrent != null){\n    Mapa[3]   = MtrCurrent*10;\n}\n\n// Datos comando Local/Remoto.\nif(typeof DHSelect != 'undefined' && DHSelect != null){\n    Mapa[4]   = DHSelect;\n}\n\n// Datos control de velocidad.\nif(typeof SC != 'undefined' && SC != null){\n    Mapa[5]   = SC.Accel;\n    Mapa[6]   = SC.Decel;\n    Mapa[9]   = SC.MinLimit*10;\n    Mapa[11]  = SC.MaxLimit*10;\n}\n// Datos estado C2S\nif(typeof Status != 'undefined' && Status != null){\n    Mapa[7]   = Status.Active == 1 ? 0:1;\n    Mapa[13]  = Status.Actual_dir == 1 ? 1:0;\n}\n\n// Datos PQA\nif(typeof PQA != 'undefined' && PQA != null){\n    Mapa[19]  = val(PQA.Real_Time_Parameters.Total_Power_Factor*100);\n    Mapa[25]  = 1;\n    Mapa[26]  = 1;\n    Mapa[27]  = val(PQA.Real_Time_Parameters.Average_Phase_Current*10);\n    Mapa[28]  = val(PQA.Real_Time_Parameters.Frequency*10);\n    Mapa[29]  = val(PQA.Real_Time_Parameters.Total_System_Power*10);\n    Mapa[30]  = val(PQA.Real_Time_Parameters.Total_Apparent_Power*10);\n    Mapa[31]  = val(PQA.Real_Time_Parameters.Total_Reactive_Power*10);\n    Mapa[32]  = val(PQA.Real_Time_Parameters.Total_Power_Factor*100);\n    Mapa[33]  = val(PQA.Real_Time_Parameters.Line_Voltage_1_2*10);\n    Mapa[34]  = val(PQA.Real_Time_Parameters.Line_Voltage_2_3*10);\n    Mapa[35]  = val(PQA.Real_Time_Parameters.Line_Voltage_3_1*10);\n    Mapa[36]  = val(PQA.Real_Time_Parameters.Phase_1_Voltage*10);\n    Mapa[37]  = val(PQA.Real_Time_Parameters.Phase_2_Voltage*10);\n    Mapa[38]  = val(PQA.Real_Time_Parameters.Phase_3_Voltage*10);\n    Mapa[39]  = val(PQA.Real_Time_Parameters.Total_Phase_A_Current*10);\n    Mapa[40]  = val(PQA.Real_Time_Parameters.Total_Phase_B_Current*10);\n    Mapa[41]  = val(PQA.Real_Time_Parameters.Total_Phase_C_Current*10);\n    Mapa[42]  = val(PQA.Real_Time_Parameters.Phase_A_Power*10);\n    Mapa[43]  = val(PQA.Real_Time_Parameters.Phase_B_Power*10);\n    Mapa[44]  = val(PQA.Real_Time_Parameters.Phase_C_Power*10);\n    Mapa[45]  = val(PQA.Harmonics.Power_Quality.THD_Iavg*10);\n    Mapa[46]  = val(PQA.Harmonics.Power_Quality.THD_avg*10);\n}\n\n// Datos Sensor de fondo\n//if(typeof DHSData != 'undefined' && DHSData != null && Object.keys(DHSData).length != 0){\n    Mapa[47]  = 0;//val(DHSData[\"Presión de entrada\"]);\n    Mapa[48]  = 0;//val(DHSData[\"Presión de descarga\"]);\n    Mapa[49]  = 0;//val(DHSData[\"Temperatura de entrada\"]);\n    Mapa[50]  = 0;//val(DHSData[\"Temperatura de descarga\"]);\n    Mapa[51]  = 0;//val(DHSData[\"Temperatura de motor\"]);\n    Mapa[52]  = 0;//val(DHSData2[\"Presión de casing\"]);\n    Mapa[53]  = 0;//val(DHSData2[\"Presión de cabeza THP\"]);\n    Mapa[54]  = 0;//val(DHSData[\"Temperatura de cabeza THT\"]);\n//}\n\n// Recorrer el mapa para evitar valores indefinidos\nfor(var i=0; i<Mapa.length; i+=1){\n    Mapa[i] = val(Mapa[i]);\n}\n\n// Escribir Mapa\nmsg.payload = { \n    value: Mapa, \n    'fc': 16,\n    'unitid': 1, \n    'address': 0 , \n    'quantity': Mapa.length \n}\nreturn msg;\n\n// Ajustar datos |definded X|\nfunction val(X){\n    if (isNaN(X)){X=0;}\n    return typeof X != 'undefined' ? parseInt(Math.abs(X)):0;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3150,"y":810,"wires":[["a114a289.8a1e4","573c6f3e.737db","97dbb46e.15a998"]]},{"id":"16d0549c.29adcb","type":"inject","z":"e86f0ca4.7feb5","g":"e2e299a6.d3c5c8","name":"","props":[{"p":"payload"}],"repeat":"1.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":3000,"y":810,"wires":[["1e5314e3.cd3f7b"]]},{"id":"5bdfa98d.170d08","type":"change","z":"ef673f81.6ec95","g":"58f712f1.3e5eec","name":"","rules":[{"t":"set","p":"IP","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1020,"y":340,"wires":[[]]},{"id":"82e7028e.38e78","type":"ui_button","z":"ef673f81.6ec95","g":"58f712f1.3e5eec","name":"","group":"907f5ff7.25cd8","order":6,"width":"4","height":"1","passthru":false,"label":"Confirmar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"IP","payloadType":"flow","topic":"","x":870,"y":380,"wires":[["e5d62358.6f646"]]},{"id":"b74aaf11.088a3","type":"catch","z":"e86f0ca4.7feb5","g":"e2e299a6.d3c5c8","name":"","scope":["1e5314e3.cd3f7b"],"uncaught":false,"x":3530,"y":850,"wires":[["43428867.2750e8"]]},{"id":"43428867.2750e8","type":"debug","z":"e86f0ca4.7feb5","g":"e2e299a6.d3c5c8","name":"Error lectura MBS Par","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":3700,"y":850,"wires":[]},{"id":"577047bb.6519b8","type":"link in","z":"3df4c8d9.0bdc38","g":"ab7a4a2c.17d8a8","name":"Indicador Arranque Escalonado","links":["ad87cee4.7dbb5"],"x":1185,"y":820,"wires":[["d902f116.599ee"]]},{"id":"b275f5b2.e7e328","type":"link in","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"Bypass filtro armónicos","links":["ad87cee4.7dbb5"],"x":1775,"y":2360,"wires":[["5472c69c.f21938"]]},{"id":"5472c69c.f21938","type":"switch","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"","property":"Automatic_Restart.Enable","propertyType":"flow","rules":[{"t":"true"},{"t":"false"},{"t":"else"}],"checkall":"true","repair":false,"outputs":3,"x":1870,"y":2340,"wires":[["2850bc9d.bad744","82ddd765.a9a1c8"],["d4b73c65.8c417","e4fcccc8.8deff"],["2b8ab955.9e7406"]]},{"id":"d4b73c65.8c417","type":"change","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2040,"y":2330,"wires":[["8a0fe789.871358"]]},{"id":"e4fcccc8.8deff","type":"change","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2040,"y":2290,"wires":[["9fd2782d.a0cc58"]]},{"id":"82ddd765.a9a1c8","type":"change","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2040,"y":2250,"wires":[["8a0fe789.871358"]]},{"id":"2850bc9d.bad744","type":"change","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2040,"y":2210,"wires":[["9fd2782d.a0cc58"]]},{"id":"7bd0afa3.3f517","type":"change","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Enable","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2070,"y":2170,"wires":[["b3af16f2.5b3ee8","1c3a6d7c.b77d53"]]},{"id":"9fd2782d.a0cc58","type":"ui_button","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"","group":"cf893b29.8b0a68","order":1,"width":"6","height":"1","passthru":false,"label":"Habilitar Arranque Automático","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":2260,"y":2250,"wires":[["add1cac2.311828"]]},{"id":"8a0fe789.871358","type":"ui_button","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"","group":"cf893b29.8b0a68","order":2,"width":"6","height":"1","passthru":false,"label":"Deshabilitar Arranque Automático","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":2270,"y":2290,"wires":[["2b8ab955.9e7406"]]},{"id":"73af0be0.8d91e4","type":"link in","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"Indicador Arranque Escalonado","links":["ad87cee4.7dbb5"],"x":1775,"y":2280,"wires":[["7bd0afa3.3f517"]]},{"id":"add1cac2.311828","type":"change","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"Habilitar","rules":[{"t":"set","p":"Automatic_Restart.Enable","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2550,"y":2310,"wires":[["4e19cfd4.3982f"]]},{"id":"2b8ab955.9e7406","type":"change","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"Deshabilitar","rules":[{"t":"set","p":"Automatic_Restart.Enable","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2560,"y":2350,"wires":[[]]},{"id":"b3af16f2.5b3ee8","type":"function","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"Color","func":"if(msg.payload){\n    msg.payload = \"green\";\n    node.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n}\nelse{\n    msg.payload = \"grey\";\n    node.status({fill:\"grey\",shape:\"dot\",text:msg.payload});\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2230,"y":2170,"wires":[["8af57578.fc6418"]]},{"id":"8af57578.fc6418","type":"ui_text","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","group":"45237b74.b00cc4","order":3,"width":0,"height":0,"name":"Indicador Arranque Automático","label":"<font color= {{msg.payload}}><font size=3><font = bold>Arranque","format":"<font color= {{msg.payload}}><font size=3>Automático","layout":"col-center","x":2430,"y":2170,"wires":[]},{"id":"1c3a6d7c.b77d53","type":"link out","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"Automatic Restart Enable Out","links":["55b87356.a4664c"],"x":2195,"y":2130,"wires":[]},{"id":"aedcd40.1fbec3","type":"complete","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"","scope":["add1cac2.311828","2b8ab955.9e7406"],"uncaught":false,"x":1720,"y":2320,"wires":[["7bd0afa3.3f517","5472c69c.f21938"]]},{"id":"1595def7.d11251","type":"trigger","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","op1":"0","op2":"Close","op1type":"num","op2type":"str","duration":"10","extend":false,"overrideDelay":false,"units":"min","reset":"reset","bytopic":"all","topic":"topic","outputs":1,"x":500,"y":120,"wires":[["affdacff.6646c"]]},{"id":"6e26c35e.a97f8c","type":"delay","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","pauseType":"delay","timeout":"100","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":310,"y":160,"wires":[["1595def7.d11251"]]},{"id":"be50258c.07bb98","type":"change","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"reset","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":320,"y":120,"wires":[["1595def7.d11251"]]},{"id":"affdacff.6646c","type":"switch","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Close","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":640,"y":120,"wires":[["3a348318.fe982c"]]},{"id":"51d66341.8ee0fc","type":"link in","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","links":["97407954.a004c8"],"x":195,"y":140,"wires":[["be50258c.07bb98","6e26c35e.a97f8c"]]},{"id":"a4829f7d.87894","type":"pccc out","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","endpoint":"5a40295d.6caa18","variable":"PF755T_SpeedReference","name":"","x":1510,"y":440,"wires":[]},{"id":"b0908621.f81058","type":"pccc out","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","endpoint":"5a40295d.6caa18","variable":"CommandWord","name":"","x":1600,"y":890,"wires":[]},{"id":"5a59784b.c9d428","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Int to IEEE 754","func":"v = new DataView(new ArrayBuffer(4));\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n\nmsg.payload = msg.payload.toString(16);\nv.setUint32(0, '0x'+ msg.payload);\n//node.status({fill:\"green\",shape:\"dot\",text:v.getFloat32(0)});\n\nmsg.payload = v.getFloat32(0);\n\nreturn msg;\n\n// Fuentes:\n// https://stackoverflow.com/questions/41635908/node-red-parsing-json-data-and-converting-it-into-binary\n// https://stackoverflow.com/questions/49221045/javascript-hexadecimal-string-to-ieee-754-floating-point","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1400,"y":890,"wires":[["b0908621.f81058"]]},{"id":"ffad1340.f8a3b","type":"change","z":"827787d0.ede678","g":"be55ea76.ed4478","name":"No user","rules":[{"t":"set","p":"payload","pt":"msg","to":"No user","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":770,"y":520,"wires":[["d1a73825.d89578"]]},{"id":"8effe1fe.bacd6","type":"change","z":"827787d0.ede678","g":"be55ea76.ed4478","name":"Admin","rules":[{"t":"set","p":"payload","pt":"msg","to":"Admin","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":760,"y":560,"wires":[["d1a73825.d89578"]]},{"id":"98a9b5d4.5e5608","type":"change","z":"827787d0.ede678","g":"be55ea76.ed4478","name":"Operator","rules":[{"t":"set","p":"payload","pt":"msg","to":"Operator","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":770,"y":600,"wires":[["d1a73825.d89578"]]},{"id":"d1a73825.d89578","type":"ui_text","z":"827787d0.ede678","g":"be55ea76.ed4478","group":"a706ea3d.b7fbc8","order":2,"width":"0","height":"0","name":"","label":"Usuario actual:","format":"{{msg.payload}}","layout":"row-center","x":950,"y":560,"wires":[]},{"id":"723d59b.85ed6a8","type":"complete","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"","scope":["7de51565.2383cc"],"uncaught":false,"x":250,"y":560,"wires":[["21e4fb07.22d804"]]},{"id":"7de51565.2383cc","type":"debug","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1330,"y":80,"wires":[]},{"id":"11192115.39c13f","type":"ui_switch","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"HH EN","label":"HH","tooltip":"","group":"9de4403a.6a25e","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2060,"y":2080,"wires":[["aea41d11.08627"]]},{"id":"13694017.27b08","type":"ui_switch","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"H EN","label":"H","tooltip":"","group":"9de4403a.6a25e","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2060,"y":2220,"wires":[["d220dc59.d47fd"]]},{"id":"24e1264d.fdabba","type":"ui_switch","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"L EN","label":"L","tooltip":"","group":"9de4403a.6a25e","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2060,"y":2360,"wires":[["5329f860.06e4c8"]]},{"id":"122ef64c.3ae8ba","type":"ui_switch","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"LL EN","label":"LL","tooltip":"","group":"9de4403a.6a25e","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2060,"y":2500,"wires":[["c59e8276.240c1"]]},{"id":"97bcc143.4e578","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"HH Setpoint","label":"Límite [V]","tooltip":"","group":"9de4403a.6a25e","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"HH Setpoint","x":2040,"y":1990,"wires":[["31f81a59.68eba6"]]},{"id":"31819568.f63f7a","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"H Setpoint","label":"Límite [V]","tooltip":"","group":"9de4403a.6a25e","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":2040,"y":2130,"wires":[["38731e53.dd7e22"]]},{"id":"3db49137.d5777e","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"L Setpoint","label":"Límite [V]","tooltip":"","group":"9de4403a.6a25e","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":2040,"y":2270,"wires":[["2dda1a49.745af6"]]},{"id":"2001f459.49ea2c","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"LL Setpoint","label":"Límite [V]","tooltip":"","group":"9de4403a.6a25e","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":2040,"y":2410,"wires":[["4e291eb7.b1f7c"]]},{"id":"31f81a59.68eba6","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"","rules":[{"t":"set","p":"Protections.BusDC.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":1990,"wires":[["12d0ed7b.82c653"]]},{"id":"38731e53.dd7e22","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"","rules":[{"t":"set","p":"Protections.BusDC.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2310,"y":2130,"wires":[["12d0ed7b.82c653"]]},{"id":"2dda1a49.745af6","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"","rules":[{"t":"set","p":"Protections.BusDC.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2310,"y":2270,"wires":[["12d0ed7b.82c653"]]},{"id":"4e291eb7.b1f7c","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"","rules":[{"t":"set","p":"Protections.BusDC.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2310,"y":2410,"wires":[["12d0ed7b.82c653"]]},{"id":"c9fa9954.495de8","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"","rules":[{"t":"set","p":"Protections.BusDC.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":2030,"wires":[["12d0ed7b.82c653"]]},{"id":"65ea504.1463cb","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"","rules":[{"t":"set","p":"Protections.BusDC.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2330,"y":2170,"wires":[["12d0ed7b.82c653"]]},{"id":"76a86372.a1c97c","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"","rules":[{"t":"set","p":"Protections.BusDC.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2330,"y":2310,"wires":[["12d0ed7b.82c653"]]},{"id":"5057ee41.f1c8b","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"","rules":[{"t":"set","p":"Protections.BusDC.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":2450,"wires":[["12d0ed7b.82c653"]]},{"id":"aea41d11.08627","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"","rules":[{"t":"set","p":"Protections.BusDC.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":2080,"wires":[["12d0ed7b.82c653"]]},{"id":"d220dc59.d47fd","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"","rules":[{"t":"set","p":"Protections.BusDC.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2330,"y":2220,"wires":[["12d0ed7b.82c653"]]},{"id":"5329f860.06e4c8","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"","rules":[{"t":"set","p":"Protections.BusDC.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2330,"y":2360,"wires":[["12d0ed7b.82c653"]]},{"id":"c59e8276.240c1","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"","rules":[{"t":"set","p":"Protections.BusDC.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":2500,"wires":[["12d0ed7b.82c653"]]},{"id":"da4fbd04.a0b7b","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"BusDC.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.BusDC.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":1990,"wires":[["97bcc143.4e578"]]},{"id":"115a3a1e.04bb26","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"BusDC.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.BusDC.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1840,"y":2130,"wires":[["31819568.f63f7a"]]},{"id":"5daa492e.21ad28","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"BusDC.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.BusDC.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1840,"y":2270,"wires":[["3db49137.d5777e"]]},{"id":"1081aab9.d37e15","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"BusDC.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.BusDC.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1840,"y":2410,"wires":[["2001f459.49ea2c"]]},{"id":"c1fd6519.eb42c8","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"BusDC.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.BusDC.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":2030,"wires":[["7f0a6aac.56c2e4"]]},{"id":"6059faf.ec6b604","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"BusDC.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.BusDC.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1820,"y":2170,"wires":[["510f7e2d.19768"]]},{"id":"84312088.0f427","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"BusDC.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.BusDC.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1820,"y":2310,"wires":[["fee22da1.cf7a3"]]},{"id":"67445fcb.79ff5","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"BusDC.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.BusDC.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":2450,"wires":[["5f1b7de2.8dd7c4"]]},{"id":"a6ba668b.f81658","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"BusDC.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.BusDC.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":2080,"wires":[["11192115.39c13f"]]},{"id":"43a5b905.741b68","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"BusDC.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.BusDC.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1820,"y":2220,"wires":[["13694017.27b08"]]},{"id":"84f916c4.487e88","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"BusDC.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.BusDC.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1820,"y":2360,"wires":[["24e1264d.fdabba"]]},{"id":"2b6367d9.53f3b8","type":"change","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"BusDC.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.BusDC.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":2500,"wires":[["122ef64c.3ae8ba"]]},{"id":"12d0ed7b.82c653","type":"link out","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"Protección de tensión Out","links":["b13f907c.215b","50f74338.13ca0c","7c3934e5.14724c"],"x":2565,"y":1990,"wires":[]},{"id":"38307403.cf947c","type":"link in","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"Timestamp In","links":["485a456c.532fdc","596ac22c.7d379c"],"x":1675,"y":1990,"wires":[["da4fbd04.a0b7b","c1fd6519.eb42c8","a6ba668b.f81658","115a3a1e.04bb26","6059faf.ec6b604","43a5b905.741b68","5daa492e.21ad28","84312088.0f427","84f916c4.487e88","1081aab9.d37e15","67445fcb.79ff5","2b6367d9.53f3b8"]]},{"id":"7f0a6aac.56c2e4","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"HH DT","label":"Delay [s]","tooltip":"","group":"9de4403a.6a25e","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":2060,"y":2030,"wires":[["c9fa9954.495de8"]]},{"id":"510f7e2d.19768","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"H DT","label":"Delay [s] ","tooltip":"","group":"9de4403a.6a25e","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":2060,"y":2170,"wires":[["65ea504.1463cb"]]},{"id":"fee22da1.cf7a3","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"L DT","label":"Delay [s]","tooltip":"","group":"9de4403a.6a25e","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":2060,"y":2310,"wires":[["76a86372.a1c97c"]]},{"id":"5f1b7de2.8dd7c4","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"96de1dd.d202ce","name":"LL DT","label":"Delay [s]","tooltip":"","group":"9de4403a.6a25e","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":2060,"y":2450,"wires":[["5057ee41.f1c8b"]]},{"id":"1ba7dd1.c24d723","type":"change","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"BusDC","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Superficie_Tensión\",\t                \"Configuración-Protecciones-Superficie_Tensión_actual\",\t                \"Configuración-Protecciones-Superficie_Corriente\",\t                \"Configuración-Protecciones-Superficie_Corriente_actual\",\t                \"Configuración-Protecciones-Superficie_Tubing\",\t                \"Configuración-Protecciones-Superficie_Tubing_actual\",\t                \"Configuración-Protecciones-Superficie_Casing\",\t                \"Configuración-Protecciones-Superficie_Casing_actual\"               \t        ],\t       \"show\":[ \t                \"Configuración-Protecciones-Superficie_Bus_DC\",\t                \"Configuración-Protecciones-Superficie_Bus_DC_actual\" \t        ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1300,"y":940,"wires":[["3296d851.080568"]]},{"id":"7e885447.389d0c","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Protección Bus DC","env":[{"name":"Topic","value":"9","type":"num"}],"x":510,"y":1730,"wires":[["27b35800.57e518"],["2416b4e2.c6543c"],["e149f7ce.895fb8"]]},{"id":"bb8e252c.9dfcb8","type":"function","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Limites","func":"var BusDC = global.get(\"Protections.BusDC\");\n\nvar min = global.get(\"Protections.BusDC.LL.Setpoint\")||0;\nvar max = global.get(\"Protections.BusDC.HH.Setpoint\")||0;\n\nmsg.control = {'min':min, 'max':max};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":1690,"wires":[["fe775f56.9b835","7e885447.389d0c"]]},{"id":"fe775f56.9b835","type":"ui_level","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","group":"b904b95d.fc67c8","order":2,"width":"4","height":"3","name":"","label":"Tensión Bus DC actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"V","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"property":"payload","peaktime":3000,"x":620,"y":1690,"wires":[]},{"id":"d05624d4.9c7ea8","type":"link in","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Bus DC Lnk In","links":["e6dcbeb6.ceddc"],"x":245,"y":1690,"wires":[["ff2256f1.e3a778"]]},{"id":"7c3934e5.14724c","type":"link in","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"","links":["12d0ed7b.82c653"],"x":375,"y":1730,"wires":[["7e885447.389d0c"]]},{"id":"ff2256f1.e3a778","type":"change","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"BusDC","rules":[{"t":"set","p":"topic","pt":"msg","to":"value","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":340,"y":1690,"wires":[["bb8e252c.9dfcb8"]]},{"id":"2416b4e2.c6543c","type":"link out","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Bus DC Estado Link","links":["9209cfb3.3a43a"],"x":755,"y":1730,"wires":[]},{"id":"27b35800.57e518","type":"link out","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Bus DC Eventos Link","links":["8013081a.005838"],"x":755,"y":1690,"wires":[]},{"id":"d170d71.82f7928","type":"function","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"Evento de Bus DC","func":"var BusDC = global.get(\"C2S.Bus_DC_Volts\",'memoryOnly')||0;\nBusDC = parseFloat(BusDC).toFixed(2);\nnode.status({fill:\"red\",shape:\"ring\",text:msg.Mensaje});\n\nif(msg.Mensaje == \"Trigger by HH Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por Proteción de Tensión Bus DC HH: \"+BusDC;\n    global.set('Protections.BusDC.Status',4,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n    \n}\nif(msg.Mensaje == \"Trigger by LL Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Tensión Bus DC LL: \"+BusDC;\n    global.set('Protections.BusDC.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by H Protection\"){\n    msg.payload = \"Alarma por Tensión Bus DC H: \"+BusDC;\n    global.set('Protections.BusDC.Status',2,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by L Protection\"){\n    msg.payload = \"Alarma por Tensión Bus DC L: \"+BusDC;\n    global.set('Protections.BusDC.Status',1,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Normal condition\"){\n    msg.payload = \"Condición normal\";\n    global.set('Protections.BusDC.Status',0,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1010,"y":230,"wires":[["d53d6da0.4e44f","d3023171.a64c3"]]},{"id":"8013081a.005838","type":"link in","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"Evento Bus DC Link In","links":["27b35800.57e518"],"x":885,"y":230,"wires":[["d170d71.82f7928"]]},{"id":"cfb42c45.e78cc","type":"status","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","scope":["b0908621.f81058"],"x":1320,"y":770,"wires":[["4b8f3906.dd4198"]]},{"id":"d667ef8b.c9dd8","type":"status","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","scope":["a4829f7d.87894"],"x":1690,"y":440,"wires":[["2edc6015.2c551"]]},{"id":"82d933f2.bf653","type":"debug","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":750,"y":150,"wires":[]},{"id":"126f7267.c38efe","type":"ui_led","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"2666f936.6d0ee6","order":1,"width":"4","height":1,"label":"C2S: {{msg.payload}}","labelPlacement":"right","labelAlignment":"left","colorForValue":[{"color":"red","value":"FALLA!","valueType":"str"},{"color":"Orange","value":"ALARMA!","valueType":"str"},{"color":"green","value":"ACTIVO","valueType":"str"},{"color":"green","value":"Acelerando","valueType":"str"},{"color":"green","value":"Desacelerando","valueType":"str"},{"color":"gray","value":"DETENIDO","valueType":"str"},{"color":"black","value":"Falla de comunicación","valueType":"str"}],"allowColorForValueInMessage":false,"name":"Main","x":4320,"y":90,"wires":[]},{"id":"5a69692c.84d3d8","type":"ui_led","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"536af8e6.0e6808","order":1,"width":"4","height":"1","label":"C2S: {{msg.payload}}","labelPlacement":"right","labelAlignment":"left","colorForValue":[{"color":"red","value":"FALLA!","valueType":"str"},{"color":"Orange","value":"ALARMA!","valueType":"str"},{"color":"green","value":"ACTIVO","valueType":"str"},{"color":"green","value":"ACTIVO Acelerando","valueType":"str"},{"color":"green","value":"ACTIVO Desacelerando","valueType":"str"},{"color":"gray","value":"DETENIDO","valueType":"str"},{"color":"black","value":"Falla de comunicación","valueType":"str"}],"allowColorForValueInMessage":false,"name":"Menú","x":4320,"y":130,"wires":[]},{"id":"abe2e5c8.1dd248","type":"ui_text","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"1925e2c.fd4e91d","order":6,"width":6,"height":1,"name":"","label":"Referencia actual:","format":"{{msg.payload}} Hz","layout":"row-left","x":4380,"y":330,"wires":[]},{"id":"d21e2c47.59925","type":"function","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"INT to BIN Buffer","func":"var buffer = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];\nvar temp = msg.payload;\nvar i = buffer.length\n\nwhile(temp > 0){\n    if(temp % 2 === 0){\n        buffer[i] = 0;\n    }\n    else{\n        buffer[i] = 1;\n    }\n    \n    i--;\n    temp = Math.floor(temp / 2);\n}\nmsg.payload = buffer.reverse();\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3690,"y":130,"wires":[["36d8209f.12d38"]]},{"id":"36d8209f.12d38","type":"function","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Drive_Status","func":"msg.payload = {\n    \"Run_Ready\"         :msg.payload[0],\n    \"Active\"            :msg.payload[1],\n    \"Command_dir\"       :msg.payload[2],\n    \"Actual_dir\"        :msg.payload[3],\n    \"Accel\"             :msg.payload[4],\n    \"Decel\"             :msg.payload[5],\n    \"Alarm\"             :msg.payload[6],\n    \"Fault\"             :msg.payload[7],\n    \"At_Setpt_Spd\"      :msg.payload[8]\n}\nglobal.set(\"Drive_Status\",msg.payload, 'memoryOnly');\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3870,"y":130,"wires":[["838adacf.15be18"]]},{"id":"838adacf.15be18","type":"function","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Status Function","func":"//Calling global variables\nvar Active  = global.get(\"Drive_Status.Active\",'memoryOnly') ||0;\nvar Alarm   = global.get(\"Drive_Status.Alarm\",'memoryOnly')  ||0;\nvar Fault   = global.get(\"Drive_Status.Fault\",'memoryOnly')||0;\nvar Accel   = global.get(\"Drive_Status.Accel\",'memoryOnly')  ||0;\nvar Decel   = global.get(\"Drive_Status.Decel\",'memoryOnly')  ||0;\nvar Comm    = global.get(\"Estado_Comunicacion_Drive\",'memoryOnly');\nvar Prot    = global.get(\"Protections.RFlag\",'memoryOnly');\n\nif(!Comm){\n    msg.payload = \"Falla de comunicación\";\n}\nelse if(Prot || Fault){\n    msg.payload = \"FALLA!\";\n}\nelse if (Alarm){\n    msg.payload = \"ALARMA!\";\n}\nelse if(Active){\n    if(Accel){\n        msg.payload = \"Acelerando\"; \n    }\n    else if(Decel){\n        msg.payload = \"Desacelerando\";\n    }\n    else{\n        msg.payload = \"ACTIVO\";\n    }\n}\nelse {\n    msg.payload = \"DETENIDO\";\n}\nnode.status({fill:\"green\",shape:\"dot\",text:Fault});\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":4040,"y":130,"wires":[["51330d5b.f89a44","d2d1f05b.20687"]]},{"id":"8fdf7c75.8bd9d","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Obtener Status","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Status_Word","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3500,"y":130,"wires":[["d21e2c47.59925"]]},{"id":"ac7d9b40.a3fa48","type":"ui_text","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"2666f936.6d0ee6","order":2,"width":"3","height":1,"name":"","label":"Vel: ","format":"{{msg.payload}} Hz","layout":"row-left","x":4340,"y":410,"wires":[]},{"id":"ba8f9132.a0406","type":"ui_text","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"536af8e6.0e6808","order":2,"width":"3","height":"1","name":"","label":"Vel: ","format":"{{msg.payload}} Hz","layout":"row-left","x":4340,"y":450,"wires":[]},{"id":"1e911ed1.295ee1","type":"ui_text","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"8370e95f.f0a918","order":1,"width":4,"height":2,"name":"","label":"Velocidad","format":"<font size = 6px> {{msg.payload}} Hz","layout":"col-center","x":4350,"y":370,"wires":[]},{"id":"43f0005f.07f82","type":"ui_text","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"8370e95f.f0a918","order":4,"width":4,"height":2,"name":"","label":"Corriente salida","format":"<font size = 6px> {{msg.payload}} A","layout":"col-center","x":4230,"y":170,"wires":[]},{"id":"895d77a8.ef3188","type":"ui_text","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"8370e95f.f0a918","order":5,"width":4,"height":2,"name":"","label":"Bus DC","format":"<font size = 6px> {{msg.payload}} V","layout":"col-center","x":4210,"y":290,"wires":[]},{"id":"6789ef5a.e271c","type":"ui_text","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"8370e95f.f0a918","order":7,"width":4,"height":2,"name":"","label":"Potencia","format":"<font size = 6px> {{msg.payload}} kW","layout":"col-center","x":4210,"y":250,"wires":[]},{"id":"c061c85d.a9ede8","type":"ui_text","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"8370e95f.f0a918","order":8,"width":4,"height":2,"name":"","label":"Tensión Salida","format":"<font size = 6px> {{msg.payload}} V","layout":"col-center","x":4230,"y":210,"wires":[]},{"id":"21bfe70d.8d67a8","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Lectura Datos C2S","rules":[{"t":"set","p":"#:(memoryOnly)::C2S","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":170,"wires":[["934f7ae5.8efb28","afa5703a.fbc3a","bcaa0b00.c394f8","3a767c53.b7a704","a4ed2644.bd37b8","5c9a7184.a62f7","abd90b09.f3b538","9d23b0e4.51235","b2939078.be2fe","195b633.0e1ac9d","2882db4.8e8eb24"]]},{"id":"934f7ae5.8efb28","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Corriente de salida","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Output_Current","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3790,"y":170,"wires":[["510bf900.1fbea8","67e23b88.120814"]]},{"id":"afa5703a.fbc3a","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Tensión de salida","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Output_Voltage","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3790,"y":210,"wires":[["5ea826dd.7f1668"]]},{"id":"bcaa0b00.c394f8","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Potencia de salida","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Output_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3790,"y":250,"wires":[["af9e1482.f781e8"]]},{"id":"3a767c53.b7a704","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Bus DC","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Bus_DC_Volts","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3760,"y":290,"wires":[["e6dcbeb6.ceddc","f92cb206.e5ea2"]]},{"id":"a4ed2644.bd37b8","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Referencia actual","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Commanded_SpdRef","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3790,"y":330,"wires":[["1fb536f5.2c7bf9"]]},{"id":"5c9a7184.a62f7","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Velocidad","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Output_Frecuency","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3760,"y":370,"wires":[["f8f60ae4.452518","ec162b81.0c2ea8","c35b8f49.241be","4fcf58e7.9552e8"]]},{"id":"cc746868.3a1298","type":"status","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Status Drive","scope":["6c83c496.5eb8ec"],"x":2650,"y":150,"wires":[["8bd29002.2e3d7"]]},{"id":"7d3dd1dc.29c31","type":"function","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Arranque del Drive","func":"if(msg.payload == 'online'){\n    context.set('status',true,'memoryOnly');\n    node.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n    return msg;\n}\nelse if(msg.payload != 'online'){\n    context.set('status',false,'memoryOnly');\n    node.status({fill:\"red\",shape:\"dot\",text:msg.payload});\n    return;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2830,"y":230,"wires":[["5fd3049a.ba921c","899909d1.d446c8","ca5ead3a.831c7"]]},{"id":"d0939ac3.e463f8","type":"link in","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Falla de comunicación Link In","links":["b234b8c9.aaba78"],"x":3925,"y":90,"wires":[["838adacf.15be18"]]},{"id":"c48ec4a6.a9ee28","type":"ui_text","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"8370e95f.f0a918","order":2,"width":4,"height":2,"name":"","label":"Porcentaje de Velocidad","format":"<font size = 6px> {{msg.payload}} %","layout":"col-center","x":4380,"y":490,"wires":[]},{"id":"aa7c5a54.076d28","type":"function","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Normalizar Escalizar","func":"var Limites = global.get('Speed_Control');\nmsg.payload = Escalizar([Limites.MinLimit,Limites.MaxLimit],msg.payload);\n\nfunction Escalizar(a,value){\n    b = [0,100];\n    // Mapeo\n    if(b !== null && typeof a[0] == 'number' && typeof a[1] == 'number' ){\n        var t = b[0] + ((Math.abs(value) - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n        // Saturación\n        if(t > b[1]){    \n            t = b[1];\n        }\n        else if(t < b[0]){ \n            t = b[0];\n        }\n        // Asignar payload\n        return parseInt(t);\n    }\n    else {\n        // Asignar payload\n        return 0;\n    }\n}\nnode.status({fill:\"green\",shape:\"dot\",text:\"Max: \"+Limites.MaxLimit+\" Min: \"+Limites.MinLimit+\" %: \"+msg.payload});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":4030,"y":490,"wires":[["30acc1e4.ab123e"]]},{"id":"856a81d7.aae66","type":"ui_text","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"8370e95f.f0a918","order":3,"width":4,"height":2,"name":"","label":"Factor potencia","format":"<font size = 6px> {{msg.payload}}","layout":"col-center","x":4230,"y":540,"wires":[]},{"id":"abd90b09.f3b538","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Factor de potencia","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Power_Factor","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3800,"y":540,"wires":[["1b87d138.647c1f"]]},{"id":"510bf900.1fbea8","type":"link out","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Corriente Salida","links":["3a8d51e1.99e71e"],"x":3915,"y":190,"wires":[]},{"id":"776db11c.07117","type":"pccc out","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","endpoint":"5a40295d.6caa18","variable":"TimeOut","name":"","x":3210,"y":280,"wires":[]},{"id":"6c83c496.5eb8ec","type":"pccc in","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","endpoint":"a3d1f2c7.5fe22","mode":"all","variable":"PF755T_DLReading_0","diff":true,"name":"","x":3050,"y":150,"wires":[["d105f996.05fde8"]]},{"id":"d105f996.05fde8","type":"function","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Interpretar comunicación","func":"\nmsg.payload =   {\n    'Status_Word'       : Float2Int(msg.payload.Status_Word),\n    'Output_Frecuency'  : parseFloat(msg.payload.Output_Frecuency).toFixed(3),\n    'Commanded_SpdRef'  : parseFloat((msg.payload.Commanded_SpdRef).toFixed(3)),\n    'Output_Current'    : parseFloat(msg.payload.Output_Current).toFixed(1),\n    'Output_Voltage'    : parseFloat(msg.payload.Output_Voltage).toFixed(1),\n    'Output_Power'      : parseFloat(msg.payload.Output_Power).toFixed(1),\n    'Power_Factor'      : parseFloat(msg.payload.Power_Factor).toFixed(3),\n    'Bus_DC_Volts'      : parseFloat(msg.payload.Bus_DC_Volts).toFixed(1),\n    'Elapsed_Run_Time'  : parseFloat(msg.payload.Elapsed_Run_Time).toFixed(1),\n    'Drive_Temp_C'      : parseFloat(msg.payload.Drive_Temp_C).toFixed(1),\n    'Last_Fault_Code'   : Float2Int(msg.payload.Last_Fault_Code),\n    'Elapsed_kWH'       : parseFloat(msg.payload.Elapsed_kWH*1000).toFixed(3),\n    'Anlg_In0_Value'    : parseFloat(msg.payload.Anlg_In0_Value)\n}\nreturn msg;\n\nfunction Float2Int(payload){    \n    const getHex = i => ('00' + i.toString(16)).slice(-2);\n    var view = new DataView(new ArrayBuffer(4)),\n        result;\n    view.setFloat32(0, payload);\n    result = Array\n        .apply(null, { length: 4 })\n        .map((_, i) => getHex(view.getUint8(i)))\n        .join('');\n    return parseInt(result,16);\n}\n//Fuente: https://stackoverflow.com/questions/47164675/convert-float-to-32bit-hex-string-in-javascript","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3280,"y":150,"wires":[["8fdf7c75.8bd9d","21bfe70d.8d67a8","69f93ba5.ab0f74"]]},{"id":"e6dcbeb6.ceddc","type":"link out","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Bus DC","links":["d05624d4.9c7ea8","37528c32.e720c4"],"x":3915,"y":310,"wires":[]},{"id":"e9fd7861.d2db88","type":"catch","z":"e86f0ca4.7feb5","g":"e2e299a6.d3c5c8","name":"Catch Modbus","scope":["a114a289.8a1e4","e090fa5b.c9b178"],"uncaught":false,"x":3500,"y":810,"wires":[["238050bf.0374f"]]},{"id":"238050bf.0374f","type":"debug","z":"e86f0ca4.7feb5","g":"e2e299a6.d3c5c8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":3650,"y":810,"wires":[]},{"id":"bed2c4af.623ff8","type":"inject","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"false","payloadType":"bool","x":1590,"y":150,"wires":[["5f8495ce.db632c"]]},{"id":"ee32febf.664d4","type":"change","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"Enabled","rules":[{"t":"delete","p":"payload","pt":"msg"},{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":230,"wires":[["a0ac95a3.e40228"]]},{"id":"ba17111f.99209","type":"link in","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"","links":["935ca480.525e98"],"x":1115,"y":230,"wires":[["ee32febf.664d4"]]},{"id":"a0ac95a3.e40228","type":"delay","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1350,"y":230,"wires":[["d3482e86.9d4d5"]]},{"id":"24520f16.b2073","type":"ui_toast","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","position":"top right","displayTime":"3","highlight":"red","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":4560,"y":590,"wires":[]},{"id":"17ca02e7.855ccd","type":"change","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Arranque remoto bloqueado","rules":[{"t":"set","p":"payload","pt":"msg","to":"Intento de arranque remoto bloqueado","tot":"str"},{"t":"delete","p":"topic","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4280,"y":590,"wires":[["24520f16.b2073","66f58a7.5c16574"]]},{"id":"9515e42e.7cd818","type":"change","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Parada remota bloqueada","rules":[{"t":"set","p":"payload","pt":"msg","to":"Intento de parada remota bloqueada","tot":"str"},{"t":"delete","p":"topic","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4270,"y":670,"wires":[["24520f16.b2073","66f58a7.5c16574"]]},{"id":"66f58a7.5c16574","type":"link out","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Evento Arranque/Parada Bloqueado Link Out","links":["59e817c2.295b38","923454af.73d8c8"],"x":4385,"y":630,"wires":[]},{"id":"27a2d5e6.eea14a","type":"catch","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"","scope":["1baa28a3.faa137"],"uncaught":false,"x":250,"y":420,"wires":[[]]},{"id":"dd39d2c6.25d75","type":"catch","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Error en los límites","scope":["8ab99b43.236ef8","1baa28a3.faa137","15f0eae5.dcd0a5","c5e33e4d.00d55","a987ab73.5659c8","7dedf7c7.3568e8","b79b0088.e0571","39509b2.05d2f64","390f354c.d49e3a","bb8e252c.9dfcb8"],"uncaught":false,"x":510,"y":1780,"wires":[[]]},{"id":"535d826.d0f777c","type":"change","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Corriente Promedio","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::PQA.Real_Time_Parameters.Average_Phase_Current","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3110,"y":250,"wires":[["72b052e5.3c117c"]]},{"id":"72b052e5.3c117c","type":"function","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3320,"y":250,"wires":[["8d22ea2a.213e08"]]},{"id":"87f9add.d16445","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"4f5c2b53.44a154","order":6,"width":4,"height":2,"name":"","label":"Corriente de Entrada","format":"<font size = 6px> {{msg.payload}}A","layout":"col-center","x":3620,"y":250,"wires":[]},{"id":"5f2867aa.83ab38","type":"change","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::IO.AO.AO2","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1950,"y":2140,"wires":[[]]},{"id":"9564fab5.983018","type":"change","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::IO.AO.AO1","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1950,"y":2050,"wires":[[]]},{"id":"3f8b03ec.506cdc","type":"change","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::IO.AO.AO3","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1950,"y":2230,"wires":[[]]},{"id":"e9373487.c7fa08","type":"change","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::IO.AO.AO4","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1950,"y":2320,"wires":[[]]},{"id":"d92a7cde.4850e","type":"pccc out","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","endpoint":"5a40295d.6caa18","variable":"AO2","name":"","x":1760,"y":2180,"wires":[]},{"id":"84d2378f.68fed8","type":"pccc out","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","endpoint":"5a40295d.6caa18","variable":"AO1","name":"","x":1760,"y":2090,"wires":[]},{"id":"fcda2fbe.ad0b2","type":"pccc out","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","endpoint":"5a40295d.6caa18","variable":"AO4","name":"","x":1760,"y":2360,"wires":[]},{"id":"9fc08388.ed34f","type":"pccc out","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","endpoint":"5a40295d.6caa18","variable":"AO3","name":"","x":1760,"y":2270,"wires":[]},{"id":"ce922e0.da955d","type":"function","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"AO4","func":"var AO  = flow.get('ES.SA.AO1')||null;\nvar C2S = global.get('C2S','memoryOnly')||null;\nvar Mtr = global.get('Motor_Control','memoryOnly');\n\n//Objeto con las funciones del CILA2S\nvar FuncionC2S = {\n    \"Frecuencia de salida C2S\":     C2S != null ? C2S.Output_Frecuency:0,\n    \"Corriente de salida\":          C2S != null ? C2S.Output_Current:0, \n    \"Tensión de salida\":            C2S != null ? C2S.Output_Voltage:0,\n    \"Potencia de salida\":           C2S != null ? C2S.Output_Power:0,\n    \"Tensión de motor\":             Mtr != null ? Mtr.Voltage:0\n}\nif(typeof AO!= 'undefined' && AO!= null){\n    msg.payload = parseInt(Escalizar([AO.Rango_Min,AO.Rango_Max],FuncionC2S[AO.Funcion])*1);\n    node.status({fill:\"green\",shape:\"dot\",text:[AO.Rango_Min,AO.Rango_Max]+\" \"+FuncionC2S[AO.Funcion] +\" \"+msg.payload});\n    return msg;\n}\nelse{\n    return;\n}\n\nfunction Escalizar(a,value){\n    b = [4,20];\n    // Mapeo\n    if(b !== null && typeof a[0] == 'number' && typeof a[1] == 'number' ){\n        var t = b[0] + ((Math.abs(value) - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n        // Saturación\n        if(t > b[1]){    \n            t = b[1];\n        }\n        else if(t < b[0]){ \n            t = b[0];\n        }\n        // Asignar payload\n        return parseInt(t);\n    }\n    else {\n        // Asignar payload\n        return 0;\n    }\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1620,"y":2360,"wires":[["fcda2fbe.ad0b2","bd487a3c.8e19c8"]],"inputLabels":["Activar función"],"outputLabels":["Canal32"]},{"id":"37b8b949.eaea56","type":"function","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"AO3","func":"var AO  = flow.get('ES.SA.AO1')||null;\nvar C2S = global.get('C2S','memoryOnly')||null;\nvar Mtr = global.get('Motor_Control','memoryOnly');\n\n//Objeto con las funciones del CILA2S\nvar FuncionC2S = {\n    \"Frecuencia de salida C2S\":     C2S != null ? C2S.Output_Frecuency:0,\n    \"Corriente de salida\":          C2S != null ? C2S.Output_Current:0, \n    \"Tensión de salida\":            C2S != null ? C2S.Output_Voltage:0,\n    \"Potencia de salida\":           C2S != null ? C2S.Output_Power:0,\n    \"Tensión de motor\":             Mtr != null ? Mtr.Voltage:0\n}\nif(typeof AO!= 'undefined' && AO!= null){\n    msg.payload = parseInt(Escalizar([AO.Rango_Min,AO.Rango_Max],FuncionC2S[AO.Funcion])*1);\n    node.status({fill:\"green\",shape:\"dot\",text:[AO.Rango_Min,AO.Rango_Max]+\" \"+FuncionC2S[AO.Funcion] +\" \"+msg.payload});\n    return msg;\n}\nelse{\n    return;\n}\n\nfunction Escalizar(a,value){\n    b = [4,20];\n    // Mapeo\n    if(b !== null && typeof a[0] == 'number' && typeof a[1] == 'number' ){\n        var t = b[0] + ((Math.abs(value) - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n        // Saturación\n        if(t > b[1]){    \n            t = b[1];\n        }\n        else if(t < b[0]){ \n            t = b[0];\n        }\n        // Asignar payload\n        return parseInt(t);\n    }\n    else {\n        // Asignar payload\n        return 0;\n    }\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1620,"y":2270,"wires":[["9fc08388.ed34f","4407ad32.953ac4"]],"inputLabels":["Activar función"],"outputLabels":["Canal32"]},{"id":"ae57732a.5f92c","type":"function","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"AO2","func":"var AO  = flow.get('ES.SA.AO1')||null;\nvar C2S = global.get('C2S','memoryOnly')||null;\nvar Mtr = global.get('Motor_Control','memoryOnly');\n\n//Objeto con las funciones del CILA2S\nvar FuncionC2S = {\n    \"Frecuencia de salida C2S\":     C2S != null ? C2S.Output_Frecuency:0,\n    \"Corriente de salida\":          C2S != null ? C2S.Output_Current:0, \n    \"Tensión de salida\":            C2S != null ? C2S.Output_Voltage:0,\n    \"Potencia de salida\":           C2S != null ? C2S.Output_Power:0,\n    \"Tensión de motor\":             Mtr != null ? Mtr.Voltage:0\n}\nif(typeof AO!= 'undefined' && AO!= null){\n    msg.payload = parseInt(Escalizar([AO.Rango_Min,AO.Rango_Max],FuncionC2S[AO.Funcion])*1);\n    node.status({fill:\"green\",shape:\"dot\",text:[AO.Rango_Min,AO.Rango_Max]+\" \"+FuncionC2S[AO.Funcion] +\" \"+msg.payload});\n    return msg;\n}\nelse{\n    return;\n}\n\nfunction Escalizar(a,value){\n    b = [4,20];\n    // Mapeo\n    if(b !== null && typeof a[0] == 'number' && typeof a[1] == 'number' ){\n        var t = b[0] + ((Math.abs(value) - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n        // Saturación\n        if(t > b[1]){    \n            t = b[1];\n        }\n        else if(t < b[0]){ \n            t = b[0];\n        }\n        // Asignar payload\n        return parseInt(t);\n    }\n    else {\n        // Asignar payload\n        return 0;\n    }\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1620,"y":2180,"wires":[["d92a7cde.4850e","7dba063a.4b3cd8"]],"inputLabels":["Activar función"],"outputLabels":["Canal32"]},{"id":"53fbe394.d4ce6c","type":"function","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"AO1","func":"var AO  = flow.get('ES.SA.AO1')||null;\nvar C2S = global.get('C2S','memoryOnly')||null;\nvar Mtr = global.get('Motor_Control','memoryOnly');\n\n//Objeto con las funciones del CILA2S\nvar FuncionC2S = {\n    \"Frecuencia de salida C2S\":     C2S != null ? C2S.Output_Frecuency:0,\n    \"Corriente de salida\":          C2S != null ? C2S.Output_Current:0, \n    \"Tensión de salida\":            C2S != null ? C2S.Output_Voltage:0,\n    \"Potencia de salida\":           C2S != null ? C2S.Output_Power:0,\n    \"Tensión de motor\":             Mtr != null ? Mtr.Voltage:0\n}\nif(typeof AO!= 'undefined' && AO!= null){\n    msg.payload = parseInt(Escalizar([AO.Rango_Min,AO.Rango_Max],FuncionC2S[AO.Funcion])*1);\n    node.status({fill:\"green\",shape:\"dot\",text:[AO.Rango_Min,AO.Rango_Max]+\" \"+FuncionC2S[AO.Funcion] +\" \"+msg.payload});\n}\nelse{\n    node.status({fill:\"gray\",shape:\"dot\",text:\"--\"});\n    msg.payload = 0;\n\n}\nreturn msg;\n\nfunction Escalizar(a,value){\n    b = [4,20];\n    // Mapeo\n    if(b !== null && typeof a[0] == 'number' && typeof a[1] == 'number' ){\n        var t = b[0] + ((Math.abs(value) - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n        // Saturación\n        if(t > b[1]){    \n            t = b[1];\n        }\n        else if(t < b[0]){ \n            t = b[0];\n        }\n        // Asignar payload\n        return parseInt(t);\n    }\n    else {\n        // Asignar payload\n        return 0;\n    }\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1620,"y":2090,"wires":[["84d2378f.68fed8","86a1a8ce.c23f58"]],"inputLabels":["Activar función"],"outputLabels":["Canal32"]},{"id":"767edd18.2de7f4","type":"inject","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1450,"y":2090,"wires":[["53fbe394.d4ce6c","ae57732a.5f92c","37b8b949.eaea56","ce922e0.da955d"]]},{"id":"7d437608.8781c8","type":"inject","z":"e86f0ca4.7feb5","g":"75ca0b0c.5ff524","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"#:(memoryOnly)::ActFunctions","payloadType":"flow","x":150,"y":2550,"wires":[["6e837680.b705c8"]]},{"id":"6e837680.b705c8","type":"function","z":"e86f0ca4.7feb5","g":"75ca0b0c.5ff524","name":"Eventos I/O","func":"for(var i=0; i<msg.payload.length; i++){\n    if(msg.payload[i].Estado === true){\n        msg.payload = msg.payload[i].Funcion;\n        return msg;\n    }\n}\nmsg.payload = \"\";\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":330,"y":2550,"wires":[["edf47f97.68e64"]]},{"id":"58faeca6.e95934","type":"ui_toast","z":"e86f0ca4.7feb5","g":"75ca0b0c.5ff524","position":"top right","displayTime":"3","highlight":"","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":770,"y":2550,"wires":[]},{"id":"edf47f97.68e64","type":"rbe","z":"e86f0ca4.7feb5","g":"75ca0b0c.5ff524","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":470,"y":2550,"wires":[["675d7e0d.b5798"]]},{"id":"675d7e0d.b5798","type":"switch","z":"e86f0ca4.7feb5","g":"75ca0b0c.5ff524","name":"","property":"payload","propertyType":"msg","rules":[{"t":"nempty"}],"checkall":"true","repair":false,"outputs":1,"x":590,"y":2550,"wires":[["58faeca6.e95934","e45d336f.9503d"]]},{"id":"e45d336f.9503d","type":"switch","z":"e86f0ca4.7feb5","g":"75ca0b0c.5ff524","name":"","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"Alarma","vt":"str"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":730,"y":2610,"wires":[["c099945b.08bf98"],["40bc37d4.aa90f8"]]},{"id":"40bc37d4.aa90f8","type":"link out","z":"e86f0ca4.7feb5","g":"75ca0b0c.5ff524","name":"","links":["59e817c2.295b38"],"x":825,"y":2630,"wires":[]},{"id":"c099945b.08bf98","type":"link out","z":"e86f0ca4.7feb5","g":"75ca0b0c.5ff524","name":"","links":["33f2aa3c.6c08f6"],"x":825,"y":2590,"wires":[]},{"id":"8c73338.8deb8d","type":"link in","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","links":["ad87cee4.7dbb5"],"x":235,"y":1980,"wires":[["3ccbaa0b.2db096"]]},{"id":"3ccbaa0b.2db096","type":"change","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"LineaP","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":350,"y":1980,"wires":[["23815ef1.931a32"]]},{"id":"c5745a1a.186ed8","type":"inject","z":"3df4c8d9.0bdc38","g":"65994a87.9d5eb4","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"#:(memoryOnly)::Protections.Status","payloadType":"global","x":1810,"y":2500,"wires":[["e8ffc67a.2f5778"]]},{"id":"e8ffc67a.2f5778","type":"rbe","z":"3df4c8d9.0bdc38","g":"65994a87.9d5eb4","name":"","func":"rbei","gap":"","start":"","inout":"out","property":"payload","x":1990,"y":2500,"wires":[["9fcfa3c7.5bb01"]]},{"id":"9fcfa3c7.5bb01","type":"switch","z":"3df4c8d9.0bdc38","g":"65994a87.9d5eb4","name":"Condicion normalizada","property":"payload","propertyType":"msg","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":2170,"y":2500,"wires":[["b0f432e9.afb6f"]]},{"id":"81b94467.3df428","type":"ui_button","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","name":"","group":"e776d901.69bb88","order":3,"width":"2","height":"1","passthru":false,"label":"No","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":2210,"y":2670,"wires":[["f16c6dc8.39b26"]]},{"id":"c772f505.e2a288","type":"ui_button","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","name":"","group":"e776d901.69bb88","order":2,"width":"2","height":"1","passthru":false,"label":"Si","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":2210,"y":2630,"wires":[["d20b1d29.af131"]]},{"id":"d20b1d29.af131","type":"change","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","name":"Habilitar","rules":[{"t":"set","p":"Automatic_Restart.EnableProtection","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":2690,"wires":[[]]},{"id":"f16c6dc8.39b26","type":"change","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","name":"Deshabilitar","rules":[{"t":"set","p":"Automatic_Restart.EnableProtection","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2390,"y":2730,"wires":[[]]},{"id":"b989f736.23a2b8","type":"change","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2070,"y":2710,"wires":[["81b94467.3df428"]]},{"id":"d989b122.fe955","type":"change","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2070,"y":2670,"wires":[["c772f505.e2a288"]]},{"id":"a50dd18a.76418","type":"change","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2070,"y":2630,"wires":[["81b94467.3df428"]]},{"id":"6470fc32.84d4e4","type":"change","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2070,"y":2590,"wires":[["c772f505.e2a288"]]},{"id":"111e0dd4.0a5e22","type":"switch","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","name":"","property":"Automatic_Restart.EnableProtection","propertyType":"flow","rules":[{"t":"true"},{"t":"false"},{"t":"else"}],"checkall":"true","repair":false,"outputs":3,"x":1900,"y":2720,"wires":[["6470fc32.84d4e4","a50dd18a.76418"],["b989f736.23a2b8","d989b122.fe955"],["f16c6dc8.39b26","d989b122.fe955","b989f736.23a2b8"]]},{"id":"7c18d010.a2ff9","type":"link in","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","name":"Bypass filtro armónicos","links":["ad87cee4.7dbb5"],"x":1805,"y":2740,"wires":[["111e0dd4.0a5e22"]]},{"id":"38bdd4ac.3dc20c","type":"complete","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","name":"","scope":["d20b1d29.af131","f16c6dc8.39b26"],"uncaught":false,"x":1750,"y":2700,"wires":[["111e0dd4.0a5e22"]]},{"id":"d2d8c432.da5b08","type":"inject","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":2550,"y":2590,"wires":[["a431d62d.9fc4c8"]]},{"id":"6048b01f.b48ef","type":"link in","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","name":"","links":["ad87cee4.7dbb5"],"x":2455,"y":2630,"wires":[["a431d62d.9fc4c8"]]},{"id":"a431d62d.9fc4c8","type":"template","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","name":"Boostrap","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <!--<link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">-->\n    \n  </head>\n  <body>\n    <div class=\"container\">\n        <div class =\"row justify-content-md-center mt-2\">\n            <strong class=\"text-center\">¿Arrancar luego de normalizar un disparo por protección?</strong>\n        </div>\n    </div>\n  </body>\n</html>","output":"str","x":2570,"y":2630,"wires":[["d7ce792.fe4a788"]]},{"id":"d7ce792.fe4a788","type":"ui_template","z":"3df4c8d9.0bdc38","g":"c25b39de.c92f08","group":"e776d901.69bb88","name":"Arranque por protección","order":1,"width":"8","height":"1","format":"<div ng-bind-html=\"msg.payload\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":2760,"y":2630,"wires":[[]]},{"id":"b0f432e9.afb6f","type":"switch","z":"3df4c8d9.0bdc38","g":"65994a87.9d5eb4","name":"¿Arranque por protección activado?","property":"Automatic_Restart.EnableProtection","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":2450,"y":2500,"wires":[["f4363e16.f1813"]]},{"id":"f4363e16.f1813","type":"link out","z":"3df4c8d9.0bdc38","g":"65994a87.9d5eb4","name":"","links":["c3276752.914e88"],"x":2635,"y":2500,"wires":[]},{"id":"c3276752.914e88","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Re-Arranque desde función","links":["f4363e16.f1813"],"x":415,"y":2360,"wires":[["6db9c12b.c8705"]]},{"id":"4e19cfd4.3982f","type":"link out","z":"3df4c8d9.0bdc38","g":"8f8a192b.bb2ef8","name":"Automatic Restart Enable Out","links":["55b87356.a4664c"],"x":2645,"y":2310,"wires":[]},{"id":"86a1a8ce.c23f58","type":"function","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1770,"y":2050,"wires":[["9564fab5.983018"]]},{"id":"7dba063a.4b3cd8","type":"function","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1770,"y":2140,"wires":[["5f2867aa.83ab38"]]},{"id":"4407ad32.953ac4","type":"function","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1770,"y":2230,"wires":[["3f8b03ec.506cdc"]]},{"id":"bd487a3c.8e19c8","type":"function","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1770,"y":2320,"wires":[["e9373487.c7fa08"]]},{"id":"17c14989.ef5f76","type":"change","z":"e86f0ca4.7feb5","g":"46208c12.9b8aa4","name":"","rules":[{"t":"set","p":"PQA.CTS.CT1","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3300,"y":1700,"wires":[[]]},{"id":"22056c13.f9b174","type":"change","z":"e86f0ca4.7feb5","g":"46208c12.9b8aa4","name":"","rules":[{"t":"set","p":"PQA.CTS.CT2","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3300,"y":1740,"wires":[[]]},{"id":"9878975f.93b028","type":"change","z":"e86f0ca4.7feb5","g":"46208c12.9b8aa4","name":"CT1","rules":[{"t":"set","p":"payload","pt":"msg","to":"PQA.CTS.CT1","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3010,"y":1700,"wires":[["c21fcbd2.2769b8"]]},{"id":"f5c22034.7d9fc","type":"change","z":"e86f0ca4.7feb5","g":"46208c12.9b8aa4","name":"CT2","rules":[{"t":"set","p":"payload","pt":"msg","to":"PQA.CTS.CT2","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3010,"y":1740,"wires":[["8b6bbe7b.4904"]]},{"id":"a0463b75.cabb18","type":"link in","z":"e86f0ca4.7feb5","g":"46208c12.9b8aa4","name":"PQA CTS","links":["ad87cee4.7dbb5"],"x":2915,"y":1720,"wires":[["9878975f.93b028","f5c22034.7d9fc"]]},{"id":"465bcf5e.1e912","type":"ui_button","z":"e86f0ca4.7feb5","g":"46208c12.9b8aa4","name":"","group":"54c0d6ab.9c62a8","order":10,"width":"4","height":"1","passthru":false,"label":"Confirmar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"PQA.CTS","payloadType":"flow","topic":"","x":3020,"y":1780,"wires":[["b1c3a494.293518"]]},{"id":"b1c3a494.293518","type":"change","z":"e86f0ca4.7feb5","g":"46208c12.9b8aa4","name":"","rules":[{"t":"set","p":"PQA.CTS","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3300,"y":1780,"wires":[[]]},{"id":"c21fcbd2.2769b8","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"46208c12.9b8aa4","name":"","label":"CT1","tooltip":"","group":"54c0d6ab.9c62a8","order":3,"width":"4","height":"1","passthru":true,"mode":"number","delay":"10","topic":"","x":3130,"y":1700,"wires":[["17c14989.ef5f76"]]},{"id":"8b6bbe7b.4904","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"46208c12.9b8aa4","name":"","label":"CT2","tooltip":"","group":"54c0d6ab.9c62a8","order":6,"width":"4","height":"1","passthru":true,"mode":"number","delay":"10","topic":"","x":3130,"y":1740,"wires":[["22056c13.f9b174"]]},{"id":"992dfe22.11008","type":"catch","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"Error de Escritura Salidas analógicas","scope":["84d2378f.68fed8","d92a7cde.4850e","9fc08388.ed34f","fcda2fbe.ad0b2"],"uncaught":false,"x":1550,"y":2410,"wires":[["2ef73938.895866"]]},{"id":"2ef73938.895866","type":"rbe","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":1760,"y":2410,"wires":[["9d6b8eeb.cad3c"]]},{"id":"9d6b8eeb.cad3c","type":"debug","z":"e86f0ca4.7feb5","g":"2fb80d12.b93df2","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":1900,"y":2410,"wires":[]},{"id":"a7a23c86.af952","type":"inject","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":910,"y":960,"wires":[["ed90d895.2dba38"]]},{"id":"6c6274de.8a002c","type":"link out","z":"8528a254.70837","g":"31baddff.ea0922","name":"Descargar Alarmas Out","links":["f4dc844c.b0f888"],"x":1585,"y":390,"wires":[]},{"id":"f4dc844c.b0f888","type":"link in","z":"8528a254.70837","g":"cf57802e.7d258","name":"Descargar Alarmas In","links":["6c6274de.8a002c"],"x":1375,"y":160,"wires":[["35f773cc.39ea9c"]]},{"id":"478e8f3.fa4af7","type":"switch","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","name":"Eventos Navegación","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Eventos","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1390,"y":1110,"wires":[["c01095f3.dc9138"]]},{"id":"d458c292.e2009","type":"link in","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","name":"","links":["97407954.a004c8"],"x":1255,"y":1110,"wires":[["478e8f3.fa4af7"]]},{"id":"215d0cd9.9dbe64","type":"change","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::Estado_Comunicacion_Drive","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":440,"y":250,"wires":[["b3d012ad.1b24c"]]},{"id":"b3d012ad.1b24c","type":"rbe","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":590,"y":250,"wires":[["606043c3.15614c"]]},{"id":"606043c3.15614c","type":"switch","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":710,"y":250,"wires":[["2939a4d0.1f6b6c"]]},{"id":"2939a4d0.1f6b6c","type":"link out","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"Comunicación Drive Link Out","links":["49534500.cd9cdc"],"x":795,"y":250,"wires":[]},{"id":"49534500.cd9cdc","type":"link in","z":"43b51d90.0b47f4","g":"8a04702.34fd29","name":"Comunicación Drive Link In","links":["2939a4d0.1f6b6c"],"x":2465,"y":230,"wires":[["fa33f7fa.bf0bd8"]]},{"id":"2e9fdc57.907424","type":"ui_dropdown","z":"e86f0ca4.7feb5","d":true,"g":"3a6bee4b.22d342","name":"Selección Sensor de Fondo","label":"","tooltip":"","place":"","group":"55a9eb4e.762c64","order":2,"width":"0","height":"0","passthru":true,"multiple":false,"options":[{"label":"Ninguno","value":"Ninguno","type":"str"},{"label":"Zenith","value":"Zenith","type":"str"},{"label":"Schlumberger","value":"Schlumberger","type":"str"},{"label":"GRC Scout","value":"GRC Scout","type":"str"},{"label":"Novomet","value":"Novomet","type":"str"},{"label":"Borets","value":"Borets","type":"str"},{"label":"Borets Spy-Pro-SPS-1500","value":"Borets Spy-Pro-SPS-1500","type":"str"},{"label":"Spectrum","value":"Spectrum","type":"str"}],"payload":"","topic":"DownholeSensor_Brand","x":3370,"y":2020,"wires":[["ec994a08.2df8b8"]]},{"id":"bcbc4f06.97315","type":"ui_text_input","z":"e86f0ca4.7feb5","d":true,"g":"3a6bee4b.22d342","name":"ID Sensor de fondo","label":"ID","tooltip":"","group":"55a9eb4e.762c64","order":4,"width":"3","height":"1","passthru":true,"mode":"number","delay":300,"topic":"ID_Downhole","x":3340,"y":2070,"wires":[["12b0045f.8d610c"]]},{"id":"1708596a.fe0687","type":"link in","z":"e86f0ca4.7feb5","d":true,"g":"3a6bee4b.22d342","name":"","links":["ad87cee4.7dbb5"],"x":2925,"y":2070,"wires":[["2c7f0a4a.5cdbe6"]]},{"id":"5827de1e.b3965","type":"ui_dropdown","z":"e86f0ca4.7feb5","d":true,"g":"3a6bee4b.22d342","name":"Selección Protocolo","label":"","tooltip":"","place":"Selección ...","group":"55a9eb4e.762c64","order":3,"width":"0","height":"0","passthru":true,"multiple":false,"options":[{"label":"RS485","value":"RS485","type":"str"},{"label":"RS232","value":"RS232","type":"str"}],"payload":"","topic":"DownholeSensor_Protocol","x":3350,"y":2120,"wires":[["16b64fab.dbb22"]]},{"id":"5a72c82c.208f48","type":"ui_text_input","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","label":"Corriente límite Drive (A)","tooltip":"","group":"c9a29e84.68bd","order":7,"width":"4","height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":660,"y":1590,"wires":[["1e07455b.07cd1b"]]},{"id":"2c7f0a4a.5cdbe6","type":"function","z":"e86f0ca4.7feb5","d":true,"g":"3a6bee4b.22d342","name":"DHS","func":"\nreturn msg;","outputs":1,"noerr":0,"initialize":"if(flow.get(\"DownholeSensor\") == undefined){\n    flow.set(\"DownholeSensor.Brand_DHS\",\"Ninguno\");\n    flow.set(\"DownholeSensor.ID\",253);\n    flow.set(\"DownholeSensor.Protocol\",\"RS485\");\n}","finalize":"","x":3010,"y":2070,"wires":[["e755d972.51be38","78a84227.12c87c","5e404384.1cee1c"]]},{"id":"e755d972.51be38","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"3a6bee4b.22d342","name":"Brand","rules":[{"t":"set","p":"payload","pt":"msg","to":"DownholeSensor.Brand_DHS","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":3160,"y":2020,"wires":[["2e9fdc57.907424"]]},{"id":"78a84227.12c87c","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"3a6bee4b.22d342","name":"ID","rules":[{"t":"set","p":"payload","pt":"msg","to":"DownholeSensor.ID","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":3160,"y":2070,"wires":[["bcbc4f06.97315"]]},{"id":"5e404384.1cee1c","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"3a6bee4b.22d342","name":"Protocol","rules":[{"t":"set","p":"payload","pt":"msg","to":"DownholeSensor.Protocol","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":3170,"y":2120,"wires":[["5827de1e.b3965"]]},{"id":"ec994a08.2df8b8","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"3a6bee4b.22d342","name":"Brand","rules":[{"t":"set","p":"DownholeSensor.Brand_DHS","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3560,"y":2020,"wires":[[]]},{"id":"12b0045f.8d610c","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"3a6bee4b.22d342","name":"ID","rules":[{"t":"set","p":"DownholeSensor.ID","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3560,"y":2070,"wires":[[]]},{"id":"16b64fab.dbb22","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"3a6bee4b.22d342","name":"Protocol","rules":[{"t":"set","p":"DownholeSensor.Protocol","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3570,"y":2120,"wires":[[]]},{"id":"3a348318.fe982c","type":"switch","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","property":"UserStatus","propertyType":"global","rules":[{"t":"neq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":640,"y":160,"wires":[["28cd79fb.3dcae6","4390a2ee.d47efc","e460615d.afd65"]]},{"id":"a382052a.d8aa18","type":"ui_table","z":"e86f0ca4.7feb5","d":true,"g":"ebb7241e.548d68","group":"1b1afe53.beb8f2","name":"","order":2,"width":"9","height":"6","columns":[{"field":"No","title":"#","width":"8 %","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"Descripción","title":"Descripción","width":"30 %","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"Tipo de dato","title":"T. Dato","width":"17 %","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"Tipo de registro","title":"MBS FC","width":"17 %","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"Registro","title":"Registro","width":"17 %","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"Multiplicador","title":"Mul","width":"11 %","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}}],"outputs":0,"cts":false,"x":3580,"y":2290,"wires":[]},{"id":"ab0727da.a53ac8","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"ebb7241e.548d68","name":"Ninguno","rules":[{"t":"set","p":"payload","pt":"msg","to":"[]","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":3310,"y":2210,"wires":[["a382052a.d8aa18","e7fa2ea4.726ea"]]},{"id":"50db6dbc.984264","type":"complete","z":"e86f0ca4.7feb5","d":true,"g":"ebb7241e.548d68","name":"","scope":["ec994a08.2df8b8"],"uncaught":false,"x":2980,"y":2330,"wires":[["d5131ced.0892d"]]},{"id":"d5131ced.0892d","type":"switch","z":"e86f0ca4.7feb5","d":true,"g":"ebb7241e.548d68","name":"DHS","property":"DownholeSensor.Brand_DHS","propertyType":"flow","rules":[{"t":"eq","v":"Ninguno","vt":"str"},{"t":"eq","v":"Zenith","vt":"str"},{"t":"eq","v":"Schlumberger","vt":"str"},{"t":"eq","v":"GRC Scout","vt":"str"},{"t":"eq","v":"Novomet","vt":"str"},{"t":"eq","v":"Borets","vt":"str"},{"t":"eq","v":"Borets Spy-Pro-SPS-1500","vt":"str"},{"t":"eq","v":"Spectrum","vt":"str"}],"checkall":"true","repair":false,"outputs":8,"x":3120,"y":2330,"wires":[["ab0727da.a53ac8"],["185f7c24.292724"],["198258ee.39ca47"],["32936c3.05fea94"],["4ee6be01.95143"],["6875b1aa.12a2b"],["68df2e1f.7d983"],["74491400.799d1c"]]},{"id":"185f7c24.292724","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"ebb7241e.548d68","name":"Zenith","rules":[{"t":"set","p":"payload","pt":"msg","to":"[{\"No\":1,\"Descripción\":\"Presión de entrada\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":0,\"Multiplicador\":0.1},{\"No\":2,\"Descripción\":\"Presión de descarga\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":1,\"Multiplicador\":0.1},{\"No\":3,\"Descripción\":\"Temperatura de entrada\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":2,\"Multiplicador\":0.1},{\"No\":4,\"Descripción\":\"Temperatura de motor\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":3,\"Multiplicador\":0.1},{\"No\":5,\"Descripción\":\"Vibración X\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":4,\"Multiplicador\":0.01},{\"No\":6,\"Descripción\":\"Vibración Z\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":5,\"Multiplicador\":0.01},{\"No\":7,\"Descripción\":\"Corriente de fuga\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":6,\"Multiplicador\":0.1}]","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":3300,"y":2250,"wires":[["a382052a.d8aa18","e7fa2ea4.726ea"]]},{"id":"198258ee.39ca47","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"ebb7241e.548d68","name":"Schlumberger","rules":[{"t":"set","p":"payload","pt":"msg","to":"[{\"No\":1,\"Descripción\":\"Presión de entrada\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":2136,\"Multiplicador\":0.1},{\"No\":2,\"Descripción\":\"Presión de descarga\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":2137,\"Multiplicador\":0.1},{\"No\":3,\"Descripción\":\"Temperatura de entrada\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":2139,\"Multiplicador\":0.1},{\"No\":4,\"Descripción\":\"Temperatura de motor\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":2140,\"Multiplicador\":0.1},{\"No\":5,\"Descripción\":\"Vibración X\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":2141,\"Multiplicador\":0.001},{\"No\":6,\"Descripción\":\"Corriente de fuga\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":2142,\"Multiplicador\":0.001}]","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":3330,"y":2290,"wires":[["a382052a.d8aa18","e7fa2ea4.726ea"]]},{"id":"32936c3.05fea94","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"ebb7241e.548d68","name":"GRC Scout","rules":[{"t":"set","p":"payload","pt":"msg","to":"[{\"No\":1,\"Descripción\":\"Presión de entrada\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":1801,\"Multiplicador\":0.1},{\"No\":2,\"Descripción\":\"Presión de descarga\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":1802,\"Multiplicador\":0.1},{\"No\":3,\"Descripción\":\"Temperatura de entrada\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":1803,\"Multiplicador\":0.1},{\"No\":4,\"Descripción\":\"Temperatura de motor\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":1804,\"Multiplicador\":0.1},{\"No\":5,\"Descripción\":\"Vibración X\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":53,\"Multiplicador\":0.1},{\"No\":6,\"Descripción\":\"Vibración Z\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":54,\"Multiplicador\":0.1},{\"No\":7,\"Descripción\":\"Corriente de fuga\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":15,\"Multiplicador\":0.01}]","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":3320,"y":2330,"wires":[["a382052a.d8aa18","e7fa2ea4.726ea"]]},{"id":"4ee6be01.95143","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"ebb7241e.548d68","name":"Novomet","rules":[{"t":"set","p":"payload","pt":"msg","to":"[{\"No\":1,\"Descripción\":\"Presión de entrada\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":38,\"Multiplicador\":0.1},{\"No\":2,\"Descripción\":\"Presión de descarga\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":40,\"Multiplicador\":0.1},{\"No\":3,\"Descripción\":\"Temperatura de entrada\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":37,\"Multiplicador\":0.1},{\"No\":4,\"Descripción\":\"Temperatura de descarga\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":39,\"Multiplicador\":0.1},{\"No\":5,\"Descripción\":\"Temperatura de motor\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":41,\"Multiplicador\":0.1},{\"No\":6,\"Descripción\":\"Vibración X\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":42,\"Multiplicador\":0.01},{\"No\":7,\"Descripción\":\"Vibración Z\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":43,\"Multiplicador\":0.01},{\"No\":8,\"Descripción\":\"Corriente de fuga\",\"Tipo de dato\":\"INT\",\"Tipo de registro\":\"HR\",\"Registro\":44,\"Multiplicador\":0.01}]","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":3310,"y":2370,"wires":[["a382052a.d8aa18","e7fa2ea4.726ea"]]},{"id":"6875b1aa.12a2b","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"ebb7241e.548d68","name":"Borets","rules":[{"t":"set","p":"payload","pt":"msg","to":"[{\"No\":1,\"Descripción\":\"Presión de entrada\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"IR\",\"Registro\":1,\"Multiplicador\":0.1},{\"No\":2,\"Descripción\":\"Presión de descarga\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"IR\",\"Registro\":2,\"Multiplicador\":0.1},{\"No\":3,\"Descripción\":\"Temperatura de entrada\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"IR\",\"Registro\":4,\"Multiplicador\":0.1},{\"No\":4,\"Descripción\":\"Temperatura de motor\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"IR\",\"Registro\":5,\"Multiplicador\":0.1},{\"No\":5,\"Descripción\":\"Vibración X\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"IR\",\"Registro\":6,\"Multiplicador\":0.01},{\"No\":6,\"Descripción\":\"Vibración Z\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"IR\",\"Registro\":7,\"Multiplicador\":0.01}]","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":3300,"y":2410,"wires":[["a382052a.d8aa18","e7fa2ea4.726ea"]]},{"id":"68df2e1f.7d983","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"ebb7241e.548d68","name":"Borets SPS1500","rules":[{"t":"set","p":"payload","pt":"msg","to":"[{\"No\":1,\"Descripción\":\"Presión de entrada\",\"Tipo de dato\":\"HR\",\"Tipo de registro\":\"LONG\",\"Registro\":1007,\"Multiplicador\":0.1},{\"No\":2,\"Descripción\":\"Presión de descarga\",\"Tipo de dato\":\"HR\",\"Tipo de registro\":\"LONG\",\"Registro\":1011,\"Multiplicador\":0.1},{\"No\":3,\"Descripción\":\"Temperatura de entrada\",\"Tipo de dato\":\"HR\",\"Tipo de registro\":\"LONG\",\"Registro\":1009,\"Multiplicador\":0.1},{\"No\":4,\"Descripción\":\"Temperatura de descarga\",\"Tipo de dato\":\"HR\",\"Tipo de registro\":\"LONG\",\"Registro\":1013,\"Multiplicador\":0.1},{\"No\":5,\"Descripción\":\"Temperatura de motor\",\"Tipo de dato\":\"HR\",\"Tipo de registro\":\"LONG\",\"Registro\":1015,\"Multiplicador\":0.1},{\"No\":6,\"Descripción\":\"Vibración X\",\"Tipo de dato\":\"HR\",\"Tipo de registro\":\"LONG\",\"Registro\":1017,\"Multiplicador\":0.01},{\"No\":7,\"Descripción\":\"Vibración Z\",\"Tipo de dato\":\"HR\",\"Tipo de registro\":\"LONG\",\"Registro\":1021,\"Multiplicador\":0.01},{\"No\":8,\"Descripción\":\"Corriente de fuga\",\"Tipo de dato\":\"HR\",\"Tipo de registro\":\"LONG\",\"Registro\":1029,\"Multiplicador\":0.1}]","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":3330,"y":2450,"wires":[["a382052a.d8aa18","e7fa2ea4.726ea"]]},{"id":"e7fa2ea4.726ea","type":"json","z":"e86f0ca4.7feb5","d":true,"g":"ebb7241e.548d68","name":"","property":"payload","action":"obj","pretty":false,"x":3580,"y":2330,"wires":[["1a2660d3.c50b5f"]]},{"id":"1a2660d3.c50b5f","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"ebb7241e.548d68","name":"Mapa MBS","rules":[{"t":"set","p":"DownholeSensor.MBSMap","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3720,"y":2330,"wires":[[]]},{"id":"88205ddf.276db","type":"inject","z":"e86f0ca4.7feb5","d":true,"g":"beae8e2f.5f80b","name":"DHS","props":[{"p":"DHS","v":"DownholeSensor","vt":"flow"}],"repeat":"2.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":2980,"y":2710,"wires":[["9a8806c3.c971a8"]]},{"id":"f84640f8.5f42e","type":"catch","z":"68deacdf.9a36f4","g":"4888c9a8.82cb88","name":"","scope":["72bc0ef0.eb795","c4d4160a.bd9958","fe4792d6.27d84","f894367d.626e58"],"uncaught":false,"x":1380,"y":340,"wires":[["847c409b.80c02"]]},{"id":"847c409b.80c02","type":"debug","z":"68deacdf.9a36f4","g":"4888c9a8.82cb88","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"payload","targetType":"msg","statusVal":"","statusType":"auto","x":1520,"y":340,"wires":[]},{"id":"9a8806c3.c971a8","type":"function","z":"e86f0ca4.7feb5","d":true,"g":"beae8e2f.5f80b","name":"Mensajes asíncronos Modbus","func":"// Enviar mensajes de lectura Modbus de forma asíncrona\nfor(var i=0; i<msg.DHS.MBSMap.length; i+=1){\n    msg.payload = { \n        'fc':       msg.DHS.MBSMap[i][\"Tipo de registro\"] == \"HR\" ? 3:4, \n        'unitid':   msg.DHS.ID, \n        'address':  msg.DHS.MBSMap[i].Registro, \n        'quantity': 1\n    }\n    msg.topic   = msg.DHS.MBSMap[i][\"Descripción\"];\n    msg.factor  = msg.DHS.MBSMap[i][\"Multiplicador\"];\n    node.send(msg)\n}\nreturn;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3180,"y":2710,"wires":[["7b7a47b.51bdfb8"]]},{"id":"7b7a47b.51bdfb8","type":"modbus-flex-getter","z":"e86f0ca4.7feb5","d":true,"g":"beae8e2f.5f80b","name":"DHS RS485","showStatusActivities":true,"showErrors":false,"logIOActivities":false,"server":"aeef0dfe.74e9c","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":true,"keepMsgProperties":true,"x":3400,"y":2710,"wires":[["3d698efd.3e4e82","7e7bae6e.af09d"],[]]},{"id":"3d698efd.3e4e82","type":"function","z":"e86f0ca4.7feb5","d":true,"g":"beae8e2f.5f80b","name":"Asingar Datos","func":"\nif(msg.payload !== \"\"){\n    Data = global.get('DownHoleData.DHS','memoryOnly');\n    Data[msg.topic] = (msg.payload[0]* msg.factor).toFixed(2);\n    context.set('Data',Data,'memoryOnly');\n    global.set(\"DownHoleData.DHS\",Data,'memoryOnly')\n}\nelse{\n    Data = global.get('DownHoleData.DHS','memoryOnly');\n    //Data[msg.topic] = 0;\n    context.set('Data',Data,'memoryOnly');\n    global.set(\"DownHoleData.DHS\",Data,'memoryOnly')\n}\nreturn;","outputs":0,"noerr":0,"initialize":"","finalize":"","x":3580,"y":2710,"wires":[]},{"id":"607f9200.e4c44c","type":"complete","z":"e86f0ca4.7feb5","d":true,"g":"f059af07.db923","name":"","scope":["1a2660d3.c50b5f"],"uncaught":false,"x":2980,"y":2580,"wires":[["85a003b1.e1e26"]]},{"id":"85a003b1.e1e26","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"f059af07.db923","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"DownholeSensor.MBSMap","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":3180,"y":2580,"wires":[["a9df7a9b.8847d8"]]},{"id":"a9df7a9b.8847d8","type":"function","z":"e86f0ca4.7feb5","d":true,"g":"f059af07.db923","name":"Objeto DHSData","func":"DHS = flow.get(\"DownholeSensor.MBSMap\");\nDownHoleData = {};\nfor(var i=0; i<DHS.length; i+=1){\n    DownHoleData[DHS[i].Descripción] = 0;\n}\nmsg.payload = {DownHoleData}\nglobal.set(\"DownHoleData.DHS\",DownHoleData,\"memoryOnly\");\nreturn;","outputs":0,"noerr":0,"initialize":"","finalize":"","x":3370,"y":2580,"wires":[]},{"id":"b3c62075.a7822","type":"link in","z":"e86f0ca4.7feb5","d":true,"g":"f059af07.db923","name":"DHS Link In","links":["ad87cee4.7dbb5"],"x":3035,"y":2620,"wires":[["85a003b1.e1e26"]]},{"id":"9709f15b.d49e5","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"947b30c0.681a3","name":"Navbar Referencia prolongada","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":430,"y":1970,"wires":[[]]},{"id":"cb15d4b0.0cde98","type":"complete","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"","scope":["204f1936.12cc66","c2c739e5.b222d8","ea102947.4ba5a8"],"uncaught":false,"x":1210,"y":220,"wires":[["2ca548ea.1de6d8","7c2644dc.75a98c"]]},{"id":"9315f673.0e6318","type":"link in","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"Bypass filtro armónicos","links":["ad87cee4.7dbb5"],"x":1265,"y":260,"wires":[["2ca548ea.1de6d8"]]},{"id":"2ca548ea.1de6d8","type":"switch","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"","property":"Prolonged_Reference.Enable","propertyType":"global","rules":[{"t":"true"},{"t":"false"},{"t":"else"}],"checkall":"true","repair":false,"outputs":3,"x":1360,"y":260,"wires":[["24d63075.18d42","35089ba2.d4e914"],["cfcc60e1.2936f","2bc07192.268fbe"],["2bc07192.268fbe","cfcc60e1.2936f","c2c739e5.b222d8"]]},{"id":"cfcc60e1.2936f","type":"change","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1540,"y":250,"wires":[["10324def.d78f12"]]},{"id":"2bc07192.268fbe","type":"change","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1540,"y":210,"wires":[["aae48476.4ecf28"]]},{"id":"35089ba2.d4e914","type":"change","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1540,"y":170,"wires":[["10324def.d78f12"]]},{"id":"24d63075.18d42","type":"change","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1540,"y":130,"wires":[["aae48476.4ecf28"]]},{"id":"7c2644dc.75a98c","type":"change","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Prolonged_Reference.Enable","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1570,"y":90,"wires":[["ef210ac.f59eaf8"]]},{"id":"ef210ac.f59eaf8","type":"function","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"Color","func":"if(msg.payload){\n    msg.payload = \"green\";\n    node.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n}\nelse{\n    msg.payload = \"grey\";\n    node.status({fill:\"grey\",shape:\"dot\",text:msg.payload});\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1720,"y":90,"wires":[["ff67471b.66ecb8"]]},{"id":"ff67471b.66ecb8","type":"ui_text","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","group":"45237b74.b00cc4","order":5,"width":0,"height":0,"name":"Indicador Referencia prolongada","label":"<font color= {{msg.payload}}><font size=3><font = bold>Rampa","format":"<font color= {{msg.payload}}><font size=3>Prolongada","layout":"col-center","x":1930,"y":90,"wires":[]},{"id":"aae48476.4ecf28","type":"ui_button","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"","group":"1c1f6ab9.b77ba5","order":7,"width":"2","height":"1","passthru":false,"label":"Habilitar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1690,"y":170,"wires":[["204f1936.12cc66"]]},{"id":"10324def.d78f12","type":"ui_button","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"","group":"1c1f6ab9.b77ba5","order":8,"width":"2","height":"1","passthru":false,"label":"Deshabilitar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1700,"y":210,"wires":[["c2c739e5.b222d8"]]},{"id":"204f1936.12cc66","type":"change","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"Habilitar","rules":[{"t":"set","p":"Prolonged_Reference.Enable","pt":"global","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1910,"y":230,"wires":[[]]},{"id":"c2c739e5.b222d8","type":"change","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"Deshabilitar","rules":[{"t":"set","p":"Prolonged_Reference.Enable","pt":"global","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1920,"y":270,"wires":[[]]},{"id":"51d2e767.639a98","type":"link in","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"Indicador Arranque Escalonado","links":["ad87cee4.7dbb5"],"x":1265,"y":180,"wires":[["7c2644dc.75a98c"]]},{"id":"2d99a6be.27522a","type":"ui_text","z":"68deacdf.9a36f4","d":true,"g":"aaa733ec.38139","group":"ac93c9db.36a8e8","order":1,"width":4,"height":2,"name":"","label":"Presión de Entrada","format":"<font size = 7px> {{msg.payload}}psi","layout":"col-center","x":670,"y":1430,"wires":[]},{"id":"1603eae4.5882e5","type":"inject","z":"68deacdf.9a36f4","d":true,"g":"aaa733ec.38139","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"#:(memoryOnly)::DownHoleData.DHS","payloadType":"global","x":250,"y":1570,"wires":[["791c434e.8fdfcc"]]},{"id":"791c434e.8fdfcc","type":"function","z":"68deacdf.9a36f4","d":true,"g":"aaa733ec.38139","name":"Switch","func":"// Switch basado en propiedades\nvar InPressure      = {\"payload\":typeof msg.payload[\"Presión de entrada\"]       !== 'undefined' ? msg.payload[\"Presión de entrada\"]         :\"--\"};\nvar OutPressure     = {\"payload\":typeof msg.payload[\"Presión de descarga\"]      !== 'undefined' ? msg.payload[\"Presión de descarga\"]        :\"--\"};\nvar InTemperature   = {\"payload\":typeof msg.payload[\"Temperatura de entrada\"]   !== 'undefined' ? msg.payload[\"Temperatura de entrada\"]     :\"--\"};\nvar OutTemperature  = {\"payload\":typeof msg.payload[\"Temperatura de Descarga\"]  !== 'undefined' ? msg.payload[\"Temperatura de Descarga\"]    :\"--\"};\nvar MtrTemperature  = {\"payload\":typeof msg.payload[\"Temperatura de motor\"]     !== 'undefined' ? msg.payload[\"Temperatura de motor\"]       :\"--\"};\nvar XVibration      = {\"payload\":typeof msg.payload[\"Vibración X\"]              !== 'undefined' ? msg.payload[\"Vibración X\"]                :\"--\"};\nvar ZVibration      = {\"payload\":typeof msg.payload[\"Vibración Z\"]              !== 'undefined' ? msg.payload[\"Vibración Z\"]                :\"--\"};\nvar LeakageCurrent  = {\"payload\":typeof msg.payload[\"Corriente de fuga\"]        !== 'undefined' ? msg.payload[\"Corriente de fuga\"]          :\"--\"};\n\nreturn [\n    InPressure,\n    OutPressure,\n    InTemperature,\n    OutTemperature,\n    MtrTemperature,\n    XVibration,\n    ZVibration,\n    LeakageCurrent\n];","outputs":8,"noerr":0,"initialize":"","finalize":"","x":440,"y":1570,"wires":[["2d99a6be.27522a"],["cc9cb39c.18827"],["f6083665.184228"],["a03df1c0.039fd"],["c952a4a7.338728"],["c7928d3f.6b95f"],["48ae9e90.9011b"],["9bfc4b14.b3c7a8"]],"outputLabels":["Presión de entrada","Presión de descarga","Temperatura de entrada","Temperatura de descarga","Temperatura de motor","Vibración en X","Vibración en Z","Corriente de fuga"]},{"id":"cc9cb39c.18827","type":"ui_text","z":"68deacdf.9a36f4","d":true,"g":"aaa733ec.38139","group":"ac93c9db.36a8e8","order":2,"width":4,"height":2,"name":"","label":"Presión de descarga","format":"<font size = 7px> {{msg.payload}}psi","layout":"col-center","x":680,"y":1470,"wires":[]},{"id":"f6083665.184228","type":"ui_text","z":"68deacdf.9a36f4","d":true,"g":"aaa733ec.38139","group":"ac93c9db.36a8e8","order":3,"width":4,"height":2,"name":"","label":"Temperatura de entrada","format":"<font size = 7px> {{msg.payload}}ºF","layout":"col-center","x":690,"y":1510,"wires":[]},{"id":"a03df1c0.039fd","type":"ui_text","z":"68deacdf.9a36f4","d":true,"g":"aaa733ec.38139","group":"ac93c9db.36a8e8","order":4,"width":4,"height":2,"name":"","label":"Temperatura de descarga","format":"<font size = 7px> {{msg.payload}}ºF","layout":"col-center","x":690,"y":1550,"wires":[]},{"id":"c952a4a7.338728","type":"ui_text","z":"68deacdf.9a36f4","d":true,"g":"aaa733ec.38139","group":"ac93c9db.36a8e8","order":5,"width":4,"height":2,"name":"","label":"Temperatura de motor","format":"<font size = 7px> {{msg.payload}}ºF","layout":"col-center","x":680,"y":1590,"wires":[]},{"id":"c7928d3f.6b95f","type":"ui_text","z":"68deacdf.9a36f4","d":true,"g":"aaa733ec.38139","group":"ac93c9db.36a8e8","order":6,"width":4,"height":2,"name":"","label":"Vibración en X","format":"<font size = 7px> {{msg.payload}}G","layout":"col-center","x":660,"y":1630,"wires":[]},{"id":"48ae9e90.9011b","type":"ui_text","z":"68deacdf.9a36f4","d":true,"g":"aaa733ec.38139","group":"ac93c9db.36a8e8","order":8,"width":4,"height":2,"name":"","label":"Vibración en Z","format":"<font size = 7px> {{msg.payload}}G","layout":"col-center","x":660,"y":1670,"wires":[]},{"id":"9bfc4b14.b3c7a8","type":"ui_text","z":"68deacdf.9a36f4","d":true,"g":"aaa733ec.38139","group":"ac93c9db.36a8e8","order":9,"width":4,"height":2,"name":"","label":"Corriente de fuga","format":"<font size = 7px> {{msg.payload}}A","layout":"col-center","x":670,"y":1710,"wires":[]},{"id":"1e07455b.07cd1b","type":"change","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","rules":[{"t":"set","p":"Motor_Control.Volts_per_Hertz.Current_Limit","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1030,"y":1590,"wires":[[]]},{"id":"b732c4f9.4ad3d8","type":"change","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"Current_Limit","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Volts_per_Hertz.Current_Limit","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":1590,"wires":[["5a72c82c.208f48"]]},{"id":"5cd0426c.28198c","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"Current_Limit","env":[{"name":"Parameter","value":"422","type":"num"}],"x":450,"y":1630,"wires":[["5a72c82c.208f48"]]},{"id":"4b4d89b2.afea38","type":"link in","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","links":["fa33f7fa.bf0bd8"],"x":335,"y":1630,"wires":[["5cd0426c.28198c"]]},{"id":"17803970.897c87","type":"change","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Current Limit","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Volts_per_Hertz.Current_Limit","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1560,"y":1520,"wires":[["6f6dca07.0b3994"]]},{"id":"6f6dca07.0b3994","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Current_Limit","env":[{"name":"Parameter","value":"422","type":"num"}],"x":1890,"y":1520,"wires":[[]]},{"id":"7e7bae6e.af09d","type":"switch","z":"e86f0ca4.7feb5","d":true,"g":"beae8e2f.5f80b","name":"","property":"payload","propertyType":"msg","rules":[{"t":"nempty"},{"t":"empty"}],"checkall":"true","repair":false,"outputs":2,"x":3550,"y":2770,"wires":[["ad027547.9a9c48"],["57cd5933.3df778"]]},{"id":"7b67956.808d16c","type":"ui_led","z":"e86f0ca4.7feb5","d":true,"g":"beae8e2f.5f80b","group":"8276e64d.c16508","order":1,"width":0,"height":0,"label":"Estado de comunicación: {{msg.payload}}","labelPlacement":"right","labelAlignment":"left","colorForValue":[{"color":"red","value":"En falla","valueType":"str"},{"color":"green","value":"Activa","valueType":"str"}],"allowColorForValueInMessage":false,"name":"","x":3850,"y":2750,"wires":[]},{"id":"ad027547.9a9c48","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"beae8e2f.5f80b","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Activa","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3700,"y":2750,"wires":[["7b67956.808d16c"]]},{"id":"57cd5933.3df778","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"beae8e2f.5f80b","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"En falla","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3700,"y":2790,"wires":[["7b67956.808d16c"]]},{"id":"aa3c422d.31446","type":"exec","z":"8ba0552a.e27ca8","g":"262051d5.79c84e","command":"sudo rm /usr/share/plymouth/themes/pix/splash.png","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Remover Splash actual","x":310,"y":300,"wires":[[],[],[]]},{"id":"4a92f2f5.dac4fc","type":"inject","z":"8ba0552a.e27ca8","g":"262051d5.79c84e","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":130,"y":300,"wires":[["aa3c422d.31446"]]},{"id":"6b91a284.15037c","type":"complete","z":"8ba0552a.e27ca8","g":"262051d5.79c84e","name":"","scope":["aa3c422d.31446"],"uncaught":false,"x":110,"y":360,"wires":[["5e35a538.cad0cc"]]},{"id":"5e35a538.cad0cc","type":"exec","z":"8ba0552a.e27ca8","g":"262051d5.79c84e","command":"sudo cp /home/pi/Documents/splash.png /usr/share/plymouth/themes/pix/splash.png","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Insertar Splash","x":280,"y":360,"wires":[[],[],[]]},{"id":"77783f2a.0aca1","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Temperatura de descarga","rules":[{"t":"set","p":"#:(memoryOnly)::DownHoleData.AI[\"Temperatura de descarga\"]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2500,"y":690,"wires":[[]]},{"id":"feca211c.60dc6","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Temperatura de entrada","rules":[{"t":"set","p":"#:(memoryOnly)::DownHoleData.AI[\"Temperatura de entrada\"]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2500,"y":650,"wires":[[]]},{"id":"3b25cb79.a981f4","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Presión de descarga","rules":[{"t":"set","p":"#:(memoryOnly)::DownHoleData.AI[\"Presión de descarga\"]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2490,"y":610,"wires":[[]]},{"id":"77b4028a.3116dc","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Presión de entrada","rules":[{"t":"set","p":"#:(memoryOnly)::DownHoleData.AI[\"Presión de entrada\"]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2480,"y":570,"wires":[[]]},{"id":"95efa56e.233d78","type":"switch","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Ruteo de señales","property":"function","propertyType":"msg","rules":[{"t":"eq","v":"PRESION_INTAKE","vt":"str"},{"t":"eq","v":"PRESION_DISCHARGE","vt":"str"},{"t":"eq","v":"TEMPERATURA_INTAKE","vt":"str"},{"t":"eq","v":"TEMPERATURA_DISCHARGE","vt":"str"},{"t":"eq","v":"TEMPERATURA_MOTOR","vt":"str"},{"t":"eq","v":"PRESION_CASING","vt":"str"},{"t":"eq","v":"PRESION_CABEZA_THP","vt":"str"},{"t":"eq","v":"TEMPERATURA_CABEZA_THT","vt":"str"},{"t":"eq","v":"REFERENCIA_REMOTA","vt":"str"},{"t":"else"}],"checkall":"true","repair":false,"outputs":10,"x":2190,"y":910,"wires":[["77b4028a.3116dc"],["3b25cb79.a981f4"],["feca211c.60dc6"],["77783f2a.0aca1"],["3f48d1d.ab2bc2e"],["ba9edd6f.41866"],["f74abfe3.0a48"],["f280a028.0f854"],[],["1d62e869.d5e798"]]},{"id":"f9d05caa.b3206","type":"inject","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1980,"y":560,"wires":[["8512c7a9.9f3008","ee85a47.ad49958","e78a55c6.016538","9b3a07a.3df91f8","13df9639.62708a","3e30e6e0.bd0faa","b59f826.3f1168","795296da.abb248"]]},{"id":"8512c7a9.9f3008","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Limpiar PIntake","func":"var ES = Object.values(flow.get(\"ES.EA.Funciones.Lista_Simple\"));\nvar status = ES.indexOf(\"PRESION_INTAKE\");\n\nif(status != -1){\n    return;\n} \nelse{\n    return {'payload':0};\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2180,"y":520,"wires":[["77b4028a.3116dc"]]},{"id":"ee85a47.ad49958","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Limpiar PDischarge","func":"var ES = Object.values(flow.get(\"ES.EA.Funciones.Lista_Simple\"));\nvar status = ES.indexOf(\"PRESION_DISCHARGE\");\n\nif(status != -1){\n    return;\n} \nelse{\n    return {'payload':0};\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2190,"y":560,"wires":[["3b25cb79.a981f4"]]},{"id":"e78a55c6.016538","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Limpiar TIntake","func":"var ES = Object.values(flow.get(\"ES.EA.Funciones.Lista_Simple\"));\nvar status = ES.indexOf(\"TEMPERATURA_INTAKE\");\n\nif(status != -1){\n    return;\n} \nelse{\n    return {'payload':0};\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2180,"y":600,"wires":[["feca211c.60dc6"]]},{"id":"9b3a07a.3df91f8","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Limpiar TDischarge","func":"var ES = Object.values(flow.get(\"ES.EA.Funciones.Lista_Simple\"));\nvar status = ES.indexOf(\"TEMPERATURA_DISCHARGE\");\n\nif(status != -1){\n    return;\n} \nelse{\n    return {'payload':0};\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2190,"y":640,"wires":[["77783f2a.0aca1"]]},{"id":"a06fc65.b22c838","type":"inject","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"PIn","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"value","payload":"#:(memoryOnly)::DownHoleData.DHS[\"Presión de entrada\"]","payloadType":"global","x":340,"y":850,"wires":[["8d456762.d29828","a987ab73.5659c8"]]},{"id":"3f48d1d.ab2bc2e","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Temperatura de motor","rules":[{"t":"set","p":"#:(memoryOnly)::DownHoleData.AI[\"Temperatura de motor\"]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2490,"y":730,"wires":[[]]},{"id":"13df9639.62708a","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Limpiar TMotor","func":"var ES = Object.values(flow.get(\"ES.EA.Funciones.Lista_Simple\"));\nvar status = ES.indexOf(\"TEMPERATURA_MOTOR\");\n\nif(status != -1){\n    return;\n} \nelse{\n    return {'payload':0};\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2180,"y":680,"wires":[["3f48d1d.ab2bc2e"]]},{"id":"ba9edd6f.41866","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Presión de casing","rules":[{"t":"set","p":"#:(memoryOnly)::DownHoleData.AI[\"Presión de casing\"]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2480,"y":770,"wires":[[]]},{"id":"3e30e6e0.bd0faa","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Limpiar PCasing","func":"var ES = Object.values(flow.get(\"ES.EA.Funciones.Lista_Simple\"));\nvar status = ES.indexOf(\"PRESION_CASING\");\n\nif(status != -1){\n    return;\n} \nelse{\n    return {'payload':0};\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2180,"y":720,"wires":[["ba9edd6f.41866"]]},{"id":"b59f826.3f1168","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Limpiar PCabezaTHP","func":"var ES = Object.values(flow.get(\"ES.EA.Funciones.Lista_Simple\"));\nvar status = ES.indexOf(\"PRESION_CABEZA_THP\");\n\nif(status != -1){\n    return;\n} \nelse{\n    return {'payload':0};\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2200,"y":760,"wires":[["f74abfe3.0a48"]]},{"id":"f74abfe3.0a48","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Presión de cabeza THP","rules":[{"t":"set","p":"#:(memoryOnly)::DownHoleData.AI[\"Presión de cabeza THP\"]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2500,"y":810,"wires":[[]]},{"id":"795296da.abb248","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Limpiar TCabezaTHT","func":"var ES = Object.values(flow.get(\"ES.EA.Funciones.Lista_Simple\"));\nvar status = ES.indexOf(\"TEMPERATURA_CABEZA_THT\");\n\nif(status != -1){\n    return;\n} \nelse{\n    return {'payload':0};\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2200,"y":800,"wires":[["f280a028.0f854"]]},{"id":"f280a028.0f854","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Temperatura de cabeza THT","rules":[{"t":"set","p":"#:(memoryOnly)::DownHoleData.AI[\"Temperatura de cabeza THT\"]","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2510,"y":850,"wires":[[]]},{"id":"6a2b6f19.a11b3","type":"function","z":"e86f0ca4.7feb5","name":"Selector de Datos AI/DHS","func":"var ES  = Object.values(flow.get(\"ES.EA.Funciones.Lista_Simple\"));\nvar DownHoleData = global.get('DownHoleData','memoryOnly');\n\nPIn     = ES.indexOf(\"PRESION_INTAKE\")          != -1 ? DownHoleData.AI[\"Presión de entrada\"]:DownHoleData.DHS[\"Presión de entrada\"];\nPout    = ES.indexOf(\"PRESION_DISCHARGE\")       != -1 ? DownHoleData.AI[\"Presión de descarga\"]:DownHoleData.DHS[\"Presión de descarga\"];\nTIn     = ES.indexOf(\"TEMPERATURA_INTAKE\")      != -1 ? DownHoleData.AI[\"Temperatura de entrada\"]:DownHoleData.DHS[\"Temperatura de entrada\"];\nTOut    = ES.indexOf(\"TEMPERATURA_DISCHARGE\")   != -1 ? DownHoleData.AI[\"Temperatura de descarga\"]:DownHoleData.DHS[\"Temperatura de descarga\"];\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3060,"y":2750,"wires":[[]]},{"id":"6a4006c.6f2d6f8","type":"inject","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"POut","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"value","payload":"#:(memoryOnly)::DownHoleData.DHS[\"Presión de descarga\"]","payloadType":"global","x":340,"y":970,"wires":[["7dedf7c7.3568e8","50f03a.017defc8"]]},{"id":"81068dcc.a1177","type":"inject","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"TIn","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"value","payload":"#:(memoryOnly)::DownHoleData.DHS[\"Temperatura de entrada\"]","payloadType":"global","x":340,"y":1090,"wires":[["b79b0088.e0571","91957e64.06da6"]]},{"id":"4deb9438.7defec","type":"inject","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"MTemp","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"value","payload":"#:(memoryOnly)::DownHoleData.DHS[\"Temperatura de motor\"]","payloadType":"global","x":330,"y":1210,"wires":[["39509b2.05d2f64","89023996.5cc628"]]},{"id":"404681b.fc83a8","type":"inject","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"DisTemp","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"value","payload":"#:(memoryOnly)::DownHoleData.DHS[\"Temperatura de descarga\"]","payloadType":"global","x":330,"y":1330,"wires":[["390f354c.d49e3a","8c08f202.ae3eb"]]},{"id":"d5c28eba.11987","type":"inject","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"CLeakage","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"value","payload":"#:(memoryOnly)::DownHoleData.DHS[\"Corriente de fuga\"]","payloadType":"global","x":320,"y":730,"wires":[["c5e33e4d.00d55","e8e85d1b.ab894"]]},{"id":"9ee87017.647be","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Vibration","func":"XVibration = msg.payload[\"Vibración X\"]||0;\nZVibration = msg.payload[\"Vibración Z\"]||0;\nHVibration  = XVibration > ZVibration ? XVibration :ZVibration; \nVibration = XVibration > ZVibration ? \"XVibration\" :\"ZVibration\"; \nmsg.payload = HVibration;\nnode.status({fill:\"green\",shape:\"dot\",text:Vibration+\": \"+msg.payload});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":330,"y":570,"wires":[["15f0eae5.dcd0a5","afd0928b.cd82a"]]},{"id":"fe737e3a.63a24","type":"inject","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Vibration","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"value","payload":"#:(memoryOnly)::DownHoleData.DHS","payloadType":"global","x":190,"y":570,"wires":[["9ee87017.647be"]]},{"id":"e5601be4.cf01b8","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Vibración Eventos Link","links":["9fdb4f2c.3307b"],"x":755,"y":610,"wires":[]},{"id":"7c83e70f.fd63d8","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Vibración Estados Link","links":["9209cfb3.3a43a"],"x":755,"y":650,"wires":[]},{"id":"a902e81d.dec2f8","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Corriente de fuga Eventos","links":["617d545d.946abc"],"x":755,"y":730,"wires":[]},{"id":"f8ea205f.95545","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Corriente de fuga Estados","links":["9209cfb3.3a43a"],"x":755,"y":770,"wires":[]},{"id":"a943ed58.e925d","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Presión de entrada Eventos","links":["688211ad.4299a"],"x":755,"y":850,"wires":[]},{"id":"4fbab036.e35de","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Presión de entrada Estado","links":["9209cfb3.3a43a"],"x":755,"y":890,"wires":[]},{"id":"693c775a.488e48","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Presión de descarga Eventos","links":["a1842f67.5ada7"],"x":755,"y":970,"wires":[]},{"id":"2e11499b.b80e16","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Presión de descarga Estados","links":["9209cfb3.3a43a"],"x":755,"y":1010,"wires":[]},{"id":"f04c901f.dd12","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Temperatura de entrada Eventos","links":["37b12ec4.ce43d2"],"x":755,"y":1090,"wires":[]},{"id":"e1469d81.80e24","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Temperatura de entrada Estados","links":["9209cfb3.3a43a"],"x":755,"y":1130,"wires":[]},{"id":"b9fb6552.28c578","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Temperatura de motor Eventos","links":["78f4bf0d.80779"],"x":755,"y":1210,"wires":[]},{"id":"5c00e40a.1e606c","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Temperatura de motor Estados","links":["9209cfb3.3a43a"],"x":755,"y":1250,"wires":[]},{"id":"40b18d07.723fa4","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Temperatura de descarga Eventos","links":["332bea0e.72cc56"],"x":755,"y":1330,"wires":[]},{"id":"64e23160.f2226","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Temperatura de descarga Estados","links":["9209cfb3.3a43a"],"x":755,"y":1370,"wires":[]},{"id":"c9670c98.e395a","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"Evento de Vibración","func":"var Vib = global.get(\"DownHoleData.DHS\",'memoryOnly')||null;\n\nXVibration  = Vib[\"Vibración X\"]||0;\nZVibration  = Vib[\"Vibración Z\"]||0;\nHVibration  = XVibration > ZVibration ? XVibration :ZVibration; \nHVibration  = parseFloat(HVibration).toFixed(2);\n\nnode.status({fill:\"red\",shape:\"ring\",text:msg.Mensaje});\n\nif(msg.Mensaje == \"Trigger by HH Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por Proteción de Vibración HH: \"+HVibration;\n    global.set('Protections.Vibration.Status',4,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n    \n}\nif(msg.Mensaje == \"Trigger by LL Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Vibración LL: \"+HVibration;\n    global.set('Protections.Vibration.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by H Protection\"){\n    msg.payload = \"Alarma por Vibración H: \"+HVibration;\n    global.set('Protections.Vibration.Status',2,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by L Protection\"){\n    msg.payload = \"Alarma por Vibración L: \"+HVibration;\n    global.set('Protections.Vibration.Status',1,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Normal condition\"){\n    msg.payload = \"Condición normal\";\n    global.set('Protections.Vibration.Status',0,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1020,"y":280,"wires":[["d53d6da0.4e44f","d3023171.a64c3"]]},{"id":"9fdb4f2c.3307b","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"Evento Vibración","links":["e5601be4.cf01b8"],"x":885,"y":280,"wires":[["c9670c98.e395a"]]},{"id":"5d8f41b8.72839","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"Evento de Corriente de fuga","func":"//DownHoleData.DHS[\"Corriente de fuga\"]\nvar DownHoleData    = global.get(\"DownHoleData.DHS\",'memoryOnly')||null;\nvar CLeakage        = DownHoleData[\"Corriente de fuga\"]||0;\nCLeakage            = parseFloat(CLeakage).toFixed(2);\nnode.status({fill:\"red\",shape:\"ring\",text:msg.Mensaje});\n\nif(msg.Mensaje == \"Trigger by HH Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por Proteción de Corriente de fuga HH: \"+CLeakage;\n    global.set('Protections.Current.Leakage.Status',4,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n    \n}\nif(msg.Mensaje == \"Trigger by LL Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Corriente de fuga LL: \"+CLeakage;\n    global.set('Protections.Current.Leakage.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by H Protection\"){\n    msg.payload = \"Alarma por Corriente de fuga H: \"+CLeakage;\n    global.set('Protections.Current.Leakage.Status',2,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by L Protection\"){\n    msg.payload = \"Alarma por Corriente de fuga L: \"+CLeakage;\n    global.set('Protections.Current.Leakage.Status',1,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Normal condition\"){\n    msg.payload = \"Condición normal\";\n    global.set('Protections.Current.Leakage.Status',0,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1040,"y":330,"wires":[["d53d6da0.4e44f","d3023171.a64c3"]]},{"id":"617d545d.946abc","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"","links":["a902e81d.dec2f8"],"x":885,"y":330,"wires":[["5d8f41b8.72839"]]},{"id":"3dd14ea4.843082","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"Evento de Presión de entrada","func":"var DownHoleData    = global.get(\"DownHoleData.DHS\",'memoryOnly')||null;\nvar Pin             = DownHoleData[\"Presión de entrada\"]||0;\nPin                 = parseFloat(Pin).toFixed(2);\nnode.status({fill:\"red\",shape:\"ring\",text:msg.Mensaje});\n\nif(msg.Mensaje == \"Trigger by HH Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por Proteción de Presión de entrada HH: \"+Pin;\n    global.set('Protections.Intake.Pressure.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n    \n}\nif(msg.Mensaje == \"Trigger by LL Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Presión de entrada LL: \"+Pin;\n    global.set('Protections.Intake.Pressure.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by H Protection\"){\n    msg.payload = \"Alarma por Presión de entrada H: \"+Pin;\n    global.set('Protections.Intake.Pressure.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by L Protection\"){\n    msg.payload = \"Alarma por Presión de entrada L: \"+Pin;\n    global.set('Protections.Intake.Pressure.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Normal condition\"){\n    msg.payload = \"Condición normal\";\n    global.set('Protections.Intake.Pressure.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1050,"y":380,"wires":[["d53d6da0.4e44f","d3023171.a64c3"]]},{"id":"688211ad.4299a","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"","links":["a943ed58.e925d"],"x":885,"y":380,"wires":[["3dd14ea4.843082"]]},{"id":"f78e6f63.b799c","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"Evento de Temperatura de entrada","func":"var DownHoleData    = global.get(\"DownHoleData.DHS\",'memoryOnly')||null;\nvar InTemp          = DownHoleData[\"Temperatura de entrada\"]||0;\nInTemp              = parseFloat(InTemp).toFixed(2);\n\nnode.status({fill:\"red\",shape:\"ring\",text:msg.Mensaje});\n\nif(msg.Mensaje == \"Trigger by HH Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por Proteción de Temperatura de entrada HH: \"+InTemp;\n    global.set('Protections.Intake.Temperature.Status',4,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n    \n}\nif(msg.Mensaje == \"Trigger by LL Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Temperatura de entrada LL: \"+InTemp;\n    global.set('Protections.Intake.Temperature.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by H Protection\"){\n    msg.payload = \"Alarma por Temperatura de entrada H: \"+InTemp;\n    global.set('Protections.Intake.Temperature.Status',2,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by L Protection\"){\n    msg.payload = \"Alarma por Temperatura de entrada L: \"+InTemp;\n    global.set('Protections.Intake.Temperature.Status',1,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Normal condition\"){\n    msg.payload = \"Condición normal\";\n    global.set('Protections.Intake.Temperature.Status',0,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1060,"y":480,"wires":[["d53d6da0.4e44f","d3023171.a64c3"]]},{"id":"37b12ec4.ce43d2","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"","links":["f04c901f.dd12"],"x":885,"y":480,"wires":[["f78e6f63.b799c"]]},{"id":"b021a1a.8e66f6","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"Evento de Temperatura de motor","func":"var DownHoleData    = global.get(\"DownHoleData.DHS\",'memoryOnly')||null;\nvar MtrTemp         = DownHoleData[\"Temperatura de motor\"]||0;\nMtrTemp             = parseFloat(MtrTemp).toFixed(2);\n\nnode.status({fill:\"red\",shape:\"ring\",text:msg.Mensaje});\n\nif(msg.Mensaje == \"Trigger by HH Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por Proteción de Temperatura de motor HH: \"+MtrTemp;\n    global.set('Protections.Motor.Temperature.Status',4,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n    \n}\nif(msg.Mensaje == \"Trigger by LL Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Temperatura de motor LL: \"+MtrTemp;\n    global.set('Protections.Motor.Temperature.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by H Protection\"){\n    msg.payload = \"Alarma por Temperatura de motor H: \"+MtrTemp;\n    global.set('Protections.Motor.Temperature.Status',2,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by L Protection\"){\n    msg.payload = \"Alarma por Temperatura de motor L: \"+MtrTemp;\n    global.set('Protections.Motor.Temperature.Status',1,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Normal condition\"){\n    msg.payload = \"Condición normal\";\n    global.set('Protections.Motor.Temperature.Status',0,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1060,"y":530,"wires":[["d53d6da0.4e44f","d3023171.a64c3"]]},{"id":"78f4bf0d.80779","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"","links":["b9fb6552.28c578"],"x":885,"y":530,"wires":[["b021a1a.8e66f6"]]},{"id":"f2116ad4.d21498","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"Evento de Temperatura de descarga","func":"var DownHoleData    = global.get(\"DownHoleData.DHS\",'memoryOnly')||null;\nvar DisTemp         = DownHoleData[\"Temperatura de descarga\"]||0;\nDisTemp             = parseFloat(DisTemp).toFixed(2);\n\nnode.status({fill:\"red\",shape:\"ring\",text:msg.Mensaje});\n\nif(msg.Mensaje == \"Trigger by HH Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por Proteción de Temperatura de descarga HH: \"+DisTemp;\n    global.set('Protections.Discharge.Temperature.Status',4,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n    \n}\nif(msg.Mensaje == \"Trigger by LL Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Temperatura de descarga LL: \"+DisTemp;\n    global.set('Protections.Discharge.Temperature.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by H Protection\"){\n    msg.payload = \"Alarma por Temperatura de descarga H: \"+DisTemp;\n    global.set('Protections.Discharge.Temperature.Status',2,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by L Protection\"){\n    msg.payload = \"Alarma por Temperatura de descarga L:\"+DisTemp;\n    global.set('Protections.Discharge.Temperature.Status',1,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Normal condition\"){\n    msg.payload = \"Condición normal\";\n    global.set('Protections.Discharge.Temperature.Status',0,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1070,"y":580,"wires":[["d53d6da0.4e44f","d3023171.a64c3"]]},{"id":"332bea0e.72cc56","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"","links":["40b18d07.723fa4"],"x":885,"y":580,"wires":[["f2116ad4.d21498"]]},{"id":"8133fd48.bdd92","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"Evento de Presión de descarga","func":"var DownHoleData    = global.get(\"DownHoleData.DHS\",'memoryOnly')||null;\nvar Pout            = DownHoleData[\"Presión de descarga\"]||0;\nPout                = parseFloat(Pout).toFixed(2);\n\nnode.status({fill:\"red\",shape:\"ring\",text:msg.Mensaje});\n\nif(msg.Mensaje == \"Trigger by HH Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por Proteción de Presión de descarga HH: \"+Pout;\n    global.set('Protections.Ddischarge.Pressure.Status',4,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n    \n}\nif(msg.Mensaje == \"Trigger by LL Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Presión de descarga LL:\"+Pout;\n    global.set('Protections.Ddischarge.Pressure.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by H Protection\"){\n    msg.payload = \"Alarma por Presión de descarga H: \"+Pout;\n    global.set('Protections.Ddischarge.Pressure.Status',2,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by L Protection\"){\n    msg.payload = \"Alarma por Presión de descarga L: \"+Pout;\n    global.set('Protections.Ddischarge.Pressure.Status',1,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Normal condition\"){\n    msg.payload = \"Condición normal\";\n    global.set('Protections.Ddischarge.Pressure.Status',0,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1050,"y":430,"wires":[["d53d6da0.4e44f","d3023171.a64c3"]]},{"id":"a1842f67.5ada7","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"","links":["693c775a.488e48"],"x":885,"y":430,"wires":[["8133fd48.bdd92"]]},{"id":"cb3f54ff.b48688","type":"change","z":"8528a254.70837","g":"31baddff.ea0922","name":"Datalogger","rules":[{"t":"set","p":"payload","pt":"msg","to":"¿Desea descargar los archivos de Datalogger?","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Dispositivo USB encontrado","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1640,"y":430,"wires":[["750edf0f.0b80d"]]},{"id":"750edf0f.0b80d","type":"ui_toast","z":"8528a254.70837","g":"31baddff.ea0922","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"SI","cancel":"NO","raw":false,"topic":"","name":"Descargar Datalogger","x":1830,"y":430,"wires":[["3b18545b.ad536c"]]},{"id":"3b18545b.ad536c","type":"switch","z":"8528a254.70837","g":"31baddff.ea0922","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"SI","vt":"str"},{"t":"eq","v":"NO","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":2000,"y":430,"wires":[["23a4de49.b420d2"],[]]},{"id":"b2ff0ea9.38896","type":"exec","z":"8528a254.70837","g":"31baddff.ea0922","command":"sudo cp -R /home/pi/node_modules/Datalogger ","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":2410,"y":430,"wires":[[],[],[]]},{"id":"23a4de49.b420d2","type":"change","z":"8528a254.70837","g":"31baddff.ea0922","name":"CP Directory","rules":[{"t":"set","p":"payload","pt":"msg","to":"+++/Datalogger","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"+++","fromt":"str","to":"USB_Drive","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2140,"y":430,"wires":[["b2ff0ea9.38896"]]},{"id":"79fb7790.809a08","type":"switch","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"PR","property":"Prolonged_Reference.Enable","propertyType":"global","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":1080,"y":460,"wires":[["720c784d.44dff8"]]},{"id":"bd420231.1a153","type":"link out","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"Confirmar velocidad","links":["223f7107.39115e","d0a19b38.893ab8","a7923a8c.7c39d8"],"x":885,"y":590,"wires":[]},{"id":"b416b548.9000d8","type":"switch","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Done","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"Ref Reached","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":600,"y":540,"wires":[["ea102947.4ba5a8","afa8e49c.0a9318","b130bfc6.1176"]]},{"id":"ea102947.4ba5a8","type":"change","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"","rules":[{"t":"set","p":"Prolonged_Reference.Enable","pt":"global","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":890,"y":540,"wires":[[]]},{"id":"36c8477f.f95a48","type":"change","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Start","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":330,"wires":[["406ea535.518d9c"]]},{"id":"ce62d221.7b3b3","type":"switch","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"PR","property":"Prolonged_Reference.Enable","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":330,"wires":[["36c8477f.f95a48"]]},{"id":"223f7107.39115e","type":"link in","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Start_Prolonged Reference","links":["bd420231.1a153"],"x":295,"y":330,"wires":[["ce62d221.7b3b3"]]},{"id":"f8f60ae4.452518","type":"function","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"toFixed(2)","func":"msg.payload = parseFloat(msg.payload).toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":4070,"y":370,"wires":[["1e911ed1.295ee1"]]},{"id":"1286dd4c.802a73","type":"function","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Stop Cmd","func":"v = new DataView(new ArrayBuffer(4));\nmsg.payload = 5393;\nmsg.payload = msg.payload.toString(16);\nv.setUint32(0, '0x'+ msg.payload);\nnode.status({fill:\"green\",shape:\"dot\",text:v.getFloat32(0)});\n\nmsg.payload = v.getFloat32(0);\n\nreturn msg;\n\n// Fuentes:\n// https://stackoverflow.com/questions/41635908/node-red-parsing-json-data-and-converting-it-into-binary\n// https://stackoverflow.com/questions/49221045/javascript-hexadecimal-string-to-ieee-754-floating-point","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3220,"y":370,"wires":[["98154bef.f1c1c8"]]},{"id":"4008f635.52a288","type":"pccc out","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","endpoint":"5a40295d.6caa18","variable":"CommandWord","name":"","x":3550,"y":370,"wires":[]},{"id":"98154bef.f1c1c8","type":"switch","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Active?","property":"#:(memoryOnly)::Drive_Status.Active","propertyType":"global","rules":[{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":3390,"y":370,"wires":[["4008f635.52a288"]]},{"id":"5fd3049a.ba921c","type":"delay","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":3030,"y":320,"wires":[["1286dd4c.802a73","3fc5e840.e9a478"]]},{"id":"2c9e0a71.c34ce6","type":"complete","z":"e86f0ca4.7feb5","d":true,"g":"aa2fba7e.146688","name":"","scope":["ec994a08.2df8b8"],"uncaught":false,"x":3750,"y":2070,"wires":[["341c89fa.21c126"]]},{"id":"341c89fa.21c126","type":"function","z":"e86f0ca4.7feb5","d":true,"g":"aa2fba7e.146688","name":"Modbus sensor Number","func":"\nif      (msg.payload == 'Zenith')                   {msg.payload = 3;}\nelse if (msg.payload == 'Schlumberger')             {msg.payload = 1;}\nelse if (msg.payload == \"GRC Scout\")                {msg.payload = 4;}\nelse if (msg.payload == 'Novomet')                  {msg.payload = 6;}\nelse if (msg.payload == 'Borets')                   {msg.payload = 7;}\nelse if (msg.payload == \"Borets Spy-Pro-SPS-1500\")  {msg.payload = 8;}\nelse                                                {msg.payload = 5;}\n\nflow.set(\"DownholeSensor.Number\",msg.payload);\n\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\nreturn msg;","outputs":0,"noerr":0,"initialize":"","finalize":"","x":3950,"y":2070,"wires":[]},{"id":"826fef16.9c1a","type":"modbus-read","z":"e86f0ca4.7feb5","g":"f6e30287.8d13d","name":"PyModbusServer","topic":"","showStatusActivities":true,"logIOActivities":false,"showErrors":false,"unitid":"1","dataType":"HoldingRegister","adr":"56","quantity":"1","rate":"1","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"3548b3b4.c8d65c","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"x":3050,"y":960,"wires":[["a9157021.56aa2"],[]]},{"id":"2b0080ad.3ac38","type":"link out","z":"e86f0ca4.7feb5","g":"f6e30287.8d13d","name":"Referencia remota Link Out","links":["d428246e.250f38"],"x":3825,"y":960,"wires":[]},{"id":"da8e2bed.062538","type":"change","z":"e86f0ca4.7feb5","g":"f6e30287.8d13d","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload[0]","tot":"msg"},{"t":"set","p":"topic","pt":"msg","to":"Ref","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3540,"y":960,"wires":[["69f6e4eb.80e62c","835bdb6b.664a58"]]},{"id":"573c6f3e.737db","type":"change","z":"e86f0ca4.7feb5","g":"e2e299a6.d3c5c8","name":"Dirección RS-485","rules":[{"t":"set","p":"payload.address","pt":"msg","to":"28692","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":3140,"y":860,"wires":[["c1702022.91ab1"]]},{"id":"6790da83.2d4c54","type":"switch","z":"e86f0ca4.7feb5","g":"f6e30287.8d13d","name":"","property":"Local/Remoto","propertyType":"global","rules":[{"t":"eq","v":"Remoto","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":3390,"y":960,"wires":[["da8e2bed.062538"]]},{"id":"590465b6.4ae93c","type":"complete","z":"e86f0ca4.7feb5","g":"f766f95b.4e6278","name":"","scope":["70af4a89.bf1b84","1e165b65.d6c425","ea102947.4ba5a8"],"uncaught":false,"x":3430,"y":3000,"wires":[["daab098.dcf81f8"]]},{"id":"1f5ba763.537da9","type":"link in","z":"e86f0ca4.7feb5","g":"f766f95b.4e6278","name":"Bypass filtro armónicos","links":["ad87cee4.7dbb5"],"x":3485,"y":3040,"wires":[["daab098.dcf81f8"]]},{"id":"daab098.dcf81f8","type":"switch","z":"e86f0ca4.7feb5","g":"f766f95b.4e6278","name":"","property":"SCADA.Type","propertyType":"global","rules":[{"t":"eq","v":"RTU","vt":"str"},{"t":"eq","v":"TCP","vt":"str"},{"t":"else"}],"checkall":"true","repair":false,"outputs":3,"x":3580,"y":3040,"wires":[["285b480c.d0f7a8","c4c078bf.1f98e8"],["72d596c0.d63af8","e9678f2c.47c62"],["e9678f2c.47c62","72d596c0.d63af8","1e165b65.d6c425"]]},{"id":"72d596c0.d63af8","type":"change","z":"e86f0ca4.7feb5","g":"f766f95b.4e6278","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":3760,"y":3030,"wires":[["43a584bc.6d66ec"]]},{"id":"e9678f2c.47c62","type":"change","z":"e86f0ca4.7feb5","g":"f766f95b.4e6278","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":3760,"y":2990,"wires":[["779d3154.c1b8e"]]},{"id":"c4c078bf.1f98e8","type":"change","z":"e86f0ca4.7feb5","g":"f766f95b.4e6278","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":3760,"y":2950,"wires":[["43a584bc.6d66ec"]]},{"id":"285b480c.d0f7a8","type":"change","z":"e86f0ca4.7feb5","g":"f766f95b.4e6278","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":3760,"y":2910,"wires":[["779d3154.c1b8e"]]},{"id":"779d3154.c1b8e","type":"ui_button","z":"e86f0ca4.7feb5","g":"f766f95b.4e6278","name":"","group":"56b03a99.1007f4","order":3,"width":"2","height":"1","passthru":false,"label":"RTU","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":3900,"y":2950,"wires":[["70af4a89.bf1b84"]]},{"id":"43a584bc.6d66ec","type":"ui_button","z":"e86f0ca4.7feb5","g":"f766f95b.4e6278","name":"","group":"56b03a99.1007f4","order":4,"width":"2","height":"1","passthru":false,"label":"TCP","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":3900,"y":2990,"wires":[["1e165b65.d6c425"]]},{"id":"70af4a89.bf1b84","type":"change","z":"e86f0ca4.7feb5","g":"f766f95b.4e6278","name":"RTU","rules":[{"t":"set","p":"SCADA.Type","pt":"global","to":"RTU","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":4120,"y":3010,"wires":[[]]},{"id":"1e165b65.d6c425","type":"change","z":"e86f0ca4.7feb5","g":"f766f95b.4e6278","name":"TCP","rules":[{"t":"set","p":"SCADA.Type","pt":"global","to":"TCP","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":4120,"y":3050,"wires":[[]]},{"id":"69f6e4eb.80e62c","type":"function","z":"e86f0ca4.7feb5","g":"f6e30287.8d13d","name":"/1","func":"var Funciones = global.get(\"Funciones_control_activas\",\"memoryOnly\")||{1:false};\n\nvar array = Object.values(Funciones);\nvar resp = array.find(element => element == true)||false;\nnode.status({fill:\"green\",shape:\"dot\",text:!resp});\nif(!resp){return msg;}\nelse{return;}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3710,"y":960,"wires":[["2b0080ad.3ac38","2a1f1c0d.25ca44"]]},{"id":"2c57a2f1.46b13e","type":"debug","z":"e86f0ca4.7feb5","g":"e2e299a6.d3c5c8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":3790,"y":810,"wires":[]},{"id":"7066175f.071ce8","type":"switch","z":"e86f0ca4.7feb5","g":"f6e30287.8d13d","name":"SCADA RTU","property":"SCADA.Type","propertyType":"global","rules":[{"t":"eq","v":"RTU","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":3220,"y":1010,"wires":[["6790da83.2d4c54"]]},{"id":"a9157021.56aa2","type":"switch","z":"e86f0ca4.7feb5","g":"f6e30287.8d13d","name":"SCADA TCP","property":"SCADA.Type","propertyType":"global","rules":[{"t":"eq","v":"TCP","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":3220,"y":960,"wires":[["6790da83.2d4c54"]]},{"id":"75c0e161.43a1c","type":"switch","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"SCADA TCP","property":"SCADA.Type","propertyType":"global","rules":[{"t":"eq","v":"TCP","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":3450,"y":610,"wires":[["21fd4ac4.46c936","20c7cde4.586f82"]]},{"id":"ead1502b.eb49","type":"switch","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"SCADA RTU","property":"SCADA.Type","propertyType":"global","rules":[{"t":"eq","v":"RTU","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":3460,"y":700,"wires":[["21fd4ac4.46c936","46cdb592.10060c"]]},{"id":"c1702022.91ab1","type":"link out","z":"e86f0ca4.7feb5","g":"e2e299a6.d3c5c8","name":"Escribir Mapa Modbus Cubloc Link Out","links":["627acbf5.125454"],"x":3265,"y":860,"wires":[]},{"id":"f7d52c85.918f3","type":"modbus-getter","z":"e86f0ca4.7feb5","g":"f6e30287.8d13d","name":"Leer Cubloc","showStatusActivities":true,"showErrors":false,"logIOActivities":false,"unitid":"","dataType":"InputRegister","adr":"28748","quantity":"1","server":"f630cb55.8d18e8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":3060,"y":1010,"wires":[["7066175f.071ce8"],[]]},{"id":"7940a891.ccd658","type":"inject","z":"e86f0ca4.7feb5","g":"e41c42c4.24372","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":4290,"y":1170,"wires":[["10f739e5.6ce8d6"]]},{"id":"ff7e622b.cbe3","type":"debug","z":"e86f0ca4.7feb5","g":"e41c42c4.24372","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":4870,"y":1170,"wires":[]},{"id":"87774c25.375c4","type":"inject","z":"e86f0ca4.7feb5","g":"8f02baa.cd86a48","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"0","payloadType":"num","x":4290,"y":1260,"wires":[["9205d7e0.ff53d8"]]},{"id":"ed6013f0.33cee","type":"inject","z":"e86f0ca4.7feb5","g":"8f02baa.cd86a48","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"1","payloadType":"num","x":4290,"y":1300,"wires":[["9205d7e0.ff53d8"]]},{"id":"a47abf3e.b59be","type":"inject","z":"e86f0ca4.7feb5","g":"8f02baa.cd86a48","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"2","payloadType":"num","x":4290,"y":1340,"wires":[["9205d7e0.ff53d8"]]},{"id":"afc5c849.968498","type":"inject","z":"e86f0ca4.7feb5","g":"8f02baa.cd86a48","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"4","payloadType":"num","x":4290,"y":1380,"wires":[["9205d7e0.ff53d8"]]},{"id":"46cdb592.10060c","type":"debug","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload[0]","targetType":"msg","statusVal":"payload[50]","statusType":"auto","x":3630,"y":700,"wires":[]},{"id":"9205d7e0.ff53d8","type":"function","z":"e86f0ca4.7feb5","g":"8f02baa.cd86a48","name":"Control RTU","func":"msg.payload = { \n    value: msg.payload, \n    'fc': 6, \n    'unitid': 1, \n    'address': 28672+20+55, \n    'quantity':1   \n}\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload.address});\nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":4470,"y":1320,"wires":[["7f604934.3e3958"]]},{"id":"7f604934.3e3958","type":"modbus-flex-write","z":"e86f0ca4.7feb5","g":"8f02baa.cd86a48","name":"Escribir Cubloc","showStatusActivities":true,"showErrors":false,"server":"f630cb55.8d18e8","emptyMsgOnFail":false,"keepMsgProperties":false,"x":4640,"y":1320,"wires":[["139c1f0e.abade1"],[]]},{"id":"139c1f0e.abade1","type":"debug","z":"e86f0ca4.7feb5","g":"8f02baa.cd86a48","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":4830,"y":1320,"wires":[]},{"id":"e5c519d9.c426b8","type":"inject","z":"e86f0ca4.7feb5","g":"16a83ca.2899cc3","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"100","payloadType":"num","x":4600,"y":1470,"wires":[["9ba73f69.14911"]]},{"id":"46fe28ea.5c0be8","type":"inject","z":"e86f0ca4.7feb5","g":"16a83ca.2899cc3","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"150","payloadType":"num","x":4600,"y":1510,"wires":[["9ba73f69.14911"]]},{"id":"829c7a43.cb9978","type":"inject","z":"e86f0ca4.7feb5","g":"16a83ca.2899cc3","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"200","payloadType":"num","x":4600,"y":1550,"wires":[["9ba73f69.14911"]]},{"id":"ad634ed2.55998","type":"inject","z":"e86f0ca4.7feb5","g":"16a83ca.2899cc3","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"375","payloadType":"num","x":4600,"y":1590,"wires":[["9ba73f69.14911"]]},{"id":"9ba73f69.14911","type":"function","z":"e86f0ca4.7feb5","g":"16a83ca.2899cc3","name":"Referencia remota","func":"\nmsg.payload = { \n    value: msg.payload, \n    'fc': 6, \n    'unitid': 1, \n    'address': 28672+20+56, \n    'quantity':1   \n}\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload.address});\nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":4810,"y":1620,"wires":[["7f604934.3e3958"]]},{"id":"6c2761b2.1cac7","type":"modbus-flex-getter","z":"e86f0ca4.7feb5","g":"e41c42c4.24372","name":"Leer Cubloc RS-232","showStatusActivities":true,"showErrors":false,"logIOActivities":false,"server":"f630cb55.8d18e8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":4680,"y":1170,"wires":[["ff7e622b.cbe3"],[]]},{"id":"10f739e5.6ce8d6","type":"function","z":"e86f0ca4.7feb5","g":"e41c42c4.24372","name":"Entradas Analógicas","func":"\nmsg.payload = { \n    value: msg.payload, \n    'fc': 4, \n    'unitid': 1, \n    'address': 28672+20, \n    'quantity':100   \n} \nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload.address});\nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":4460,"y":1170,"wires":[["6c2761b2.1cac7"]]},{"id":"5c77bc75.2ac4e4","type":"modbus-flex-getter","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Leer Cubloc RS-232","showStatusActivities":true,"showErrors":false,"logIOActivities":false,"server":"f630cb55.8d18e8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":3270,"y":700,"wires":[["ead1502b.eb49"],[]]},{"id":"eaf3c61f.78e7d8","type":"function","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Registro Modbus","func":"msg.payload = { \n    'fc': 4, \n    'unitid': 1, \n    'address': 28672+20+55, \n    'quantity':1   \n} \nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3060,"y":700,"wires":[["5c77bc75.2ac4e4"]]},{"id":"798ab24b.f2bb3c","type":"function","z":"e86f0ca4.7feb5","g":"16a83ca.2899cc3","name":"Referencia remota","func":"\nmsg.payload = { \n    value: Math.abs(msg.payload*1), \n    'fc': 6, \n    'unitid': 1, \n    'address': 56, \n    'quantity':1   \n}\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload.value});\nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":4810,"y":1670,"wires":[["8ad5beb8.173b5"]]},{"id":"8ad5beb8.173b5","type":"modbus-flex-write","z":"e86f0ca4.7feb5","g":"7dbc5902.4206c8","name":"Escribir PyModbus","showStatusActivities":true,"showErrors":false,"server":"3548b3b4.c8d65c","emptyMsgOnFail":false,"keepMsgProperties":false,"x":4680,"y":1860,"wires":[[],[]]},{"id":"d26ae57.89e2118","type":"function","z":"e86f0ca4.7feb5","g":"7dbc5902.4206c8","name":"Control TCP","func":"msg.payload = { \n    value: msg.payload, \n    'fc': 6, \n    'unitid': 1, \n    'address': 55, \n    'quantity':1   \n}\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload.address});\nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":4470,"y":1860,"wires":[["8ad5beb8.173b5"]]},{"id":"e0e98cce.54d61","type":"inject","z":"e86f0ca4.7feb5","g":"7dbc5902.4206c8","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"0","payloadType":"num","x":4290,"y":1800,"wires":[["d26ae57.89e2118"]]},{"id":"3f39afa6.aebe1","type":"inject","z":"e86f0ca4.7feb5","g":"7dbc5902.4206c8","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"1","payloadType":"num","x":4290,"y":1840,"wires":[["d26ae57.89e2118"]]},{"id":"fe05fe43.ad5f9","type":"inject","z":"e86f0ca4.7feb5","g":"7dbc5902.4206c8","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"2","payloadType":"num","x":4290,"y":1880,"wires":[["d26ae57.89e2118"]]},{"id":"eba2d655.522b48","type":"inject","z":"e86f0ca4.7feb5","g":"7dbc5902.4206c8","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"4","payloadType":"num","x":4290,"y":1920,"wires":[["d26ae57.89e2118"]]},{"id":"3caf0b56.43a3b4","type":"inject","z":"e86f0ca4.7feb5","d":true,"g":"f059af07.db923","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":3160,"y":2620,"wires":[["85a003b1.e1e26"]]},{"id":"3af735a9.70c83a","type":"change","z":"5ef5b1ce.d3899","d":true,"g":"311890ad.cc4ed","name":"Tubing","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Superficie_Tensión\",\t                \"Configuración-Protecciones-Superficie_Tensión_actual\",\t                \"Configuración-Protecciones-Superficie_Corriente\",\t                \"Configuración-Protecciones-Superficie_Corriente_actual\",                \t                \"Configuración-Protecciones-Superficie_Bus_DC\",\t                \"Configuración-Protecciones-Superficie_Bus_DC_actual\",                \t                \"Configuración-Protecciones-Superficie_Casing\",\t                \"Configuración-Protecciones-Superficie_Casing_actual\"\t        ],\t       \"show\":[ \t                \"Configuración-Protecciones-Superficie_Tubing\",\t                \"Configuración-Protecciones-Superficie_Tubing_actual\"\t        ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1290,"y":980,"wires":[["3296d851.080568"]]},{"id":"920374c9.134898","type":"change","z":"5ef5b1ce.d3899","d":true,"g":"311890ad.cc4ed","name":"Casing","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Superficie_Tensión\",\t                \"Configuración-Protecciones-Superficie_Tensión_actual\",\t                \"Configuración-Protecciones-Superficie_Corriente\",\t                \"Configuración-Protecciones-Superficie_Corriente_actual\",\t                \"Configuración-Protecciones-Superficie_Bus_DC\",\t                \"Configuración-Protecciones-Superficie_Bus_DC_actual\",\t                \"Configuración-Protecciones-Superficie_Tubing\",\t                \"Configuración-Protecciones-Superficie_Tubing_actual\"\t        ],\t       \"show\":[ \t                \t                \"Configuración-Protecciones-Superficie_Casing\",\t                \"Configuración-Protecciones-Superficie_Casing_actual\" \t        ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1300,"y":1020,"wires":[["3296d851.080568"]]},{"id":"fe4f7d6d.c4038","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"HH EN","label":"HH","tooltip":"","group":"9a619c0f.681c2","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3009,"y":2090,"wires":[["ce95b4b3.558f78"]]},{"id":"8a4a9f49.b18b","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"H EN","label":"H","tooltip":"","group":"9a619c0f.681c2","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3020,"y":2230,"wires":[["df0fb4c1.829758"]]},{"id":"bb5d099e.f64628","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"L EN","label":"L","tooltip":"","group":"9a619c0f.681c2","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3020,"y":2370,"wires":[["80d09d23.145ab"]]},{"id":"656848a9.9a2568","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"LL EN","label":"LL","tooltip":"","group":"9a619c0f.681c2","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3020,"y":2510,"wires":[["3b458b9.d308c74"]]},{"id":"5e363d00.a7f024","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"HH Setpoint","label":"Límite [psi]","tooltip":"","group":"9a619c0f.681c2","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"HH Setpoint","x":3000,"y":2000,"wires":[["2c29b518.c8c7ba"]]},{"id":"1c8bfe50.8ea0b2","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"H Setpoint","label":"Límite [psi]","tooltip":"","group":"9a619c0f.681c2","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":3000,"y":2140,"wires":[["4c248421.50946c"]]},{"id":"d790dd2a.82ed9","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"L Setpoint","label":"Límite [psi]","tooltip":"","group":"9a619c0f.681c2","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"L Setpoint","x":3009,"y":2280,"wires":[["8fe07de0.4b197"]]},{"id":"70434377.3fc80c","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"LL Setpoint","label":"Límite [psi]","tooltip":"","group":"9a619c0f.681c2","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"LL Setpoint","x":3000,"y":2420,"wires":[["9e4ab8bb.7df648"]]},{"id":"2c29b518.c8c7ba","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"","rules":[{"t":"set","p":"Protections.Tubing.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3250,"y":2000,"wires":[["77f1774e.dbb788"]]},{"id":"4c248421.50946c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"","rules":[{"t":"set","p":"Protections.Tubing.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3249,"y":2140,"wires":[["77f1774e.dbb788"]]},{"id":"8fe07de0.4b197","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"","rules":[{"t":"set","p":"Protections.Tubing.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3249,"y":2280,"wires":[["77f1774e.dbb788"]]},{"id":"9e4ab8bb.7df648","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"","rules":[{"t":"set","p":"Protections.Tubing.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3249,"y":2420,"wires":[["77f1774e.dbb788"]]},{"id":"ab336375.882a6","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"","rules":[{"t":"set","p":"Protections.Tubing.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3260,"y":2040,"wires":[["77f1774e.dbb788"]]},{"id":"9d31b550.f3b658","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"","rules":[{"t":"set","p":"Protections.Tubing.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":2180,"wires":[["77f1774e.dbb788"]]},{"id":"e62d61a0.792be","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"","rules":[{"t":"set","p":"Protections.Tubing.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":2320,"wires":[["77f1774e.dbb788"]]},{"id":"712a8c14.fba014","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"","rules":[{"t":"set","p":"Protections.Tubing.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":2460,"wires":[["77f1774e.dbb788"]]},{"id":"ce95b4b3.558f78","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"","rules":[{"t":"set","p":"Protections.Tubing.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3260,"y":2090,"wires":[["77f1774e.dbb788"]]},{"id":"df0fb4c1.829758","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"","rules":[{"t":"set","p":"Protections.Tubing.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":2230,"wires":[["77f1774e.dbb788"]]},{"id":"80d09d23.145ab","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"","rules":[{"t":"set","p":"Protections.Tubing.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":2370,"wires":[["77f1774e.dbb788"]]},{"id":"3b458b9.d308c74","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"","rules":[{"t":"set","p":"Protections.Tubing.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":2510,"wires":[["77f1774e.dbb788"]]},{"id":"9e4c0e3a.b2c81","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"Tubing.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Tubing.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2821,"y":2000,"wires":[["5e363d00.a7f024"]]},{"id":"32d5db5f.28b024","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"Tubing.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Tubing.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2811,"y":2140,"wires":[["1c8bfe50.8ea0b2"]]},{"id":"8e72b846.480408","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"Tubing.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Tubing.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2821,"y":2280,"wires":[["d790dd2a.82ed9"]]},{"id":"cfb548e6.5535c8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"Tubing.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Tubing.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2821,"y":2420,"wires":[["70434377.3fc80c"]]},{"id":"fea12b7e.cf54e8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"Tubing.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Tubing.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2811,"y":2040,"wires":[["68d09f4c.75c3"]]},{"id":"ff965b9d.04ab08","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"Tubing.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Tubing.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2801,"y":2180,"wires":[["b1d4c6c7.e41b28"]]},{"id":"b70c316c.bf762","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"Tubing.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Tubing.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2801,"y":2320,"wires":[["762d9b5e.dd2f54"]]},{"id":"e98b8d42.39fc1","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"Tubing.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Tubing.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2811,"y":2460,"wires":[["9481caa7.5d67e8"]]},{"id":"a2b8f5f8.dc1458","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"Tubing.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Tubing.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2811,"y":2090,"wires":[["fe4f7d6d.c4038"]]},{"id":"44bee41f.d6b33c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"Tubing.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Tubing.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2801,"y":2230,"wires":[["8a4a9f49.b18b"]]},{"id":"afc6dc93.d1b5e","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"Tubing.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Tubing.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2801,"y":2370,"wires":[["bb5d099e.f64628"]]},{"id":"7f1e1729.4d9648","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"Tubing.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Tubing.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2811,"y":2510,"wires":[["656848a9.9a2568"]]},{"id":"77f1774e.dbb788","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"Protección Tubing Out","links":["9f0d784.5e82788"],"x":3515,"y":2000,"wires":[]},{"id":"bacec764.887808","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"Timestamp In","links":["485a456c.532fdc","596ac22c.7d379c"],"x":2656,"y":2000,"wires":[["9e4c0e3a.b2c81","fea12b7e.cf54e8","a2b8f5f8.dc1458","32d5db5f.28b024","ff965b9d.04ab08","44bee41f.d6b33c","8e72b846.480408","b70c316c.bf762","afc6dc93.d1b5e","cfb548e6.5535c8","e98b8d42.39fc1","7f1e1729.4d9648"]]},{"id":"68d09f4c.75c3","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"HH DT","label":"Delay [s]","tooltip":"","group":"9a619c0f.681c2","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":3020,"y":2040,"wires":[["ab336375.882a6"]]},{"id":"b1d4c6c7.e41b28","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"H DT","label":"Delay [s] ","tooltip":"","group":"9a619c0f.681c2","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":3020,"y":2180,"wires":[["9d31b550.f3b658"]]},{"id":"762d9b5e.dd2f54","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"L DT","label":"Delay [s]","tooltip":"","group":"9a619c0f.681c2","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":3020,"y":2320,"wires":[["e62d61a0.792be"]]},{"id":"9481caa7.5d67e8","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"d0981fa6.05ffc","name":"LL DT","label":"Delay [s]","tooltip":"","group":"9a619c0f.681c2","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":3020,"y":2460,"wires":[["712a8c14.fba014"]]},{"id":"7966caaa.ae6604","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"HH EN","label":"HH","tooltip":"","group":"e1ee380b.bb2638","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4050,"y":2090,"wires":[["3f36fdbf.bcd202"]]},{"id":"ccdff3fc.77dad","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"H EN","label":"H","tooltip":"","group":"e1ee380b.bb2638","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4051,"y":2230,"wires":[["3eb3799b.991206"]]},{"id":"ef1708b5.6dbf08","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"L EN","label":"L","tooltip":"","group":"e1ee380b.bb2638","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4051,"y":2370,"wires":[["e5db77c8.d80ac8"]]},{"id":"505848.311547b8","type":"ui_switch","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"LL EN","label":"LL","tooltip":"","group":"e1ee380b.bb2638","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4051,"y":2510,"wires":[["5e2c2b0b.2a6574"]]},{"id":"1010a1ff.9efcae","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"HH Setpoint","label":"Límite [psi]","tooltip":"","group":"e1ee380b.bb2638","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"HH Setpoint","x":4031,"y":2000,"wires":[["94e22883.b2ca28"]]},{"id":"4264f6a5.05a978","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"H Setpoint","label":"Límite [psi]","tooltip":"","group":"e1ee380b.bb2638","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":4031,"y":2140,"wires":[["28eb0f54.f6344"]]},{"id":"c3477d22.a2bf2","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"L Setpoint","label":"Límite [psi]","tooltip":"","group":"e1ee380b.bb2638","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"L Setpoint","x":4031,"y":2280,"wires":[["5c4bf7c1.28d038"]]},{"id":"1606e92f.343d27","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"LL Setpoint","label":"Límite [psi]","tooltip":"","group":"e1ee380b.bb2638","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"LL Setpoint","x":4031,"y":2420,"wires":[["c7f64966.e52118"]]},{"id":"94e22883.b2ca28","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"","rules":[{"t":"set","p":"Protections.Casing.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4281,"y":2000,"wires":[["8eb993d8.86438"]]},{"id":"28eb0f54.f6344","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"","rules":[{"t":"set","p":"Protections.Casing.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4280,"y":2140,"wires":[["8eb993d8.86438"]]},{"id":"5c4bf7c1.28d038","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"","rules":[{"t":"set","p":"Protections.Casing.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4280,"y":2280,"wires":[["8eb993d8.86438"]]},{"id":"c7f64966.e52118","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"","rules":[{"t":"set","p":"Protections.Casing.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4280,"y":2420,"wires":[["8eb993d8.86438"]]},{"id":"5ac92d83.8ef464","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"","rules":[{"t":"set","p":"Protections.Casing.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4290,"y":2040,"wires":[["8eb993d8.86438"]]},{"id":"609a01fb.e9bd2","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"","rules":[{"t":"set","p":"Protections.Casing.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4300,"y":2180,"wires":[["8eb993d8.86438"]]},{"id":"2ca6962e.bea82a","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"","rules":[{"t":"set","p":"Protections.Casing.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4300,"y":2320,"wires":[["8eb993d8.86438"]]},{"id":"ccee1f01.d86f6","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"","rules":[{"t":"set","p":"Protections.Casing.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4301,"y":2460,"wires":[["8eb993d8.86438"]]},{"id":"3f36fdbf.bcd202","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"","rules":[{"t":"set","p":"Protections.Casing.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4290,"y":2090,"wires":[["8eb993d8.86438"]]},{"id":"3eb3799b.991206","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"","rules":[{"t":"set","p":"Protections.Casing.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4301,"y":2230,"wires":[["8eb993d8.86438"]]},{"id":"e5db77c8.d80ac8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"","rules":[{"t":"set","p":"Protections.Casing.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4300,"y":2370,"wires":[["8eb993d8.86438"]]},{"id":"5e2c2b0b.2a6574","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"","rules":[{"t":"set","p":"Protections.Casing.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4290,"y":2510,"wires":[["8eb993d8.86438"]]},{"id":"a1b33434.e6b6f8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"Casing.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Casing.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3771,"y":2000,"wires":[["1010a1ff.9efcae"]]},{"id":"c3b0de8.3c9f62","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"Casing.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Casing.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3771,"y":2140,"wires":[["4264f6a5.05a978"]]},{"id":"74ae13b2.d84b2c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"Casing.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Casing.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3771,"y":2280,"wires":[["c3477d22.a2bf2"]]},{"id":"d92ab143.a5fbd","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"Casing.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Casing.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3771,"y":2420,"wires":[["1606e92f.343d27"]]},{"id":"e8e6cc8a.db8a4","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"Casing.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Casing.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3761,"y":2040,"wires":[["de47dc7a.faec9"]]},{"id":"22b69227.d337ce","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"Casing.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Casing.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3751,"y":2180,"wires":[["8bf70c70.b8647"]]},{"id":"60014555.42fc6c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"Casing.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Casing.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3751,"y":2320,"wires":[["14cbd083.e1890f"]]},{"id":"cf13db1b.794678","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"Casing.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Casing.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3761,"y":2460,"wires":[["c2a4f4bb.6e2aa8"]]},{"id":"f2b12728.28f7f8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"Casing.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Casing.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3761,"y":2090,"wires":[["7966caaa.ae6604"]]},{"id":"3063907c.0ca7c","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"Casing.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Casing.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3751,"y":2230,"wires":[["ccdff3fc.77dad"]]},{"id":"8b597893.8c03c8","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"Casing.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Casing.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3751,"y":2370,"wires":[["ef1708b5.6dbf08"]]},{"id":"e9eaa4a5.b63938","type":"change","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"Casing.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Casing.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3761,"y":2510,"wires":[["505848.311547b8"]]},{"id":"8eb993d8.86438","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"Protección Casing Out","links":["724efabe.d416b4"],"x":4616,"y":2000,"wires":[]},{"id":"6d92a416.15af1c","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"Timestamp In","links":["485a456c.532fdc","596ac22c.7d379c"],"x":3606,"y":2000,"wires":[["a1b33434.e6b6f8","e8e6cc8a.db8a4","f2b12728.28f7f8","c3b0de8.3c9f62","22b69227.d337ce","3063907c.0ca7c","74ae13b2.d84b2c","60014555.42fc6c","8b597893.8c03c8","d92ab143.a5fbd","cf13db1b.794678","e9eaa4a5.b63938"]]},{"id":"de47dc7a.faec9","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"HH DT","label":"Delay [s]","tooltip":"","group":"e1ee380b.bb2638","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":4051,"y":2040,"wires":[["5ac92d83.8ef464"]]},{"id":"8bf70c70.b8647","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"H DT","label":"Delay [s] ","tooltip":"","group":"e1ee380b.bb2638","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":4051,"y":2180,"wires":[["609a01fb.e9bd2"]]},{"id":"14cbd083.e1890f","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"L DT","label":"Delay [s]","tooltip":"","group":"e1ee380b.bb2638","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":4051,"y":2320,"wires":[["2ca6962e.bea82a"]]},{"id":"c2a4f4bb.6e2aa8","type":"ui_text_input","z":"6c7d2db7.37ef34","d":true,"g":"4b9b7d58.136ec4","name":"LL DT","label":"Delay [s]","tooltip":"","group":"e1ee380b.bb2638","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":4051,"y":2460,"wires":[["ccee1f01.d86f6"]]},{"id":"19a37b7.6f54385","type":"inject","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Tubing","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"value","payload":"#:(memoryOnly)::DownHoleData.AI[\"Presión de cabeza THP\"]","payloadType":"global","x":330,"y":1450,"wires":[["910f918e.ca3b4"]]},{"id":"910f918e.ca3b4","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Limites","func":"//var OutTemp = global.get(\"Protections.Tubing\")||null;\nvar min = global.get(\"Protections.Tubing.LL.Setpoint\")||0;\nvar max = global.get(\"Protections.Tubing.HH.Setpoint\")||0;\n\nmsg.control = {'min':min, 'max':max};\n\nif(isNaN(msg.payload)){\n    msg.payload = 0;\n}\nreturn msg;\n\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":1450,"wires":[["594b1b94.64a064","d3952106.89f57"]]},{"id":"594b1b94.64a064","type":"ui_level","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","group":"734b293d.e9e748","order":2,"width":"4","height":"3","name":"","label":"Presión de Tubing actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"psi","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"property":"payload","peaktime":3000,"x":620,"y":1450,"wires":[]},{"id":"9f0d784.5e82788","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección temperatura de descarga In","links":["77f1774e.dbb788"],"x":375,"y":1490,"wires":[["d3952106.89f57"]]},{"id":"d3952106.89f57","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección Presión de Tubing (THP)","env":[{"name":"Topic","value":"10","type":"num"}],"x":560,"y":1490,"wires":[["6e13beb.0d4804"],["7208f314.664a4c"],["13747032.1e864"]]},{"id":"19f66388.0df99c","type":"inject","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Casing","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"value","payload":"#:(memoryOnly)::DownHoleData.AI[\"Presión de casing\"]","payloadType":"global","x":330,"y":1570,"wires":[["5d423b2e.e4f6f4"]]},{"id":"5d423b2e.e4f6f4","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Limites","func":"//var OutTemp = global.get(\"Protections.Casing\");\n\nvar min = global.get(\"Protections.Casing.LL.Setpoint\")||0;\nvar max = global.get(\"Protections.Casing.HH.Setpoint\")||0;\n\nmsg.control = {'min':min, 'max':max};\nif(isNaN(msg.payload)){\n    msg.payload = 0;\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":1570,"wires":[["2989ca5b.45d5b6","9529d99e.485f28"]]},{"id":"2989ca5b.45d5b6","type":"ui_level","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","group":"d2ca7ed8.62e0d","order":2,"width":"4","height":"3","name":"","label":"Presión de Casing actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"psi","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"property":"payload","peaktime":3000,"x":620,"y":1570,"wires":[]},{"id":"724efabe.d416b4","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección temperatura de descarga In","links":["8eb993d8.86438"],"x":375,"y":1610,"wires":[["9529d99e.485f28"]]},{"id":"9529d99e.485f28","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Protección Presión de Casing","env":[{"name":"Topic","value":"11","type":"num"}],"x":550,"y":1610,"wires":[["3f2cfd63.788712"],["b5bb0faf.0b4a"],["c4e47709.e84c88"]]},{"id":"7208f314.664a4c","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Presión de Tubing (THP) Estados","links":["9209cfb3.3a43a"],"x":755,"y":1490,"wires":[]},{"id":"b5bb0faf.0b4a","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Presión de Casing Estados","links":["9209cfb3.3a43a"],"x":755,"y":1610,"wires":[]},{"id":"6e13beb.0d4804","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Presión de Tubing Eventos","links":["9102ca93.35fc08"],"x":755,"y":1450,"wires":[]},{"id":"3f2cfd63.788712","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Presión de Casing Eventos","links":["9b21d21b.7ae4d"],"x":755,"y":1570,"wires":[]},{"id":"f91f0c21.d6aef","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"Evento de Presión de Tubing","func":"var DownHoleData    = global.get(\"DownHoleData.AI\",'memoryOnly')||null;\nvar THP             = DownHoleData[\"Presión de cabeza THP\"]||0;\nTHP                 = parseFloat(THP).toFixed(2);\n\nnode.status({fill:\"red\",shape:\"ring\",text:msg.Mensaje});\n\nif(msg.Mensaje == \"Trigger by HH Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por Proteción de Presión de Tubing (THP) HH: \"+THP;\n    global.set('Protections.Tubing.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n    \n}\nif(msg.Mensaje == \"Trigger by LL Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Presión de Tubing (THP) LL: \"+THP;\n    global.set('Protections.Tubing.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by H Protection\"){\n    msg.payload = \"Alarma por Presión de Tubing (THP) H: \"+THP;\n    global.set('Protections.Tubing.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by L Protection\"){\n    msg.payload = \"Alarma por Presión de Tubing (THP) L: \"+THP;\n    global.set('Protections.Tubing.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Normal condition\"){\n    msg.payload = \"Condición normal\";\n    global.set('Protections.Tubing.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1040,"y":630,"wires":[["d53d6da0.4e44f","d3023171.a64c3"]]},{"id":"9102ca93.35fc08","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"","links":["6e13beb.0d4804"],"x":885,"y":630,"wires":[["f91f0c21.d6aef"]]},{"id":"f076f230.ab2bd","type":"function","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"Evento de Presión de Casing","func":"//Presión de casing\nvar DownHoleData    = global.get(\"DownHoleData.AI\",'memoryOnly')||null;\nvar TCP             = DownHoleData[\"Presión de casing\"]||0;\nTCP                 = parseFloat(TCP).toFixed(2);\nnode.status({fill:\"red\",shape:\"ring\",text:msg.Mensaje});\n\nif(msg.Mensaje == \"Trigger by HH Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por Proteción de Presión de Casing HH: \"+TCP;\n    global.set('Protections.Casing.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n    \n}\nif(msg.Mensaje == \"Trigger by LL Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Presión de Casing LL: \"+TCP;\n    global.set('Protections.Casing.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by H Protection\"){\n    msg.payload = \"Alarma por Presión de Casing H: \"+TCP;\n    global.set('Protections.Casing.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by L Protection\"){\n    msg.payload = \"Alarma por Presión de Casing L: \"+TCP;\n    global.set('Protections.Casing.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Normal condition\"){\n    msg.payload = \"Condición normal\";\n    global.set('Protections.Casing.Status',3,'memoryOnly'); \n    delete msg.topic;\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1040,"y":680,"wires":[["d53d6da0.4e44f","d3023171.a64c3"]]},{"id":"9b21d21b.7ae4d","type":"link in","z":"6c7d2db7.37ef34","d":true,"g":"f981eb1b.025a78","name":"","links":["3f2cfd63.788712"],"x":885,"y":680,"wires":[["f076f230.ab2bd"]]},{"id":"97dbb46e.15a998","type":"debug","z":"e86f0ca4.7feb5","g":"e2e299a6.d3c5c8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":3360,"y":860,"wires":[]},{"id":"148343a6.619a1c","type":"change","z":"5ef5b1ce.d3899","d":true,"g":"8c3082f9.73975","name":"Rocking Start","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Estándar-Tipo_de_arranque_Habilitar\",\t                \"Configuración-Estándar-Tipo_de_arranque_Rampas_de_Aceleración\",\t                \"Configuración-Estándar-Tipo_de_arranque_Tiempo_de_rearme\",\t                \"Configuración-Estándar-Tipo_de_arranque_Re-arranque_por_protección\",\t                \"Configuración-Estándar-Tipo_de_arranque_No._de_Intentos\",\t                \"Configuración-Estándar-Tipo_de_arranque_Arranque_escalonado\"],\t       \"show\":[ \"Configuración-Estándar-Tipo_de_arranque_Configuración\",\t                \"Configuración-Estándar-Tipo_de_arranque_Tendencia\",\t                \"Configuración-Estándar-Tipo_de_arranque_Control\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":1780,"wires":[["63ae6ad3.b07874","836be50a.5287e8"]]},{"id":"401ed26f.e6543c","type":"ui_text_input","z":"3df4c8d9.0bdc38","d":true,"g":"c30870cb.fa25a","name":"","label":"Tiempo Forward [s]","tooltip":"","group":"225e345f.a1250c","order":2,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":2530,"y":120,"wires":[["2971ab67.7e1f64"]]},{"id":"23b18b52.b524e4","type":"ui_text_input","z":"3df4c8d9.0bdc38","d":true,"g":"c30870cb.fa25a","name":"","label":"Tiempo Reverse [s]","tooltip":"","group":"225e345f.a1250c","order":3,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":2530,"y":160,"wires":[["73213270.315b5c"]]},{"id":"245c43fe.49aa2c","type":"ui_text_input","z":"3df4c8d9.0bdc38","d":true,"g":"c30870cb.fa25a","name":"","label":"Intentos","tooltip":"","group":"225e345f.a1250c","order":4,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":2580,"y":200,"wires":[["541ff565.eda9ec"]]},{"id":"97f8ca63.3d9238","type":"ui_text_input","z":"3df4c8d9.0bdc38","d":true,"g":"c30870cb.fa25a","name":"","label":"Referencia [Hz]","tooltip":"","group":"225e345f.a1250c","order":1,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":2560,"y":80,"wires":[["6bebb49.91ff04c"]]},{"id":"6bebb49.91ff04c","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"c30870cb.fa25a","name":"Referencia","rules":[{"t":"set","p":"RockingStart.Reference","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2730,"y":80,"wires":[[]]},{"id":"2971ab67.7e1f64","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"c30870cb.fa25a","name":"FW_Time","rules":[{"t":"set","p":"RockingStart.Forward_Time","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2720,"y":120,"wires":[[]]},{"id":"73213270.315b5c","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"c30870cb.fa25a","name":"RV_Time","rules":[{"t":"set","p":"RockingStart.Reverse_Time","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2720,"y":160,"wires":[[]]},{"id":"541ff565.eda9ec","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"c30870cb.fa25a","name":"Attempts","rules":[{"t":"set","p":"RockingStart.Attempts.Max","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2720,"y":200,"wires":[[]]},{"id":"42b1083e.ce9cd8","type":"complete","z":"3df4c8d9.0bdc38","d":true,"g":"f3b2b1b2.a0af2","name":"","scope":["786a9585.cd75cc","f1aef2ac.9e095"],"uncaught":false,"x":2930,"y":210,"wires":[["f5ea8178.fe0f7"]]},{"id":"f5ea8178.fe0f7","type":"switch","z":"3df4c8d9.0bdc38","d":true,"g":"f3b2b1b2.a0af2","name":"","property":"RockingStart.Enable","propertyType":"flow","rules":[{"t":"true"},{"t":"false"},{"t":"else"}],"checkall":"true","repair":false,"outputs":3,"x":3070,"y":210,"wires":[["5d32f571.d3ac9c","dbda20bb.9241b","dd5b4bbd.505ea8"],["b81da68d.f1f608","3e70c8e7.d122b8","8b4427d0.6b69c8"],["3e70c8e7.d122b8","b81da68d.f1f608","f1aef2ac.9e095"]]},{"id":"b81da68d.f1f608","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"f3b2b1b2.a0af2","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":3250,"y":200,"wires":[["df83e8e7.26b538"]]},{"id":"3e70c8e7.d122b8","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"f3b2b1b2.a0af2","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":3250,"y":160,"wires":[["abae1ac3.029958"]]},{"id":"dbda20bb.9241b","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"f3b2b1b2.a0af2","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":3250,"y":120,"wires":[["df83e8e7.26b538"]]},{"id":"5d32f571.d3ac9c","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"f3b2b1b2.a0af2","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":3250,"y":80,"wires":[["abae1ac3.029958"]]},{"id":"abae1ac3.029958","type":"ui_button","z":"3df4c8d9.0bdc38","d":true,"g":"f3b2b1b2.a0af2","name":"","group":"225e345f.a1250c","order":5,"width":"2","height":"1","passthru":false,"label":"Habilitar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":3400,"y":120,"wires":[["786a9585.cd75cc"]]},{"id":"df83e8e7.26b538","type":"ui_button","z":"3df4c8d9.0bdc38","d":true,"g":"f3b2b1b2.a0af2","name":"","group":"225e345f.a1250c","order":6,"width":"2","height":"1","passthru":false,"label":"Deshabilitar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":3410,"y":160,"wires":[["f1aef2ac.9e095","168b6577.3e722b"]]},{"id":"786a9585.cd75cc","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"f3b2b1b2.a0af2","name":"Habilitar","rules":[{"t":"set","p":"RockingStart.Enable","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":3620,"y":180,"wires":[[]]},{"id":"f1aef2ac.9e095","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"f3b2b1b2.a0af2","name":"Deshabilitar","rules":[{"t":"set","p":"RockingStart.Enable","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":3630,"y":220,"wires":[[]]},{"id":"a0487735.d07c68","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"c30870cb.fa25a","name":"Reference","rules":[{"t":"set","p":"payload","pt":"msg","to":"RockingStart.Reference","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2370,"y":80,"wires":[["97f8ca63.3d9238"]]},{"id":"de01e320.127c4","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"c30870cb.fa25a","name":"FW Time","rules":[{"t":"set","p":"payload","pt":"msg","to":"RockingStart.Forward_Time","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2360,"y":120,"wires":[["401ed26f.e6543c"]]},{"id":"5525a94.436c858","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"c30870cb.fa25a","name":"RV_Time","rules":[{"t":"set","p":"payload","pt":"msg","to":"RockingStart.Reference","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2360,"y":160,"wires":[["23b18b52.b524e4"]]},{"id":"2f470fc9.a87a7","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"c30870cb.fa25a","name":"Attempts","rules":[{"t":"set","p":"payload","pt":"msg","to":"RockingStart.Attempts.Max","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2360,"y":200,"wires":[["245c43fe.49aa2c"]]},{"id":"3df3dfb.cab992","type":"link in","z":"3df4c8d9.0bdc38","d":true,"g":"c30870cb.fa25a","name":"","links":["ad87cee4.7dbb5"],"x":2225,"y":140,"wires":[["a0487735.d07c68","de01e320.127c4","5525a94.436c858","2f470fc9.a87a7"]]},{"id":"8d16d48d.753ca8","type":"link in","z":"3df4c8d9.0bdc38","d":true,"g":"f3b2b1b2.a0af2","name":"","links":["ad87cee4.7dbb5"],"x":2985,"y":170,"wires":[["f5ea8178.fe0f7"]]},{"id":"dd5b4bbd.505ea8","type":"link out","z":"3df4c8d9.0bdc38","d":true,"g":"f3b2b1b2.a0af2","name":"Roking Enable True Link Out","links":["f07c3e38.b976d"],"x":3215,"y":250,"wires":[]},{"id":"8b4427d0.6b69c8","type":"link out","z":"3df4c8d9.0bdc38","d":true,"g":"f3b2b1b2.a0af2","name":"Roking Enable False Link Out","links":["fa892337.16686"],"x":3215,"y":290,"wires":[]},{"id":"168b6577.3e722b","type":"link out","z":"3df4c8d9.0bdc38","d":true,"g":"f3b2b1b2.a0af2","name":"Roking Start disable reset Link Out","links":["a7eee5d5.1a1eb8"],"x":3465,"y":200,"wires":[]},{"id":"e348a3e7.f1d8f","type":"ui_toast","z":"5ef5b1ce.d3899","d":true,"g":"8c3082f9.73975","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"Entendido","cancel":"","raw":false,"topic":"","name":"","x":1620,"y":1780,"wires":[[]]},{"id":"836be50a.5287e8","type":"change","z":"5ef5b1ce.d3899","d":true,"g":"8c3082f9.73975","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Para un Roking Start por favor utilizar únicamente esta pantalla. Una vez realizado el Rocking Start el equipo tomará la ultima referencia ingresada en la pantalla principal","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1450,"y":1780,"wires":[["e348a3e7.f1d8f"]]},{"id":"a46bb197.4590c","type":"ui_chart","z":"3df4c8d9.0bdc38","d":true,"g":"4384031.9ff1afc","name":"","group":"a2ab3a38.4d35e8","order":1,"width":"8","height":"4","label":"","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":"2","removeOlderPoints":"200","removeOlderUnit":"60","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"outputs":1,"x":4290,"y":80,"wires":[[]]},{"id":"2299663a.5fb8fa","type":"inject","z":"3df4c8d9.0bdc38","d":true,"g":"4384031.9ff1afc","name":"","props":[{"p":"payload"}],"repeat":"1.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":3830,"y":80,"wires":[["446190d2.61b54"]]},{"id":"f073de6b.d109f","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"4384031.9ff1afc","name":"Frecuencia de salida","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::C2S.Output_Frecuency","tot":"global"},{"t":"set","p":"topic","pt":"msg","to":"Frecuencia","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":4120,"y":80,"wires":[["a46bb197.4590c"]]},{"id":"bf8e558a.d150b8","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"4384031.9ff1afc","name":"Corriente de salida","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::C2S.Output_Current","tot":"global"},{"t":"set","p":"topic","pt":"msg","to":"Corriente","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":4110,"y":120,"wires":[["70d87fe5.6d57","a46bb197.4590c"]]},{"id":"70d87fe5.6d57","type":"ui_text","z":"3df4c8d9.0bdc38","d":true,"g":"4384031.9ff1afc","group":"a2ab3a38.4d35e8","order":2,"width":0,"height":0,"name":"","label":"Corriente de salida:","format":"{{msg.payload}}","layout":"row-spread","x":4330,"y":120,"wires":[]},{"id":"4d314b1.8c27eb4","type":"ui_button","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","group":"2540c0d0.abd4d","order":2,"width":"2","height":1,"passthru":false,"label":"Arranque","tooltip":"","color":"","bgcolor":"green","icon":"","payload":"","payloadType":"str","topic":"Start","x":2590,"y":530,"wires":[["a8811bf0.cf69a8"]]},{"id":"e525d535.df71c8","type":"ui_button","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","group":"2540c0d0.abd4d","order":3,"width":2,"height":1,"passthru":false,"label":"Parada","tooltip":"","color":"","bgcolor":"red","icon":"","payload":"Stop","payloadType":"str","topic":"Basic","x":2590,"y":570,"wires":[["eb62ad9.cbb145","e1903816.64f2b8"]]},{"id":"d3122c65.f6281","type":"ui_button","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","group":"2540c0d0.abd4d","order":4,"width":2,"height":1,"passthru":false,"label":"Reinicio","tooltip":"","color":"","bgcolor":"grey","icon":"","payload":"Reset","payloadType":"str","topic":"Basic","x":2590,"y":610,"wires":[["c7b640c9.5eab7","e1903816.64f2b8"]]},{"id":"a8811bf0.cf69a8","type":"finite-state-machine","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Rocking Start","fsmDefinition":"{\"state\":{\"status\":\"E0\"},\"transitions\":{\"E0\":{\"Start\":\"E1\"},\"E1\":{\"E1_Done\":\"E2\"},\"E2\":{\"Ref_Done\":\"E3\"},\"E3\":{\"Start_Done\":\"E4\",\"Error\":\"E3\"},\"E4\":{\"Forward\":\"E5\",\"Reverse\":\"E4\"},\"E5\":{\"Forward_Time_Done\":\"E6\"},\"E6\":{\"Reverse\":\"E7\",\"Forward\":\"E6\"},\"E7\":{\"Reverse_Time_Done\":\"E8\"},\"E8\":{\"Attempt_in_Range\":\"E4\",\"Attempt_Done\":\"E9\"},\"E9\":{\"Speed_restored\":\"E0\",\"Error\":\"E9\"}}}","sendInitialState":true,"sendStateWithoutChange":false,"showTransitionErrors":false,"x":2960,"y":530,"wires":[["b92b51f2.862c3","ece75963.8a7658"]]},{"id":"b92b51f2.862c3","type":"switch","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","property":"payload.status","propertyType":"msg","rules":[{"t":"eq","v":"E0","vt":"str"},{"t":"eq","v":"E1","vt":"str"},{"t":"eq","v":"E2","vt":"str"},{"t":"eq","v":"E3","vt":"str"},{"t":"eq","v":"E4","vt":"str"},{"t":"eq","v":"E6","vt":"str"},{"t":"eq","v":"E5","vt":"str"},{"t":"eq","v":"E7","vt":"str"},{"t":"eq","v":"E8","vt":"str"},{"t":"eq","v":"E9","vt":"str"}],"checkall":"true","repair":false,"outputs":10,"x":3120,"y":530,"wires":[[],["83935bd.322d4a8"],["db524c1c.7299d"],["db429372.52e7a"],["f12b186c.4312a8"],["7d7e0a82.1b3274"],["752c4cf4.41b3d4"],["29a13a58.22e996"],["bebada93.7c96e8"],["c65245e9.e0b928"]]},{"id":"83935bd.322d4a8","type":"function","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"E1","func":"flow.set(\"RockingStart.Attempts.Current\",0);\nmsg.topic = \"E1_Done\";\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3310,"y":380,"wires":[["a16f5366.da31f"]]},{"id":"16fb733e.5b559d","type":"link in","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"VSD Command Data Link Arranque escalonado","links":["f99e70c8.70126"],"x":3405,"y":480,"wires":[["5d139b56.877384"]]},{"id":"5d139b56.877384","type":"switch","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Arranque","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"Arranque","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":3500,"y":480,"wires":[["c2d6f712.b99e38"]]},{"id":"c2d6f712.b99e38","type":"switch","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","property":"code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":3650,"y":460,"wires":[["154e2116.00b6df"],["e1a8b26c.7e769"]]},{"id":"154e2116.00b6df","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Start Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"Start_Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3800,"y":440,"wires":[["1dfca80a.0b9d78"]]},{"id":"e1a8b26c.7e769","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3780,"y":480,"wires":[["1dfca80a.0b9d78"]]},{"id":"9757bec7.cb582","type":"link out","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Roking Start Output","links":["d864cf5d.4424a"],"x":3785,"y":730,"wires":[]},{"id":"db429372.52e7a","type":"link out","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Roking Start","links":["c581c8dc.d013e8"],"x":3275,"y":480,"wires":[]},{"id":"d32a3c4c.d53bd","type":"pccc out","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","endpoint":"5a40295d.6caa18","variable":"PF755T_SpeedReference","name":"Referencia de velocidad","x":3500,"y":420,"wires":[]},{"id":"db524c1c.7299d","type":"function","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"E2","func":"msg.payload = flow.get(\"RockingStart.Reference\")||0;\nmsg.topic = \"Ref_Done\";\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3310,"y":420,"wires":[["d32a3c4c.d53bd","a16f5366.da31f"]]},{"id":"8dda8991.669f28","type":"switch","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","property":"#:(memoryOnly)::Drive_Status.Command_dir","propertyType":"global","rules":[{"t":"eq","v":"1","vt":"num"},{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":2,"x":3640,"y":540,"wires":[["a573636f.f2ef1"],["f6feffbc.b7037"]]},{"id":"a573636f.f2ef1","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Forward","rules":[{"t":"set","p":"topic","pt":"msg","to":"Forward","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3790,"y":520,"wires":[["2c0787ec.c0d3f8"]]},{"id":"f6feffbc.b7037","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Reverse","rules":[{"t":"set","p":"topic","pt":"msg","to":"Reverse","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3790,"y":560,"wires":[["2c0787ec.c0d3f8"]]},{"id":"d864cf5d.4424a","type":"link in","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Roking Start Input","links":["2aa3c62e.9854aa","2c0787ec.c0d3f8","9757bec7.cb582","a16f5366.da31f"],"x":2815,"y":450,"wires":[["a8811bf0.cf69a8"]]},{"id":"f12b186c.4312a8","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Forward","rules":[{"t":"set","p":"payload","pt":"msg","to":"0","tot":"num"},{"t":"set","p":"topic","pt":"msg","to":"Direction","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3320,"y":540,"wires":[["ebc6554b.f155d8"]]},{"id":"7d7e0a82.1b3274","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Reverse","rules":[{"t":"set","p":"payload","pt":"msg","to":"1","tot":"num"},{"t":"set","p":"topic","pt":"msg","to":"Direction","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3320,"y":600,"wires":[["ebc6554b.f155d8"]]},{"id":"752c4cf4.41b3d4","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"T1","rules":[{"t":"set","p":"delay","pt":"msg","to":"RockingStart.Forward_Time","tot":"flow"},{"t":"set","p":"topic","pt":"msg","to":"Forward_Time_Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3310,"y":650,"wires":[["429c93e5.ec4a6c"]]},{"id":"429c93e5.ec4a6c","type":"function","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"msg.delay ms2sec","func":"msg.delay = msg.delay * 1000;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3470,"y":650,"wires":[["6581a2a4.fd4b4c"]]},{"id":"6581a2a4.fd4b4c","type":"delay","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","pauseType":"delayv","timeout":"60","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":3640,"y":650,"wires":[["9757bec7.cb582"]]},{"id":"29a13a58.22e996","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"T2","rules":[{"t":"set","p":"delay","pt":"msg","to":"RockingStart.Reverse_Time","tot":"flow"},{"t":"set","p":"topic","pt":"msg","to":"Reverse_Time_Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":3310,"y":690,"wires":[["12dfffdf.e5a1a"]]},{"id":"12dfffdf.e5a1a","type":"function","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"msg.delay ms2sec","func":"msg.delay = msg.delay * 1000;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3470,"y":690,"wires":[["4f79aee8.bf74"]]},{"id":"4f79aee8.bf74","type":"delay","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","pauseType":"delayv","timeout":"60","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":3640,"y":690,"wires":[["9757bec7.cb582"]]},{"id":"bebada93.7c96e8","type":"function","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"E8","func":"var Current_Attempt = flow.get(\"RockingStart.Attempts.Current\")||0;\nvar Max_Attempt     = flow.get(\"RockingStart.Attempts.Max\")||0;\nCurrent_Attempt += 1;\n\nflow.set(\"RockingStart.Attempts.Current\",Current_Attempt);\n\nif(Current_Attempt < Max_Attempt){\n    msg.topic = \"Attempt_in_Range\";\n}\nelse{\n    msg.topic = \"Attempt_Done\";\n}\n\nnode.status({fill:\"green\",shape:\"dot\",text:Current_Attempt});\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3310,"y":730,"wires":[["9757bec7.cb582"]]},{"id":"eb62ad9.cbb145","type":"link out","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Roking Start Stop","links":["e0c911fe.aaa9"],"x":2735,"y":570,"wires":[]},{"id":"c7b640c9.5eab7","type":"link out","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Roking Start Stop","links":["1fdf355.5b5f8cb"],"x":2735,"y":610,"wires":[]},{"id":"3576f525.ca307a","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Disabled","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2430,"y":550,"wires":[["4d314b1.8c27eb4","e525d535.df71c8","d3122c65.f6281"]]},{"id":"c3264b50.948808","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Enabled","rules":[{"t":"delete","p":"payload","pt":"msg"},{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2430,"y":590,"wires":[["4d314b1.8c27eb4","e525d535.df71c8","d3122c65.f6281"]]},{"id":"f0234075.f9965","type":"complete","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","scope":["f1aef2ac.9e095"],"uncaught":false,"x":2280,"y":550,"wires":[["3576f525.ca307a"]]},{"id":"71b11fd7.a2749","type":"complete","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","scope":["786a9585.cd75cc"],"uncaught":false,"x":2280,"y":590,"wires":[["c3264b50.948808"]]},{"id":"e1903816.64f2b8","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"reset","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":650,"wires":[["a8811bf0.cf69a8"]]},{"id":"ebc6554b.f155d8","type":"subflow:c8b77ff3.ab501","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","env":[],"x":3460,"y":600,"wires":[["66531b72.ce7904"]]},{"id":"66531b72.ce7904","type":"function","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Int to IEEE 754","func":"v = new DataView(new ArrayBuffer(4));\nmsg.payload +=1;\nmsg.payload = msg.payload.toString(16);\nv.setUint32(0, '0x'+ msg.payload);\nnode.status({fill:\"green\",shape:\"dot\",text:v.getFloat32(0)});\n\nmsg.payload = v.getFloat32(0);\n\nreturn msg;\n\n// Fuentes:\n// https://stackoverflow.com/questions/41635908/node-red-parsing-json-data-and-converting-it-into-binary\n// https://stackoverflow.com/questions/49221045/javascript-hexadecimal-string-to-ieee-754-floating-point","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3740,"y":600,"wires":[["163e3938.402577"]]},{"id":"163e3938.402577","type":"pccc out","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","endpoint":"5a40295d.6caa18","variable":"CommandWord","name":"","x":3920,"y":600,"wires":[]},{"id":"a16f5366.da31f","type":"link out","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Roking Start Output","links":["d864cf5d.4424a"],"x":3405,"y":380,"wires":[]},{"id":"2aa3c62e.9854aa","type":"link out","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Roking Start Output","links":["d864cf5d.4424a"],"x":4065,"y":480,"wires":[]},{"id":"2c0787ec.c0d3f8","type":"link out","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Roking Start Output","links":["d864cf5d.4424a"],"x":3895,"y":540,"wires":[]},{"id":"c65245e9.e0b928","type":"function","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"E9","func":"msg.payload = global.get(\"Ultima_Referencia\")||0;\nmsg.topic = \"Speed_restored\";\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3310,"y":780,"wires":[["9757bec7.cb582","6c59dd9f.7072e4","f12b186c.4312a8"]]},{"id":"6c59dd9f.7072e4","type":"pccc out","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","endpoint":"5a40295d.6caa18","variable":"PF755T_SpeedReference","name":"Referencia de velocidad","x":3880,"y":780,"wires":[]},{"id":"fa892337.16686","type":"link in","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Roking Enable False Link In","links":["8b4427d0.6b69c8"],"x":2335,"y":510,"wires":[["3576f525.ca307a"]]},{"id":"f07c3e38.b976d","type":"link in","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Roking Enable True Link In","links":["dd5b4bbd.505ea8"],"x":2335,"y":630,"wires":[["c3264b50.948808"]]},{"id":"9d5c8cc0.ad9cb","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"reset","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":2740,"y":490,"wires":[["a8811bf0.cf69a8"]]},{"id":"a7eee5d5.1a1eb8","type":"link in","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Roking Start disable reset Link In","links":["168b6577.3e722b"],"x":2625,"y":490,"wires":[["9d5c8cc0.ad9cb"]]},{"id":"1dfca80a.0b9d78","type":"delay","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":3960,"y":480,"wires":[["2aa3c62e.9854aa"]]},{"id":"39a13028.67056","type":"inject","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":3520,"y":540,"wires":[["8dda8991.669f28"]]},{"id":"ece75963.8a7658","type":"change","z":"3df4c8d9.0bdc38","d":true,"g":"b4d97ea9.9a1f1","name":"Status","rules":[{"t":"set","p":"#:(memoryOnly)::RockingStart.Status","pt":"flow","to":"payload.status","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3120,"y":630,"wires":[[]]},{"id":"446190d2.61b54","type":"switch","z":"3df4c8d9.0bdc38","d":true,"g":"4384031.9ff1afc","name":"Status","property":"#:(memoryOnly)::RockingStart.Status","propertyType":"flow","rules":[{"t":"neq","v":"E0","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":3950,"y":80,"wires":[["f073de6b.d109f","bf8e558a.d150b8"]]},{"id":"4671117b.65e3c","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"4f5c2b53.44a154","order":8,"width":4,"height":2,"name":"","label":"Factor de potencia","format":"<font size = 6px> {{msg.payload}}","layout":"col-center","x":3610,"y":290,"wires":[]},{"id":"225b9d03.874c32","type":"function","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3320,"y":290,"wires":[["82f203e8.c02ef"]]},{"id":"385d9987.52a636","type":"change","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Factor de potencia","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::PQA.Real_Time_Parameters.Total_Power_Factor","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3110,"y":290,"wires":[["225b9d03.874c32"]]},{"id":"f144e183.7ff68","type":"inject","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"","props":[{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"reset","x":230,"y":390,"wires":[["406ea535.518d9c"]]},{"id":"9d23b0e4.51235","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Runtime","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Elapsed_Run_Time","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3770,"y":580,"wires":[["e031d60e.89abe8"]]},{"id":"b2939078.be2fe","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Último código de error","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Last_Fault_Code","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3810,"y":620,"wires":[["8010d75a.debb98"]]},{"id":"e031d60e.89abe8","type":"ui_text","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"1748d02c.c7f91","order":0,"width":"4","height":"1","name":"","label":"Run time:","format":"<font size = 4px> {{msg.payload}}H","layout":"row-left","x":4210,"y":580,"wires":[]},{"id":"8010d75a.debb98","type":"ui_text","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"1748d02c.c7f91","order":0,"width":"4","height":"1","name":"","label":"Último codigo de error:","format":"<font size = 4px> {{msg.payload}}","layout":"row-left","x":4260,"y":620,"wires":[]},{"id":"195b633.0e1ac9d","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Potencia total acumulada","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Elapsed_kWH","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3820,"y":660,"wires":[["72c8db3.6f6c324"]]},{"id":"72c8db3.6f6c324","type":"ui_text","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"1748d02c.c7f91","order":0,"width":"4","height":"1","name":"","label":"Pot. Tot. acumulada:","format":"<font size = 4px> {{msg.payload}} kWh","layout":"row-left","x":4250,"y":660,"wires":[]},{"id":"33e6cf98.a413f","type":"change","z":"e86f0ca4.7feb5","g":"16a83ca.2899cc3","name":"Ref","rules":[{"t":"delete","p":"payload","pt":"msg"},{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::C2S.Commanded_SpdRef","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4460,"y":1670,"wires":[["798ab24b.f2bb3c","9ba73f69.14911"]]},{"id":"882afa67.5605e8","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"reset","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1490,"y":100,"wires":[["4ea7eb06.9f2174"]]},{"id":"83e4b55f.06df38","type":"switch","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Faulted","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":1920,"y":700,"wires":[["c9cf11a6.25674"]]},{"id":"a6e1a57e.4b58a8","type":"rbe","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":1790,"y":700,"wires":[["83e4b55f.06df38"]]},{"id":"573be8e5.2698e8","type":"inject","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"#:(memoryOnly)::Drive_Status.Fault","payloadType":"global","x":1610,"y":700,"wires":[["a6e1a57e.4b58a8"]]},{"id":"c9cf11a6.25674","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Evento Falla de C2S","rules":[{"t":"set","p":"payload","pt":"msg","to":"Falla de C2S: +++","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"+++","fromt":"str","to":"#:(memoryOnly)::C2S.Last_Fault_Code","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2100,"y":700,"wires":[["f99e70c8.70126","aa36a4b3.18fea8"]]},{"id":"3fc5e840.e9a478","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Referencia C2S","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::C2S.Commanded_SpdRef","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3230,"y":330,"wires":[["19765827.aaed18"]]},{"id":"8c6f2064.7cbdc","type":"link out","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Referencia C2S Link Out","links":["ce51fc05.bdcac","a7923a8c.7c39d8"],"x":3495,"y":330,"wires":[]},{"id":"5ee94db4.b60d74","type":"function","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Entradas Analógicas","func":"msg.topic = 'Entradas Analogicas';\nmsg.payload = { \n    value: msg.payload, \n    'fc': 4, \n    'unitid': 1, \n    'address': 10, \n    'quantity':8   \n} \nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1790,"y":2550,"wires":[["70e044c9.541bac"]]},{"id":"682721fc.1e458","type":"function","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Entradas Digitales","func":"msg.topic = 'Entradas Digitales';\nmsg.payload = { \n    value: msg.payload, \n    'fc': 2, \n    'unitid': 1, \n    'address': 8, \n    'quantity':20   \n} \nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1780,"y":2590,"wires":[["70e044c9.541bac"]]},{"id":"7ca51295.5a262c","type":"function","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Salidas Digitales","func":"msg.topic = 'Salidas Digitales';\nmsg.payload = { \n    value: msg.payload, \n    'fc': 2, \n    'unitid': 1, \n    'address': 32, \n    'quantity':12   \n} \nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1770,"y":2630,"wires":[["70e044c9.541bac"]]},{"id":"70e044c9.541bac","type":"modbus-flex-getter","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Leer Cubloc RS-232","showStatusActivities":true,"showErrors":false,"logIOActivities":false,"server":"f630cb55.8d18e8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":2050,"y":2550,"wires":[[],["e21d805.baeee8"]]},{"id":"e21d805.baeee8","type":"function","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Interpretar lectura CUBLOC","func":"if(msg.topic == 'Salidas Digitales'){\n    msg.payload ={\n        \"32\" : msg.payload.data[0],\n        \"33\" : msg.payload.data[1],\n        \"34\" : msg.payload.data[2],\n        \"35\" : msg.payload.data[3],\n        \"36\" : msg.payload.data[4],\n        \"37\" : msg.payload.data[5],\n        \"38\" : msg.payload.data[6],\n        \"39\" : msg.payload.data[7],\n        \"40\" : msg.payload.data[8],\n        \"41\" : msg.payload.data[9],\n        \"42\" : msg.payload.data[10],\n        \"43\" : msg.payload.data[11]\n    }\n    global.set('IO.DO', msg.payload, 'memoryOnly');\n}\nelse if(msg.topic == 'Entradas Digitales'){\n    msg.payload = {\n        \"8\"  : msg.payload.data[0],\n        \"9\"  : msg.payload.data[1],\n        \"10\" : msg.payload.data[2],\n        \"11\" : msg.payload.data[3],\n        \"12\" : msg.payload.data[4],\n        \"13\" : msg.payload.data[5],\n        \"14\" : msg.payload.data[6],\n        \"15\" : msg.payload.data[7],\n        \"16\" : msg.payload.data[8],\n        \"17\" : msg.payload.data[9],\n        \"18\" : msg.payload.data[10],\n        \"19\" : msg.payload.data[11],\n        \"20\" : msg.payload.data[12],\n        \"21\" : msg.payload.data[13],\n        \"22\" : msg.payload.data[14],\n        \"23\" : msg.payload.data[15],\n        \"24\" : msg.payload.data[16],\n        \"25\" : msg.payload.data[17],\n        \"26\" : msg.payload.data[18],\n        \"27\" : msg.payload.data[19]\n    }\n    global.set('IO.DI', msg.payload, 'memoryOnly');\n}\nelse if(msg.topic == \"Entradas Analogicas\"){\n    msg.payload ={\n        \"0\" : msg.payload.data[0],\n        \"1\" : msg.payload.data[1],\n        \"2\" : msg.payload.data[2],\n        \"3\" : msg.payload.data[3],\n        \"4\" : msg.payload.data[4],\n        \"5\" : msg.payload.data[5],\n        \"6\" : msg.payload.data[6],\n        \"7\" : msg.payload.data[7]\n    }\n    global.set('IO.AI', msg.payload, 'memoryOnly');\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2290,"y":2550,"wires":[[]]},{"id":"c5b06e6.28ef89","type":"debug","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":2220,"y":2610,"wires":[]},{"id":"e550a5ce.6fa378","type":"catch","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Errores lectura Cubloc","scope":["70e044c9.541bac"],"uncaught":false,"x":2050,"y":2610,"wires":[["c5b06e6.28ef89"]]},{"id":"28127983.0b49a6","type":"inject","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"","props":[{"p":"payload"}],"repeat":"2.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1400,"y":2550,"wires":[["244f7039.904c2"]]},{"id":"64a5df1f.da707","type":"debug","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":2330,"y":2800,"wires":[]},{"id":"56bab1e3.180fc","type":"catch","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Erroes escritura Cubloc","scope":["7902854d.6ff0fc"],"uncaught":false,"x":2160,"y":2800,"wires":[["64a5df1f.da707"]]},{"id":"3e34f619.18cefa","type":"debug","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"","active":false,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload.value[1]","targetType":"msg","statusVal":"payload.value[1]","statusType":"auto","x":2180,"y":2700,"wires":[]},{"id":"e1426513.b6ead8","type":"function","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Salidas Digitales","func":"var ES = flow.get('ES')||null;\nvar Drive_Status = global.get('Drive_Status','memoryOnly') || null;\nvar ActFunctions = flow.get('ActFunctions','memoryOnly') || null;\nvar Prot = global.get('Protections.RFlag','memoryOnly') || false;\nvar FA = global.get('Filtro_armonicos.Estado','memoryOnly')||false;\nvar Local_remoto= global.get('Local/Remoto','file')||null;\n\n// Arreglo de Canales\nvar Data    = { \n    32:false, 33:false, 34:false, 35:false, \n    36:false, 37:false, 38:false, 39:false, \n    40:false, 41:false, 42:false, 43:false\n};\n\n// Obtener llaves del objeto Data\nvar Canal = Object.keys(Data);\n// Declaración del string con \nvar canalmsg;\n\n//Objeto con las funciones del CILA2S\nvar FuncionC2S = {\n    \"CILA2S_EN_MARCHA\"          : Drive_Status != null ? (Drive_Status.Active == 1 ? true:false): false ,\n    \"FALLA_GENERAL\"             : Drive_Status != null ? (Drive_Status.Fault  == 1 ? true:false|| Prot):false, \n    //\"FALLA_GENERAL\"             : Drive_Status != null ? (Drive_Status.Fault  == 1 ? true:true || Prot):true, \n    \"DISPARO_BREAKER_MODULO_ESD\": InFunction(ActFunctions,'Stop_ESD') || InFunction(ActFunctions,'Disparo_bajo_bajo_aceite_SUT') || InFunction(ActFunctions,'Disparo_valvula_sobrepresion') ||InFunction(ActFunctions,'Disparo_alta_temperatura_SUT') || InFunction(ActFunctions,'Disparo_alta_temperatura_filtros') || InFunction(ActFunctions,'Disparo_Alta_presión_THP')|| InFunction(ActFunctions,'Disparo_sobre_tensión_SUT') || InFunction(ActFunctions,'ESD_Remoto')|| InFunction(ActFunctions,'Proteccion_termica_de_motor') ,\n    \"BYPASS_FILTRO_ARMONICOS\"   : FA,\n    \"SIMULACION\"                : InFunction(ActFunctions,'Simulación'),\n    \"Local/Remoto\"              : Local_remoto == 'Remoto' ? true:false\n}\n\n// Funciones que se activan desde una entrada digital\nfunction InFunction(Var,Str){\n    for(var j = 0; j < Var.length; j++){\n        if(Var[j].Funcion == Str){\n            return Var[j].Estado;\n        }\n    }\n}\n\n// Llaves del vector FuncionesC2S\nvar Keys = Object.keys(FuncionC2S);\n\n// Para cada canal de salida\nfor(var i=0; i <Canal.length; i++){\n    canalmsg ='Canal'+ Canal[i];\n    // Si la configuración del canal está declarada\n    if(typeof ES.SD[canalmsg] != 'undefined'){\n        // Para cada llave del vector FuncionesC2S que coincida con la configuración del canal\n        for(var j=0; j<Keys.length; j++){\n            if(ES.SD[canalmsg].Funcion == Keys[j]){\n                // Asignar el valor contenido en el vector de funciones al canal de salida\n                Data[Canal[i]] = ES.SD[canalmsg].Tipo == \"NO\" ? FuncionC2S[Keys[j]]:!FuncionC2S[Keys[j]];\n            } \n        }\n    }\n}\n\n// Asignar variable con los valores a escribir  (Se puede eliminar al asignar directamente).\nvar values = Object.values(Data);\n\n// Escribir datos en el Cubloc\nmsg.payload = { \n    value: values, \n    'fc': 15, \n    'unitid': 1, \n    'address': 4096, \n    'quantity': 12 \n}\n\n// Retorno del mensaje\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1950,"y":2750,"wires":[["3e34f619.18cefa","7902854d.6ff0fc"]],"inputLabels":["Activar función"],"outputLabels":["Canal32"]},{"id":"7902854d.6ff0fc","type":"modbus-flex-write","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Escribir Cubloc-RS-232","showStatusActivities":true,"showErrors":false,"server":"f630cb55.8d18e8","emptyMsgOnFail":false,"keepMsgProperties":false,"x":2190,"y":2750,"wires":[[],[]]},{"id":"627acbf5.125454","type":"link in","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Escribir Mapa Modbus Cubloc Link In","links":["c1702022.91ab1"],"x":2015,"y":2700,"wires":[["7902854d.6ff0fc"]]},{"id":"244f7039.904c2","type":"delay","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"","pauseType":"delay","timeout":"200","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1540,"y":2550,"wires":[["5ee94db4.b60d74","c6ca8fcd.c9acb"]]},{"id":"c6ca8fcd.c9acb","type":"delay","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"","pauseType":"delay","timeout":"200","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1540,"y":2590,"wires":[["682721fc.1e458","e8c9fd54.734fc"]]},{"id":"e8c9fd54.734fc","type":"delay","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"","pauseType":"delay","timeout":"200","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1540,"y":2630,"wires":[["7ca51295.5a262c","8ae178b2.678558"]]},{"id":"1d64366a.a3cfea","type":"delay","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"","pauseType":"delay","timeout":"200","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1540,"y":2710,"wires":[["52fe075b.487798","d6696a76.a52418"]]},{"id":"52fe075b.487798","type":"delay","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"","pauseType":"delay","timeout":"200","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1540,"y":2750,"wires":[["ddc6bfd.136e24","f78d5a67.c13168"]]},{"id":"8ae178b2.678558","type":"delay","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"","pauseType":"delay","timeout":"200","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1540,"y":2670,"wires":[["1d64366a.a3cfea","f4e3682b.f045c8"]]},{"id":"5b1cac10.b42af4","type":"link in","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Arranque/Parada/Reset RTU-Link In","links":["d6696a76.a52418"],"x":2935,"y":700,"wires":[["eaf3c61f.78e7d8"]]},{"id":"d6696a76.a52418","type":"link out","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Arranque/Parada/Reset RTU-Link Out","links":["5b1cac10.b42af4"],"x":1665,"y":2710,"wires":[]},{"id":"f4e3682b.f045c8","type":"link out","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Referencia Remota - RTU Link Out","links":["ac4a48c1.4681c8"],"x":1665,"y":2670,"wires":[]},{"id":"ac4a48c1.4681c8","type":"link in","z":"e86f0ca4.7feb5","g":"f6e30287.8d13d","name":"Referencia Remota - RTU Link In","links":["f4e3682b.f045c8"],"x":2955,"y":1010,"wires":[["f7d52c85.918f3"]]},{"id":"923454af.73d8c8","type":"link in","z":"e86f0ca4.7feb5","g":"7dbc5902.4206c8","name":"Remote Start/Stop","links":["24025e15.4ddaf2","66f58a7.5c16574","a1197dc9.92f25","a6adbd4d.9a3c4","fe53aea5.79aaf","782235ec.980bfc"],"x":4235,"y":1760,"wires":[["ec35814f.e4c98"]]},{"id":"ec35814f.e4c98","type":"change","z":"e86f0ca4.7feb5","g":"7dbc5902.4206c8","name":"Restablecer registro Modbus","rules":[{"t":"set","p":"payload","pt":"msg","to":"0","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":4390,"y":1760,"wires":[["d26ae57.89e2118","9205d7e0.ff53d8"]]},{"id":"2d017655.64384a","type":"delay","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":740,"y":400,"wires":[["3cc764fd.7e58cc"]]},{"id":"ddc6bfd.136e24","type":"function","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Retardo Escritura SD","func":"var Counter = context.get(\"count\",\"memoryOnly\")||0;\nif(Counter <= 5){\n    Counter += 1;\n    context.set(\"count\",Counter,\"memoryOnly\");\n    return;\n}\nelse{\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1750,"y":2750,"wires":[["e1426513.b6ead8"]]},{"id":"37f2db57.b831c4","type":"change","z":"5f404c88.fa75a4","g":"e9e93a2c.deeb18","name":"Pantalla","rules":[{"t":"set","p":"#:(memoryOnly)::Pantalla","pt":"global","to":"name","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":310,"y":1640,"wires":[[]]},{"id":"51330d5b.f89a44","type":"switch","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":4200,"y":90,"wires":[["126f7267.c38efe"]]},{"id":"67e23b88.120814","type":"switch","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":4080,"y":170,"wires":[["43f0005f.07f82"]]},{"id":"5ea826dd.7f1668","type":"switch","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":4080,"y":210,"wires":[["c061c85d.a9ede8"]]},{"id":"af9e1482.f781e8","type":"switch","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":4080,"y":250,"wires":[["6789ef5a.e271c"]]},{"id":"f92cb206.e5ea2","type":"switch","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":4080,"y":290,"wires":[["895d77a8.ef3188"]]},{"id":"1fb536f5.2c7bf9","type":"switch","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":4080,"y":330,"wires":[["abe2e5c8.1dd248"]]},{"id":"1b87d138.647c1f","type":"switch","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":4080,"y":540,"wires":[["856a81d7.aae66"]]},{"id":"30acc1e4.ab123e","type":"switch","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":4200,"y":490,"wires":[["c48ec4a6.a9ee28"]]},{"id":"ec162b81.0c2ea8","type":"switch","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":4080,"y":410,"wires":[["ac7d9b40.a3fa48","6a03ada2.31e6f4"]]},{"id":"c35b8f49.241be","type":"switch","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Menu","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Menu","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":4080,"y":450,"wires":[["ba8f9132.a0406"]]},{"id":"d2d1f05b.20687","type":"switch","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Menu","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Menu","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":4200,"y":130,"wires":[["5a69692c.84d3d8"]]},{"id":"e45b510.d40b5b","type":"switch","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1290,"y":960,"wires":[["edd86b06.db3c18"]]},{"id":"d42fcc39.f4823","type":"switch","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":3450,"y":50,"wires":[["8197176b.7639a8"]]},{"id":"18bd4053.0ce7f","type":"switch","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":3450,"y":90,"wires":[["8406554a.894a38"]]},{"id":"2faeafb3.f06ad","type":"switch","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":3450,"y":130,"wires":[["9e2b819.de0ee8"]]},{"id":"b25a670a.e0cc68","type":"switch","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":3450,"y":170,"wires":[["cbe5848c.3678c8"]]},{"id":"6204d467.e3a61c","type":"switch","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":3450,"y":210,"wires":[["11e153a8.ba3aac"]]},{"id":"8d22ea2a.213e08","type":"switch","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":3450,"y":250,"wires":[["87f9add.d16445"]]},{"id":"82f203e8.c02ef","type":"switch","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Main","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":3450,"y":290,"wires":[["4671117b.65e3c"]]},{"id":"c4df0919.a31038","type":"function","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Vector de Funciones SD","func":"var ES = flow.get(\"ES\");\nvar Funcion = [];\nvar Lista_Funciones = {};\n\nvar Canal = [32,33,34,35,36,36,38,39,40,41,42,43];\n\nfor(var i=0; i<Canal.length; i++){\n    \n    // Concatenar el texto del canal\n    Canalmsg = 'Canal' + Canal[i];\n    \n    // Generar el vector con todas las posibles opciones de configuración\n    if( typeof ES.SD[Canalmsg] !== 'undefined'){\n        \n        // Lista Completa\n        Lista_Funciones[Canal[i]] = ES.SD[Canalmsg].Funcion;\n        \n        // Lista Simple\n        if(Funcion.find(element => element == ES.SD[Canalmsg].Funcion) !== ES.SD[Canalmsg].Funcion ){\n            Funcion.push(ES.SD[Canalmsg].Funcion);\n        }\n    }\n    else{\n        delete Lista_Funciones[Canal[i]];\n    }\n    \n}\n\nmsg.payload = {\n    'Lista_Simple':Funcion,\n    'Lista_Completa':Lista_Funciones\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":460,"y":1880,"wires":[["7be459fd.6dc178"]]},{"id":"7be459fd.6dc178","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","rules":[{"t":"set","p":"ES.SD.Funciones","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":460,"y":1920,"wires":[[]]},{"id":"b2d06cf6.fb5af","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"55b1d3e4.76eb2c","name":"Monitoreo-Navbar-AVAS-IPR","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":420,"y":2010,"wires":[[]]},{"id":"cf8af234.7080f","type":"ui_template","z":"d2972edf.3d6c1","d":true,"g":"1a2c71e0.bd05fe","group":"58d04dfc.842d54","name":"","order":0,"width":"12","height":"7","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":840,"y":920,"wires":[[]]},{"id":"eeb74e26.02437","type":"link in","z":"d2972edf.3d6c1","d":true,"g":"1a2c71e0.bd05fe","name":"Grafica IPR Link In","links":["97407954.a004c8"],"x":85,"y":920,"wires":[["cb802800.5ab818"]]},{"id":"cb802800.5ab818","type":"switch","z":"d2972edf.3d6c1","d":true,"g":"1a2c71e0.bd05fe","name":"Monitoreo-AVAS-IPR","property":"#:(memoryOnly)::Pantalla","propertyType":"global","rules":[{"t":"eq","v":"Menu","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":220,"y":920,"wires":[["e47ce41e.65d978"]]},{"id":"d2362d4.b7c40d","type":"inject","z":"d2972edf.3d6c1","d":true,"g":"1a2c71e0.bd05fe","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":250,"y":960,"wires":[["e47ce41e.65d978"]]},{"id":"debf988f.cbfee8","type":"template","z":"d2972edf.3d6c1","d":true,"g":"1a2c71e0.bd05fe","name":"Bootstrap","field":"template","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <div class=\"disable-select\">\n        <div class=\"container\">\n            <div class=\"row justify-content-center\" style=\"background-color:#fcfcfc;\">\n                <div class=\"co-12\">{{{chart}}}</div>\n            </div>\n        </div>\n    </div>\n  </body>\n  <script src=\"http://192.168.2.11:1880/apexcharts/dist/apexcharts.js\"></script>\n  <style>\n    .disable-select {\n        user-select: none; /* supported by Chrome and Opera */\n        -webkit-user-select: none; /* Safari */\n       -khtml-user-select: none; /* Konqueror HTML */\n       -moz-user-select: none; /* Firefox */\n       -ms-user-select: none; /* Internet Explorer/Edge */\n    }\n  </style>\n</html>","output":"str","x":700,"y":920,"wires":[["cf8af234.7080f"]]},{"id":"f9233058.fe67f","type":"link in","z":"d2972edf.3d6c1","d":true,"g":"1a2c71e0.bd05fe","name":"Inicio","links":["ad87cee4.7dbb5"],"x":305,"y":880,"wires":[["e47ce41e.65d978"]]},{"id":"e47ce41e.65d978","type":"function","z":"d2972edf.3d6c1","d":true,"g":"1a2c71e0.bd05fe","name":"","func":"/* Declaración de datos \nAPI         = 30;   \nPy          = 3000; //psi\nPb          = 1200;  //psi\nPcrit       = 1050; // psi\nPwf_P       = 750;  //psi \nQ_p         = 2300; //BPD\nBSW         = 98;   //%\nT_fluido    = 160;  // °F\nDens_Agua   = 8.33; //ppg \nProf_Intake = 4000; //ft\nProf_Sensor = 4030; //ft\nPMP         = 4500; //FT\nPIP_Sensor  = 750; //psi\nPCasing     = 0;   //psi\n*/\nAnalog = global.get(\"DownHoleData\",\"memoryOnly\")||[];\n\n// ESTADO MECANICO\nPMP             = global.get(\"IWOC.ESTADO_MECANICO.PMP\")||4500;\nProf_Discharge  = global.get(\"IWOC.ESTADO_MECANICO.Profundidad_de_descarga\")||0;\nProf_Sensor     = global.get(\"IWOC.ESTADO_MECANICO.Prof_Sensor\")||4030;\nProf_Intake     = global.get(\"IWOC.ESTADO_MECANICO.Profundidad_de_entrada\")||4000;\n\n// PROPIEDADES DE FLUIDO\nAPI             = global.get(\"IWOC.PROPIEDADES_DE_FLUIDO.API\")||30;\nT_fluido        = global.get(\"IWOC.PROPIEDADES_DE_FLUIDO.Temperatura_de_fondo\")||160;\nDens_Agua       = global.get(\"IWOC.PROPIEDADES_DE_FLUIDO.Densidad_del_agua\")||8.33;\n\n// PRUEBA DE PRODUCCION\nPwf_P           = global.get(\"IWOC.PRUEBA_DE_PRODUCCION.PWF_Prueba\")||750;\nBSW             = global.get(\"IWOC.PRUEBA_DE_PRODUCCION.BSW_Prueba\")||98;\nQ_p             = global.get(\"IWOC.PRUEBA_DE_PRODUCCION.Q_Prueba\")||2300;\nVel_P           = global.get(\"IWOC.PRUEBA_DE_PRODUCCION.Velociad_de_prueba\")||0;\n\n// DATOS PARA IPR\nPy              = global.get(\"IWOC.DATOS_PARA_IPR.Presion_de_yacimiento\")||2500;\nPcrit           = global.get(\"IWOC.DATOS_PARA_IPR.PWF_Critica\")||1050;\nPb              = global.get(\"IWOC.DATOS_PARA_IPR.Presion_de_burbuja\")||1200;\nPIP_Sensor      = Analog.DHS[\"Presión de entrada\"]||Analog.AI[\"Presión de entrada\"];\nPCasing         = 0;\n\nnode.status({fill:\"green\",shape:\"dot\",text:PIP_Sensor});\n\nAxisX = [];\nAxisY = [];\n/*\n    Paso No. 1: Se halla Gradiente de Presión corregido por \n    temperatura y %BSW a partir de la Gravedad Específica (GE)\n    del crudo usando gravedad API del crudo.\n*/\nGE = 141.5/(131.5 + API);\n/*\n    Paso No. 2: Hallar valores de alfa y beta según la gravedad \n    específica (GE) siguiendo lo que indica la tabla abajo:\n*/\n\nif(GE<0.63){\n    Alfa = 0.00097;\n    Beta = -0.0000004;\n}\nelse if((GE<0.78) && (GE>=0.63)){\n    Alfa = (0.00097+(GE-0.63))*((0.00075-0.00097)/(0.78-0.63));\n    Beta = (0.0000004 + (GE-0.63))*(0.0000004/(0.78-0.63));\n}\nelse if((GE<0.85)&&(GE>=0.78)){\n    Alfa = (0.00075+(GE-0.75))*((0.00068-0.00075)/(0.85-0.78));\n    Beta = (0 + (GE-0.75))*(0.0000001/(0.85-0.78));\n}\nelse if((GE<0.95)&&(GE>=0.85)){\n    Alfa = (0.00068+(GE-0.85))*((0.00066-0.00068)/(0.95-0.85));\n    Beta = (0.0000001 + (GE-0.85))*((0.0000001-0.0000003)/(0.95-0.85));\n}   \nelse if(GE>=0.95){\n    Alfa = 0.00066;\n    Beta = -0.0000003;\n}\nGrv_TFondo      = GE - (Alfa*(T_fluido-15.556))+(Beta*Math.pow((T_fluido-15.556), 2));\nGrv_TFondoBSW   = (((100-BSW)/100)*Grv_TFondo) + ((BSW/100)*(Dens_Agua/8.345))\n\n/*\n    Paso No. 3: Hallar el Gradiente de presión corregido\n*/\n\nVP = 0.433*Grv_TFondoBSW\n\n/*\n    Paso No. 4: Cálculo de PIP en iWOC según tres escenarios\n    \n    •\tEscenario No. 1: Cálculo de Variables en Función del Sensor de Fondo\n\n        Cálculo de PIP, PWF y Sumergencia líquida cuando la Fuente de Medición es un sensor de fondo.\n*/\n\nPIP_real    = PIP_Sensor + ((Prof_Intake - Prof_Sensor)*VP);\nPwf         = PIP_Sensor + ((PMP - Prof_Sensor)*VP);\nSum_Liq     = (PIP_real- PCasing)/ VP;\n\n/*\n    Paso No. 5: Cálculo de Caudales\n*/    \n/* Yacimiento Subsaturado*/\nif(Py>Pb){\n    if(Pwf>Pb){\n        IP = Q_p/(Py-Pwf_P);\n        node.send()\n    }\n    else{\n        IP = Q_p/(Py - Pb + (Pb/1.8)*(1-(0.2*(Pwf/Pb))-0.8*(Math.pow((Pwf/Pb),2))))\n    }\n    \n    Qb      = IP * (Py - Pb);\n    Qmax    = Qb + (IP*Pb/1.8);\n    N       = 80;\n    \n    for (var i = 80; i >= 0;i--){\n        Pwf_G = (Py*i/N);\n        if(Pwf_G>Pb){\n            Qg = IP *(Py- Pwf_G);\n        }\n        else{       \n            Qg = Qb + (Qmax - Qb) * (1 - (0.2 * (Pwf_G / Pb)) - (0.8 * ((Pwf_G / Pb) * (Pwf_G / Pb))));\n        }\n        AxisX.push(Qg);\n        AxisY.push(Pwf_G);\n    }\n    /*\n        Cálculo Caudal actual Qo\n    */\n    if(Pwf>Pb){\n        Q0 = IP *(Py- Pwf);    \n    }\n    else{       \n        Q0 = Qb + (Qmax - Qb) * (1 - (0.2 * (Pwf / Pb)) - (0.8 * ((Pwf / Pb) * (Pwf / Pb))));\n    }\n}\n\nmsg.payload = {\n    'AxisX' : AxisX,\n    'AxisY' : AxisY,\n    'Pcrit' : Pcrit,\n    'Q0'    : Q0,\n    'Pwf'   : Pwf\n};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":420,"y":920,"wires":[["1d262758.d91059"]]},{"id":"1d262758.d91059","type":"template","z":"d2972edf.3d6c1","d":true,"g":"1a2c71e0.bd05fe","name":"IPR Chart","field":"chart","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<div id=\"chart\"></div>\n<script>\n    var options = {\n            series:[{\n                name: \"Referencia de Velocidad\",\n                data: [{{payload.AxisY}}]\n            }],\n            chart:{\n                height: 330,\n                width: 720,\n                type: 'line',\n                id: 'areachart-2',\n                toolbar:{\n                    show: false\n                },\n                animations:{\n                    enabled: false\n                }\n            },\n            annotations:{\n                yaxis:[\n                    {\n                        y: {{payload.Pcrit}},\n                        borderColor: '#c71e1e',\n                        label:{\n                            borderColor:'#c71e1e',\n                            position: 'left',\n                            position: 'top',\n                            offsetX: 90,\n                            offsetY: 0,                        \n                            style: {\n                                color:'#fff',\n                                background:'#000000',\n                                fontSize: '14px',\n                            },\n                            text:'Pc: ' + ({{payload.Pcrit}}).toFixed(2) + ' psi',\n                        }\n                    }, \n                    {\n                        y: {{payload.Pwf}},\n                        borderColor: '#c71e1e',\n                        label: {\n                            borderColor: '#c71e1e',\n                            offsetX: 0,\n                            offsetY: 15,\n                            style:{\n                                color: '#fff',\n                                background: '#000000',\n                                fontSize: '14px',\n                            },\n                            text: 'Pwf: ' + ({{payload.Pwf}}).toFixed(2) + ' psi',\n                        }\n                    }\n                ],\n                xaxis:[\n                    {\n                        x: {{payload.Q0}},\n                        strokeDashArray: 0,\n                        borderColor: '#775DD0',\n                        label:{\n                            borderColor: '#775DD0',\n                            style:{\n                                color: '#fff',\n                                background: '#775DD0',\n                                fontSize: '14px',\n                            },\n                            text: 'Caudal: ' + ({{payload.Q0}}).toFixed(0) + ' BPD' \n                        }\n                    }\n                ],\n                points:[{\n                    x: {{payload.Q0}},\n                    y: {{payload.Pwf}},\n                    marker: {\n                        size: 5,\n                        fillColor: '#32499d',\n                        strokeColor: '#2b2b2b',\n                        radius: 2,\n                        cssClass: 'apexcharts-custom-class'\n                    },\n                    label:{\n                        borderColor: '#2b2b2b',\n                        offsetX: -17,\n                        offsetY: 40,                        \n                        style:{\n                            color: '#fff',\n                            background: '#2b2b2b',\n                            fontSize: '14px',\n                        },\n                        text: 'Q'\n                    }\n                }]\n            },\n            tooltip:{\n                enabled: true\n            },\n            dataLabels:{\n                enabled: false\n            },\n            stroke:{\n                curve: 'straight',\n                width: [3]\n            },\n            grid:{\n                padding:{\n                    right: 30,\n                    left: 20\n                }\n            },\n            //title:{\n            //    text: 'Gráfica IPR',\n            //    align: 'center'\n            //},\n            colors: [\"#c71e1e\"],\n            xaxis:{\n                type: 'numeric',\n                show: true,\n                categories: [{{payload.AxisX}}],\n                title:{\n                    text:\"Caudal [BPD]\",\n                    style: {\n                        color: \"#000000\",\n                        fontSize: '14px',\n                        fontFamily: 'Helvetica, Arial, sans-serif',\n                        fontWeight: 600\n                    },\n                }\n            },\n            yaxis:{\n                title: {\n                    text: \"Presión [psi]\",\n                    style: {\n                        color: \"#000000\",\n                        fontSize: '14px',\n                        fontFamily: 'Helvetica, Arial, sans-serif',\n                        fontWeight: 600\n                    },\n                },\n            }            \n    };\n    \n    var chart = new ApexCharts(document.querySelector(\"#chart\"), options);\n    chart.render();\n</script>\n","output":"str","x":560,"y":920,"wires":[["debf988f.cbfee8"]]},{"id":"31fd4d73.540972","type":"ui_template","z":"5ef5b1ce.d3899","group":"53a03d62.f141c4","name":"Menú ","order":1,"width":12,"height":1,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-pills nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-Produccion-tab\" data-toggle=\"tab\" href=\"#nav-Produccion\" role=\"tab\" aria-controls=\"nav-Produccion\" aria-selected=\"true\" ng-click=\"send({payload:Produccion()})\">Datos de producción</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Fluido-tab\" data-toggle=\"tab\" href=\"#nav-Fluido\" role=\"tab\" aria-controls=\"nav-Fluido\" aria-selected=\"false\" ng-click=\"send({payload:Fluido()})\">Propipedades de Yacimiento/Fluido</a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.Produccion = function() { return \"Producción\"; };\n        this.scope.Fluido = function() { return \"Fluido\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":950,"y":2210,"wires":[["2d395cc2.6464d4"]]},{"id":"2d395cc2.6464d4","type":"switch","z":"5ef5b1ce.d3899","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Producción","vt":"str"},{"t":"eq","v":"Fluido","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1070,"y":2210,"wires":[["b7a331a7.4fa5a"],["4123586.3703ca8"]]},{"id":"487b8eaa.36a75","type":"link in","z":"5ef5b1ce.d3899","name":"","links":["97407954.a004c8"],"x":985,"y":2170,"wires":[["a7003984.deb278"]]},{"id":"a7003984.deb278","type":"switch","z":"5ef5b1ce.d3899","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Configuración-AVAS-IWOC","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1070,"y":2170,"wires":[["b7a331a7.4fa5a"]]},{"id":"b7a331a7.4fa5a","type":"change","z":"5ef5b1ce.d3899","name":"Producción","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-AVAS-IWOC_Estado_mecánico\",\t                \"Configuración-AVAS-IWOC_Propiedades_de_fluido\"],\t       \"show\":[ \"Configuración-AVAS-IWOC_Prueba_de_producción\",\t                \"Configuración-AVAS-IWOC_Datos_para_IPR\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":2190,"wires":[["651fde0c.6b2e9"]]},{"id":"4123586.3703ca8","type":"change","z":"5ef5b1ce.d3899","name":"Fluido","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"show\":[ \"Configuración-AVAS-IWOC_Estado_mecánico\",\t                \"Configuración-AVAS-IWOC_Propiedades_de_fluido\"],\t       \"hide\":[ \"Configuración-AVAS-IWOC_Prueba_de_producción\",\t                \"Configuración-AVAS-IWOC_Datos_para_IPR\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1200,"y":2230,"wires":[["651fde0c.6b2e9"]]},{"id":"651fde0c.6b2e9","type":"link out","z":"5ef5b1ce.d3899","name":"Menú Configuración IWOC","links":["805762db.d27b7"],"x":1325,"y":2230,"wires":[]},{"id":"5d74d873.b85e38","type":"ui_text_input","z":"d2972edf.3d6c1","d":true,"g":"b15394d1.1fa588","name":"","label":"PMP [ft]","tooltip":"","group":"8f5a8841.d0e4e8","order":0,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":510,"y":90,"wires":[["fe9c53b6.0ee09"]]},{"id":"b871a674.63ee98","type":"ui_text_input","z":"d2972edf.3d6c1","d":true,"g":"b15394d1.1fa588","name":"","label":"Profundidad de descarga [ft]","tooltip":"","group":"8f5a8841.d0e4e8","order":0,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":570,"y":130,"wires":[["72d873dd.bb8b2c"]]},{"id":"fc2f9ecf.0a471","type":"ui_text_input","z":"d2972edf.3d6c1","d":true,"g":"b15394d1.1fa588","name":"","label":"Profundidad de sensor [ft]","tooltip":"","group":"8f5a8841.d0e4e8","order":0,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":560,"y":170,"wires":[["500f3da0.344694"]]},{"id":"2e0f600b.ba499","type":"ui_text_input","z":"d2972edf.3d6c1","d":true,"g":"b15394d1.1fa588","name":"","label":"Profundidad de Entrada [ft]","tooltip":"","group":"8f5a8841.d0e4e8","order":0,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":570,"y":210,"wires":[["68bf1bb.d9b73e4"]]},{"id":"dd79fcdb.0c25f","type":"ui_text_input","z":"d2972edf.3d6c1","d":true,"g":"594bfb02.2b8894","name":"","label":"API","tooltip":"","group":"d46ce325.e7de2","order":0,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":500,"y":300,"wires":[["144d85f.39e447a"]]},{"id":"e5c7184b.c31ce8","type":"ui_text_input","z":"d2972edf.3d6c1","d":true,"g":"594bfb02.2b8894","name":"","label":"Temperatura de fondo [ºF]","tooltip":"","group":"d46ce325.e7de2","order":0,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":560,"y":340,"wires":[["75ecbaf4.e5a914"]]},{"id":"179c1c4.7a073e4","type":"ui_text_input","z":"d2972edf.3d6c1","d":true,"g":"594bfb02.2b8894","name":"","label":"Densidad del agua [ρ]","tooltip":"","group":"d46ce325.e7de2","order":0,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":550,"y":380,"wires":[["b8f5a967.a9c448"]]},{"id":"6b9a12e9.a4161c","type":"ui_text_input","z":"d2972edf.3d6c1","d":true,"g":"6de7b375.6750cc","name":"","label":"PWF Prueba [psi]","tooltip":"","group":"3ad8a22c.6207fe","order":0,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":540,"y":470,"wires":[["f9a2608d.84b6f"]]},{"id":"3b4c211f.264d0e","type":"ui_text_input","z":"d2972edf.3d6c1","d":true,"g":"6de7b375.6750cc","name":"","label":"BSW Prueba [%]","tooltip":"","group":"3ad8a22c.6207fe","order":0,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":540,"y":510,"wires":[["8d85bed3.e80e"]]},{"id":"75e32793.0fd7d8","type":"ui_text_input","z":"d2972edf.3d6c1","d":true,"g":"6de7b375.6750cc","name":"","label":"Q Prueba [BPD]","tooltip":"","group":"3ad8a22c.6207fe","order":0,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":530,"y":550,"wires":[["e9fbe4c2.81bcc8"]]},{"id":"717a5102.84ce4","type":"ui_text_input","z":"d2972edf.3d6c1","d":true,"g":"6de7b375.6750cc","name":"","label":"Velocidad de prueba [Hz]","tooltip":"","group":"3ad8a22c.6207fe","order":0,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":560,"y":590,"wires":[["a99d2c43.563ca"]]},{"id":"acc7ef26.c7f4b","type":"ui_text_input","z":"d2972edf.3d6c1","d":true,"g":"5f8972b7.b986dc","name":"","label":"Presión de yacimiento [psi]","tooltip":"","group":"25ecb2a6.9c350e","order":0,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":570,"y":680,"wires":[["4bdf00ae.20f57"]]},{"id":"7aa05938.679ec8","type":"ui_text_input","z":"d2972edf.3d6c1","d":true,"g":"5f8972b7.b986dc","name":"","label":"PWF Crítica [psi]","tooltip":"","group":"25ecb2a6.9c350e","order":0,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":540,"y":720,"wires":[["7cad0caf.316bc4"]]},{"id":"611f1586.1a9e7c","type":"ui_text_input","z":"d2972edf.3d6c1","d":true,"g":"5f8972b7.b986dc","name":"","label":"Presión de Burbuja [psi]","tooltip":"","group":"25ecb2a6.9c350e","order":0,"width":0,"height":0,"passthru":true,"mode":"number","delay":300,"topic":"","x":560,"y":760,"wires":[["6bff5a6a.c8a6b4"]]},{"id":"a5acd955.76ebc8","type":"function","z":"d2972edf.3d6c1","d":true,"g":"91665de9.7194","name":"","func":"/* Declaración de datos \nAPI         = 30;   \nPy          = 2500; //psi\nPb          = 1200;  //psi\nPcrit       = 1050; // psi\nPwf_P       = 750;  //psi \nQ_p         = 2300; //BPD\nBSW         = 98;   //%\nT_fluido    = 160;  // °F\nDens_Agua   = 8.33; //ppg \nProf_Intake = 4000; //ft\nProf_Sensor = 4030; //ft\nPMP         = 4500; //FT\nPIP_Sensor  = 750; //psi\nPCasing     = 0;   //psi\n*/\n\n// ESTADO MECANICO\nPMP             = global.get(\"IWOC.ESTADO_MECANICO.PMP\")||4500;\nProf_Discharge  = global.get(\"IWOC.ESTADO_MECANICO.Profundidad_de_descarga\")||0;\nProf_Sensor     = global.get(\"IWOC.ESTADO_MECANICO.Prof_Sensor\")||4030;\nProf_Intake     = global.get(\"IWOC.ESTADO_MECANICO.Profundidad_de_entrada\")||4000;\n\n// PROPIEDADES DE FLUIDO\nAPI             = global.get(\"IWOC.PROPIEDADES_DE_FLUIDO.API\")||30;\nT_fluido        = global.get(\"IWOC.PROPIEDADES_DE_FLUIDO.Temperatura_de_fondo\")||160;\nDens_Agua       = global.get(\"IWOC.PROPIEDADES_DE_FLUIDO.Densidad_del_agua\")||8.33;\n\n// PRUEBA DE PRODUCCION\nPwf_P           = global.get(\"IWOC.PRUEBA_DE_PRODUCCION.PWF_Prueba\")||750;\nBSW             = global.get(\"IWOC.PRUEBA_DE_PRODUCCION.BSW_Prueba\")||98;\nQ_p             = global.get(\"IWOC.PRUEBA_DE_PRODUCCION.Q_Prueba\")||2300;\nVel_P           = global.get(\"IWOC.PRUEBA_DE_PRODUCCION.Velociad_de_prueba\")||0;\n\n// DATOS PARA IPR\nPy              = global.get(\"IWOC.DATOS_PARA_IPR.Presion_de_yacimiento\")||2500;\nPcrit           = global.get(\"IWOC.DATOS_PARA_IPR.PWF_Critica\")||1050;\nPb              = global.get(\"IWOC.DATOS_PARA_IPR.Presion_de_burbuja\")||1200;\n\nreturn [\n    MSG(PMP), \n    MSG(Prof_Discharge), \n    MSG(Prof_Sensor), \n    MSG(Prof_Intake), \n    MSG(API),\n    MSG(T_fluido),\n    MSG(Dens_Agua),\n    MSG(Pwf_P),\n    MSG(BSW),\n    MSG(Q_p),\n    MSG(Vel_P),\n    MSG(Py),\n    MSG(Pcrit),\n    MSG(Pb)\n];\n\nfunction MSG(X){\n    return { payload: X }\n}","outputs":14,"noerr":0,"initialize":"","finalize":"","x":270,"y":430,"wires":[["5d74d873.b85e38"],["b871a674.63ee98"],["fc2f9ecf.0a471"],["2e0f600b.ba499"],["dd79fcdb.0c25f"],["e5c7184b.c31ce8"],["179c1c4.7a073e4"],["6b9a12e9.a4161c"],["3b4c211f.264d0e"],["75e32793.0fd7d8"],["717a5102.84ce4"],["acc7ef26.c7f4b"],["7aa05938.679ec8"],["611f1586.1a9e7c"]]},{"id":"a8eca441.f9a4b8","type":"link in","z":"d2972edf.3d6c1","d":true,"g":"91665de9.7194","name":"Configuración IWOC","links":["ad87cee4.7dbb5"],"x":175,"y":450,"wires":[["a5acd955.76ebc8"]]},{"id":"fe9c53b6.0ee09","type":"change","z":"d2972edf.3d6c1","d":true,"g":"b15394d1.1fa588","name":"","rules":[{"t":"set","p":"IWOC.ESTADO_MECANICO.PMP","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":90,"wires":[[]]},{"id":"72d873dd.bb8b2c","type":"change","z":"d2972edf.3d6c1","d":true,"g":"b15394d1.1fa588","name":"","rules":[{"t":"set","p":"IWOC.ESTADO_MECANICO.Profundidad_de_descarga","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":950,"y":130,"wires":[[]]},{"id":"500f3da0.344694","type":"change","z":"d2972edf.3d6c1","d":true,"g":"b15394d1.1fa588","name":"","rules":[{"t":"set","p":"IWOC.ESTADO_MECANICO.Profundidad_de_sensor","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":940,"y":170,"wires":[[]]},{"id":"68bf1bb.d9b73e4","type":"change","z":"d2972edf.3d6c1","d":true,"g":"b15394d1.1fa588","name":"","rules":[{"t":"set","p":"IWOC.ESTADO_MECANICO.Profundidad_de_entrada","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":940,"y":210,"wires":[[]]},{"id":"144d85f.39e447a","type":"change","z":"d2972edf.3d6c1","d":true,"g":"594bfb02.2b8894","name":"","rules":[{"t":"set","p":"IWOC.PROPIEDADES_DE_FLUIDO.API","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":900,"y":300,"wires":[[]]},{"id":"75ecbaf4.e5a914","type":"change","z":"d2972edf.3d6c1","d":true,"g":"594bfb02.2b8894","name":"","rules":[{"t":"set","p":"IWOC.PROPIEDADES_DE_FLUIDO.Temperatura_de_fondo","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":340,"wires":[[]]},{"id":"b8f5a967.a9c448","type":"change","z":"d2972edf.3d6c1","d":true,"g":"594bfb02.2b8894","name":"","rules":[{"t":"set","p":"IWOC.PROPIEDADES_DE_FLUIDO.Densidad_del_agua","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":950,"y":380,"wires":[[]]},{"id":"f9a2608d.84b6f","type":"change","z":"d2972edf.3d6c1","d":true,"g":"6de7b375.6750cc","name":"","rules":[{"t":"set","p":"IWOC.PRUEBA_DE_PRODUCCION.PWF_Prueba","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":930,"y":470,"wires":[[]]},{"id":"8d85bed3.e80e","type":"change","z":"d2972edf.3d6c1","d":true,"g":"6de7b375.6750cc","name":"","rules":[{"t":"set","p":"IWOC.PRUEBA_DE_PRODUCCION.BSW_Prueba","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":930,"y":510,"wires":[[]]},{"id":"e9fbe4c2.81bcc8","type":"change","z":"d2972edf.3d6c1","d":true,"g":"6de7b375.6750cc","name":"","rules":[{"t":"set","p":"IWOC.PRUEBA_DE_PRODUCCION.Q_Prueba","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":920,"y":550,"wires":[[]]},{"id":"a99d2c43.563ca","type":"change","z":"d2972edf.3d6c1","d":true,"g":"6de7b375.6750cc","name":"","rules":[{"t":"set","p":"IWOC.PRUEBA_DE_PRODUCCION.Velociad_de_prueba","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":950,"y":590,"wires":[[]]},{"id":"4bdf00ae.20f57","type":"change","z":"d2972edf.3d6c1","d":true,"g":"5f8972b7.b986dc","name":"","rules":[{"t":"set","p":"IWOC.DATOS_PARA_IPR.Presion_de_yacimiento","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":930,"y":680,"wires":[[]]},{"id":"7cad0caf.316bc4","type":"change","z":"d2972edf.3d6c1","d":true,"g":"5f8972b7.b986dc","name":"","rules":[{"t":"set","p":"IWOC.DATOS_PARA_IPR.PWF_Critica","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":900,"y":720,"wires":[[]]},{"id":"6bff5a6a.c8a6b4","type":"change","z":"d2972edf.3d6c1","d":true,"g":"5f8972b7.b986dc","name":"","rules":[{"t":"set","p":"IWOC.DATOS_PARA_IPR.Presion_de_burbuja","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":920,"y":760,"wires":[[]]},{"id":"a2acb5a2.e85b98","type":"inject","z":"d2972edf.3d6c1","d":true,"g":"91665de9.7194","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":140,"y":410,"wires":[["a5acd955.76ebc8"]]},{"id":"67730133.9e443","type":"function","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"ABS","func":"var Speed   = global.get(\"Speed_Control.MinLimit\")||0;\nvar Ref     = global.get(\"C2S.Commanded_SpdRef\",\"memoryOnly\")||Speed;\nmsg.payload = Math.abs(Ref);\n\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":410,"y":460,"wires":[["3cc764fd.7e58cc"]]},{"id":"91f9dd8.d63f02","type":"switch","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":270,"y":460,"wires":[["67730133.9e443"]]},{"id":"242f1895.633768","type":"link in","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","links":["97407954.a004c8"],"x":185,"y":460,"wires":[["91f9dd8.d63f02"]]},{"id":"b3483c29.e4ff4","type":"delay","z":"e86f0ca4.7feb5","g":"16a83ca.2899cc3","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":4330,"y":1670,"wires":[["33e6cf98.a413f"]]},{"id":"ae9b727.7899b9","type":"complete","z":"5f404c88.fa75a4","d":true,"g":"7b165c8f.b14834","name":"","scope":["1286dd4c.802a73"],"uncaught":false,"x":860,"y":360,"wires":[["635b4691.5d8188"]]},{"id":"20c7cde4.586f82","type":"debug","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload[0]","targetType":"msg","statusVal":"payload[50]","statusType":"auto","x":3630,"y":600,"wires":[]},{"id":"c973a8a2.547fd8","type":"modbus-read","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"PyModbusServer","topic":"","showStatusActivities":true,"logIOActivities":false,"showErrors":false,"unitid":"1","dataType":"HoldingRegister","adr":"57","quantity":"1","rate":"1","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"3548b3b4.c8d65c","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"x":530,"y":1250,"wires":[["df95f144.a381e"],[]]},{"id":"a941419b.07d0b","type":"switch","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"Local/Remoto","property":"Local/Remoto","propertyType":"global","rules":[{"t":"eq","v":"Remoto","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1130,"y":1250,"wires":[["bb8a6cb2.8b74c"]]},{"id":"5bb29222.3201bc","type":"ui_toast","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","position":"top right","displayTime":"3","highlight":"","sendall":true,"outputs":0,"ok":"Aceptar","cancel":"Cancelar","raw":false,"topic":"","name":"","x":2160,"y":1250,"wires":[]},{"id":"ab968d92.63f1a","type":"switch","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"Selector sentido de giro","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"eq","v":"1","vt":"num"}],"checkall":"true","repair":false,"outputs":2,"x":1640,"y":1250,"wires":[["cdbd9120.22da1"],["b6be19c5.be9248"]]},{"id":"9064a0d0.cc1fe","type":"modbus-flex-write","z":"5f404c88.fa75a4","name":"Actualizar sentido de giro","showStatusActivities":false,"showErrors":false,"server":"3548b3b4.c8d65c","emptyMsgOnFail":false,"keepMsgProperties":false,"x":1350,"y":1060,"wires":[[],[]]},{"id":"2b4f4fc2.a7ca","type":"function","z":"5f404c88.fa75a4","name":"","func":"msg.payload = { \n    value: msg.payload, \n    'fc': 6, \n    'unitid': 1, \n    'address': 57 , \n    'quantity': 1\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1160,"y":1060,"wires":[["9064a0d0.cc1fe"]]},{"id":"b7525f1.09e7ba","type":"debug","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"payload","statusType":"auto","x":1600,"y":1290,"wires":[]},{"id":"b6be19c5.be9248","type":"change","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"Reverse","rules":[{"t":"set","p":"payload","pt":"msg","to":"1","tot":"num"},{"t":"set","p":"topic","pt":"msg","to":"Direction","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":1270,"wires":[["516eb117.80341","32b103a.fd52dfc"]]},{"id":"cdbd9120.22da1","type":"change","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"Forward","rules":[{"t":"set","p":"payload","pt":"msg","to":"0","tot":"num"},{"t":"set","p":"topic","pt":"msg","to":"Direction","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":1230,"wires":[["516eb117.80341","32b103a.fd52dfc"]]},{"id":"bb8a6cb2.8b74c","type":"rbe","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":1280,"y":1250,"wires":[["767f6ef3.dc93e"]]},{"id":"767f6ef3.dc93e","type":"function","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"Command Dir","func":"var Dir = global.get('Drive_Status.Command_dir','memoryOnly');\nDir = Dir == 0 ? 1:0;\nnode.status({fill:\"green\",shape:\"dot\",text:'Dir: '+Dir});\n\nif(msg.payload== Dir){\n    return;\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1430,"y":1250,"wires":[["ab968d92.63f1a","b7525f1.09e7ba"]]},{"id":"32b103a.fd52dfc","type":"function","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"Mensaje","func":"msg.payload = msg.payload == 0 ? \"Cambio de sentido de giro remoto a forward\":\"Cambio de sentido de giro remoto a reverse\";\ndelete msg.topic;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1990,"y":1250,"wires":[["5bb29222.3201bc","2ae6e9d4.8de576"]]},{"id":"6d33fcb1.428484","type":"link out","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"Referencia prolongada Inc. Link Out","links":["28b9d8d4.780938"],"x":1035,"y":200,"wires":[]},{"id":"998f0e93.941f1","type":"link out","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Accel/Decel Link Out","links":["28b9d8d4.780938"],"x":1955,"y":220,"wires":[]},{"id":"2a1f1c0d.25ca44","type":"change","z":"e86f0ca4.7feb5","g":"f6e30287.8d13d","name":"","rules":[{"t":"set","p":"Ref","pt":"msg","to":"payload","tot":"msg"},{"t":"set","p":"payload","pt":"msg","to":"Cambio de referencia remota a +++ Hz","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"+++","fromt":"str","to":"Ref","tot":"msg"},{"t":"delete","p":"topic","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3720,"y":1020,"wires":[["5c5ee4e.9832d1c"]]},{"id":"deda81b5.9e94a","type":"link out","z":"e86f0ca4.7feb5","g":"f6e30287.8d13d","name":"","links":["59e817c2.295b38"],"x":3955,"y":1040,"wires":[]},{"id":"315774bb.2e6fcc","type":"ui_toast","z":"e86f0ca4.7feb5","g":"f6e30287.8d13d","position":"top right","displayTime":"3","highlight":"","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":4030,"y":1000,"wires":[]},{"id":"5c5ee4e.9832d1c","type":"rbe","z":"e86f0ca4.7feb5","g":"f6e30287.8d13d","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":3870,"y":1020,"wires":[["315774bb.2e6fcc","deda81b5.9e94a"]]},{"id":"4cac8e09.ee599","type":"complete","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","scope":["d428246e.250f38"],"uncaught":false,"x":250,"y":500,"wires":[["67730133.9e443"]]},{"id":"df95f144.a381e","type":"function","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"Retardo Lectura Mapa Modbus","func":"var Counter = context.get(\"count\",\"memoryOnly\")||0;\nif(Counter <= 5){\n    Counter += 1;\n    context.set(\"count\",Counter,\"memoryOnly\");\n    return;\n}\nelse{\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":760,"y":1250,"wires":[["ce9c2a06.7d7468"]]},{"id":"ee97766f.b938a8","type":"function","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"Sentido de giro remoto","func":"\nmsg.payload = { \n    value: msg.payload, \n    'fc': 6, \n    'unitid': 1, \n    'address': 57, \n    'quantity':1   \n}\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload.address});\nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1400,"y":1340,"wires":[["75ae9dfb.c587e4"]]},{"id":"75ae9dfb.c587e4","type":"modbus-flex-write","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"PyModbusServer","showStatusActivities":false,"showErrors":false,"server":"3548b3b4.c8d65c","emptyMsgOnFail":false,"keepMsgProperties":false,"x":1620,"y":1340,"wires":[[],[]]},{"id":"dbdd149d.067a48","type":"link in","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"","links":["ad87cee4.7dbb5"],"x":1075,"y":1340,"wires":[["c7fb486e.cbe278"]]},{"id":"c7fb486e.cbe278","type":"function","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"Command Dir","func":"var Dir = global.get('Drive_Status.Command_dir','memoryOnly')||1;\nDir = Dir == 0 ? 1:0;\nnode.status({fill:\"green\",shape:\"dot\",text:'Dir: '+Dir});\n\nif(msg.payload== Dir){\n    return;\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1190,"y":1340,"wires":[["ee97766f.b938a8","147476e5.8f75e9"]]},{"id":"2ae6e9d4.8de576","type":"link out","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"","links":["59e817c2.295b38"],"x":2095,"y":1290,"wires":[]},{"id":"635b4691.5d8188","type":"delay","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1010,"y":360,"wires":[["96de9397.2cea6","b4e39862.6e63b8"]]},{"id":"ca5ead3a.831c7","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"20","rules":[{"t":"set","p":"payload","pt":"msg","to":"20","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":3040,"y":240,"wires":[["87de2b09.5e1f68"]]},{"id":"899909d1.d446c8","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"0","rules":[{"t":"set","p":"payload","pt":"msg","to":"0","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":3040,"y":280,"wires":[["776db11c.07117"]]},{"id":"87de2b09.5e1f68","type":"delay","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":3210,"y":240,"wires":[["776db11c.07117"]]},{"id":"deaa32c0.0b8a1","type":"inject","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":3040,"y":370,"wires":[["1286dd4c.802a73"]]},{"id":"412979b5.c7a848","type":"inject","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":2870,"y":190,"wires":[["899909d1.d446c8","ca5ead3a.831c7"]]},{"id":"8bd29002.2e3d7","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"status.text","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2640,"y":190,"wires":[["46cc6143.4abf6"]]},{"id":"46cc6143.4abf6","type":"rbe","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":2670,"y":230,"wires":[["7d3dd1dc.29c31"]]},{"id":"b4e39862.6e63b8","type":"debug","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"true","targetType":"full","statusVal":"payload","statusType":"auto","x":1180,"y":360,"wires":[]},{"id":"835bdb6b.664a58","type":"debug","z":"e86f0ca4.7feb5","g":"f6e30287.8d13d","name":"","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"payload","statusType":"auto","x":3550,"y":1000,"wires":[]},{"id":"30c80316.8016dc","type":"link out","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Tensión Estado Link MBS","links":["75e84c68.225864","eef57205.0279"],"x":755,"y":250,"wires":[]},{"id":"9556df44.42ebb","type":"link out","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Carga Estado Link MBS","links":["f98d3684.f56598"],"x":755,"y":480,"wires":[]},{"id":"64e91638.e5d088","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Vibración Estados Link MBS","links":["d1846718.23b9d8"],"x":755,"y":690,"wires":[]},{"id":"c3312994.ff0fb8","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Corriente de fuga Estados MSB","links":["abab70b6.d82e"],"x":755,"y":810,"wires":[]},{"id":"5f9e6187.aeb77","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Presión de entrada Estado MBS","links":["65ef4f43.d9e79"],"x":755,"y":930,"wires":[]},{"id":"c031a11.d7a7d6","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Presión de descarga Estados MBS","links":["494ae468.d5a86c"],"x":755,"y":1050,"wires":[]},{"id":"66854960.424778","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Temperatura de entrada Estados MBS","links":["4d981e81.2969a"],"x":755,"y":1170,"wires":[]},{"id":"f0565f48.a5877","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Temperatura de motor Estados MBS","links":["96ad0efc.f1245"],"x":755,"y":1290,"wires":[]},{"id":"fd04a4a3.98d468","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Temperatura de descarga Estados MBS","links":["3005ff4f.08fea"],"x":755,"y":1410,"wires":[]},{"id":"13747032.1e864","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Presión de Tubing (THP) Estados MBS","links":["b93da0e2.39d41"],"x":755,"y":1530,"wires":[]},{"id":"c4e47709.e84c88","type":"link out","z":"6c7d2db7.37ef34","d":true,"g":"f7a3cb7b.69e4d8","name":"Presión de Casing Estados MBS","links":["80b99eed.0adfc"],"x":755,"y":1650,"wires":[]},{"id":"e149f7ce.895fb8","type":"link out","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Bus DC Estado Link MBS","links":["a680f602.d0a638"],"x":755,"y":1770,"wires":[]},{"id":"4db5015.cde76","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":840,"y":690,"wires":[[]]},{"id":"991bfb61.826ba8","type":"link in","z":"6c7d2db7.37ef34","name":"","links":[],"x":-25,"y":700,"wires":[[]]},{"id":"eef57205.0279","type":"link in","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","links":["30c80316.8016dc"],"x":105,"y":1940,"wires":[["21fce78e.ebeaa8"]]},{"id":"2d8cbfa9.4d256","type":"switch","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":1940,"wires":[["72d8c268.ee2e5c"]]},{"id":"21fce78e.ebeaa8","type":"rbe","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":190,"y":1940,"wires":[["2d8cbfa9.4d256"]]},{"id":"72d8c268.ee2e5c","type":"change","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.Voltage.Status","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":1940,"wires":[[]]},{"id":"f98d3684.f56598","type":"link in","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","links":["9556df44.42ebb"],"x":105,"y":1980,"wires":[["a33a5a0f.9b5448"]]},{"id":"a33a5a0f.9b5448","type":"rbe","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":190,"y":1980,"wires":[["dd44aaf.b842558"]]},{"id":"dd44aaf.b842558","type":"switch","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":1980,"wires":[["5b1577ec.9b4af8"]]},{"id":"5b1577ec.9b4af8","type":"change","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.Load.Status","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":520,"y":1980,"wires":[[]]},{"id":"d1846718.23b9d8","type":"link in","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","links":["64e91638.e5d088"],"x":105,"y":2020,"wires":[["14529b0b.973455"]]},{"id":"14529b0b.973455","type":"rbe","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":190,"y":2020,"wires":[["42bd2d0f.94aac4"]]},{"id":"42bd2d0f.94aac4","type":"switch","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":2020,"wires":[["16b11081.a66aaf"]]},{"id":"16b11081.a66aaf","type":"change","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.Vibration.Status","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":2020,"wires":[[]]},{"id":"abab70b6.d82e","type":"link in","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","links":["c3312994.ff0fb8"],"x":105,"y":2060,"wires":[["c61f9199.04ad9"]]},{"id":"c61f9199.04ad9","type":"rbe","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":190,"y":2060,"wires":[["3579deb2.649902"]]},{"id":"3579deb2.649902","type":"switch","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":2060,"wires":[["43904762.a95398"]]},{"id":"43904762.a95398","type":"change","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.Current.Leakage.Status","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":560,"y":2060,"wires":[[]]},{"id":"65ef4f43.d9e79","type":"link in","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","links":["5f9e6187.aeb77"],"x":105,"y":2100,"wires":[["738ce1b6.6ee83"]]},{"id":"738ce1b6.6ee83","type":"rbe","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":190,"y":2100,"wires":[["6170deee.c5858"]]},{"id":"6170deee.c5858","type":"switch","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":2100,"wires":[["8da9e33f.1e002"]]},{"id":"8da9e33f.1e002","type":"change","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.Intake.Pressure.Status","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":550,"y":2100,"wires":[[]]},{"id":"494ae468.d5a86c","type":"link in","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","links":["c031a11.d7a7d6"],"x":105,"y":2140,"wires":[["28ea28c3.fe5848"]]},{"id":"28ea28c3.fe5848","type":"rbe","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":190,"y":2140,"wires":[["b264fda7.d59ea"]]},{"id":"b264fda7.d59ea","type":"switch","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":2140,"wires":[["dd10a48f.5f6858"]]},{"id":"dd10a48f.5f6858","type":"change","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.Discharge.Pressure.Status","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":570,"y":2140,"wires":[[]]},{"id":"4d981e81.2969a","type":"link in","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","links":["66854960.424778"],"x":105,"y":2180,"wires":[["45662b95.0ebc64"]]},{"id":"45662b95.0ebc64","type":"rbe","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":190,"y":2180,"wires":[["952fbb3c.0de4c8"]]},{"id":"952fbb3c.0de4c8","type":"switch","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":2180,"wires":[["7a24ff55.5feaf"]]},{"id":"7a24ff55.5feaf","type":"change","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.Intake.Temperature.Status","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":570,"y":2180,"wires":[[]]},{"id":"96ad0efc.f1245","type":"link in","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","links":["f0565f48.a5877"],"x":105,"y":2220,"wires":[["5e319e6f.ce68"]]},{"id":"5e319e6f.ce68","type":"rbe","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":190,"y":2220,"wires":[["331c91f7.cdadde"]]},{"id":"331c91f7.cdadde","type":"switch","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":2220,"wires":[["49e9024a.3e8d8c"]]},{"id":"49e9024a.3e8d8c","type":"change","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.Motor.Temperature.Status","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":560,"y":2220,"wires":[[]]},{"id":"3005ff4f.08fea","type":"link in","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","links":["fd04a4a3.98d468"],"x":105,"y":2260,"wires":[["18389cc8.f2dd53"]]},{"id":"18389cc8.f2dd53","type":"rbe","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":190,"y":2260,"wires":[["adf04b0b.ec88d8"]]},{"id":"adf04b0b.ec88d8","type":"switch","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":2260,"wires":[["207cf12c.487b4e"]]},{"id":"207cf12c.487b4e","type":"change","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.Discharge.Temperature.Status","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":2260,"wires":[[]]},{"id":"b93da0e2.39d41","type":"link in","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","links":["13747032.1e864"],"x":105,"y":2300,"wires":[["53e38264.c6173c"]]},{"id":"53e38264.c6173c","type":"rbe","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":190,"y":2300,"wires":[["2a96ed81.66de02"]]},{"id":"2a96ed81.66de02","type":"switch","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":2300,"wires":[["15a41cda.8cfaf3"]]},{"id":"15a41cda.8cfaf3","type":"change","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.Tubing.Status","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":2300,"wires":[[]]},{"id":"80b99eed.0adfc","type":"link in","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","links":["c4e47709.e84c88"],"x":105,"y":2340,"wires":[["49ebd11f.bc40c"]]},{"id":"49ebd11f.bc40c","type":"rbe","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":190,"y":2340,"wires":[["1e3299af.a33326"]]},{"id":"1e3299af.a33326","type":"switch","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":2340,"wires":[["687e827f.e743bc"]]},{"id":"687e827f.e743bc","type":"change","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.Casing.Status","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":2340,"wires":[[]]},{"id":"a680f602.d0a638","type":"link in","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","links":["e149f7ce.895fb8"],"x":105,"y":2380,"wires":[["f740130c.150a9"]]},{"id":"f740130c.150a9","type":"rbe","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":190,"y":2380,"wires":[["97b84d8d.59486"]]},{"id":"97b84d8d.59486","type":"switch","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":2380,"wires":[["75c5342b.04f0ac"]]},{"id":"75c5342b.04f0ac","type":"change","z":"6c7d2db7.37ef34","g":"9d081424.4d82d8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.BusDC.Status","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":2380,"wires":[[]]},{"id":"f78d5a67.c13168","type":"delay","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"","pauseType":"delay","timeout":"200","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1540,"y":2790,"wires":[["85366b43.f6bda8","b1cb2195.c8a37"]]},{"id":"a5c076e6.b3cdf8","type":"link out","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Leer Cubloc Protecciones MSB","links":["dd479ce7.53bf1"],"x":1925,"y":2790,"wires":[]},{"id":"85366b43.f6bda8","type":"delay","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"","pauseType":"delay","timeout":"200","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1540,"y":2830,"wires":[["bc8762e.9b52fa","df086dcc.f3e5"]]},{"id":"bc8762e.9b52fa","type":"function","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Estado Protecciones MBS","func":"var Voltage         = global.get(\"Protections.Voltage.Status\",'memoryOnly')||0;\nvar Current         = global.get(\"Protections.Current.Status\",'memoryOnly')||0;\nvar Vibration       = global.get(\"Protections.Vibration.Status\",'memoryOnly')||0;\nvar InPressure      = global.get(\"Protections.Intake.Pressure.Status\",'memoryOnly')||0;\nvar InTemperaure    = global.get(\"Protections.Intake.Temperature.Status\",'memoryOnly')||0;\nvar DisPressure     = global.get(\"Protections.Discharge.Pressure.Status\",'memoryOnly')||0;\nvar DisTemperature  = global.get(\"Protections.Discharge.Temperature.Status\",'memoryOnly')||0;\nvar MtrTemp         = global.get(\"Protections.Motor.Temperature.Status\",'memoryOnly')||0;\nvar Tubing          = global.get(\"Protections.Tubing.Status\",'memoryOnly')||0;\nvar Casing          = global.get(\"Protections.Casing.Status\",'memoryOnly')||0;\n\nvar vector = [\n    Voltage,        // 68\n    Current,        // 69\n    Vibration,      // 70\n    InPressure,     // 71\n    InTemperaure,   // 72\n    DisPressure,    // 73\n    DisTemperature, // 74\n    MtrTemp,        // 75\n    Tubing,         // 76\n    Casing          // 77\n]\n\nmsg.payload = { \n    value: vector, \n    'fc': 16, \n    'unitid': 1, \n    'address': 28672+20+68, \n    'quantity': vector.length\n} \nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1770,"y":2830,"wires":[["7902854d.6ff0fc"]]},{"id":"b1cb2195.c8a37","type":"function","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Mapa Modbus Protecciones","func":"var Load_HH_Sp      = global.get('Protections.Load.HH.Setpoint')||0;\nvar Load_LL_Sp      = global.get('Protections.Load.LL.Setpoint')||0;\nvar PReference      = global.get('Prolonged_Reference.Time')||0;\nvar PIn_HH_Sp       = global.get('Protections.Intake.Pressure.HH.Setpoint')||0;\nvar PIn_LL_Sp       = global.get('Protections.Intake.Pressure.LL.Setpoint')||0;\nvar TIn_HH_Sp       = global.get('Protections.Intake.Temperature.HH.Setpoint')||0;\nvar TDis_HH_Sp      = global.get('Protections.Discharge.Temperature.HH.Setpoint')||0;\nvar Mtr_Temp_HH_Sp  = global.get('Protections.Motor.Temperature.HH.Setpoint')||0;\nvar Accel           = global.get('Speed_Control.Accel')||0;\nvar Deccel          = global.get('Speed_Control.Decel')||0;\n\nvar vector = [\n    Load_HH_Sp,     // 58\n    Load_LL_Sp,     // 59\n    PReference,     // 60\n    PIn_HH_Sp,      // 61\n    PIn_LL_Sp,      // 62\n    TIn_HH_Sp,      // 63\n    TDis_HH_Sp,     // 64\n    Mtr_Temp_HH_Sp, // 65\n    Accel,          // 66\n    Deccel          // 67\n]\n\nmsg.payload = { \n    value: vector, \n    'fc': 3, \n    'unitid': 1, \n    'address': 28672+20+58,\n    'quantity': vector.length\n} \n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1770,"y":2790,"wires":[["a5c076e6.b3cdf8"]]},{"id":"57667282.8fc56c","type":"inject","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"20","payloadType":"num","x":3040,"y":200,"wires":[["776db11c.07117"]]},{"id":"147476e5.8f75e9","type":"function","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"Sentido de giro remoto","func":"\nmsg.payload = { \n    value: msg.payload, \n    'fc': 6, \n    'unitid': 1, \n    'address': 28672+20+57, \n    'quantity':1   \n}\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload.address});\nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1400,"y":1390,"wires":[["b468d7fd.170728"]]},{"id":"b468d7fd.170728","type":"modbus-flex-write","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"","showStatusActivities":false,"showErrors":false,"server":"f630cb55.8d18e8","emptyMsgOnFail":false,"keepMsgProperties":false,"x":1620,"y":1390,"wires":[[],[]]},{"id":"8e0bd418.ddd0a8","type":"function","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"Retardo Lectura Mapa Modbus","func":"var Counter = context.get(\"count\",\"memoryOnly\")||0;\nif(Counter <= 5){\n    Counter += 1;\n    context.set(\"count\",Counter,\"memoryOnly\");\n    return;\n}\nelse{\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":760,"y":1300,"wires":[["262ed40b.412f1c"]]},{"id":"9b2f7ea6.27b4a","type":"modbus-flex-getter","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"","showStatusActivities":false,"showErrors":false,"logIOActivities":false,"server":"f630cb55.8d18e8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":510,"y":1300,"wires":[["8e0bd418.ddd0a8"],[]]},{"id":"1b2dd03e.2d9c2","type":"function","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"Sentido de giro remoto","func":"\nmsg.payload = { \n    value: msg.payload, \n    'fc': 3, \n    'unitid': 1, \n    'address': 28672+20+57, \n    'quantity':1   \n}\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload.address});\nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":280,"y":1300,"wires":[["9b2f7ea6.27b4a"]]},{"id":"df086dcc.f3e5","type":"delay","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"","pauseType":"delay","timeout":"200","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1540,"y":2870,"wires":[["8f903bea.3e5c78","efcf76de.3c9038"]]},{"id":"8f903bea.3e5c78","type":"link out","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Sentido de giro remoto","links":["367aaa61.59c686"],"x":1665,"y":2870,"wires":[]},{"id":"367aaa61.59c686","type":"link in","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"","links":["8f903bea.3e5c78"],"x":135,"y":1300,"wires":[["1b2dd03e.2d9c2"]]},{"id":"ce9c2a06.7d7468","type":"switch","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"TCP","property":"SCADA.Type","propertyType":"global","rules":[{"t":"eq","v":"TCP","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":960,"y":1250,"wires":[["a941419b.07d0b"]]},{"id":"262ed40b.412f1c","type":"switch","z":"5f404c88.fa75a4","g":"e52ecc43.c86a5","name":"RTU","property":"SCADA.Type","propertyType":"global","rules":[{"t":"eq","v":"RTU","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":960,"y":1300,"wires":[["a941419b.07d0b"]]},{"id":"b803e401.b39198","type":"inject","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":660,"y":2550,"wires":[["8dd3e4dc.7b82c8","18312819.54fd68"]]},{"id":"d41da57e.fda528","type":"complete","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","scope":["d54f3181.5d7ad","33575158.040bce","fa27ee3.dd7941","3cab3ca5.8a90e4","4d839d32.72a8f4"],"uncaught":false,"x":640,"y":2590,"wires":[["8dd3e4dc.7b82c8"]]},{"id":"28b9d8d4.780938","type":"link in","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","links":["6d33fcb1.428484","998f0e93.941f1","ad87cee4.7dbb5"],"x":695,"y":2640,"wires":[["8dd3e4dc.7b82c8"]]},{"id":"8dd3e4dc.7b82c8","type":"function","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"Mapa Modbus Protecciones","func":"var Load_HH_Sp      = global.get('Protections.Load.HH.Setpoint')||0;\nvar Load_LL_Sp      = global.get('Protections.Load.LL.Setpoint')||0;\nvar PReference      = global.get('Prolonged_Reference.Time')||0;\nvar PIn_HH_Sp       = global.get('Protections.Intake.Pressure.HH.Setpoint')||0;\nvar PIn_LL_Sp       = global.get('Protections.Intake.Pressure.LL.Setpoint')||0;\nvar TIn_HH_Sp       = global.get('Protections.Intake.Temperature.HH.Setpoint')||0;\nvar TDis_HH_Sp      = global.get('Protections.Discharge.Temperature.HH.Setpoint')||0;\nvar Mtr_Temp_HH_Sp  = global.get('Protections.Motor.Temperature.HH.Setpoint')||0;\nvar Accel           = global.get('Speed_Control.Accel')||0;\nvar Deccel          = global.get('Speed_Control.Decel')||0;\n\nvar vector = [\n    Load_HH_Sp,     // 58\n    Load_LL_Sp,     // 59\n    PReference,     // 60\n    PIn_HH_Sp,      // 61\n    PIn_LL_Sp,      // 62\n    TIn_HH_Sp,      // 63\n    TDis_HH_Sp,     // 64\n    Mtr_Temp_HH_Sp, // 65\n    Accel,          // 66\n    Deccel          // 67\n]\n\nmsg.payload = { \n    value: vector, \n    'fc': 16, \n    'unitid': 1, \n    'address': 58, \n    'quantity': vector.length\n} \n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":970,"y":2550,"wires":[["d2066f4.d47179"]]},{"id":"d2066f4.d47179","type":"modbus-flex-write","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"PyModbusServer","showStatusActivities":false,"showErrors":false,"server":"3548b3b4.c8d65c","emptyMsgOnFail":false,"keepMsgProperties":false,"x":1220,"y":2550,"wires":[[],[]]},{"id":"22b4769d.fa73aa","type":"switch","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"SpDiff","property":"payload","propertyType":"msg","rules":[{"t":"neq","v":"Protections.Load.HH.Setpoint","vt":"global"}],"checkall":"true","repair":false,"outputs":1,"x":920,"y":2600,"wires":[["898a9e08.eb30d"]]},{"id":"7fcd7f44.da50a","type":"switch","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"SpDiff","property":"payload","propertyType":"msg","rules":[{"t":"neq","v":"Protections.Load.LL.Setpoint","vt":"global"}],"checkall":"true","repair":false,"outputs":1,"x":920,"y":2640,"wires":[["d49a58a4.182318"]]},{"id":"7e94d37b.d9ba6c","type":"switch","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"SpDiff","property":"payload","propertyType":"msg","rules":[{"t":"neq","v":"Prolonged_Reference.Time","vt":"global"}],"checkall":"true","repair":false,"outputs":1,"x":920,"y":2680,"wires":[["f149f03c.2778"]]},{"id":"11a05a7f.1ef4b6","type":"switch","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"SpDiff","property":"payload","propertyType":"msg","rules":[{"t":"neq","v":"Protections.Intake.Pressure.HH.Setpoint","vt":"global"}],"checkall":"true","repair":false,"outputs":1,"x":920,"y":2720,"wires":[["7eb9f31b.5d87ac"]]},{"id":"39b7d6d0.170dda","type":"switch","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"SpDiff","property":"payload","propertyType":"msg","rules":[{"t":"neq","v":"Protections.Intake.Pressure.LL.Setpoint","vt":"global"}],"checkall":"true","repair":false,"outputs":1,"x":920,"y":2760,"wires":[["e848d5b7.89ed48"]]},{"id":"e7ce38e8.ddf7a8","type":"switch","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"SpDiff","property":"payload","propertyType":"msg","rules":[{"t":"neq","v":"Protections.Intake.Temperature.HH.Setpoint","vt":"global"}],"checkall":"true","repair":false,"outputs":1,"x":920,"y":2800,"wires":[["de525e4.80448a"]]},{"id":"30a1afd8.5fed9","type":"switch","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"SpDiff","property":"payload","propertyType":"msg","rules":[{"t":"neq","v":"Protections.Discharge.Temperature.HH.Setpoint","vt":"global"}],"checkall":"true","repair":false,"outputs":1,"x":920,"y":2840,"wires":[["366809a8.54ae36"]]},{"id":"b9e47311.f3082","type":"switch","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"SpDiff","property":"payload","propertyType":"msg","rules":[{"t":"neq","v":"Protections.Motor.Temperature.HH.Setpoint","vt":"global"}],"checkall":"true","repair":false,"outputs":1,"x":920,"y":2880,"wires":[["e1b1ed5d.b46dc"]]},{"id":"5a4c3f91.66de5","type":"switch","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"SpDiff","property":"payload","propertyType":"msg","rules":[{"t":"neq","v":"Speed_Control.Accel","vt":"global"}],"checkall":"true","repair":false,"outputs":1,"x":920,"y":2920,"wires":[["2cd74731.e47058"]]},{"id":"1d2a31df.d8149e","type":"switch","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"SpDiff","property":"payload","propertyType":"msg","rules":[{"t":"neq","v":"Speed_Control.Decel","vt":"global"}],"checkall":"true","repair":false,"outputs":1,"x":920,"y":2960,"wires":[["93b8513a.2e011"]]},{"id":"93b8513a.2e011","type":"change","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","rules":[{"t":"set","p":"Speed_Control.Decel","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1120,"y":2960,"wires":[["ca5f96a1.874c58"]]},{"id":"2cd74731.e47058","type":"change","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","rules":[{"t":"set","p":"Speed_Control.Accel","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1120,"y":2920,"wires":[["ee762eb7.aef99"]]},{"id":"e1b1ed5d.b46dc","type":"change","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":2880,"wires":[["78debc56.b9b7b4"]]},{"id":"366809a8.54ae36","type":"change","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":2840,"wires":[["9ecab94a.2f4f68"]]},{"id":"de525e4.80448a","type":"change","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1190,"y":2800,"wires":[["560afdd6.770de4"]]},{"id":"e848d5b7.89ed48","type":"change","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":2760,"wires":[["54f813eb.c136ec"]]},{"id":"7eb9f31b.5d87ac","type":"change","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1180,"y":2720,"wires":[["54f813eb.c136ec"]]},{"id":"f149f03c.2778","type":"change","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","rules":[{"t":"set","p":"Prolonged_Reference.Time","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1140,"y":2680,"wires":[["bdd292d2.61916"]]},{"id":"d49a58a4.182318","type":"change","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","rules":[{"t":"set","p":"Protections.Load.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1150,"y":2640,"wires":[["cb121d99.6b0c6"]]},{"id":"898a9e08.eb30d","type":"change","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","rules":[{"t":"set","p":"Protections.Load.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1150,"y":2600,"wires":[["cb121d99.6b0c6"]]},{"id":"cb121d99.6b0c6","type":"link out","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","links":["3e39b5ec.dda60a"],"x":1465,"y":2640,"wires":[]},{"id":"bdd292d2.61916","type":"link out","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","links":["d0a19b38.893ab8"],"x":1465,"y":2680,"wires":[]},{"id":"54f813eb.c136ec","type":"link out","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","links":["f1b01bce.f6aca8"],"x":1465,"y":2720,"wires":[]},{"id":"560afdd6.770de4","type":"link out","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","links":["28fd8b2e.2b37e4"],"x":1465,"y":2800,"wires":[]},{"id":"9ecab94a.2f4f68","type":"link out","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","links":["49ed0754.2b0538"],"x":1465,"y":2840,"wires":[]},{"id":"78debc56.b9b7b4","type":"link out","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","links":["e44c2e4e.679a2"],"x":1465,"y":2880,"wires":[]},{"id":"ee762eb7.aef99","type":"link out","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","links":["2d0c4fa4.505a8"],"x":1465,"y":2920,"wires":[]},{"id":"ca5f96a1.874c58","type":"link out","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","links":["251a85e5.2591ca"],"x":1465,"y":2960,"wires":[]},{"id":"f9984424.f2ea88","type":"function","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"Modbus","func":"var modbus = [\n    MSG(msg.payload[0]),\n    MSG(msg.payload[1]),\n    MSG(msg.payload[2]),\n    MSG(msg.payload[3]),\n    MSG(msg.payload[4]),\n    MSG(msg.payload[5]),\n    MSG(msg.payload[6]),\n    MSG(msg.payload[7]),\n]\nreturn modbus;\n\nfunction MSG(X){\n    return {payload: X}\n}\n","outputs":10,"noerr":0,"initialize":"","finalize":"","x":710,"y":2780,"wires":[["22b4769d.fa73aa"],["7fcd7f44.da50a"],["7e94d37b.d9ba6c"],["11a05a7f.1ef4b6"],["39b7d6d0.170dda"],["e7ce38e8.ddf7a8"],["30a1afd8.5fed9"],["b9e47311.f3082"],["5a4c3f91.66de5"],["1d2a31df.d8149e"]],"outputLabels":["Load HH Setpoint","Load LL Setpoint","P. Ref. Reference","Intake Pressure HH Setpoint","Intake Pressure LL Setpoint","Intake Temp HH Setpoint","Discharge Temp HH Setpoint","Mtr. Temp HH Setpoint",null,null]},{"id":"19f40c8c.08b2c3","type":"function","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"Retardo Lectura Mapa Modbus","func":"var Counter = context.get(\"count\",\"memoryOnly\")||0;\nif(Counter <= 5){\n    Counter += 1;\n    context.set(\"count\",Counter,\"memoryOnly\");\n    return;\n}\nelse{\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":480,"y":2780,"wires":[["f9984424.f2ea88"]]},{"id":"888867d4.3eb148","type":"switch","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"Remoto","property":"Local/Remoto","propertyType":"global","rules":[{"t":"eq","v":"Remoto","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":550,"y":2820,"wires":[["19f40c8c.08b2c3"]]},{"id":"4970f246.2964dc","type":"modbus-read","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"","dataType":"HoldingRegister","adr":"58","quantity":"8","rate":"1","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"3548b3b4.c8d65c","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"x":270,"y":2820,"wires":[["fd592d35.6763e"],[]]},{"id":"18312819.54fd68","type":"function","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"Estado Protecciones MBS","func":"var Voltage         = global.get(\"Protections.Voltage.Status\",'memoryOnly')||0;\nvar Current         = global.get(\"Protections.Current.Status\",'memoryOnly')||0;\nvar Vibration       = global.get(\"Protections.Vibration.Status\",'memoryOnly')||0;\nvar InPressure      = global.get(\"Protections.Intake.Pressure.Status\",'memoryOnly')||0;\nvar InTemperaure    = global.get(\"Protections.Intake.Temperature.Status\",'memoryOnly')||0;\nvar DisPressure     = global.get(\"Protections.Discharge.Pressure.Status\",'memoryOnly')||0;\nvar DisTemperature  = global.get(\"Protections.Discharge.Temperature.Status\",'memoryOnly')||0;\nvar MtrTemp         = global.get(\"Protections.Motor.Temperature.Status\",'memoryOnly')||0;\nvar Tubing          = global.get(\"Protections.Tubing.Status\",'memoryOnly')||0;\nvar Casing          = global.get(\"Protections.Casing.Status\",'memoryOnly')||0;\n\nvar vector = [\n    Voltage,        // 68\n    Current,        // 69\n    Vibration,      // 70\n    InPressure,     // 71\n    InTemperaure,   // 72\n    DisPressure,    // 73\n    DisTemperature, // 74\n    MtrTemp,        // 75\n    Tubing,         // 76\n    Casing          // 77\n]\n\nmsg.payload = { \n    value: vector, \n    'fc': 16, \n    'unitid': 1, \n    'address': 68, \n    'quantity': vector.length\n} \nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":970,"y":2510,"wires":[["d2066f4.d47179"]]},{"id":"66c4a9b8.ae31f8","type":"link in","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","links":["ad87cee4.7dbb5"],"x":695,"y":2470,"wires":[["18312819.54fd68"]]},{"id":"8b6335c4.c877f8","type":"inject","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":660,"y":2510,"wires":[["18312819.54fd68"]]},{"id":"8cd9b627.3e1fe8","type":"modbus-flex-getter","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","showStatusActivities":false,"showErrors":false,"logIOActivities":false,"server":"f630cb55.8d18e8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":240,"y":2870,"wires":[["5530c155.8e88f"],[]]},{"id":"dd479ce7.53bf1","type":"link in","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"","links":["a5c076e6.b3cdf8"],"x":105,"y":2870,"wires":[["8cd9b627.3e1fe8"]]},{"id":"5530c155.8e88f","type":"switch","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"RTU","property":"SCADA.Type","propertyType":"global","rules":[{"t":"eq","v":"RTU","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":410,"y":2870,"wires":[["888867d4.3eb148"]]},{"id":"fd592d35.6763e","type":"switch","z":"6c7d2db7.37ef34","g":"527fb039.aa59f","name":"TCP","property":"SCADA.Type","propertyType":"global","rules":[{"t":"eq","v":"TCP","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":410,"y":2820,"wires":[["888867d4.3eb148"]]},{"id":"efcf76de.3c9038","type":"delay","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"","pauseType":"delay","timeout":"200","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1540,"y":2910,"wires":[["73a225c4.f6a26c"]]},{"id":"73a225c4.f6a26c","type":"function","z":"e86f0ca4.7feb5","g":"3d68b202.2bc67e","name":"Mapa Modbus Protecciones","func":"var Load_HH_Sp      = global.get('Protections.Load.HH.Setpoint')||0;\nvar Load_LL_Sp      = global.get('Protections.Load.LL.Setpoint')||0;\nvar PReference      = global.get('Prolonged_Reference.Time')||0;\nvar PIn_HH_Sp       = global.get('Protections.Intake.Pressure.HH.Setpoint')||0;\nvar PIn_LL_Sp       = global.get('Protections.Intake.Pressure.LL.Setpoint')||0;\nvar TIn_HH_Sp       = global.get('Protections.Intake.Temperature.HH.Setpoint')||0;\nvar TDis_HH_Sp      = global.get('Protections.Discharge.Temperature.HH.Setpoint')||0;\nvar Mtr_Temp_HH_Sp  = global.get('Protections.Motor.Temperature.HH.Setpoint')||0;\nvar Accel           = global.get('Speed_Control.Accel')||0;\nvar Deccel          = global.get('Speed_Control.Decel')||0;\n\nvar vector = [\n    Load_HH_Sp,     // 58\n    Load_LL_Sp,     // 59\n    PReference,     // 60\n    PIn_HH_Sp,      // 61\n    PIn_LL_Sp,      // 62\n    TIn_HH_Sp,      // 63\n    TDis_HH_Sp,     // 64\n    Mtr_Temp_HH_Sp, // 65\n    Accel,          // 66\n    Deccel          // 67\n]\n\nmsg.payload = { \n    value: vector, \n    'fc': 16, \n    'unitid': 1, \n    'address': 28672+20+58,\n    'quantity': vector.length\n} \n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1770,"y":2910,"wires":[["7902854d.6ff0fc"]]},{"id":"74491400.799d1c","type":"change","z":"e86f0ca4.7feb5","d":true,"g":"ebb7241e.548d68","name":"Spectrum","rules":[{"t":"set","p":"payload","pt":"msg","to":"[{\"No\":1,\"Descripción\":\"Presión de entrada\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":8,\"Multiplicador\":0.1},{\"No\":2,\"Descripción\":\"Presión de descarga\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":9,\"Multiplicador\":0.1},{\"No\":3,\"Descripción\":\"Temperatura de entrada\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":10,\"Multiplicador\":0.1},{\"No\":4,\"Descripción\":\"Temperatura de motor\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":11,\"Multiplicador\":0.1},{\"No\":5,\"Descripción\":\"Vibración X\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":5,\"Multiplicador\":0.001},{\"No\":6,\"Descripción\":\"Vibración Z\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":6,\"Multiplicador\":0.001},{\"No\":7,\"Descripción\":\"Corriente de fuga\",\"Tipo de dato\":\"UINT\",\"Tipo de registro\":\"HR\",\"Registro\":15,\"Multiplicador\":0.01}]","tot":"json"}],"action":"","property":"","from":"","to":"","reg":false,"x":3310,"y":2490,"wires":[["a382052a.d8aa18","e7fa2ea4.726ea"]]},{"id":"6f9f13ef.fb565c","type":"inject","z":"8ba0552a.e27ca8","g":"8a437085.d2b8","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":130,"y":70,"wires":[["73f3cb42.e412c4"]]},{"id":"73f3cb42.e412c4","type":"exec","z":"8ba0552a.e27ca8","g":"8a437085.d2b8","command":"sudo rm ~/.node-red/node_modules/nodepccc/nodePCCC.js","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Eliminar librería PCCC actual","x":420,"y":70,"wires":[[],[],[]]},{"id":"b2068e1d.c9d9","type":"complete","z":"8ba0552a.e27ca8","g":"8a437085.d2b8","name":"","scope":["73f3cb42.e412c4"],"uncaught":false,"x":110,"y":110,"wires":[["bf48213c.3548c"]]},{"id":"bf48213c.3548c","type":"exec","z":"8ba0552a.e27ca8","g":"8a437085.d2b8","command":"sudo cp ~/Documents/PCCC/PowerFlex755AFE/nodePCCC.js ~/.node-red/node_modules/nodepccc/nodePCCC.js","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Reemplazar librería AFE","x":430,"y":130,"wires":[[],[],[]]},{"id":"129d922.5d7c86e","type":"inject","z":"8ba0552a.e27ca8","g":"8a437085.d2b8","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":130,"y":150,"wires":[["bf48213c.3548c"]]},{"id":"2cd9e470.7e562c","type":"exec","z":"8ba0552a.e27ca8","g":"8a437085.d2b8","command":"sudo reboot now","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Reiniciar controlador","x":440,"y":190,"wires":[[],[],[]]},{"id":"2dae23d1.de8fec","type":"complete","z":"8ba0552a.e27ca8","g":"8a437085.d2b8","name":"","scope":["bf48213c.3548c"],"uncaught":false,"x":110,"y":190,"wires":[["849c9546.4f8a58"]]},{"id":"849c9546.4f8a58","type":"delay","z":"8ba0552a.e27ca8","g":"8a437085.d2b8","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":260,"y":190,"wires":[["2cd9e470.7e562c"]]},{"id":"23fbe207.7b1ede","type":"status","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Status Drive","scope":["776db11c.07117"],"x":2610,"y":320,"wires":[["3ca904fc.10f40c"]]},{"id":"1a719c26.34c704","type":"inject","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"5s","props":[{"p":"payload"}],"repeat":"3","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":2670,"y":280,"wires":[["542838ab.43ffb8"]]},{"id":"3ca904fc.10f40c","type":"change","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Status_TimeOut","pt":"flow","to":"status.text","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2810,"y":320,"wires":[[]]},{"id":"542838ab.43ffb8","type":"switch","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"","property":"#:(memoryOnly)::Status_TimeOut","propertyType":"flow","rules":[{"t":"neq","v":"20","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":2870,"y":280,"wires":[["899909d1.d446c8","ca5ead3a.831c7","5fd3049a.ba921c"]]},{"id":"d40387aa.734878","type":"inject","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"0","payloadType":"num","x":3220,"y":200,"wires":[["776db11c.07117"]]},{"id":"ba9797b7.e07f98","type":"inject","z":"6c7d2db7.37ef34","g":"f52d84f3.4970f8","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"Local/Remoto","payloadType":"global","x":210,"y":3070,"wires":[["a68f4079.7351a"]]},{"id":"a68f4079.7351a","type":"rbe","z":"6c7d2db7.37ef34","g":"f52d84f3.4970f8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":380,"y":3070,"wires":[["62e320be.78337"]]},{"id":"62e320be.78337","type":"switch","z":"6c7d2db7.37ef34","g":"f52d84f3.4970f8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Local","vt":"str"},{"t":"eq","v":"Remoto","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":500,"y":3070,"wires":[["f68d32a7.f0e8d"],["186649d5.ec0ba6"]]},{"id":"186649d5.ec0ba6","type":"change","z":"6c7d2db7.37ef34","g":"f52d84f3.4970f8","name":"Disabled","rules":[{"t":"delete","p":"payload","pt":"msg"},{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":630,"y":3090,"wires":[["596ac22c.7d379c"]]},{"id":"f68d32a7.f0e8d","type":"change","z":"6c7d2db7.37ef34","g":"f52d84f3.4970f8","name":"Enabled","rules":[{"t":"delete","p":"payload","pt":"msg"},{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":630,"y":3050,"wires":[["596ac22c.7d379c"]]},{"id":"596ac22c.7d379c","type":"link out","z":"6c7d2db7.37ef34","g":"f52d84f3.4970f8","name":"Local/Remoto Protecciones","links":["806e7b59.38e138","3e39b5ec.dda60a","28fd8b2e.2b37e4","f1b01bce.f6aca8","11e71592.43ecba","49ed0754.2b0538","8a84bba5.928628","e44c2e4e.679a2","191ae243.ac0bde","38307403.cf947c","bacec764.887808","6d92a416.15af1c"],"x":755,"y":3060,"wires":[]},{"id":"4390a2ee.d47efc","type":"change","z":"827787d0.ede678","d":true,"g":"eb91dac5.690838","name":"","rules":[{"t":"set","p":"Local/Remoto","pt":"global","to":"Remoto","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":350,"y":80,"wires":[["5bcc4439.12381c"]]},{"id":"5bcc4439.12381c","type":"link out","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","links":["938aa2d6.74dae"],"x":495,"y":80,"wires":[]},{"id":"a11437c4.3868e8","type":"change","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Reset","rules":[{"t":"set","p":"topic","pt":"msg","to":"Reset","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":230,"y":430,"wires":[["406ea535.518d9c"]]},{"id":"17820369.07024d","type":"link in","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Reset PR","links":["f87a07cd.22b318"],"x":145,"y":430,"wires":[["a11437c4.3868e8"]]},{"id":"76e4fde6.1b44b4","type":"link in","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"Disable PR","links":["b34e348c.08d3d8","f87a07cd.22b318"],"x":1755,"y":250,"wires":[["c2c739e5.b222d8"]]},{"id":"544e4f09.924ff","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"","label":"Corriente nominal","tooltip":"","group":"c1be3c37.36a31","order":1,"width":"6","height":"1","passthru":true,"mode":"number","delay":"0","topic":"","x":600,"y":3050,"wires":[["d83df4b5.872028"]]},{"id":"7bbda697.add2d8","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"","label":"Corriente Bypass","tooltip":"","group":"c1be3c37.36a31","order":2,"width":"6","height":"1","passthru":true,"mode":"number","delay":"0","topic":"","x":600,"y":3090,"wires":[["ef51a39c.98a6"]]},{"id":"f92fbc40.4441c","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"","label":"% Bypass","tooltip":"","group":"c1be3c37.36a31","order":3,"width":"6","height":"1","passthru":true,"mode":"number","delay":"0","topic":"","x":580,"y":3130,"wires":[["b816851f.3d7ce8"]]},{"id":"d83df4b5.872028","type":"change","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"F.A. Corriente nominal","rules":[{"t":"set","p":"Filtro_armonicos.Corriente_nominal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3050,"wires":[[]]},{"id":"ef51a39c.98a6","type":"change","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"F.A. Corriente bypass","rules":[{"t":"set","p":"Filtro_armonicos.Corriente_bypass","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3090,"wires":[["49746c3d.1d4df4"]]},{"id":"b816851f.3d7ce8","type":"change","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"F.A. % bypass","rules":[{"t":"set","p":"Filtro_armonicos.Porcentaje_bypass","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":790,"y":3130,"wires":[["861294ef.59f838"]]},{"id":"49746c3d.1d4df4","type":"function","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"Cálculo %","func":"CN          = flow.get('Filtro_armonicos.Corriente_nominal')||null;\n\nif(msg.topic != '% Bypass'){\n    msg.payload = 100 * msg.payload / CN;\n    msg.topic   = 'Corriente Bypass';\n    return msg;\n}\nreturn;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":3090,"wires":[["f92fbc40.4441c"]]},{"id":"861294ef.59f838","type":"function","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"Cálculo Corriente","func":"CN          = flow.get('Filtro_armonicos.Corriente_nominal')||null;\nif(msg.topic !='Corriente Bypass'){\n    msg.payload = CN*msg.payload/100;\n    msg.topic = '% Bypass';\n    return msg;\n}\nreturn;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1020,"y":3130,"wires":[["7bbda697.add2d8"]]},{"id":"66f7993.0d5e268","type":"link in","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"Inicializar F.A","links":["ad87cee4.7dbb5"],"x":175,"y":3090,"wires":[["11c8b124.58700f","32ec764b.647dda","7fe94cba.1b4b44","b27f32d4.efd2c"]]},{"id":"11c8b124.58700f","type":"change","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"F.A. Corriente nominal","rules":[{"t":"set","p":"payload","pt":"msg","to":"Filtro_armonicos.Corriente_nominal","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":3050,"wires":[["544e4f09.924ff"]]},{"id":"32ec764b.647dda","type":"change","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"F.A. Corriente bypass","rules":[{"t":"set","p":"payload","pt":"msg","to":"Filtro_armonicos.Corriente_bypass","tot":"flow"},{"t":"set","p":"topic","pt":"msg","to":"% Bypass","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":3090,"wires":[["7bbda697.add2d8"]]},{"id":"7fe94cba.1b4b44","type":"change","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"F.A. Corriente bypass","rules":[{"t":"set","p":"payload","pt":"msg","to":"Filtro_armonicos.Porcentaje_bypass","tot":"flow"},{"t":"set","p":"topic","pt":"msg","to":"Corriente Bypass","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":3130,"wires":[["f92fbc40.4441c"]]},{"id":"cfc24105.bef89","type":"inject","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":140,"y":3130,"wires":[["11c8b124.58700f","32ec764b.647dda","7fe94cba.1b4b44","b27f32d4.efd2c"]]},{"id":"b60e7c0c.9444a","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"","label":"Tiempo muerto Bypass (s)","tooltip":"","group":"c1be3c37.36a31","order":4,"width":"6","height":"1","passthru":true,"mode":"number","delay":"0","topic":"","x":630,"y":3170,"wires":[["6e200a30.69f7c4"]]},{"id":"6e200a30.69f7c4","type":"change","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"F.A. Tiempo muerto","rules":[{"t":"set","p":"Filtro_armonicos.Tiempo_muerto","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":3170,"wires":[[]]},{"id":"b27f32d4.efd2c","type":"change","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"F.A. Corriente bypass","rules":[{"t":"set","p":"payload","pt":"msg","to":"Filtro_armonicos.Tiempo_muerto","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":3170,"wires":[["b60e7c0c.9444a"]]},{"id":"ff9ada8.3dfd028","type":"ui_button","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"","group":"c1be3c37.36a31","order":6,"width":"3","height":"1","passthru":false,"label":"Habilitar bypass","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":740,"y":3250,"wires":[["d21a7fbf.cfa48"]]},{"id":"2330b80.6962848","type":"ui_button","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"","group":"c1be3c37.36a31","order":7,"width":"3","height":"1","passthru":false,"label":"Deshabilitar bypass","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":750,"y":3290,"wires":[["e4ca3e69.e17ad"]]},{"id":"d21a7fbf.cfa48","type":"change","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"Habilitar","rules":[{"t":"set","p":"Filtro_armonicos.Habilitar","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":920,"y":3250,"wires":[[]]},{"id":"e4ca3e69.e17ad","type":"change","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"Deshabilitar","rules":[{"t":"set","p":"Filtro_armonicos.Habilitar","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":930,"y":3290,"wires":[[]]},{"id":"f959019f.195d3","type":"complete","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"","scope":["d21a7fbf.cfa48","e4ca3e69.e17ad"],"uncaught":false,"x":260,"y":3250,"wires":[["6f1e68e5.ab9558"]]},{"id":"6f1e68e5.ab9558","type":"switch","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"","property":"Filtro_armonicos.Habilitar","propertyType":"flow","rules":[{"t":"true"},{"t":"false"}],"checkall":"true","repair":false,"outputs":2,"x":410,"y":3270,"wires":[["cdb3d36.2b63a3","d53d896e.1c9d28"],["56153c97.f4f924","c88d3c23.0f3c3"]]},{"id":"cdb3d36.2b63a3","type":"change","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":560,"y":3210,"wires":[["ff9ada8.3dfd028"]]},{"id":"d53d896e.1c9d28","type":"change","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":560,"y":3250,"wires":[["2330b80.6962848"]]},{"id":"c88d3c23.0f3c3","type":"change","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":560,"y":3290,"wires":[["ff9ada8.3dfd028"]]},{"id":"56153c97.f4f924","type":"change","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":560,"y":3330,"wires":[["2330b80.6962848"]]},{"id":"e12b70ff.8552b","type":"link in","z":"e86f0ca4.7feb5","g":"f769a623.0ee4d8","name":"Bypass filtro armónicos","links":["ad87cee4.7dbb5"],"x":315,"y":3290,"wires":[["6f1e68e5.ab9558"]]},{"id":"850ab78d.611ed8","type":"function","z":"e86f0ca4.7feb5","g":"a252f22b.3778d","name":"Filtro de armónicos","func":"var Corriente = flow.get('Filtro_armonicos.Corriente_bypass')||0;\nvar payload = msg.payload;\nmsg.payload = TON(parseFloat(msg.payload) >= Corriente ? true:false,msg.delay);\nnode.status({fill:msg.payload === true? 'red':'green',shape:\"dot\",text: parseFloat(payload)+\" >= \"+Corriente });\nreturn msg;\n\nfunction TON(val,delay){\n    var Ant = context.get(\"Anterior\")||false;\n    // Actualizar el contexto\n    context.set(\"Anterior\", val);\n    //Flanco de subida\n    if(val === true && Ant === false){\n        context.set(\"RefTime\", Date.now());\n    }\n    else if(val === true && Ant === true){\n        if(Date.now() - context.get(\"RefTime\") >= delay*1000){\n            return true;\n        }\n    }\n    return false;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":400,"y":3420,"wires":[["83ca674.21a7998"]]},{"id":"b4a2fb28.40b718","type":"inject","z":"e86f0ca4.7feb5","g":"a252f22b.3778d","name":"Corriente de entrada","props":[{"p":"payload"},{"p":"delay","v":"Filtro_armonicos.Tiempo_muerto","vt":"flow"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"#:(memoryOnly)::PQA.Real_Time_Parameters.Average_Phase_Current","payloadType":"global","x":190,"y":3420,"wires":[["850ab78d.611ed8"]]},{"id":"83ca674.21a7998","type":"change","z":"e86f0ca4.7feb5","g":"a252f22b.3778d","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Filtro_armonicos.Estado","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":650,"y":3420,"wires":[[]]},{"id":"6a2056e2.78c258","type":"change","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Disable","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2410,"y":410,"wires":[["9ac0285.c38d4d8","3e549706.733278"]]},{"id":"21eaed26.778912","type":"change","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Disable","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2410,"y":530,"wires":[["9c79bd68.e2141","e7671ee1.02df4"]]},{"id":"9ac0285.c38d4d8","type":"change","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Enable","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2560,"y":410,"wires":[["e7671ee1.02df4"]]},{"id":"9c79bd68.e2141","type":"change","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Enable","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2560,"y":490,"wires":[["3e549706.733278"]]},{"id":"629abf66.2a0a2","type":"change","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\"group\":{\"hide\":[\"Configuración-Estándar-Relación_de_reducción_Caja_reductora\"],\"show\":[\"Configuración-Estándar-Relación_de_reducción_Polea_correa\"]}}","tot":"json"},{"t":"set","p":"topic","pt":"msg","to":"Polea correa","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":2990,"y":450,"wires":[["3e6ea56c.4ff95a","d750b6ca.c563a8","e1e3b3d1.65f75"]]},{"id":"dcfe677c.005ac8","type":"change","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\"group\":{\"hide\":[\"Configuración-Estándar-Relación_de_reducción_Polea_correa\"],\"show\":[\"Configuración-Estándar-Relación_de_reducción_Caja_reductora\"]}}","tot":"json"},{"t":"set","p":"topic","pt":"msg","to":"Caja reductora","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":2990,"y":530,"wires":[["3e6ea56c.4ff95a","d750b6ca.c563a8","e1e3b3d1.65f75"]]},{"id":"3e6ea56c.4ff95a","type":"function","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Relación de reducción","func":"// Guardar datos en el contexto local\n// Tipo de reducción\nif(msg.topic == \"Polea correa\"){        context.set(\"Reduccion\",\"Polea\");}\nelse if(msg.topic == \"Caja reductora\"){ context.set(\"Reduccion\",\"Caja\");}\n\n// Polea correa\nif(msg.topic == \"Db\"){ context.set(\"DBomba\",msg.payload);}\nif(msg.topic == \"Dm\"){ context.set(\"DMotor\",msg.payload);}\n\n// Caja reductora\nif(msg.topic == \"R\"){ context.set(\"R\",msg.payload);}\n\n// Leer datos del contexto local\n// Tipo reducción\nvar Reduccion = context.get(\"Reduccion\")||\"Polea\";\n\n// Polea correa\nvar Diametro_bomba = context.get(\"DBomba\")||1;\nvar Diametro_motor = context.get(\"DMotor\")||1;\n\n// Caja reductora\nvar R = context.get(\"R\")||1;\nvar Relacion = 1;\n\nif(Reduccion == \"Polea\"){\n    Relacion = Diametro_bomba/Diametro_motor; \n}\nelse if(Reduccion == \"Caja\"){\n    Relacion = R;\n}\n\nglobal.set(\"Relacion_Reduccion\",Relacion)\nnode.status({fill:\"green\",shape:\"dot\",text:\"Reducción: \"+Reduccion +\" \"+\" Relacion:\"+Relacion});\nreturn;","outputs":0,"noerr":0,"initialize":"","finalize":"","x":3250,"y":480,"wires":[]},{"id":"1396fcf6.4c26b3","type":"comment","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Relación de reducción","info":"","x":2160,"y":330,"wires":[]},{"id":"98de4da1.6e818","type":"inject","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":"1","topic":"","payload":"true","payloadType":"bool","x":2130,"y":370,"wires":[["f8c93ad9.c746d8","4b6c1f94.124fa","2373538a.46be7c","f87974b.30e7a88","704ec120.77572"]]},{"id":"ba36332b.2f52d","type":"template","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Belt Pully","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://swcpro.local:1880/bootstrap/dist/css/bootstrap.min.css\">\n\n  </head>\n  <body>\n        <div class=\"container align-self-center\">\n            <div class=\"row mt-3\">\n                <div class=\"col\">\n                    <div id=\"carouselExampleSlidesOnly\" class=\"carousel slide\" data-ride=\"carousel\">\n                      <div class=\"carousel-inner\">\n                        <div class=\"carousel-item active\">\n                            <img src=\"http://swcpro.local:1880/swcpro-images/belt-pully.jpeg\" class=\"d-block w-50\" alt=\"...\">\n                        </div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"https://code.jquery.com/jquery-3.5.1.slim.min.js\" integrity=\"sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj\" crossorigin=\"anonymous\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js\" integrity=\"sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo\" crossorigin=\"anonymous\"></script>\n    <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js\" integrity=\"sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI\" crossorigin=\"anonymous\"></script>\n  </body>\n</html>","output":"str","x":3212,"y":534,"wires":[["e4e5a93f.60b9a8"]]},{"id":"14f75997.ffefc6","type":"template","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"GearBox","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://swcpro.local:1880/bootstrap/dist/css/bootstrap.min.css\">\n\n  </head>\n  <body>\n        <div class=\"container align-self-center\">\n            <div class=\"row mt-3\">\n                <div class=\"col\">\n                    <div id=\"carouselExampleSlidesOnly\" class=\"carousel slide\" data-ride=\"carousel\">\n                      <div class=\"carousel-inner\">\n                        <div class=\"carousel-item active\">\n                            <img src=\"http://swcpro.local:1880/swcpro-images/gearbox.jpeg\" class=\"d-block w-50\" alt=\"...\">\n                        </div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"https://code.jquery.com/jquery-3.5.1.slim.min.js\" integrity=\"sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj\" crossorigin=\"anonymous\"></script>\n    <script src=\"https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js\" integrity=\"sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo\" crossorigin=\"anonymous\"></script>\n    <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js\" integrity=\"sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI\" crossorigin=\"anonymous\"></script>\n  </body>\n</html>","output":"str","x":3215,"y":614,"wires":[["e4e5a93f.60b9a8"]]},{"id":"d750b6ca.c563a8","type":"function","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Relación","func":"var Rel = global.get(\"Relacion_Reduccion\");\nRel = Rel.toFixed(2);\nmsg.payload = \"Relación: \"+Rel+\":1\";\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3210,"y":440,"wires":[["94f48b95.7add18"]]},{"id":"6b40f56a.2343cc","type":"change","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"","rules":[{"t":"set","p":"Relacion_Reduccion.D_Cabezal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3310,"y":320,"wires":[[]]},{"id":"f8c93ad9.c746d8","type":"change","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Diametro cabezal","rules":[{"t":"set","p":"payload","pt":"msg","to":"Relacion_Reduccion.D_Cabezal","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2740,"y":320,"wires":[["ae90bb3a.e88598"]]},{"id":"acaa273b.ee8988","type":"change","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"","rules":[{"t":"set","p":"Relacion_Reduccion.Rel_Reduccion","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3320,"y":400,"wires":[[]]},{"id":"4b6c1f94.124fa","type":"change","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Diametro cabezal","rules":[{"t":"set","p":"payload","pt":"msg","to":"Relacion_Reduccion.D_Motor","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2740,"y":360,"wires":[["e9eb6646.1347c8"]]},{"id":"7a0bb9d3.8a7378","type":"change","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"","rules":[{"t":"set","p":"Relacion_Reduccion.D_Motor","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3300,"y":360,"wires":[[]]},{"id":"2373538a.46be7c","type":"change","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Relacion Caja","rules":[{"t":"set","p":"payload","pt":"msg","to":"Relacion_Reduccion.Rel_Reduccion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2730,"y":400,"wires":[["d65e086f.2d6728"]]},{"id":"375a7fa3.74d11","type":"change","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"","rules":[{"t":"set","p":"Relacion_Reduccion.Seleccion","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2910,"y":490,"wires":[["704ec120.77572"]]},{"id":"f87974b.30e7a88","type":"switch","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Rel_Selec","property":"Relacion_Reduccion.Seleccion","propertyType":"flow","rules":[{"t":"true"},{"t":"false"}],"checkall":"true","repair":false,"outputs":2,"x":2150,"y":490,"wires":[["6a2056e2.78c258"],["21eaed26.778912"]]},{"id":"94f48b95.7add18","type":"link out","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Actualizar Max Limit Link Out","links":["24525c79.16d124"],"x":3305,"y":440,"wires":[]},{"id":"704ec120.77572","type":"switch","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Rel_Selec","property":"Relacion_Reduccion.Seleccion","propertyType":"flow","rules":[{"t":"true"},{"t":"false"}],"checkall":"true","repair":false,"outputs":2,"x":3009,"y":574,"wires":[["ba36332b.2f52d"],["14f75997.ffefc6"]]},{"id":"e1e3b3d1.65f75","type":"link out","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"Relación de reducción","links":["805762db.d27b7"],"x":3170,"y":574,"wires":[]},{"id":"ae90bb3a.e88598","type":"ui_text_input","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"","label":"Diametro polea cabezal","tooltip":"","group":"622b6212.3c118c","order":3,"width":"4","height":"1","passthru":true,"mode":"number","delay":300,"topic":"Db","x":2960,"y":320,"wires":[["6b40f56a.2343cc","d750b6ca.c563a8","3e6ea56c.4ff95a"]]},{"id":"e9eb6646.1347c8","type":"ui_text_input","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"","label":"Diametro polea motor","tooltip":"","group":"622b6212.3c118c","order":6,"width":"4","height":"1","passthru":true,"mode":"number","delay":"100","topic":"Dm","x":2970,"y":360,"wires":[["7a0bb9d3.8a7378","d750b6ca.c563a8","3e6ea56c.4ff95a"]]},{"id":"d65e086f.2d6728","type":"ui_text_input","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"","label":"Reducción","tooltip":":1","group":"46b27450.06373c","order":3,"width":"4","height":"1","passthru":true,"mode":"number","delay":"100","topic":"R","x":3000,"y":400,"wires":[["acaa273b.ee8988","d750b6ca.c563a8","3e6ea56c.4ff95a"]]},{"id":"3e549706.733278","type":"ui_button","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"","group":"6030eeb8.f906","order":2,"width":"3","height":"1","passthru":false,"label":"Polea correa","tooltip":"","color":"","bgcolor":"","icon":"","payload":"true","payloadType":"bool","topic":"Polea","x":2400,"y":450,"wires":[["6a2056e2.78c258","375a7fa3.74d11","629abf66.2a0a2"]]},{"id":"e7671ee1.02df4","type":"ui_button","z":"43b51d90.0b47f4","g":"76792c94.c14d94","name":"","group":"6030eeb8.f906","order":4,"width":"3","height":"1","passthru":false,"label":"Caja reductora","tooltip":"","color":"","bgcolor":"","icon":"","payload":"false","payloadType":"bool","topic":"Caja","x":2390,"y":490,"wires":[["21eaed26.778912","375a7fa3.74d11","dcfe677c.005ac8"]]},{"id":"e4e5a93f.60b9a8","type":"ui_template","z":"43b51d90.0b47f4","g":"76792c94.c14d94","group":"b837db17.95fc38","name":"CILA Image","order":0,"width":"6","height":"4","format":"<div ng-bind-html=\"msg.payload\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":3380,"y":570,"wires":[[]]},{"id":"612cc7cf.567ad8","type":"ui_text","z":"e86f0ca4.7feb5","g":"6f673d7.00debc4","group":"2666f936.6d0ee6","order":2,"width":"2","height":1,"name":"","label":"RPM: ","format":"{{msg.payload}}","layout":"row-left","x":3230,"y":2910,"wires":[]},{"id":"d8eeaf95.db23f","type":"ui_text","z":"e86f0ca4.7feb5","g":"6f673d7.00debc4","group":"536af8e6.0e6808","order":2,"width":"2","height":"1","name":"","label":"Rel: ","format":"{{msg.payload}}","layout":"row-left","x":3230,"y":2950,"wires":[]},{"id":"50f613da.0ca95c","type":"ui_text","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","group":"8370e95f.f0a918","order":6,"width":4,"height":2,"name":"","label":"Torque actual","format":"<font size = 6px> {{msg.payload}} Lbft","layout":"col-center","x":4230,"y":700,"wires":[]},{"id":"2882db4.8e8eb24","type":"function","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Torque (lbf * ft)","func":"var Rel = global.get(\"Relacion_Reduccion\");\nvar Nameplate = global.get(\"Motor_Control\").Nameplate;\n\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\nOutput_HP = msg.payload.Output_Power*1.341;\nRPM_Motor = Math.round((120 * msg.payload.Output_Frecuency * (1-slip))/(P));\nRPM_Bomba = RPM_Motor/Rel;\n\n// Cálculo del torque en lbf * ft\nT = (5252 * Output_HP)/(RPM_Bomba)\nif(msg.payload.Output_Power === 0 && RPM_Bomba === 0){T=0;}\n\n// Retornar nada si el torque no es un número\nif(isNaN(T)){\n    T=0;\n    msg.payload = T;\n    return msg;\n}\nelse{\n    msg.payload = parseFloat(T).toFixed(2);\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3790,"y":700,"wires":[["50f613da.0ca95c","13650405.f39a9c"]]},{"id":"6a03ada2.31e6f4","type":"function","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Hz_RPM","func":"var Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\nmsg.payload = Math.round((120 * msg.payload * (1-slip))/(P*Rel));\n\n// Retornar nada si el resultado no es un número\nif(isNaN(msg.payload)){\n    return;\n}\nelse{\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":4360,"y":280,"wires":[["654b1ab8.d36814"]]},{"id":"7fe9724f.0cf8ec","type":"function","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Hz_RPM","func":"var Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\nmsg.payload = Math.round((120 * msg.payload * (1-slip))/(P*Rel));\n\n// Retornar nada si el resultado no es un número\nif(isNaN(msg.payload)){\n    return;\n}\nelse{\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":570,"y":460,"wires":[[]]},{"id":"c9d379be.49a598","type":"function","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"RPM_Hz","func":"var Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\n// Frecuencia Drive\nmsg.payload = parseFloat(((msg.payload * P* Rel)/((1-slip)*120)).toFixed(3));\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1650,"y":400,"wires":[["7048ef53.1fd6f"]]},{"id":"67265960.942258","type":"function","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"RPM_Hz","func":"var Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\n// Frecuencia Drive\nmsg.payload = parseFloat(((msg.payload * P* Rel)/((1-slip)*120)).toFixed(3));\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1530,"y":460,"wires":[["d4e8aa0c.01c0c8"]]},{"id":"6ec60cf6.6c8114","type":"inject","z":"e86f0ca4.7feb5","g":"6f673d7.00debc4","name":"","props":[{"p":"payload"}],"repeat":"5","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"Relacion_Reduccion","payloadType":"global","x":3020,"y":2910,"wires":[["d8eeaf95.db23f"]]},{"id":"e00639ac.bbe708","type":"link out","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Referencia Remota Link Out 2","links":["7a0ec9fc.12d498"],"x":2645,"y":980,"wires":[]},{"id":"19765827.aaed18","type":"function","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Hz_RPM","func":"var Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\nmsg.payload = Math.round((120 * msg.payload * (1-slip))/(P*Rel));\n\n// Retornar nada si el resultado no es un número\nif(isNaN(msg.payload)){\n    return;\n}\nelse{\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3390,"y":330,"wires":[["8c6f2064.7cbdc"]]},{"id":"fb6b188b.4631d8","type":"function","z":"e86f0ca4.7feb5","g":"16a83ca.2899cc3","name":"Hz_RPM","func":"var Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\nmsg.payload = Math.round((120 * msg.payload * (1-slip))/(P*Rel));\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n\n// Retornar nada si el resultado no es un número\nif(isNaN(msg.payload)){\n    return;\n}\nelse{\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":4340,"y":1560,"wires":[[]]},{"id":"a7923a8c.7c39d8","type":"link in","z":"e86f0ca4.7feb5","g":"16a83ca.2899cc3","name":"Referencia remota SCADA","links":["8c6f2064.7cbdc","935ca480.525e98","ad87cee4.7dbb5","bd420231.1a153"],"x":4235,"y":1670,"wires":[["b3483c29.e4ff4"]]},{"id":"d428246e.250f38","type":"link in","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"Referencia remota Link In","links":["2b0080ad.3ac38"],"x":1355,"y":400,"wires":[["45b3b2f600360f52","a4829f7d.87894"]]},{"id":"7a0ec9fc.12d498","type":"link in","z":"e86f0ca4.7feb5","g":"16a83ca.2899cc3","name":"Referencia Remota Analogica","links":["e00639ac.bbe708"],"x":4635,"y":1630,"wires":[["9ba73f69.14911","798ab24b.f2bb3c","54e174587267408e"]]},{"id":"9c68fb6b.6c86a8","type":"ui_text","z":"68deacdf.9a36f4","g":"195d3093.36368f","group":"c001d335.d33fe","order":4,"width":"3","height":"1","name":"","label":"P. Reactiva:","format":"{{msg.payload}} kW","layout":"row-left","x":910,"y":280,"wires":[]},{"id":"c753b3ad.b9f2e","type":"function","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":280,"wires":[["9c68fb6b.6c86a8"]]},{"id":"4dd28667.4d3228","type":"ui_text","z":"68deacdf.9a36f4","g":"195d3093.36368f","group":"c001d335.d33fe","order":4,"width":"3","height":"1","name":"","label":"P. Aparente:","format":"{{msg.payload}} kW","layout":"row-left","x":910,"y":320,"wires":[]},{"id":"a817cfa5.511e8","type":"function","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":320,"wires":[["4dd28667.4d3228"]]},{"id":"fcbdbd87.d3c7c","type":"change","z":"68deacdf.9a36f4","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_A_Reactive_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":280,"wires":[["c753b3ad.b9f2e"]]},{"id":"691dc907.01f6e8","type":"switch","z":"68deacdf.9a36f4","name":"Filtro de mensajes no nulos","property":"payload.Phase_A_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":280,"wires":[["fcbdbd87.d3c7c"]]},{"id":"1194dd09.5831a3","type":"change","z":"68deacdf.9a36f4","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_A_Apparent_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":320,"wires":[["a817cfa5.511e8"]]},{"id":"dd62494b.f95fb8","type":"switch","z":"68deacdf.9a36f4","name":"Filtro de mensajes no nulos","property":"payload.Phase_A_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":320,"wires":[["1194dd09.5831a3"]]},{"id":"73976f.0a9dc89","type":"ui_text","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","group":"12d8ae87.47ccb1","order":4,"width":"3","height":"1","name":"","label":"P. Reactiva:","format":"{{msg.payload}} kW","layout":"row-left","x":910,"y":610,"wires":[]},{"id":"cec407bf.09ddd8","type":"ui_text","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","group":"12d8ae87.47ccb1","order":4,"width":"3","height":"1","name":"","label":"P. Aparente:","format":"{{msg.payload}} kW","layout":"row-left","x":910,"y":650,"wires":[]},{"id":"66769b21.dc3c64","type":"function","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":610,"wires":[["73976f.0a9dc89"]]},{"id":"4ee1b909.1e4848","type":"change","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_B_Reactive_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":610,"wires":[["66769b21.dc3c64"]]},{"id":"e25dd195.b371f","type":"switch","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"Filtro de mensajes no nulos","property":"payload.Phase_B_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":610,"wires":[["4ee1b909.1e4848"]]},{"id":"286d483f.0ea858","type":"function","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":650,"wires":[["cec407bf.09ddd8"]]},{"id":"a07432ba.c3a58","type":"change","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_B_Apparent_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":650,"wires":[["286d483f.0ea858"]]},{"id":"ed92d6cb.2a3df8","type":"switch","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"Filtro de mensajes no nulos","property":"payload.Phase_B_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":650,"wires":[["a07432ba.c3a58"]]},{"id":"6fa68302.f9f80c","type":"ui_text","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","group":"1e504599.f4523a","order":4,"width":"3","height":"1","name":"","label":"P. Reactiva:","format":"{{msg.payload}} kW","layout":"row-left","x":910,"y":940,"wires":[]},{"id":"f1bd4768.9e54f8","type":"ui_text","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","group":"1e504599.f4523a","order":4,"width":"3","height":"1","name":"","label":"P. Aparente:","format":"{{msg.payload}} kW","layout":"row-left","x":910,"y":980,"wires":[]},{"id":"4543cb3e.14d874","type":"function","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":940,"wires":[["6fa68302.f9f80c"]]},{"id":"e6e966a4.4877c8","type":"change","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_C_Reactive_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":940,"wires":[["4543cb3e.14d874"]]},{"id":"1a34b374.22694d","type":"switch","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"Filtro de mensajes no nulos","property":"payload.Phase_C_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":940,"wires":[["e6e966a4.4877c8"]]},{"id":"3183ed9b.8b0852","type":"function","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":980,"wires":[["f1bd4768.9e54f8"]]},{"id":"342df040.01481","type":"change","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_C_Apparent_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":980,"wires":[["3183ed9b.8b0852"]]},{"id":"da7f03bf.c7ba8","type":"switch","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"Filtro de mensajes no nulos","property":"payload.Phase_C_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":980,"wires":[["342df040.01481"]]},{"id":"ba7b72e6.baa57","type":"ui_text","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","group":"95ebb133.30cd2","order":4,"width":"3","height":"1","name":"","label":"P. Reactiva:","format":"{{msg.payload}} kW","layout":"row-left","x":910,"y":1270,"wires":[]},{"id":"eb302766.dd2458","type":"function","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":1270,"wires":[["ba7b72e6.baa57"]]},{"id":"4ba40436.934e4c","type":"change","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Total_Reactive_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":1270,"wires":[["eb302766.dd2458"]]},{"id":"a9e26213.423fd","type":"switch","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"Filtro de mensajes no nulos","property":"payload.Total_System_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":1270,"wires":[["4ba40436.934e4c"]]},{"id":"475abd9e.9bf4e4","type":"ui_text","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","group":"95ebb133.30cd2","order":4,"width":"3","height":"1","name":"","label":"P. Aparente:","format":"{{msg.payload}} kW","layout":"row-left","x":910,"y":1310,"wires":[]},{"id":"d4bcf7a7.d05408","type":"function","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":1310,"wires":[["475abd9e.9bf4e4"]]},{"id":"33f5cd40.f3a7a2","type":"change","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Total_Apparent_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":1310,"wires":[["d4bcf7a7.d05408"]]},{"id":"7256252a.cc829c","type":"switch","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"Filtro de mensajes no nulos","property":"payload.Total_System_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":1310,"wires":[["33f5cd40.f3a7a2"]]},{"id":"4b8022fc.adafac","type":"ui_text","z":"68deacdf.9a36f4","group":"16814f42.3918e1","order":4,"width":"3","height":"1","name":"","label":"LN:","format":"{{msg.payload}} V","layout":"row-left","x":1350,"y":410,"wires":[]},{"id":"bcfea21e.f9991","type":"ui_text","z":"68deacdf.9a36f4","group":"21c40e15.4edac2","order":4,"width":"3","height":"1","name":"","label":"LN:","format":"{{msg.payload}} V","layout":"row-left","x":1350,"y":450,"wires":[]},{"id":"a485c516.c57ad8","type":"ui_text","z":"68deacdf.9a36f4","group":"6fb426b2.734468","order":4,"width":"3","height":"1","name":"","label":"LN:","format":"{{msg.payload}} V","layout":"row-left","x":1350,"y":490,"wires":[]},{"id":"54e017e0.df4758","type":"ui_text","z":"68deacdf.9a36f4","group":"baeb19e9.7b41b8","order":4,"width":"3","height":"1","name":"","label":"LN:","format":"{{msg.payload}} V","layout":"row-left","x":1350,"y":530,"wires":[]},{"id":"c0fb687d.239f18","type":"ui_text","z":"68deacdf.9a36f4","group":"8f162ab5.03e8a8","order":4,"width":"3","height":"1","name":"","label":"LN:","format":"{{msg.payload}} V","layout":"row-left","x":1350,"y":570,"wires":[]},{"id":"b60f1b5e.dde938","type":"inject","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"","props":[{"p":"payload"}],"repeat":"5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1240,"y":310,"wires":[["129122b4.094cdd"]]},{"id":"129122b4.094cdd","type":"change","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"Drive Status At_Setpt_Spd","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::Drive_Status.At_Setpt_Spd","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":310,"wires":[["11a10d4c.006a73"]]},{"id":"11a10d4c.006a73","type":"switch","z":"3df4c8d9.0bdc38","g":"6150cb44.a8b4c4","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"eq","v":"1","vt":"num"}],"checkall":"true","repair":false,"outputs":2,"x":1620,"y":310,"wires":[["24d63075.18d42"],["2ca548ea.1de6d8"]]},{"id":"18b7ec9d.857c53","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"RPM_Hz","func":"var Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\n// Frecuencia Drive\nmsg.payload = parseFloat(((msg.payload * P* Rel)/((1-slip)*120)).toFixed(3));\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":1260,"wires":[["19a2b155.ff424f"]]},{"id":"1ac6c21e.e50dbe","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"RPM_Hz","func":"var Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\n// Frecuencia Drive\nmsg.payload = parseFloat(((msg.payload * P* Rel)/((1-slip)*120)).toFixed(3));\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":1560,"wires":[["a9bbfe07.11d31"]]},{"id":"21b10d96.275432","type":"function","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"RPM_Hz","func":"var Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\n// Frecuencia Drive\nmsg.payload = parseFloat(((msg.payload * P* Rel)/((1-slip)*120)).toFixed(3));\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":870,"y":2600,"wires":[["eb7c6393.8c838"]]},{"id":"95ba5bc8.730648","type":"change","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Estado Funciones de control","rules":[{"t":"set","p":"#:(memoryOnly)::Funciones_control_activas.Incremento_prolongado","pt":"global","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":460,"wires":[[]]},{"id":"a0fa86d.e053b78","type":"change","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Estado Funciones de control","rules":[{"t":"set","p":"#:(memoryOnly)::Funciones_control_activas.Incremento_prolongado","pt":"global","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":930,"y":500,"wires":[[]]},{"id":"d521fa7d.be0208","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Estado Funciones de control","rules":[{"t":"set","p":"#:(memoryOnly)::Funciones_control_activas.Arranque_escalonado","pt":"global","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":750,"y":1140,"wires":[[]]},{"id":"864e753a.a4d358","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Estado Funciones de control","rules":[{"t":"set","p":"#:(memoryOnly)::Funciones_control_activas.Arranque_escalonado","pt":"global","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":1660,"wires":[[]]},{"id":"afa8e49c.0a9318","type":"link out","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"","links":["f4b1a463.2501b8"],"x":685,"y":460,"wires":[]},{"id":"6af3aebb.d62aa","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","links":["f4b1a463.2501b8"],"x":965,"y":1620,"wires":[]},{"id":"b130bfc6.1176","type":"delay","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":730,"y":500,"wires":[["a0fa86d.e053b78"]]},{"id":"f4b1a463.2501b8","type":"link in","z":"e86f0ca4.7feb5","g":"16a83ca.2899cc3","name":"Referencia funcion de control","links":["afa8e49c.0a9318","6af3aebb.d62aa"],"x":4375,"y":1630,"wires":[["33e6cf98.a413f"]]},{"id":"bb39aa69.c4e278","type":"delay","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1010,"y":1660,"wires":[["864e753a.a4d358"]]},{"id":"4fcf58e7.9552e8","type":"function","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Hz_RPM","func":"var Nameplate = global.get(\"Motor_Control\").Nameplate;\nNr      = Nameplate.RPM;\nRel     = global.get(\"Relacion_Reduccion\")||1;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\nmsg.payload = Math.round((120 * msg.payload * (1-slip))/(P*Rel));\n\n// Retornar nada si el resultado no es un número\nif(isNaN(msg.payload)){\n    return;\n}\nelse{\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3850,"y":490,"wires":[["aa7c5a54.076d28"]]},{"id":"efd9769a.59f568","type":"switch","z":"669c188.bd26ee8","name":"Setpoint","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"HH Setpoint","vt":"str"},{"t":"eq","v":"H Setpoint","vt":"str"},{"t":"eq","v":"L Setpoint","vt":"str"},{"t":"eq","v":"LL Setpoint","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":360,"y":120,"wires":[["f083e8b.d8ea818"],["59f0266c.0ef2e8"],["ffbfdd52.901dd"],["f13104af.0c2808"]]},{"id":"2937bd81.e5c532","type":"switch","z":"669c188.bd26ee8","name":"Enable","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"HH EN","vt":"str"},{"t":"eq","v":"H EN","vt":"str"},{"t":"eq","v":"L EN","vt":"str"},{"t":"eq","v":"LL EN","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":370,"y":280,"wires":[["c6db5d90.e42ac"],["7d33861.6b21f78"],["9eccc6bf.eabac8"],["930a0e14.986eb"]]},{"id":"634c5f4b.e2a1f","type":"switch","z":"669c188.bd26ee8","name":"Death Time","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"HH DT","vt":"str"},{"t":"eq","v":"H DT","vt":"str"},{"t":"eq","v":"L DT","vt":"str"},{"t":"eq","v":"LL DT","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":350,"y":440,"wires":[["8ee0ab06.bdea28"],["5a7cd68f.d27db8"],["7affa15d.4c6d7"],["8c817b58.77b828"]]},{"id":"f083e8b.d8ea818","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"HHSetpoint","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":550,"y":60,"wires":[[]]},{"id":"59f0266c.0ef2e8","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"HSetpoint","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":550,"y":100,"wires":[[]]},{"id":"ffbfdd52.901dd","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"LSetpoint","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":550,"y":140,"wires":[[]]},{"id":"f13104af.0c2808","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"LLSetpoint","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":550,"y":180,"wires":[[]]},{"id":"c6db5d90.e42ac","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"HHEN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":220,"wires":[[]]},{"id":"7d33861.6b21f78","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"HEN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":260,"wires":[[]]},{"id":"9eccc6bf.eabac8","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"LEN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":300,"wires":[[]]},{"id":"930a0e14.986eb","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"LLEN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":340,"wires":[[]]},{"id":"8ee0ab06.bdea28","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"HHDT","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":380,"wires":[[]]},{"id":"5a7cd68f.d27db8","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"HDT","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":420,"wires":[[]]},{"id":"7affa15d.4c6d7","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"LDT","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":460,"wires":[[]]},{"id":"8c817b58.77b828","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"LLDT","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":500,"wires":[[]]},{"id":"f53fe206.8d465","type":"function","z":"669c188.bd26ee8","name":"Protection Function","func":"var Active  = global.get(\"Drive_Status.Active\",\"memoryOnly\")||0 == 1 ? true:false;\nvar Accel   = global.get(\"Drive_Status.Accel\",\"memoryOnly\") ||0 == 1 ? true:false;\nvar Decel   = global.get(\"Drive_Status.Decel\",\"memoryOnly\") ||0 == 1 ? true:false;\n\n// Setpoints\nvar HHSetpoint  = flow.get(\"HHSetpoint\")||0;\nvar HSetpoint   = flow.get(\"HSetpoint\")||0;\nvar LSetpoint   = flow.get(\"LSetpoint\")||0;\nvar LLSetpoint  = flow.get(\"LLSetpoint\")||0;\n\n// Enablers\nvar HH_EN       = flow.get(\"HHEN\")||false;\nvar H_EN        = flow.get(\"HEN\")||false;\nvar L_EN        = flow.get(\"LEN\")||false;\nvar LL_EN       = flow.get(\"LLEN\")||false;\n\n// Death times\nvar HHDeathTime = flow.get(\"HHDT\")||0;\nvar HDeathTime  = flow.get(\"HDT\")||0;\nvar LDeathTime  = flow.get(\"LDT\")||0;\nvar LLDeathTime = flow.get(\"LLDT\")||0;\n\n// Value\nvar CurrentValue = msg.payload;\n\nif(CurrentValue >= HHSetpoint && HH_EN === true){\n    msg.disp = true;\n    msg.alrm = false;\n    msg.message = \"Trigger by HH Protection\";\n    msg.delay = HHDeathTime * 1000;\n    msg.state = 4;\n}\nelse if(CurrentValue >= HSetpoint && H_EN === true){\n    msg.disp = false;\n    msg.alrm = true;\n    msg.message = \"Alarm by H Protection\";\n    msg.delay = HDeathTime * 1000;\n    msg.state = 2;\n}\nelse if(CurrentValue <= LLSetpoint && LL_EN === true && Active && !Accel && !Decel){\n    msg.disp = true;\n    msg.alrm = false;\n    msg.message = \"Trigger by LL Protection\"\n    msg.delay = LLDeathTime * 1000;\n    msg.state = 3;\n}\nelse if(CurrentValue <= LSetpoint && L_EN === true && Active && !Accel && !Decel){\n    msg.disp = false;\n    msg.alrm = true;\n    msg.message = \"Alarm by L Protection\";\n    msg.delay = LDeathTime * 1000;\n    msg.state = 1;\n}\nelse{\n    msg.disp = false;\n    msg.alrm = false;\n    msg.message = \"Normal condition\";\n    msg.reset = true;\n    msg.state= 0;\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":550,"y":540,"wires":[["4902be9c.2fed1","23082cfc.d45a84","d4569417.37c858","166fc0d1.96b29f"]]},{"id":"f1812910.8d9828","type":"switch","z":"669c188.bd26ee8","name":"Value","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"value","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":370,"y":540,"wires":[["f53fe206.8d465"]]},{"id":"4902be9c.2fed1","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"message","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":790,"y":640,"wires":[[]]},{"id":"23082cfc.d45a84","type":"function","z":"669c188.bd26ee8","name":"TON Disp","func":"var Act = msg.disp;\nvar Ant = context.get(\"Anterior\")||false;\nvar Output = { \n    payload: false,\n    Mensaje: msg.message\n};\n\n// Actualizar el contexto\ncontext.set(\"Anterior\", Act);\n\n//Flanco de subida\nif(Act === true && Ant === false){\n    context.set(\"RefTime\", Date.now());\n}\nelse if(Act === true && Ant === true){\n    if(Date.now() - context.get(\"RefTime\") >= msg.delay){\n        Output.payload = true;\n    }\n}\nreturn Output;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":770,"y":540,"wires":[["2d046e10.e8de02","863970a6.f49b7"]]},{"id":"d4569417.37c858","type":"function","z":"669c188.bd26ee8","name":"TON Alrm","func":"var Act = msg.alrm;\nvar Ant = context.get(\"Anterior\")||false;\nvar Output = { \n    payload: false,\n    Mensaje: msg.message\n};\n\n// Actualizar el contexto\ncontext.set(\"Anterior\", Act);\n\n//Flanco de subida\nif(Act === true && Ant === false){\n    context.set(\"RefTime\", Date.now());\n}\nelse if(Act === true && Ant === true){\n    if(Date.now() - context.get(\"RefTime\") >= msg.delay){\n        Output.payload = true;\n    }\n}\nreturn Output;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":770,"y":590,"wires":[["cdde7275.33839"]]},{"id":"cdde7275.33839","type":"rbe","z":"669c188.bd26ee8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":900,"y":590,"wires":[["e8d0ffe2.c759e"]]},{"id":"e8d0ffe2.c759e","type":"switch","z":"669c188.bd26ee8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1020,"y":590,"wires":[[]]},{"id":"2d046e10.e8de02","type":"rbe","z":"669c188.bd26ee8","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":900,"y":540,"wires":[["f8001e7b.b1dab"]]},{"id":"f8001e7b.b1dab","type":"switch","z":"669c188.bd26ee8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1020,"y":540,"wires":[[]]},{"id":"863970a6.f49b7","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Topic","tot":"env"}],"action":"","property":"","from":"","to":"","reg":false,"x":930,"y":500,"wires":[[]]},{"id":"166fc0d1.96b29f","type":"change","z":"669c188.bd26ee8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"state","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":790,"y":690,"wires":[[]]},{"id":"9507ffef.f9eaf","type":"subflow:669c188.bd26ee8","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Protección de carga","env":[{"name":"Topic","value":"1","type":"num"}],"x":610,"y":440,"wires":[["767cdd32.f3dfc4"],["3c6e6977.ced646"],["9556df44.42ebb"]]},{"id":"6ef8501d.b3e97","type":"debug","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":590,"y":380,"wires":[]},{"id":"f88f8130.d51b2","type":"function","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"str2num","func":"msg.payload = parseFloat(msg.payload);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":410,"y":380,"wires":[["9507ffef.f9eaf"]]},{"id":"45b3b2f600360f52","type":"change","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","rules":[{"t":"set","p":"Ultima_Referencia","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1530,"y":400,"wires":[[]]},{"id":"54e174587267408e","type":"debug","z":"e86f0ca4.7feb5","g":"16a83ca.2899cc3","name":"","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"payload","statusType":"auto","x":4800,"y":1560,"wires":[]},{"id":"654b1ab8.d36814","type":"link out","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"Rpm_hz_main","links":["fd4f0667.251c08"],"x":4465,"y":280,"wires":[]},{"id":"fd4f0667.251c08","type":"link in","z":"e86f0ca4.7feb5","g":"6f673d7.00debc4","name":"","links":["654b1ab8.d36814"],"x":3015,"y":2970,"wires":[["612cc7cf.567ad8"]]},{"id":"827a7638.d6dd28","type":"debug","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"","active":true,"tosidebar":true,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"payload","statusType":"auto","x":1940,"y":490,"wires":[]},{"id":"720c784d.44dff8","type":"switch","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"60","vt":"str"},{"t":"gte","v":"60","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1250,"y":480,"wires":[["a4829f7d.87894"],["2a2f210f.aad5be"]]},{"id":"4eae5683.c6d3c8","type":"ui_toast","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","position":"top right","displayTime":"3","highlight":"","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1640,"y":490,"wires":[]},{"id":"2a2f210f.aad5be","type":"change","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Referencia fuera de rango ","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":490,"wires":[["4eae5683.c6d3c8"]]},{"id":"e2826c41.04335","type":"debug","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"payload","statusType":"auto","x":1940,"y":1080,"wires":[]},{"id":"435a2978.250678","type":"function","z":"e86f0ca4.7feb5","d":true,"g":"5c3a9c15.3a4554","name":"","func":"var value = msg.payload\nvar EA = flow.get('ES').EA || null;\n\n\nvar anterior = flow.get(\"delta\",\"memoryOnly\")||0;\nnode.status({fill:\"green\",shape:\"dot\",text:anterior});\n    ang=parseFloat(value.toFixed(1));\n    // Asignar payload\n    \n    trunc_Hz =Math.trunc(ang);\n    \n    \n    algo=anterior-trunc_Hz;\n    \n     if(algo>=0.8 || algo<=-0.8){\n        msg.payload=trunc_Hz;\n        flow.set(\"delta\",trunc_Hz,\"memoryOnly\");\n        node.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n        return msg;\n        \n                    \n    }\n    \n    //esc = (60*(msg.payload-r_min)/r_max);\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1960,"y":640,"wires":[["95efa56e.233d78"]]},{"id":"6ee54c76.5e9a84","type":"inject","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Analog In0","props":[{"p":"payload"}],"repeat":"0.8","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"#:(memoryOnly)::C2S.Anlg_In0_Value","payloadType":"global","x":1780,"y":1020,"wires":[["be12ad7.928595"]]},{"id":"fd4a004d.1bf35","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = global.get('C2S.Anlg_In0_Value','memoryOnly') || 0;\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\n\n// Rango del valor a mapear\n// var SCAL = 60*(EA/20);\n msg.payload = Escalizar([4, 20],EA)\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n return msg;\n function Escalizar(a,value){\n     b = [0,60];\n     // Mapeo\n     if(b !== null && typeof a[0] == 'number' && typeof a[1] == 'number' ){\n         var t = b[0] + ((Math.abs(value) - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n         \n        \n         // Saturación\n         if(t > b[1]){    \n             t = b[1];\n         }\n         else if(t < b[0]){ \n             t = b[0];\n         }\n         // Asignar payload\n        return t.toFixed(0);\n     }\n     else {\n         // Asignar payload\n         return 0;\n     }\n }\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2160,"y":1020,"wires":[["6852949f.2b2fac","69b4483c.a39a08"]]},{"id":"be12ad7.928595","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Round","func":"var filter = context.get(\"filter\",\"memoryOnly\")||[10,11,12,13,14];\nfilter.shift();\nfilter.push(parseFloat((msg.payload*1.0033).toFixed(1)));\ncontext.set(\"filter\",filter,\"memoryOnly\");\nmsg.payload = filter[4];\nif((filter[0]==filter[1])&&(filter[1]==filter[2])&&(filter[2]==filter[3])&&(filter[3]==filter[4]))\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1940,"y":1020,"wires":[["fd4a004d.1bf35","e2826c41.04335"]]},{"id":"1305b2ed.1b6f1d","type":"link in","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Remote Stop ","links":["782235ec.980bfc"],"x":3645,"y":550,"wires":[["eb2a9f36.96637"]]},{"id":"a2e9dd68.3a78","type":"link in","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Arranque remoto","links":["fe53aea5.79aaf"],"x":3645,"y":520,"wires":[["6e311205.1a499c"]]},{"id":"ba862a95.d45a28","type":"ui_toast","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"ACEPTAR","cancel":"CANCELAR","raw":false,"topic":"","name":"","x":620,"y":1140,"wires":[["56cf1943.488278"]]},{"id":"798c5785.149488","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Arranque","func":"msg.payload=\"Start\";\nmsg.topic=\"Basic\";\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":920,"y":1140,"wires":[["d4aceefa.55a6d","f7bbcee0.96201","f87a07cd.22b318"]]},{"id":"a64d37de.e6dbb8","type":"function","z":"5f404c88.fa75a4","name":"","func":"reference=global.get(\"Prolonged_Reference.Reference\")||0;\n\nmsg.payload=\"¿Desea arrancar el motor con una referencia de \"+reference+\" Hz?\";\n    \n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":460,"y":1140,"wires":[["ba862a95.d45a28"]]},{"id":"56cf1943.488278","type":"switch","z":"5f404c88.fa75a4","name":"Aceptar","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"ACEPTAR","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":780,"y":1140,"wires":[["798c5785.149488"]]},{"id":"51710fb1.fb291","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Int to IEEE 754","func":"v = new DataView(new ArrayBuffer(4));\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n\nmsg.payload = msg.payload.toString(16);\nv.setUint32(0, '0x'+ msg.payload);\n//node.status({fill:\"green\",shape:\"dot\",text:v.getFloat32(0)});\n\nmsg.payload = v.getFloat32(0);\n\nreturn msg;\n\n// Fuentes:\n// https://stackoverflow.com/questions/41635908/node-red-parsing-json-data-and-converting-it-into-binary\n// https://stackoverflow.com/questions/49221045/javascript-hexadecimal-string-to-ieee-754-floating-point","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1810,"y":960,"wires":[[]]},{"id":"1d62e869.d5e798","type":"debug","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"payload","statusType":"auto","x":2460,"y":940,"wires":[]},{"id":"b4ef9f7b.b3569","type":"change","z":"827787d0.ede678","g":"64ff74e5.f4c53c","name":"to home","rules":[{"t":"set","p":"payload","pt":"msg","to":"0","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":830,"y":400,"wires":[["b176ecba.94d95"]]},{"id":"b176ecba.94d95","type":"link out","z":"827787d0.ede678","g":"64ff74e5.f4c53c","name":"","links":["805762db.d27b7"],"x":935,"y":400,"wires":[]},{"id":"69f93ba5.ab0f74","type":"debug","z":"5f404c88.fa75a4","g":"dde9e22c.88ef2","name":"","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"payload.Anlg_In0_Value","targetType":"msg","statusVal":"payload","statusType":"auto","x":3550,"y":210,"wires":[]},{"id":"e460615d.afd65","type":"link out","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","links":["e18d6bff.2e8478","bb6251eb.8edc2"],"x":745,"y":180,"wires":[]},{"id":"bb6251eb.8edc2","type":"link in","z":"827787d0.ede678","g":"64ff74e5.f4c53c","name":"","links":["e460615d.afd65"],"x":765,"y":350,"wires":[["b4ef9f7b.b3569"]]},{"id":"6852949f.2b2fac","type":"debug","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"payload","statusType":"auto","x":2240,"y":1080,"wires":[]},{"id":"69b4483c.a39a08","type":"switch","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"","property":"payload","propertyType":"msg","rules":[{"t":"btwn","v":"Speed_Control.MinLimit","vt":"global","v2":"Speed_Control.MaxLimit","v2t":"global"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":2330,"y":1020,"wires":[["e00639ac.bbe708"],["1237d11d.014d9f"]]},{"id":"52ca24e6.55d4cc","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"notif","rules":[{"t":"set","p":"payload","pt":"msg","to":"Referencia  por entrada analógica fuera de límites","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"ref. remota","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":2440,"y":1090,"wires":[["d99a83cd.a0306","a5237645.ed83c8"]]},{"id":"d99a83cd.a0306","type":"ui_toast","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","position":"top right","displayTime":"3","highlight":"red","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"notif","x":2560,"y":1130,"wires":[]},{"id":"a5237645.ed83c8","type":"link out","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"","links":["59e817c2.295b38"],"x":2525,"y":1090,"wires":[]},{"id":"1237d11d.014d9f","type":"rbe","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":2450,"y":1030,"wires":[["52ca24e6.55d4cc"]]},{"id":"55f10b8e.5e4304","type":"inject","z":"ef673f81.6ec95","g":"930e8c82.187a1","name":"restart Kiosk","props":[{"p":"payload"}],"repeat":"","crontab":"00 06 * * *","once":false,"onceDelay":0.1,"topic":"","payload":"sudo systemctl restart kiosk","payloadType":"str","x":840,"y":480,"wires":[["71568f8f.c4daf"]]},{"id":"71568f8f.c4daf","type":"exec","z":"ef673f81.6ec95","g":"930e8c82.187a1","command":"","addpay":true,"append":"","useSpawn":"false","timer":"0.5","oldrc":false,"name":"","x":990,"y":480,"wires":[[],[],[]]},{"id":"94552363ac04ccfa","type":"modbus-flex-connector","z":"ef673f81.6ec95","g":"562a3cb193226c87","name":"","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":false,"showErrors":false,"server":"f630cb55.8d18e8","x":990,"y":580,"wires":[[]]},{"id":"f2171731a54fc371","type":"inject","z":"ef673f81.6ec95","g":"562a3cb193226c87","name":"","props":[{"p":"payload.serialPort","v":"/dev/serial0","vt":"str"},{"p":"payload.connectorType","v":"SERIAL","vt":"str"}],"repeat":"1800","crontab":"","once":true,"onceDelay":"10","topic":"","payloadType":"str","x":810,"y":580,"wires":[["94552363ac04ccfa"]]},{"id":"98c32ee0a85b9ad7","type":"modbus-flex-connector","z":"ef673f81.6ec95","g":"4c4d7cad.e0e954","name":"","maxReconnectsPerMinute":4,"emptyQueue":false,"showStatusActivities":false,"showErrors":false,"server":"ae58460d.12c698","x":990,"y":680,"wires":[[]]},{"id":"d6617fe34e1242e1","type":"inject","z":"ef673f81.6ec95","g":"4c4d7cad.e0e954","name":"","props":[{"p":"payload.tcpHost","v":"192.168.2.13","vt":"str"},{"p":"payload.connectorType","v":"TCP","vt":"str"}],"repeat":"1800","crontab":"","once":true,"onceDelay":"10","topic":"","payloadType":"str","x":810,"y":680,"wires":[["98c32ee0a85b9ad7"]]},{"id":"13650405.f39a9c","type":"function","z":"5f404c88.fa75a4","g":"9beaad60.30803","name":"Torque nominal del sistema","func":"var Rel = global.get(\"Relacion_Reduccion\");\nvar Nameplate = global.get(\"Motor_Control\").Nameplate;\n\nNr      = Nameplate.RPM;\nPower   = Nameplate.Power;\n\nT       = parseFloat(((5252 * Power * Rel)/(Nr)).toFixed(2)); \n\nif(isNaN(T)){\n    T = 0;\n}\nmsg.payload =T;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":4690,"y":680,"wires":[["2b068147.e7d22e"]]},{"id":"2b068147.e7d22e","type":"ui_text","z":"5f404c88.fa75a4","g":"9beaad60.30803","group":"8370e95f.f0a918","order":9,"width":4,"height":2,"name":"","label":"Torque nominal","format":"<font size = 6px> {{msg.payload}} Lbft","layout":"col-center","x":4910,"y":680,"wires":[]}]