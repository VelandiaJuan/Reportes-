[{"id":"5f404c88.fa75a4","type":"tab","label":"Funcion principal","disabled":false,"info":""},{"id":"e86f0ca4.7feb5","type":"tab","label":"Perifericos","disabled":false,"info":""},{"id":"6c7d2db7.37ef34","type":"tab","label":"Protecciones","disabled":false,"info":""},{"id":"43b51d90.0b47f4","type":"tab","label":"Configuración VSD","disabled":false,"info":""},{"id":"ef673f81.6ec95","type":"tab","label":"SWC","disabled":false,"info":""},{"id":"8528a254.70837","type":"tab","label":"Eventos/Alarmas","disabled":false,"info":""},{"id":"827787d0.ede678","type":"tab","label":"Usuarios","disabled":false,"info":""},{"id":"68deacdf.9a36f4","type":"tab","label":"Datos","disabled":false,"info":""},{"id":"5ef5b1ce.d3899","type":"tab","label":"Navegación","disabled":false,"info":""},{"id":"d35c32b9.6419b","type":"tab","label":"Datalogger","disabled":false,"info":""},{"id":"3df4c8d9.0bdc38","type":"tab","label":"Funciones de control","disabled":false,"info":""},{"id":"e6c9d18.fc90f3","type":"tab","label":"modbus","disabled":false,"info":""},{"id":"2f52b784.7e042","type":"tab","label":"Libreria","disabled":false,"info":""},{"id":"ed83123a.a1745","type":"subflow","name":"VSDBasic","info":"# Información\nUn Subflujo que escribe commandos de Start, Stop, Reset y Sentido de giro a un Drive PowerFlex 755.\n\n\n**Requiere que se declare la variable global \"IP\".**\n\n# Entradas\n\n## Start, Stop, Reset.\nEl topic del mensaje debe ser \"Basic\" y el payload debe contener el commando deseado\n\"Start\", \"Stop\" o \"Reset\".\n\n## Sentido de giro.\nEl topic del mensaje debe ser \"Direction\" y el payload debe contener un valor de tipo bool.\n\n0 = Forward.\n1 = Reverse.\n\n# Salidas\n\nEl msg.payload contiene el equivalente decimal de la palabra de commando.\n\nEl msg completo contiene además:\n - Tema inyectado.\n - Commando deseado.\n - Sentido de giro solicitado.\n - buffer en binario de la palabra de control.","category":"VSD","in":[{"x":60,"y":160,"wires":[{"id":"f21a3359.cabb8"}]}],"out":[{"x":1500,"y":120,"wires":[{"id":"f7ea2ba1.d56728","port":2}]}],"env":[],"color":"#E9967A","icon":"font-awesome/fa-share-square","status":{"x":920,"y":140,"wires":[{"id":"212f0e9f.602f22","port":0}]}},{"id":"c32b74bc.a74b98","type":"subflow","name":"VSDParam","info":"# Información\nUn Subflujo que escribe parámetros a un Drive PowerFlex 755.\n\n\n**Requiere que se declare la variable global \"IP\".**\n\n# Entradas\n\n## Parámetro.\nEl topic del mensaje debe ser \"Parameter\" y el payload es el número del parámetro que se desea modificar\n\n## Dato a escribir.\nEl topic del mensaje debe ser \"Data\" y el payload debe contener el valor a escribir\n\n## Tipo de Dato.\nEl topic del mensaje deber ser \"Datatype\" y el payload debe contener el tipo de dato deseado entre los siguientes disponibles.\n\n\"REAL\", \"INT\", \"DINT\"\n\n## Dirección IP.\nEl topic del mensaje debe ser \"IP\" el payload es un string con el valor completo de la dirección IP.\n\nEjemplo: 192.168.2.10\n\n# Salidas.\n\nA la salida del nodo se obtiene el código de error proveniente del bloque interno de escritura de commandos.\n\ncode =0; Parámetro escrito correctamente.\n\ncode != 0; Error de escritura de parámetro","category":"VSD","in":[{"x":120,"y":100,"wires":[{"id":"c18f6110.baf78"}]}],"out":[{"x":700,"y":160,"wires":[{"id":"72fd7ed.498238","port":2}]}],"env":[],"color":"#E9967A","icon":"font-awesome/fa-wrench"},{"id":"11d568a7.09a5c7","type":"subflow","name":"SWC_OS","info":"","category":"SWC OS","in":[{"x":140,"y":110,"wires":[{"id":"1083899a.1b4716"},{"id":"9cc3f117.42857"}]}],"out":[{"x":620,"y":80,"wires":[{"id":"1083899a.1b4716","port":0}]},{"x":840,"y":130,"wires":[{"id":"3228637d.9e937c","port":0}]}],"env":[],"color":"#3FADB5","inputLabels":["Request"],"outputLabels":["CPU Temperature","CPU Freq"],"icon":"font-awesome/fa-desktop"},{"id":"bb78a8e.f8e5f58","type":"subflow","name":"VSDConfig","info":"","category":"VSD","in":[{"x":110,"y":180,"wires":[{"id":"aa3fafd7.15572"}]}],"out":[{"x":760,"y":180,"wires":[{"id":"7e6f340b.51d68c","port":0},{"id":"e5af86f9.f67c98","port":0},{"id":"39a68012.d603b","port":0},{"id":"78c6c402.eb8c0c","port":0}]}],"env":[],"color":"#E9967A","icon":"font-awesome/fa-line-chart"},{"id":"842d67ff.00f188","type":"subflow","name":"VSDRef","info":"","category":"VSD","in":[{"x":50,"y":40,"wires":[{"id":"603f9fa7.2436f"}]}],"out":[{"x":420,"y":40,"wires":[{"id":"1ab8ffa2.1e15e","port":0}]}],"env":[],"color":"#E9967A","icon":"node-red-dashboard/ui_gauge.png"},{"id":"1ae6c379.02ea3d","type":"subflow","name":"VSDWrite","info":"","category":"VSD","in":[{"x":60,"y":60,"wires":[{"id":"aa1b627f.089b4"}]}],"out":[{"x":640,"y":60,"wires":[{"id":"8c24ec8f.cf43c","port":2},{"id":"8c24ec8f.cf43c","port":0}]}],"env":[{"name":"Parameter","type":"num","value":"0","ui":{"icon":"font-awesome/fa-sort-numeric-asc","label":{"en-US":"Parámetro:"},"type":"input","opts":{"types":["num"]}}},{"name":"Datatype","type":"str","value":"REAL","ui":{"icon":"font-awesome/fa-file-text-o","label":{"en-US":"Tipo de dato:"},"type":"input","opts":{"types":["str"]}}}],"color":"#E9967A","icon":"font-awesome/fa-cogs"},{"id":"2657da37.013b66","type":"subflow","name":"User","info":"","category":"Users","in":[{"x":40,"y":90,"wires":[{"id":"f771788a.2843f8"}]}],"out":[{"x":530,"y":120,"wires":[{"id":"8f64c5d0.2e2de8","port":0},{"id":"7ac7e5a3.05d60c","port":0}]}],"env":[],"color":"#E9967A","icon":"font-awesome/fa-user-plus","status":{"x":710,"y":160,"wires":[{"id":"1c0ced5.0f93b13","port":0}]}},{"id":"6140c191.470ef","type":"subflow","name":"VSDRead","info":"","category":"VSD","in":[],"out":[{"x":940,"y":70,"wires":[{"id":"8375d89f.837d48","port":0}]},{"x":480,"y":110,"wires":[{"id":"415b57f5.4abad8","port":0}]}],"env":[],"color":"#E9967A","icon":"font-awesome/fa-inbox"},{"id":"f4a6b35e.fd0a3","type":"subflow","name":"Protection","info":"","category":"Protections","in":[{"x":150,"y":540,"wires":[{"id":"a15a7cb4.b3f51"},{"id":"e0f0c721.2f0368"},{"id":"600fc043.eaa6b"},{"id":"20131cf7.f33024"}]}],"out":[{"x":1190,"y":590,"wires":[{"id":"32df09df.1438a6","port":0},{"id":"f2e977d8.049be8","port":0}]},{"x":1190,"y":500,"wires":[{"id":"99413ec8.d0ac9","port":0}]}],"env":[{"name":"Topic","type":"num","value":"","ui":{"label":{"en-US":"Topic"},"type":"input","opts":{"types":["num"]}}}],"color":"#E9967A","outputLabels":["Eventos","Disparo"],"icon":"node-red/status.svg","status":{"x":960,"y":640,"wires":[{"id":"4e7c8a55.a1ffa4","port":0}]}},{"id":"46543e54.1f89d","type":"subflow","name":"DO Module","info":"","category":"SWC OS","in":[{"x":30,"y":30,"wires":[{"id":"ec6f2e76.31eb9"}]}],"out":[],"env":[{"name":"Channel","type":"num","value":"","ui":{"label":{"en-US":"Channel"},"type":"input","opts":{"types":["num"]}}}],"color":"#C0DEED","inputLabels":["Value"],"icon":"node-red/trigger.svg","status":{"x":450,"y":70,"wires":[{"id":"a561d7b5.e3c2e8","port":0}]}},{"id":"51296ca5.0c0cb4","type":"subflow","name":"DI Module","info":"","category":"SWC OS","in":[],"out":[{"x":360,"y":70,"wires":[{"id":"c9b9512f.10fa","port":0}]}],"env":[{"name":"Channel","type":"num","value":"","ui":{"type":"input","opts":{"types":["num"]}}}],"color":"#C0DEED","icon":"node-red/trigger.svg","status":{"x":360,"y":120,"wires":[{"id":"c9b9512f.10fa","port":0}]}},{"id":"4973034f.ff5fac","type":"subflow","name":"AI Module","info":"","category":"SWC OS","in":[],"out":[{"x":320,"y":30,"wires":[{"id":"3d932183.a9966e","port":0}]}],"env":[{"name":"Channel","type":"num","value":"","ui":{"type":"input","opts":{"types":["num"]}}}],"color":"#C0DEED","icon":"node-red-node-smooth/smooth.png","status":{"x":320,"y":80,"wires":[{"id":"3d932183.a9966e","port":0}]}},{"id":"c8b77ff3.ab501","type":"subflow","name":"VSDBasic","info":"","category":"VSD","in":[{"x":90,"y":200,"wires":[{"id":"d411e0cd.a63f9"}]}],"out":[{"x":1070,"y":190,"wires":[{"id":"d5c3f10c.5e2e1","port":0}]}],"env":[],"color":"#E9967A","icon":"font-awesome/fa-mail-forward","status":{"x":1070,"y":240,"wires":[{"id":"bfda390e.8957b8","port":0}]}},{"id":"e6caea2d.94f508","type":"subflow","name":"VSDReadPar","info":"","category":"VSD","in":[{"x":90,"y":70,"wires":[{"id":"430e037a.b0c2ec"}]}],"out":[{"x":590,"y":60,"wires":[{"id":"977ba8de.b9cf38","port":0}]}],"env":[{"name":"Parameter","type":"num","value":"","ui":{"label":{"en-US":"Parámetro"},"type":"input","opts":{"types":["num"]}}},{"name":"Datatype","type":"str","value":"REAL"}],"color":"#E9967A","icon":"node-red/parser-csv.svg"},{"id":"5613a5b2.95577c","type":"group","z":"5f404c88.fa75a4","name":"","style":{"fill":"#ffbfbf","label":true},"nodes":["69b90e27.12edb","eb3ef75e.1e44a8","c4dc63d8.59a54","c2aaaa39.b8ab38","94f98f25.8992","29dd54ff.f2d87c","850da070.cd3cc","62bf7dff.e31774","e55c5b8.eb47aa8","6cd658cf.98b1a8","6a2f1608.861eb8","52f10c12.555b24","fd9df9f7.0350c8"],"x":144,"y":9,"w":912,"h":242},{"id":"7b165c8f.b14834","type":"group","z":"5f404c88.fa75a4","name":"","style":{"fill":"#ffbfbf","label":true},"nodes":["a9a422de.89b49","3cc764fd.7e58cc","1acb0c29.0ddee4","d82f7fec.13595","1c5b5d3c.1c9023","5d2f7a98.356b04","6d286a3.7a9a594","62b08bc.a787d74","fce43241.9e843","8253c33e.847cf","96de9397.2cea6","41414c01.67ae34","3d596fc2.3c084","1ab4ef0d.3e8111","50cba2d0.099dec","179175a2.e04cba","2edc6015.2c551","4d5c72d.3ef098c","2623f9cb.362ad6"],"x":144,"y":259,"w":1712,"h":172},{"id":"3383e29e.9b29fe","type":"group","z":"ef673f81.6ec95","name":"","style":{"fill":"#bfdbef","label":true},"nodes":["798ac169.6edda","20490d7e.8acac2","88ac83a3.561a3","7b1383a8.719ecc","99ba02d4.713c2","4906fc64.1e6a14","4aca35c3.0308ac","1cb59f89.cf5d7","bd579703.22d958","1478ddff.860e02","98ca0b1c.cda4f8","bb03c26f.a7a22","b234b8c9.aaba78"],"x":14,"y":19},{"id":"6889f2bb.892f0c","type":"group","z":"68deacdf.9a36f4","name":"No tiene ninguna función","style":{"fill":"#000000","label":true,"fill-opacity":"0.5","color":"#ffffff"},"nodes":["930fca30.88a2b8","2f8b09f0.230796","8266a56b.0a72b8","6d168e3b.93824","44cc5158.334ef","1619e480.7045ec","e52ed370.116f8","acf7d8bf.d43438","20d8c8d2.e2f6b8","9f9c2227.c74c8","f61ffe92.c077c","4b867a44.bf9d94","fc478e83.c0618","9eac5e53.3d363","c1186f48.26051","fdfb1344.a0206","27355038.852fa","fca65212.ba6ab","e0a7f797.b92ac8","f3ff1be0.0961a8","df0c6998.ca0c18","84701751.827698","da5abb02.7375e8","c3be533b.65e24","36d73f7a.42644"],"x":1024,"y":19},{"id":"95e4279e.465018","type":"group","z":"68deacdf.9a36f4","name":"","style":{"fill":"#bfbfbf","fill-opacity":"0.5","label":true},"nodes":["3f228908.0d0696","58926891.1f2dd8","991382e7.7f2e6","91feb623.ce89e8","a035a752.10f9d8","195d3093.36368f"],"x":84,"y":13},{"id":"f7ed166d.1aa528","type":"group","z":"827787d0.ede678","name":"","style":{"fill":"#ffbfbf","fill-opacity":"0.5","label":true},"nodes":["f3c2e7cf.5ed158","eb91dac5.690838"],"x":18,"y":3},{"id":"6b3fc99d.7d45d8","type":"group","z":"e86f0ca4.7feb5","name":"","style":{"fill":"#bfc7d7","label":true},"nodes":["a6590a31.100138","856da30f.2df08","e9b62f95.1b77f","7342b43f.bedb2c","df476a8b.883118","3663f735.969b68","fb855c25.47e4a","38f71bea.eab544","babc7e0a.35af5","ef1ec9d.e6ba638","4933a716.e0ed08","ccd73af1.690d48"],"x":14,"y":19},{"id":"25cd4464.cad59c","type":"group","z":"ef673f81.6ec95","name":"","style":{"fill":"#bfdbef","label":true},"nodes":["4f35268e.5e9168","8034138b.0dc72","10568812.f7a178","9fc0b21f.a5027","13963619.b19a6a","1a75f72d.2bf409"],"x":4,"y":299},{"id":"c0366b36.2372f8","type":"group","z":"ef673f81.6ec95","name":"","style":{"fill":"#bfdbef","label":true},"nodes":["dad30d1f.4d19","afcd8074.a7f4c","f9b02319.63798","1f8da294.c0c84d","e6585c00.e504c","20f79db3.234842","77ee5b63.0c04b4","4667d023.b612f","2aac0837.208b38","cf1d9747.ddd4d8"],"x":14,"y":469},{"id":"e0133d8.e6db5c","type":"group","z":"5ef5b1ce.d3899","name":"","style":{"fill":"#bfc7d7","label":true},"nodes":["4c8f5a04.095bc4","abd0a82a.ab2348","7f485fc5.63768","90937545.972c78","2409fb72.507894"],"x":1744,"y":19},{"id":"31baddff.ea0922","type":"group","z":"8528a254.70837","name":"","style":{"fill":"#dbcbe7","label":true},"nodes":["5538dea3.2170d","ba93352a.05c2c8","71a2d93c.a0e7b8","9a7b58a2.fb2708","e8691e07.796b8","33074282.f772de","1de5018d.f87c5e","f4d7e7b4.768fa8","c3828a55.9caf08","4700d2e1.64485c","510145ab.b5bd4c","6dac98f7.ec5cb8","f2cccf9c.cf4c4","e36370f8.236cc","ea2cdff7.1ca41","453f1499.9c3efc","61696fdd.aa672","704ad7b8.7027e8","6a8c02f7.f4d81c"],"x":14,"y":239},{"id":"17775852.81dbf8","type":"group","z":"6c7d2db7.37ef34","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["54b245d3.9431dc","4b571a8f.d70524","888265d9.138288","58747709.2ffd98","51885913.764608","b7d3914a.2a17","a3b836be.d5cde8","35440cdc.e5d764","53806295.7831ac","dabbb1f4.9b65e"],"x":1608,"y":33},{"id":"7a498b99.415234","type":"group","z":"5ef5b1ce.d3899","name":"","style":{"fill":"#bfc7d7","label":true},"nodes":["c9848ab6.981718","ac1f5c0.f7b06a"],"x":18,"y":13},{"id":"7b6f4b41.106164","type":"group","z":"8528a254.70837","name":"","style":{"fill":"#dbcbe7","label":true},"nodes":["11f55817.139c18","cf57802e.7d258"],"x":4,"y":13},{"id":"f2c899e7.e9eac8","type":"group","z":"e86f0ca4.7feb5","name":"Configuración de entradas","style":{"label":true,"fill":"#bfc7d7","color":"#000000"},"nodes":["23bbdddc.b8c5c2","1027a10.a1e515f","15ca143a.56aa5c"],"x":32,"y":557},{"id":"c17de691.f363c8","type":"group","z":"e86f0ca4.7feb5","name":"Configuración de salidas","style":{"fill":"#bfc7d7","label":true,"color":"#000000"},"nodes":["38ea9e35.6d66c2","d22a2793.24a988","ac67f4df.445778"],"x":32,"y":2197},{"id":"68e6bb30.d1fce4","type":"group","z":"43b51d90.0b47f4","name":"","style":{"fill":"#ffbfbf","label":true},"nodes":["6cdd72bc.8124cc","a7e99088.c8108"],"x":269,"y":73},{"id":"43bab036.712ca","type":"group","z":"43b51d90.0b47f4","name":"","style":{"fill":"#ffbfbf","label":true},"nodes":["27c43941.e9e0c6","e9d2f5f0.86a518"],"x":269,"y":535},{"id":"27a0641a.d154dc","type":"group","z":"43b51d90.0b47f4","name":"","style":{"fill":"#ffbfbf","label":true},"nodes":["c41a251e.427c98","1306de9a.9ba341"],"x":268,"y":1237},{"id":"af9ea997.5900c8","type":"group","z":"43b51d90.0b47f4","name":"","style":{"fill":"#ffbfbf","label":true},"nodes":["b60351ac.2ba88","7b926503.10d39c"],"x":268,"y":1629},{"id":"8a04702.34fd29","type":"group","z":"43b51d90.0b47f4","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["6817551.a1c08ac","fa33f7fa.bf0bd8","824358e3.5e87b8","e1b497b2.06f878","8166c609.8e8328"],"x":1969,"y":75},{"id":"f7d4f68f.ac6a38","type":"group","z":"5ef5b1ce.d3899","name":"","style":{"fill":"#bfc7d7","label":true},"nodes":["25d1d69b.64e0ca","5073e01d.10857","d7658545.b7ac78","9132da2c.b8c6b8","f78dcb63.bde038","90ebdbed.1907a8","311890ad.cc4ed","f8e8eeb2.3f011","8a7f783.a732b88","8c3082f9.73975","215bed4c.7858c2"],"x":808,"y":13},{"id":"f981eb1b.025a78","type":"group","z":"6c7d2db7.37ef34","name":"Eventos Protecciones","style":{"label":true,"fill":"#c8e7a7"},"nodes":["2115be6e.78c1f2","4d6c53ee.a2fdec","d53d6da0.4e44f","db1e9db0.6840e","50e15d74.ddeaf4","728a8a65.02a3c4","d3023171.a64c3","4e8f42ac.3431ac"],"x":884,"y":29},{"id":"aa324282.4f554","type":"group","z":"6c7d2db7.37ef34","name":"Protección Torque","style":{"label":true,"fill":"#c8e7a7"},"nodes":["adffe9df.c5bb18","c47cc85b.26bd58","258395bf.b5730a","3a8d51e1.99e71e","1baa28a3.faa137","e25384d8.73d5b8","7dc0ec11.9f6af4","767cdd32.f3dfc4","3c6e6977.ced646"],"x":164,"y":209},{"id":"bf91bfd8.84eda","type":"group","z":"6c7d2db7.37ef34","name":"Protección Tensión","style":{"label":true,"fill":"#c8e7a7"},"nodes":["da6f04d.143ddf8","6501d3d3.4e2dec","a5fc5576.3f40e8","991fe40d.443e28","eb7629af.3f96d8","c098b366.21f6e","8ab99b43.236ef8","61a58376.7d0cec","3fe04302.c538cc"],"x":164,"y":29},{"id":"f58295c0.4d4228","type":"group","z":"6c7d2db7.37ef34","name":"","style":{"fill":"#c8e7a7","label":true},"nodes":["779bed65.1819b4","3cf0ba38.d2e4f6"],"x":887,"y":199},{"id":"f7a3cb7b.69e4d8","type":"group","z":"6c7d2db7.37ef34","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["91957e64.06da6","8d456762.d29828","50f03a.017defc8","8c08f202.ae3eb","23e61906.12bde6","fef78832.db5dc8","de8cd607.5bc628","34e29829.fec988","afd0928b.cd82a","ec206eee.38338","89023996.5cc628","e8e85d1b.ab894","ccacd35a.c0616","d23baded.2c27c","15f0eae5.dcd0a5","f670f91d.3ad478","c5e33e4d.00d55","d51b6dcd.3c4b5","a987ab73.5659c8","3733b898.274cd8","7dedf7c7.3568e8","8e3d778a.37fdd8","b79b0088.e0571","6c8ad0aa.ecebd","39509b2.05d2f64","9c9ca5e7.69fa38","390f354c.d49e3a","b777e226.10c8b","39e546d5.bad0ca"],"x":164,"y":399},{"id":"aa1ba550.cbd9d8","type":"group","z":"5f404c88.fa75a4","name":"Nombre del pozo","style":{"fill":"#dbcbe7","label":true,"color":"#000000"},"nodes":["41a6416e.309fb","ddd3ba80.4f0788","2acca295.66b21e","8d4d7.c3fc3b29","47e5c17d.f308"],"x":1074,"y":9,"w":852,"h":122},{"id":"1dd5b051.a95e6","type":"group","z":"d35c32b9.6419b","name":"Datalogger","style":{"label":true,"fill":"#ffefbf","color":"#000000"},"nodes":["4ea7eb06.9f2174","7e0625da.a5746c","ccef2ff8.d103a","4a152bf2.aedbf4","ac8dba55.436ca8","b92820bf.a85cd","53de6e8d.a41ec","7409201c.daf43","793ef4d5.ef60dc","556daeb1.5f8c4","458b1cd4.6b15f4","c16175a3.4e3dc8","6e2e57d6.1acb68","c0a93ee0.0bece","bb20b02b.93fbf","87d327f9.2d5698","a5965533.262318","8b735152.e0f1d","a88b1b0d.338558","1770e069.fa06e","a1296c3e.0467d","7fcfdd93.ac45a4","15d31797.55bf88","96675df9.60de8","65c0afcd.8388","70eee707.21eb08","3b3e865c.e649aa","89541385.7f5a6","bc74ae1c.8050f","7d3c0e90.bc175","64bd474c.8651a8","c2a083b6.80ece","e19ab68f.2ca7d8","7e9f72bb.cc0ccc","f125f8dc.4fc0e8","acd83647.191f48","ac947de3.26a6d","3300d502.d9f2da","669ee12e.3c9e4","bedc0725.f22738","3c51eaef.2751d6","e3de11a.525d4f","2ffd423b.f2a4ae","4cb76011.15326","6b7af496.0913bc","5c0f44f8.2977bc","b59d2d9c.bc7c8","a222d060.87b67","27ab586e.ff3e28","4c30ceb7.d240a","4e129740.b3ea78","a28ff141.b8c37","b9ed60ab.26f43"],"x":24,"y":19},{"id":"e2589faa.5b6d2","type":"group","z":"5f404c88.fa75a4","name":"Inicializar","style":{"label":true,"fill":"#ffbfbf","color":"#000000"},"nodes":["ec92d582.14aa18","ad87cee4.7dbb5"],"x":144,"y":1009,"w":322,"h":82},{"id":"e9e93a2c.deeb18","type":"group","z":"5f404c88.fa75a4","name":"UI-Control","style":{"label":true,"fill":"#ffbfbf","color":"#000000"},"nodes":["7abe043b.fb14fc","97407954.a004c8","805762db.d27b7"],"x":144,"y":919,"w":272,"h":82},{"id":"74789700.1df498","type":"group","z":"e86f0ca4.7feb5","name":"","style":{"fill":"#bfc7d7","label":true},"nodes":["6df5b697.72df38","11284c61.9c1354","bf515d87.59e0d","f274d4b8.28afb8","d55ab14e.37d05","1ebf6b2.52e8695","609f652a.1629bc","b73ecfac.dd9a5","8b8bceb8.c893b","5ffa1ec7.3e093","b18e026.fe2e","52556542.54c46c","947b1f9a.d8f17","a097facd.d32e48","8197176b.7639a8","8406554a.894a38","9e2b819.de0ee8","cbe5848c.3678c8","11e153a8.ba3aac","23a2e534.c227ba"],"x":3054,"y":9},{"id":"7e616dc8.62be14","type":"group","z":"e86f0ca4.7feb5","name":"","style":{"fill":"#bfc7d7","label":true},"nodes":["2d831abd.d82226","32183b4f.c45764","f33f9071.607dc","7e7c77b0.f39fa8","dcbfe619.3f0fc8"],"x":3064,"y":979},{"id":"c26a00d.7295a","type":"group","z":"e86f0ca4.7feb5","name":"Lectura de datos del Drive","style":{"label":true,"color":"#000000","stroke":"#a4a4a4","fill":"#bfc7d7"},"nodes":["d12d799d.788c68","3fab3ca.466a0c4","20920eee.ba8d22","a0c6716e.ee639","99df3090.72701","43a49cf6.37dea4","bdd8a6cf.88f658","790e7d0f.6b61c4","8883c499.227688","7fcc88de.059de8","db0d9bc5.676758","6f1ee100.541c7","183a217a.94c03f","641a9a27.18a5c4","274b5eb7.b06c62","bf069ee7.c5381","678aaa66.9fc4c4","a9e602e3.2ace7","f6615470.24d678","d9b8890c.a62838","f5bc19b4.d5ea08","e44936b0.4aa868","c71bd817.dd5968","6975ae72.b6958","8102f7e.140f008","6c4bef3c.23187","18a1edf5.590c02","748b6ce4.924ee4","bb5a0d77.27396","e8f94bbe.3aff78","f806451.5598fb8","b2bd9fa0.2dd28","af8f0cf.570f3f"],"x":3054,"y":429},{"id":"8341562d.ffacc8","type":"group","z":"d35c32b9.6419b","name":"Tendencias","style":{"label":true,"fill":"#ffefbf","color":"#000000"},"nodes":["5ff12c29.d4cc64","4eb2e67c.e57628","da3ae781.998328","e60e8bfd.7a3248","b19ef7d3.42ea68","9dbc79d1.85ede8","9e9a162d.d4b0a8","b509ce91.c5418"],"x":28,"y":473},{"id":"e503ca5.7ac8738","type":"group","z":"5f404c88.fa75a4","name":"","style":{"stroke":"#a4a4a4","label":true,"fill":"#ffbfbf"},"nodes":["a735dde2.fca15","da35109a.abaf","80767bfb.6c99e8","f2b2eb51.f0a778","1e5ace7.4024732","aa36a4b3.18fea8","1fdf355.5b5f8cb","c581c8dc.d013e8","aefb683f.603ed8","516eb117.80341","ed90d895.2dba38","8795b125.03836","e9296706.6f4db8","edd86b06.db3c18","1377622f.f9616e","a34d22bc.215c6","bf656c1e.ff84","7d8faac3.d24504","3c2de1fe.525eae","ba3ec3f7.7f116","b07f5c6d.27fb2","ca280181.090e2","e0c911fe.aaa9","41951c57.8e84c4","e82c8fac.4cbb3","d4aceefa.55a6d","223cb03e.57618","b34e348c.08d3d8","af75dc7c.5eaad","7ea30cf7.87bf74","6c47cd85.078b04","9045005a.2f943","6aaa222d.543dfc","8141640f.3598b8","2842bb88.2ace24","645af99b.4e8a38","f99e70c8.70126","26eb2018.cea02","c5230fd2.9b1f7","512150a.24612b","2c3479fe.689196","fea9bef5.a9067","f7bbcee0.96201","560532dc.951a7c","eac4a50a.98c358","8565c38.316b44","c0a7cbde.806148","f0e59da1.e1b2e","236f8473.849bac","4b8f3906.dd4198","7ce52484.84a5ec","1c025a1f.5a68b6","fe0231d7.12171","9881e750.db2aa8","56429c56.7dd754","464e0e1.78c22f","4bc9b58e.7b883c","7721aa62.486c74","95e808a1.504948","f87a07cd.22b318"],"x":144,"y":439,"w":2302,"h":472},{"id":"58f712f1.3e5eec","type":"group","z":"ef673f81.6ec95","name":"","style":{"fill":"#ffbfbf","label":true},"nodes":["6ba29ec9.ca738","225e0422.f4c54c","e5d62358.6f646","2429edc8.1f2892"],"x":514,"y":449},{"id":"675af0d1.a9fc4","type":"group","z":"3df4c8d9.0bdc38","name":"","style":{"fill":"#e3f3d3","label":true},"nodes":["1d477816.993308","9bdf522.eba6db"],"x":28,"y":3},{"id":"353eeed0.7959d2","type":"group","z":"3df4c8d9.0bdc38","name":"","style":{"fill":"#e3f3d3","label":true},"nodes":["fbbdc4b7.95b5c8","84c9494b.d4dbe8"],"x":28,"y":563},{"id":"e3aa057d.09fb18","type":"group","z":"3df4c8d9.0bdc38","name":"","style":{"fill":"#e3f3d3","label":true},"nodes":["dad84feb.d4773","7aad629d.de652c"],"x":28,"y":1675},{"id":"a163450f.bc4438","type":"group","z":"ef673f81.6ec95","name":"","style":{"fill":"#bfdbef","label":true},"nodes":["316f57da.0f2fc8","3002d943.5f48c6","f4208b50.a8abc8","5f07f1b.ac4631"],"x":524,"y":299},{"id":"b55b6178.ef377","type":"group","z":"5ef5b1ce.d3899","name":"Menú Monitoreo Entradas/Salidas SWCPRO","style":{"label":true,"fill":"#7f8faf","color":"#ffffff"},"nodes":["c1b971d5.d569b","e803a739.db17f8","1b4be866.c708e8","ad513f4.2f74fc","503b4883.fb3c68","efd996cd.90e648","e6e875a0.3f91d8","476a789d.6fd428","b4f36c30.74091","53875927.5a9b18"],"x":804,"y":2639},{"id":"4888c9a8.82cb88","type":"group","z":"68deacdf.9a36f4","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["17c31216.1aa6ce","52cef377.daab5c","9560ef4.a49141","f185a628.7c4598","b5305a67.80d008"],"x":78,"y":1063},{"id":"2fc65bf7.d30fb4","type":"group","z":"e86f0ca4.7feb5","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["cb16cea3.9311e","56b9f9c.38c5208","5039e78a.ed1d88"],"x":34,"y":2839},{"id":"70d8d562.df63ac","type":"group","z":"e86f0ca4.7feb5","name":"Arranque / Parada / Reset","style":{"label":true},"nodes":["95837cd7.bf6c2","2941139c.7c7b0c","a6adbd4d.9a3c4","a1197dc9.92f25","24025e15.4ddaf2","21fd4ac4.46c936","6e311205.1a499c","eb2a9f36.96637"],"x":3054,"y":1139},{"id":"96c06653.552da8","type":"group","z":"d35c32b9.6419b","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["8849a3f7.9bc5c","55ada7e8.48e908","da1755b1.3969a8","87c65176.454a3","8dc70b63.8db398","6cb6e6d5.480798","d1fecbd.301b138","946eb79c.0d04e8","cea13bfe.739068","ed0df9a.c740c08","f6342c49.36019","a561eba3.47a5f8","d7f76c0e.485b3","5bacb488.41284c","55be084e.2ad3b8"],"x":34,"y":1709},{"id":"440775ff.2a92fc","type":"group","z":"3df4c8d9.0bdc38","name":"Información para gráfica Arranque Escalonado","style":{"label":true},"nodes":["a283dc1b.7c48f","d7a20d07.4ac76","ba5f4e4b.e55a2"],"x":894,"y":759},{"id":"5fcf6e49.52a8b","type":"group","z":"e86f0ca4.7feb5","name":"Salidas analógicas Drive","style":{"label":true},"nodes":["6855880.225cc78","fecbef60.baa39","6f6405f1.a0975c","f8658e50.62059","341dd8ed.248cd8","71a84c4e.854104","7300d09e.16c8b","20554d73.230c02","684e6a1e.f61f44"],"x":3054,"y":1319},{"id":"7f0ad68d.a88dc8","type":"group","z":"e86f0ca4.7feb5","name":"","style":{"fill":"#bfc7d7","label":true},"nodes":["9dfbc830.a03298","fe356255.fc99","3b57e8b1.f78e28","10a8d7ac.83d708","7c9484af.5ac80c","f1f2e53b.ab0d88","2f63d344.dc84dc","d803580d.4bff08","4d065d75.805514","f28712cf.12333","2c9537b.8dbd1c8","4493e96a.770e08","4c713c15.0ad934","552444bc.3806fc","590f8124.4bf8e","75ddfb5a.787d34","34a60198.0d6f0e","c404fb6a.ab0d48","ce6e0060.94917","908d15a.2c73de8","d2ffdd1e.e26f5","d9579473.d8da18","7bdf0458.df1dcc","bb3305d0.ffb338","b4701456.7bb958","b9b8eb03.7d72f8","ff32f894.ee0898","2249a8a.5b30458"],"x":1194,"y":19},{"id":"aafad2ba.dcc8b","type":"group","z":"d35c32b9.6419b","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["5b529f4c.7ffeb","6c9ed5d3.e7799c","76a74813.5dd3f8","23815ef1.931a32","2b47642.2404d9c","eddefb96.175bf8","a5c181ee.2efe1","b54a4559.022378","3ea5879e.bf0588","c8aa3a95.12b518","20b8681c.81fd48","16f68bea.684694","ec03441d.979088"],"x":34,"y":2019},{"id":"c57d2588.a42f68","type":"group","z":"5f404c88.fa75a4","name":"Local/Remoto","style":{"label":true},"nodes":["463cab1e.a805d4","2e03fe57.8c60b2","5f8495ce.db632c","7b33059d.fa394c","ce30a63b.0bdbd8","938aa2d6.74dae","d3482e86.9d4d5","1995f952.35b347","8f8e4fb5.2d9b2","935ca480.525e98","17133f68.94e5f1","40c12bb3.ead9f4"],"x":154,"y":1099,"w":922,"h":202},{"id":"d3657222.35975","type":"group","z":"e86f0ca4.7feb5","name":"Bypass Filtro Armónicos","style":{"label":true,"fill":"#7f8faf","color":"#000000"},"nodes":["7d786b12.6e23b4","425cfe7f.80b058"],"x":18,"y":3033},{"id":"5993c0f75c8aaf11","type":"group","z":"e6c9d18.fc90f3","name":"Arranque / Parada / Reset / Remotos","style":{"label":true,"color":"#000000"},"nodes":["05ca317db8d0e3da","052b4ad7694f4e17","486becd32fe0c840","40a7a5e88d4d7930","9e8a82afc942c4f1","ee13d90e8bca9376","f42a15c7869ba675","6026f9a1fb67d99c","63cf0ba4fdc55484","8c7033596c8c0db0","36ce91758a343c02","4c92ff039447c86b","75902e961c65b5a6","618cf993e767dd2e","ae2142a6eae4a65a","3ef2bbb7933b1fd6","722b128ccd16575f","f420430a.f9f0b8","a3e811e4.91fd8","9166d8c5.4d55f","e48289f3.fd3b88","424a0e7c.8bd648","cf9a5b02.cc9d38","8c2db83a.10fd58","fb9a21fc.261818","ebd426c6.92c6a","c522ff06.267f78","8a472971.04acc8","d5fc3fb.27a824","97cf3dc4.ab7cd8","4883178.e533168"],"x":24,"y":39},{"id":"588e07663b907a82","type":"group","z":"e6c9d18.fc90f3","name":"Tipo SCADA","style":{"label":true,"color":"#000000"},"nodes":["5a4a7320ef1bc1dc","bd124bb4da2e2bd9","7b6c6918c8a7e81a","eac9944e8b1fc5d1"],"x":154,"y":669},{"id":"23c99fd.b16886","type":"group","z":"2f52b784.7e042","name":"Actualizar librería PowerFlex 755","style":{"label":true,"color":"#000000"},"nodes":["4486e1dc.7b1c6","17475ea4.e2c431","699f8e75.52924","f375ab1b.6713c8","d057c895.aae998","daeaa5f3.b6c508","3b8a4863.32b688","c099a844.31d128"],"x":44,"y":61.5,"info":"# Condiciones\nSólo funciona si el nombre del proyecto es \"CILA2S-ESP-SWCPRO_AFE\""},{"id":"11f55817.139c18","type":"group","z":"8528a254.70837","g":"7b6f4b41.106164","name":"","style":{"fill":"#b797cf","label":true},"nodes":["d382db6f.29f0a8","972e1f74.3dd4c","ec98695.bbf8698","54ec819a.c1bc9","59e817c2.295b38","d50d9b6b.bbc7f8","c02fb05c.baccf","75851744.fc50c8","ad47f0cc.93af5","7b4bd7a0.fd9398","cad3d4cb.b5bc98","ebf4df19.2cfb2","1660e38d.24cefc"],"x":30,"y":39},{"id":"c9848ab6.981718","type":"group","z":"5ef5b1ce.d3899","g":"7a498b99.415234","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["c74e5c83.97d99","a9225e61.e6e0e","6336cca0.5c0a84","730afe4e.63438","4c8b7786.0a4da8","188fa39a.e3a3ec","50c0a40f.f78b9c","4feb0a11.ed3ed4","dd807959.9e5a08","5cc2d788.18b678","30e13f64.16c0d","2cf175fc.6aae8a","273454d7.4d089c"],"x":44,"y":39},{"id":"cf57802e.7d258","type":"group","z":"8528a254.70837","g":"7b6f4b41.106164","name":"","style":{"fill":"#b797cf","label":true},"nodes":["bd165d4f.e3f48","c95dde3d.c676e","191d34db.93fe3b","35f773cc.39ea9c","ccc4d9c0.904c78","d9101c40.6e85a","dcdb5992.425238","12f5302f.69f92","33f2aa3c.6c08f6","9055a2bd.67028","938193ac.02d98","ffbe710d.b4cce"],"x":940,"y":39},{"id":"1027a10.a1e515f","type":"group","z":"e86f0ca4.7feb5","g":"f2c899e7.e9eac8","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["2d061227.66d7ce","5c3a9c15.3a4554"],"x":1358,"y":583},{"id":"23bbdddc.b8c5c2","type":"group","z":"e86f0ca4.7feb5","g":"f2c899e7.e9eac8","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["62757ffc.dca08","c05026cc.2a6048","5d1065e2.7b952c"],"x":58,"y":583},{"id":"38ea9e35.6d66c2","type":"group","z":"e86f0ca4.7feb5","g":"c17de691.f363c8","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["403f2c89.5c77c4","fa0998da.25ce28","2ce5372e.7ad778","624af569.ea18cc","303c96fd.f6ab4a","e9b72ba.cbd4bd8","3d2d28c4.24fb38","dca99529.6959c8","10d8ade3.a7e942","22b0d7de.606178","5135d0c7.6a31b","d3ab8d40.89bb8","ac1c125d.58013","bb924e9.114edb","a1f1520d.067d8","d3c940f3.2efcf","46172269.17fc4c","6a7c3fff.d9b2f","1d4ffc63.2c9fb4","4f7d7d5d.f0e5c4","3c83aebf.54ee92","85f12e7a.2e726"],"x":2054,"y":2229},{"id":"d22a2793.24a988","type":"group","z":"e86f0ca4.7feb5","g":"c17de691.f363c8","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["b974d4b3.9e3f78","1b19a252.cfe16e","bdb55a97.ef79d8","b26d4786.27c158","916a2c85.b65b1","3cc3e7d6.d2f05"],"x":58,"y":2223},{"id":"ac1f5c0.f7b06a","type":"group","z":"5ef5b1ce.d3899","g":"7a498b99.415234","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["49fc1b59.51f164","e3b242da.1cd29","3bd2923f.2169ae","ec6f0468.330258","bacdd0cd.1b215","1a3e4532.22ef5b","7a336fa4.b80d3","335b3a95.f258c6","33924ef6.c0eca2","452c5a8c.8530a4","b5c23987.426b28","30237182.6ab22e","adc3a650.9795a8","73b9407c.4ce98","1e55d9a.1ad3926","d192f60a.894e68","f6e8fbe4.4a94e8","587cd4fe.b5184c","3fc54723.62b978","da157b1a.e8eb88","117295c5.1ff4ea","2976c32b.5e795c","13c95730.dc8459","4b3ceae3.bb8a84","9dbe0a3.53061f8","9a43c9b1.af8138","814db426.2a5bf8","1f443c09.755434","7bb293cb.faf72c","2c5a7e92.2d6be2","ae3517f4.0d6d88","2db6a760.856798","ad56625d.fdd01","2563434b.e228dc","2665915.a411c6e","eef48f93.f418","f5a2b632.6a8ac8","d971ff84.76256","a1c4871a.8ded58","fecfa2a0.5ca25","1e92883e.9ef498","9ff75bfd.245638","f4f581a.cfeba8","a8914523.bc9e68"],"x":44,"y":289},{"id":"51885913.764608","type":"group","z":"6c7d2db7.37ef34","g":"17775852.81dbf8","name":"","style":{"fill":"#addb7b","fill-opacity":"0.5","label":true},"nodes":["f20d743b.8f1ae8","9879ef49.93bf","51d04077.f80bf","deaa0e2e.28e19","1cc2d728.54fb09","7c70377c.b4ae48","6622800d.ba7da","a9faa567.a64398","d116f23d.cc4a3","1b55dcc8.5819d3","fc17c06c.acffa","f102662c.8f0fc8","97925335.78553","8f90abd2.71ca98","471b8ebe.ebd96","5b1d2927.d1b308","ebea3def.ed3e8","21eed523.11447a","6542eb5f.278a44","dff3293.985e0d8","a13aa793.6d5958","417b61dc.3bc9c","96202ced.2d14f","b0c6f4cf.8adde8","3384822b.910e1e","9621ae2b.31111","cb12dde6.c272c","3c3fc25f.9c4dce","f06b900e.9d7cc","55ade534.9df4fc","dec10cf6.2f956","c1246694.d07138","2cd079.27675f88","806e7b59.38e138","a210ddee.c7129","6d73a85a.f42f18","f016e07e.fbcde","cb0d324.9efa3d"],"x":1634,"y":149},{"id":"35440cdc.e5d764","type":"group","z":"6c7d2db7.37ef34","g":"17775852.81dbf8","name":"","style":{"fill":"#addb7b","fill-opacity":"0.5","label":true},"nodes":["5cde6087.192be","c247524.b0573b","ea323d75.a5cf1","cfbb9853.8b8ac8","badfd33e.f1ea","7cf8f013.bc0ad","7064736d.16021c","47dd7297.3c11fc","91e27d4d.24ec7","2da503f8.07291c","9369e45e.ca1fa8","1ec15d40.fd09f3","bd3ac661.673888","cd0132de.28ef2","9b498fd7.493cf","2b999efc.767842","d37e22c7.8958f","2c25b9aa.58cde6","28f973b0.1c354c","6829005.b62e3","112f0c7f.98c2c4","5131bc8d.e72484","8638e91.f1d9618","9f6c778c.dd65f8","807ce42f.663038","d596bd95.36ac7","c16ccd29.4c0fd","7489c0c1.72eaa","c7386ae5.f34358","9fad8a58.994598","bf640dd0.241e2","ceffd9dc.9d9c28","d54f3181.5d7ad","3e39b5ec.dda60a","15aef3d2.fbcebc","ca4807a6.e20fa8","527b631b.e975ec","5bf3fb88.25b264"],"x":2614,"y":149},{"id":"888265d9.138288","type":"group","z":"6c7d2db7.37ef34","g":"17775852.81dbf8","name":"","style":{"fill":"#addb7b","fill-opacity":"0.5","label":true},"nodes":["c49b79d1.a4a3b8","35830ee2.4789a2","9431bf1.ace564","4406e6f2.49d418","402fd21b.93e37c","be419375.1309a","3aab3d8a.4f5cb2","fdc58cf2.60fb5","cdda7c15.9b834","a3005f26.9c6f9","f9e3db2e.79bad8","e552bb7f.7cd1b8","1d496804.d2c2f8","4160bf9.173304","f9d899c1.161488","1e6715c8.358b2a","4a19a55c.029b5c","b2b661cd.df409","dbacee46.2b006","faa2c727.765558","f924bdb0.5be41","1865ce38.af04e2","29688391.2998dc","7463a6d.8f98458","4b0117c9.906a28","735fcd8c.139204","62792eb4.ed585","b215f346.b41bf","15cdc18c.2d1afe","e940bc9d.487ab","3927678c.1ba258","efdfec7f.80deb","4d839d32.72a8f4","28fd8b2e.2b37e4","49f4bc47.e792b4","b2bf10ae.1293f","2a0281a3.689efe","ea97a2e4.6a67d"],"x":3554,"y":149},{"id":"54b245d3.9431dc","type":"group","z":"6c7d2db7.37ef34","g":"17775852.81dbf8","name":"","style":{"fill":"#addb7b","fill-opacity":"0.5","label":true},"nodes":["e61d4a61.e53858","c2250f98.0d359","a526c702.97fae8","e5d51105.c7ff6","e0cc3f40.9ec5c","3886347c.05aadc","db30b407.1a7568","aa7fc893.e7f238","f5bb9109.f3ee9","c121793e.08fd78","953d1543.ba90f8","aeb719f5.a80828","4a731ce4.a7a854","54781f62.2457e","3d5fce47.6c25d2","5798187e.286368","7a934c21.2ecb84","3bb485e.5c59e7a","54738e5b.62f9d","8a8eddbb.01d1b","a454cef5.af8fc","bfcf1d22.6a633","cff15ba9.0519d8","403e0e9.7738af","68dc5746.f43798","5705aa78.5d51a4","ce9bc7e2.b5ae88","20a20d73.57b622","e280d419.905258","3f5e77fb.ba40f8","561da518.30b27c","e386a315.a703f","33575158.040bce","f1b01bce.f6aca8","3dd23d60.3a9252","217a7e83.476b12","5ba4a28e.be396c","b636759a.1af358"],"x":1634,"y":749},{"id":"58747709.2ffd98","type":"group","z":"6c7d2db7.37ef34","g":"17775852.81dbf8","name":"","style":{"fill":"#addb7b","fill-opacity":"0.5","label":true},"nodes":["bb0d981d.727c38","c6237d3d.8ab13","e4d77b34.0e69e8","f15261a7.5b9b7","597d509a.97049","d88d36e1.6c1a78","f2e33ee6.334d6","1fa6726c.71384e","5c22c963.73c3c8","2e5d68dc.858698","bb669792.76b798","cd53a4b1.02cee8","7458a005.66f77","9bea7e46.26625","3113c7be.11c838","a6333e19.ef71e","9146ae0d.3af17","2bd5723a.161dee","24ff573d.b4ad38","fa92c1eb.77342","4d772326.e83ecc","4ec0aff2.fb6d","e01553c7.65a86","d84150ed.51b5c","5bf3855e.8a14bc","3bced553.64606a","1aa3aef6.22fa21","10708263.2b625e","4fa4208b.9e6ec","f262ad5b.79dde","bc1d2c03.fbe0e","8504e8d.5781318","fa27ee3.dd7941","11e71592.43ecba","12d295a5.7cda8a","5eb0694e.8b93e8","174a50b7.39ca9f","86aeff9f.23163"],"x":2694,"y":749},{"id":"4b571a8f.d70524","type":"group","z":"6c7d2db7.37ef34","g":"17775852.81dbf8","name":"","style":{"fill":"#addb7b","fill-opacity":"0.5","label":true},"nodes":["81ff8c6b.e369f","55ba2fb8.d5992","f179284a.884a28","7e134a.7a0facb8","b65f868e.fb2a88","8c436e.5a8edc9","c92bfd00.2798e","2f46d7ce.92d298","11676fef.03085","1f22fc42.e793e4","e6e945d1.72b968","f5287419.d23a28","f6a753ca.d6306","49379c96.283dd4","32f9531b.a08ddc","6576783e.0b9e38","64363868.0e3af8","f0ff8de3.8e9a7","f20a0ccd.95dc1","e5a465ce.be26d8","c9db83bd.21e72","ab4f9b0e.b58748","62cfa401.544bfc","fa38bc67.7796a","224de176.531cbe","2d9b97ec.afb1f8","defdcfa2.787fe","40dcb368.34489c","c07a38bc.f59cb8","2988bb53.335914","a5ab5c99.0daba","41e32d9c.3f35a4","99ff714a.7a819","49ed0754.2b0538","8391ee25.6681c","612144c8.db8e4c","ef41c61b.f2f998","3368017a.de213e"],"x":3794,"y":749},{"id":"b7d3914a.2a17","type":"group","z":"6c7d2db7.37ef34","g":"17775852.81dbf8","name":"","style":{"fill":"#addb7b","fill-opacity":"0.5","label":true},"nodes":["22d301f6.875ece","6025a752.a41498","acb547dc.dacae8","e4c38850.c159e8","944db7b8.e26aa8","d3c40146.c0499","72890c6a.8ea9b4","abd14615.8c65b8","8c9d72ab.fe0b3","806c85f.8dd7f78","9bf3743f.352588","76f117ca.92d3c8","516c4379.8b3fdc","92c3216b.2a08e","696af8b.6cc2208","4ce429b2.16f6c8","fe3c6368.9f449","8ffa507a.b48d9","1fd0f6dd.0e2919","45c7a3ac.94d28c","f9ffe747.d73e68","7ab3478d.9c0738","352fd76d.913c58","5effee23.67b21","6962b205.fc1aac","5f190ad1.a98134","605b4eac.e17f5","81c4a37d.8c2cd","62e71307.8e355c","3e1aa9bb.34b5e6","2037d4fa.74488c","eb0a77ea.6300e8","64688fe5.072df","8a84bba5.928628","de936866.24ffb8","c3763f57.e2b75","c7c53db4.79034","ada97752.874638"],"x":1634,"y":1349},{"id":"a3b836be.d5cde8","type":"group","z":"6c7d2db7.37ef34","g":"17775852.81dbf8","name":"","style":{"fill":"#addb7b","fill-opacity":"0.5","label":true},"nodes":["d0aea037.561e6","da6b73c3.c5088","c3ac0f93.10065","8744b13d.803ec","25f0acc3.0a6fc4","76a3c3a8.b87a3c","5a5b3612.b68658","5a8d8eed.904ce","3722b470.b0f71c","c6106d57.b8b1a","154aa5c9.dabe0a","4ecc9d3b.ddab74","5f37b60a.040e98","c507c3c.4a6f44","6f1ff079.8108","605ef006.c23d","2502b655.62606a","d5b43321.fafb7","4e35be9.a66a84","b5a8c2ca.49dc9","5e1757df.5b1588","71026936.0a1168","6e9d6483.a1fe8c","2513b275.f44c6e","2fd7693.e40dd96","1d418876.417d38","b25b555c.1ced68","d55ef8f4.b385f8","f08b112f.2c935","bed22736.50e648","96adec74.08397","722cbad5.ee51b4","e44c2e4e.679a2","3cab3ca5.8a90e4","46731d6f.af2214","4b370d9f.00c294","dfebd1a5.7fa3f","739b4fcf.1c18"],"x":2734,"y":1349},{"id":"f3c2e7cf.5ed158","type":"group","z":"827787d0.ede678","g":"f7ed166d.1aa528","name":"","style":{"fill":"#ffbfbf","label":true},"nodes":["b6ce196c.b85ff8","21e4fb07.22d804","a80677cf.4274c8","a91eace.59d675","8e762cce.be81","be55ea76.ed4478","64ff74e5.f4c53c","fbd8c1e9.7d493"],"x":44,"y":273},{"id":"195d3093.36368f","type":"group","z":"68deacdf.9a36f4","g":"95e4279e.465018","name":"","style":{"fill":"#bfbfbf","label":true},"nodes":["b5a13da4.6e3eb","d8debc2.700294","ed440caa.e3c9a","7b039538.19006c","f41accc4.c621f","54e4b15.a95c55","3faa3e6.58be8c2","6646dcc2.7e27f4","c3ab454c.6a6608","ceb28ed6.efd8a","50e718bc.acc418","cf46bea2.57892","e0f1b2fe.bfc45","43c8bed9.bb82","ea1cde92.60e99","6702af9e.46335","968d5347.1b134"],"x":234,"y":39},{"id":"991382e7.7f2e6","type":"group","z":"68deacdf.9a36f4","g":"95e4279e.465018","name":"","style":{"fill":"#bfbfbf","label":true},"nodes":["80169c1a.91406","c117a84c.46b918","9cd71bbc.0f4798","fa75954f.6f9b58","e05eed2.40a0a1","e5ed4e23.54b1b","1cbd6fef.8eb83","4f5a5d6c.c4a5b4","77b72aa.31581d4","e4d9b95a.0c8b58","cd1b505d.a6b93","7432babc.6c5c14","8abcfca1.5ae87","1ff91965.c1cd07","425425ae.e0c16c","7781bc54.e1daf4","24dd678c.7f1308"],"x":234,"y":289},{"id":"91feb623.ce89e8","type":"group","z":"68deacdf.9a36f4","g":"95e4279e.465018","name":"","style":{"fill":"#bfbfbf","label":true},"nodes":["863a9269.4fc47","26911d09.c6e252","7ef6f5bd.3b5e0c","d235af14.d2a16","783c757.7a1388c","e7bffc64.2c3df","ac730498.f22c08","1dd500ad.15e62f","ddd9d6d9.213a98","e1ae4a43.6449b8","c91b1beb.1017c8","e38fb396.925cf","c42fa7dd.b205f8","8c3b7557.aaaa78","3d7bd8eb.a0e0b8","b5789608.bb4d98","e8ae66c1.7229a8"],"x":234,"y":539},{"id":"a035a752.10f9d8","type":"group","z":"68deacdf.9a36f4","g":"95e4279e.465018","name":"","style":{"fill":"#bfbfbf","label":true},"nodes":["baecdbce.b91ec8","19ac6698.c438b9","e3fa2881.918ec8","2debc1b0.4df98e","1e344ba1.2d56c4","716d46a.8b783b8","d83d9d82.65e01","8fcc0ea2.3e85c","c32e6129.fc854","152a06b4.7b74e9","a47fdb9.7d9a428","5b355a89.562704","48b79c34.416fb4","a75a1b6a.0a4de8","6fae5501.179cac","47bf531f.4f32cc","bd48652a.f5a5e8"],"x":234,"y":789},{"id":"53806295.7831ac","type":"group","z":"6c7d2db7.37ef34","g":"17775852.81dbf8","name":"","style":{"fill":"#addb7b","fill-opacity":"0.5","label":true},"nodes":["191ae243.ac0bde","7540e2.26d57f2","a733b9b9.cda278","2adccd69.57bb72","26cf091b.0dbae6","69b368d7.dcea78","353e5f5c.3308c","deaa71f0.41ac4","2ccb33c5.6a40ac","29c58a6d.2469b6","a5239eba.e811","b256fdee.aab19","15fa8e12.ecb012","305c4471.75d26c","2f390198.4111ce","c72f1ab6.e07358","ecc85f63.cecce","3cc53ea.7b20ec2","a42f96d0.192458","77bf0d67.408d84","ac20c1c9.e237b","f3237f0e.ad13c","b8413d80.707c1","45ab58b1.dff618","d69924a4.339048","b3ff66ec.1baab8","5b8035f.4577ccc","60cb248.67e94dc","f20f1ff3.7073b","db468536.d0b718","7e59ed5e.19cdf4","ef36995d.9e4a68","aba058eb.11c338","4d351b9.638afe4","b9eeec2b.8259d","b116daf7.152128","6456f2d9.f929ac","4fe0e535.f16e5c"],"x":3854,"y":1349},{"id":"dabbb1f4.9b65e","type":"group","z":"6c7d2db7.37ef34","g":"17775852.81dbf8","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["485a456c.532fdc","a72a1eba.19d99"],"x":1634,"y":59},{"id":"eb91dac5.690838","type":"group","z":"827787d0.ede678","g":"f7ed166d.1aa528","name":"","style":{"fill":"#ffbfbf","label":true},"nodes":["df6fb5ca.5f8af8","28cd79fb.3dcae6","4e159374.20339c","2066be8e.5c6832","e04fbd1c.98ffe","2ffa7be0.763644","7de51565.2383cc","a146fd5d.dc194"],"x":44,"y":29},{"id":"6cdd72bc.8124cc","type":"group","z":"43b51d90.0b47f4","g":"68e6bb30.d1fce4","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["645e5a91.8ccef4","faa40213.086fa","ebeef8ea.3def58","7b0522e.ed903dc","2163239b.5a9bbc","e5c3bbc0.8b2998","e89aec53.9b1b1","d59b7b28.be0e68","15ff1b61.43bc65","2709f5cf.b4e16a","3ca6161d.651d6a","1358ba12.db4f76","40fde4de.c5c06c","1ee1ef5.793bc11","2d0c4fa4.505a8","251a85e5.2591ca","75cd2afc.41fc44","29bb8af3.ae5fa6","75279853.2d0538","885891cc.84f0d","f75e195a.cf9c28"],"x":295,"y":99},{"id":"27c43941.e9e0c6","type":"group","z":"43b51d90.0b47f4","g":"43bab036.712ca","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["b97c0cba.aea3","625acf36.28ca1","52666b13.2f23b4","9fce2d60.4554b","a5bfded0.8a3cf","dc569dcc.729","2bbbe8b6.93dbd8","b405c349.c96bb","a90890e0.f21c8","2b15e46d.065cec","ed08c0de.3ee1e","e89df25d.18cdc","2d255252.339eee","183f49bb.f6d776","9355594d.0b5af8","c780b49a.0e4338","fa5d0b5d.173c98","44e6874.2344578","657a5d37.6d07c4","c3259a58.4fe088","3f0134d0.dc178c","f7f5dc17.aa232","bd852785.499c28","9e18b5a9.e943a8","6fe51a99.814d94","8a16b6f8.4cab88","664a9d08.0c3cc4","74e19d32.06a044","af3a631.a66aea","8a96dde9.7f1ce","dc9ea4ba.1aa038","1be8989c.a5ad57","b970befc.5452","b71d8a2b.54dcc8","e7412dd2.70fb","3ac432d5.f6b63e"],"x":295,"y":561},{"id":"c41a251e.427c98","type":"group","z":"43b51d90.0b47f4","g":"27a0641a.d154dc","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["5c27d2c5.3f268c","9bfa59cc.d6a398","c1afba0d.22f5d8","ced5d329.31661","9b007129.593e9","a7e937e4.d19518","64263ab2.3a9e04","d290dc22.ecd03","454c0be8.b02024","370e9542.6d045a","eb89266c.2d2618","45c17b29.d24c94","7fd169a3.b2f638","ba716101.086bd","f7031c65.4fe95","4305893.7fd6878"],"x":294,"y":1263},{"id":"a7e99088.c8108","type":"group","z":"43b51d90.0b47f4","g":"68e6bb30.d1fce4","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["2498ec05.7284b4","319a607a.54c89","7048ef53.1fd6f","acaa43fe.71bfa","b559fab2.66fd28","df9eb38c.fa6d7","f7f45d3a.6e4e4","c104f9d3.1b01d8","7116aa90.5b13a4","9706da4e.929b28","24d1e786.5ef6e8","4d7667fd.f49138","9c75f1ec.0814b","d4e8aa0c.01c0c8","af3b1dcf.9d898","c5a4efe1.dcb16","ee09985d.8da768","281ea19.4b8f45e"],"x":1134,"y":99},{"id":"b60351ac.2ba88","type":"group","z":"43b51d90.0b47f4","g":"af9ea997.5900c8","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["2df856a8.f45a8a","5c9c4d5b.096174","bfcfb7be.379538","294d3de8.c826f2","d780aa82.2d5678","54c5e154.bb4ce","1f8e91cb.d426be"],"x":294,"y":1655},{"id":"e9d2f5f0.86a518","type":"group","z":"43b51d90.0b47f4","g":"43bab036.712ca","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["ea258cd2.d6e7d","7507ff98.5a92b","dca07a87.27ec18","f041a8b3.dcb0d8","184c506a.42dbd","60be1d12.066574","ed33f12b.95cc7","effa34c4.ff41c8","3f3006.edaa2ffa","53d73778.d0b178","b8855fd7.225d3","30d2c9b7.d0d666","1a6f7f25.56eb41","4b2de6bc.d46068","39af17e3.7d87a8","ee2e2c40.fad2f"],"x":1125,"y":561},{"id":"1306de9a.9ba341","type":"group","z":"43b51d90.0b47f4","g":"27a0641a.d154dc","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["7ed08f75.bf75b","59d9f322.aedecc","eb839f99.2a5d1","1d4bc15f.069e1f","e8c7703c.35e3c","4105a369.d1cc3c","7b0567a6.14ba98","9429095c.bf7808"],"x":1244,"y":1263},{"id":"7b926503.10d39c","type":"group","z":"43b51d90.0b47f4","g":"af9ea997.5900c8","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["2728a87e.717058","4881ca.bbc90e38","996a2f7c.7ac0c","e50a7af8.6c2778","72428a1c.d38094","b60d4442.d5f0e8"],"x":1054,"y":1655},{"id":"25d1d69b.64e0ca","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["40526d49.cc9b14","d4249aea.7ecbb8","39224b5b.70cb94","1637aff7.4bd9e","284df00f.87b86","560686d1.a385a8","b0e2a79d.a2fa38","d7816a62.f2ef78","8d721bd4.965938","fdbff94e.9b8b48","e4281529.e777b8","90f4ad13.35a65","85a449e3.6bf2d8","98b87f1c.386a4","9ec47908.11be28","c261ae3c.cdacd","1882018b.4d179e","2099abe.2850a54"],"x":844,"y":319},{"id":"5073e01d.10857","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["b4849b66.3cb828","53b720f4.9bf81","ffff58c2.e3d6f8","b55b0e4.10acff","37c41387.a53fcc","dcddb7c0.bb3808","52e99374.8d9b7c","1981cd18.e62913"],"x":844,"y":969},{"id":"d7658545.b7ac78","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["ee90f6c1.5a99f8","41cc9ffc.297bf","22dfd5b.e159b2a","c2f60f02.6ba29","4386dd07.771724","28de6154.35098e","8b1545c1.108318","ea1ac6a6.fda178"],"x":854,"y":1199},{"id":"9132da2c.b8c6b8","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"Menú Entradas/Salidas SWCPRO","style":{"label":true,"fill":"#7f8faf","color":"#ffffff"},"nodes":["2499f70f.806ab8","461615d3.efcb8c","c1f7c147.2e2dd","98ed183e.8031b8","950ebf98.9385d","8916af0a.61064","5a29608d.08d3","b0a2cd1a.ab273","fd328934.0ddd18"],"x":834,"y":1759},{"id":"f78dcb63.bde038","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["63f7b962.2c4718","c01095f3.dc9138","a09fb407.50f2e8","6a981814.c37af8","d1fe0838.218468","23826d32.a4beb2","f7333c0a.a70d3"],"x":844,"y":1609},{"id":"90ebdbed.1907a8","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["2c748bf2.5eecc4","7beb0f41.ddbf1","f21ab34b.181da","835a5415.d3ff58","7b211215.487a7c","18c9f1c2.4ccdce","876da3c9.83763","2f1c2d62.414502","e3c8b897.8efb58","99ae3bc8.746f48","441e9860.ad6ed8"],"x":844,"y":39},{"id":"311890ad.cc4ed","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["4db81f03.8c212","8392125c.4233b","65d13d58.90dd34","5b4e837a.c0700c","146ca456.d19d9c","1caa60a7.f415cf","9b47db26.0346f8","3296d851.080568","a0e88921.4ebe88"],"x":844,"y":779},{"id":"f8e8eeb2.3f011","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["95cc11.a58333f","cc3d5da0.39c0b","c086da18.9bd4b8","931b3d3f.ae5e9","d3df8b00.b0ac08","78f40470.e8302c","1d5d736d.cff5ad","d795f048.456e2"],"x":844,"y":1429},{"id":"8a7f783.a732b88","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"fill":"#7f8faf","label":true},"nodes":["9c82a3f2.bb49d","8aeb1e16.de316","fb47c1da.61a69","d8acaf52.27e43","a57b470d.7af538","e95f6929.281ff8","fc7e2763.e00d48","f65a5bee.378fe8"],"x":844,"y":1969},{"id":"8c3082f9.73975","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"label":true,"color":"#3f5787","stroke":"#ffffff","fill":"#7f8faf"},"nodes":["ade861c3.eaeb3","64ddd641.711bd8","b5ae3cf9.8231b","30d8ddc4.25e6f2","34cfab64.3d4224","63ae6ad3.b07874","23b2730.9c7eb8e"],"x":844,"y":2159},{"id":"215bed4c.7858c2","type":"group","z":"5ef5b1ce.d3899","g":"f7d4f68f.ac6a38","name":"","style":{"stroke":"#ffffff","fill":"#7f8faf","label":true},"nodes":["b4e17f62.3736","e35436c7.11f1b8","5d9c013e.660f3","d265d888.a04558","bc3bdaea.54eca8","2a671cfc.7a9654"],"x":844,"y":2309},{"id":"779bed65.1819b4","type":"group","z":"6c7d2db7.37ef34","g":"f58295c0.4d4228","name":"Estado protecciones","style":{"fill":"#addb7b","label":true},"nodes":["3f6add70.a832c2","5fe10083.8d019","77ab26cf.b76908","ef649b1a.9ba458","158a08bb.8224b7","9209cfb3.3a43a","56b2f98a.e8c598","eb2d9138.c0a31","5e84b7c.af1d848","cd467bf8.39af48","5805c268.31f02c"],"x":913,"y":225},{"id":"3cf0ba38.d2e4f6","type":"group","z":"6c7d2db7.37ef34","g":"f58295c0.4d4228","name":"Protección digital","style":{"label":true,"fill":"#addb7b"},"nodes":["a7cf2e54.83bc5","2f5679af.c10006"],"x":914,"y":399},{"id":"5ff12c29.d4cc64","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"","style":{"fill":"#ffdf7f","label":true},"nodes":["2f01cd27.190772","cda1db41.a4fd88","d0a81664.403aa8","6ea29ae7.e81044","671c4fb2.c61c","ef56b9cd.e179f8","32d68976.059f96","5b8bc10c.bbb33","148d0d1.2a0f4f3","3a6fab3.c7e5154"],"x":54,"y":1389},{"id":"1d477816.993308","type":"group","z":"3df4c8d9.0bdc38","g":"675af0d1.a9fc4","name":"","style":{"fill":"#c8e7a7","label":true},"nodes":["1c7f798e.cabbe6","bec0e16.9c3212","ef5dfbf1.adb148","26359185.e1f66e","460c1f1f.82178","e3ec1f07.c757","2813951c.bf7bfa","74d5017e.e1082","9353759f.984b88","618e490c.af0dc8","e8893434.c05a68","c7e5009d.fc8d3","7b28052.b5946fc","4b3fd317.85280c","d0a19b38.893ab8"],"x":54,"y":29},{"id":"9bdf522.eba6db","type":"group","z":"3df4c8d9.0bdc38","g":"675af0d1.a9fc4","name":"","style":{"fill":"#c8e7a7","label":true},"nodes":["51d6f5bd.7b3bac","23428c25.4cefe4","7984b34.194704c","406ea535.518d9c","67f2d064.1098c","825a8d81.e5826","39b139ed.19f7a6","76e5042d.a8799c","4d54b2ab.9b58bc","595852e0.7df8ec","a42f4760.a32ab8","cfde9e34.955e5","6bb7cd2e.159434","8b72bbb3.5d5a38","e6356da9.60663"],"x":54,"y":289},{"id":"fbbdc4b7.95b5c8","type":"group","z":"3df4c8d9.0bdc38","g":"353eeed0.7959d2","name":"","style":{"fill":"#c8e7a7","label":true},"nodes":["2cc21db0.31ad62","fceee294.75f2a","2da6eab8.1a0d46","df0f741c.af19a8","f2d35fb.fa772a","8fb0b4bf.9589d8","d49b2738.582fc8","29c7a23.727065e","d21b5c08.66b8c","a238dee5.dce89","457f5e6e.ca6a6","399aa9e0.76e826","65189a34.958f54","ed48b163.a810f","ca0a5684.ea6928","66413682.a144a8","1693e576.9b12ab","5a332056.69647","6b84c64e.dcc588","19987e51.456892","b3caef3.352311","e4129fed.88799","95c850f6.36643","66a490ba.d5e37","b22288f6.37a878","8552caa4.241e38","1d20ae55.84ce82","94a055d5.0c9b78","8342ff02.52b06","d57a1b85.5bfae8","1a666499.a2effb","b577a0f5.21f92","54744e61.1040a","ac2b4653.316da8","4400c779.7b65c8","402cd950.ce2c18","c8e55399.c9ba1","f27260f5.84ea7","4fa4f9ba.bbe438","9582cf9f.08cd2","1f018e5b.62ca82","5a992b9e.0fe264","bf6826f1.1eaf58","101b1cf1.8df2b3","3024e2c5.a2abce","16d2de82.3f9bd1","19a2b155.ff424f","eb1fb4ef.aeeb68","a9bbfe07.11d31","8f53cc8f.84257","4383a027.ff80a","d7c6bd69.7a7ef","a032476a.407a38","272ed76d.7cce68"],"x":54,"y":889},{"id":"84c9494b.d4dbe8","type":"group","z":"3df4c8d9.0bdc38","g":"353eeed0.7959d2","name":"","style":{"fill":"#c8e7a7","label":true},"nodes":["686f05a3.dd6cfc","92726765.16d7f8","5cb3e34e.01455c","5871112e.0973d","9f479937.6b8aa8","f74cea60.fcb698","fb3c6926.732028","fb0cb7ee.fd5898","bd09ef7a.b5593","deff6b32.1521a8","7157d825.d18368","44c815d7.7d19fc","133426a.57f73d9","a8a729db.101208","9408742.a02f988","f22dd0a7.a22fc","3386205f.8c40b","dd6ad91b.f07958","a677d25a.ded2f","366a2d5a.01dbf2","b55e7290.1631b","5358ecac.f54924","c71dcc99.95d37","e2832ff4.8c486"],"x":54,"y":589},{"id":"dad84feb.d4773","type":"group","z":"3df4c8d9.0bdc38","g":"e3aa057d.09fb18","name":"","style":{"fill":"#c8e7a7","label":true},"nodes":["c0305bdc.676a28","3781fe66.587af2","2e7249b4.58bd66","32c8b0ee.45f27","66ec00f0.b69ff","b47dc7c0.fe3dd8","3c6bdbde.b87f34","383d0d61.1e6de2","fdc50122.eca2a","14c9d205.a3aa7e","40db7d54.6eda64","853cd9a2.d77cf8","e603fb56.c7b328","7a545a2b.6f6b74","8276f23c.bfc3f","6db9c12b.c8705","c325ce5a.11ef9","12c8fd79.9681e3","60c61f62.f5c34","504fb845.3276c8","34c4f209.65d5fe","cb35c95f.b22ce8","876f26f1.b555a8","364f96f4.f46f0a","baa92aab.077738","17a116b7.129529","a6252416.b477e8","7add8997.38ea28","587d6709.b2cc68","1efee279.9d3c5e","24b7cec5.441a12","9beed943.b3e2c8","9209505b.0e275","7c8924eb.60c91c","58e6dd7.174e024","36e990a0.a6e0b","3c3c201f.7b4db","8aebe900.f1cdd8","633be9f8.688fd8","55b87356.a4664c","ff0d6d6.216379","c0449741.019748","ac728c7b.ad488","aafdc29a.6cbc","14170dd0.bdfb02","66285a83.0c7794","cf38473a.357f48","46402130.f1178","98d021b5.4ab52","ee2f7708.642508","b3d1cf2a.f818c","13163876.95eea8","203c8b78.5472b4","b7da3a44.60ff68","6e5aa94d.e5afd8","37db10ec.6a6f7","9423bfa9.83933","f1031a6d.683328","bc0c7c1c.40245"],"x":54,"y":2011},{"id":"7aad629d.de652c","type":"group","z":"3df4c8d9.0bdc38","g":"e3aa057d.09fb18","name":"","style":{"fill":"#c8e7a7","label":true},"nodes":["c5765955.018718","497412a1.c5deec","5df27476.8a476c","bf9f3756.731868","4e9cdd5a.9541e4","874c5aed.184488","cb991004.c84de","9b89d9af.1de058","acf47dfa.1c447","ea37e9ba.aa7508","52a8c629.843998","b0e43e11.45b77","a56dfe8e.9d817","97729306.5f405","d8da080.181c0f8","8be14622.b08ef8","b91731c.f01b2d","685eb5d0.f522ec","2c2a7aa0.9ef0d6","28d953db.54529c","45809fd1.8506","7a12922f.1cbe9c","d768e1d2.1e7f1","4e0a3fc7.922b2","20949174.cb72ee","ab740524.1ae268","f486135b.0c2e3","b2b71204.5d357","891ddd2d.407f3","1e43264c.b5a5fa","61109ded.3b49a4","a877cbae.a027a8","39c71fe2.06935","449e7bab.192fe4","6ae46230.0f8d4c","fbbc75ab.913998","6e4597fe.cd4c38","1da40511.9db73b","2cde88bf.5168b8","be37bc8e.b3c0e","dff7a91d.077a48","49e64ca4.8b1944","a4e7e30d.3de15","f213a859.b29578","c1723a65.a620c8","f7cadbb7.6024f8","462b05a4.8eaf6c","46118838.4c1a28","ca41ebf5.6cdf28","8ef5c8d6.524028","b8c12e8b.715b2","6e2ca5fe.49ebfc"],"x":54,"y":1701},{"id":"4eb2e67c.e57628","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"","style":{"fill":"#ffdf7f","label":true},"nodes":["d225d3dc.95f5d","8c2fe53.e0c5a18","823f98aa.daa8d8","5953427.341fdbc","164dac78.253234","1e4b1bbe.54e204","c984d5a4.ec6ac8","fe3cf8d4.9ecf68","e2792bcf.8bea78"],"x":54,"y":499},{"id":"da3ae781.998328","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"","style":{"fill":"#ffdf7f","label":true},"nodes":["bc3827d0.25b248","d0735f18.f858d","78fe1ad6.697684","42196f55.8e867","d49cbbef.71a878"],"x":54,"y":669},{"id":"e60e8bfd.7a3248","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"","style":{"fill":"#ffdf7f","label":true},"nodes":["a3d8c9a4.70d3a8","2514f0b3.8e71d","c2c53040.c272b","89b96b56.401e78","1a80eeb1.999511","ac5a3eb4.6c60d","cb63afbb.b38ed","fb5402e7.72322","9d2ef708.6a7618"],"x":54,"y":799},{"id":"b19ef7d3.42ea68","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"","style":{"fill":"#ffdf7f","label":true},"nodes":["cd5498e2.4669f8","f0b8ccfd.3b4c8","7893f953.690d58","103b42c0.753efd","e6513f08.9de2b","1007271e.7b5509","afef9de4.5ac33","e98639ed.c7faa8","30a20927.0852c6"],"x":54,"y":969},{"id":"9dbc79d1.85ede8","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"","style":{"fill":"#ffdf7f","label":true},"nodes":["bc863fbb.54cc7","5110e71f.5746a8","ad8181d.652538","e23d1e5c.76f6a","9f65b6e4.fa9b58","f24850fc.2d265","371bd93d.a97226","c8301305.155ca","4b56d4c2.92bedc","8fe15b1a.8efeb8","be845e9a.07b99","80b34dd.dbd91b","6a9bae72.3bb93"],"x":54,"y":1139},{"id":"9e9a162d.d4b0a8","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"Grafica de los datos","style":{"fill":"#ffdf7f","label":true,"color":"#000000"},"nodes":["ae4e1e77.28e04","9e15cbfa.3def58","b317eb9e.fa5ea8","3d1d1baa.08cbd4","6f55b697.307bd8","190757f3.f04c38","d1ec13b9.2d54a"],"x":964,"y":819},{"id":"b509ce91.c5418","type":"group","z":"d35c32b9.6419b","g":"8341562d.ffacc8","name":"","style":{"fill":"#ffdf7f","label":true},"nodes":["697008fb.202388","58cdfd92.f6f8f4","bef62d1e.d88b3","a25809c.5d92ff8","af5bc0f2.0bc23"],"x":594,"y":1389},{"id":"15ca143a.56aa5c","type":"group","z":"e86f0ca4.7feb5","g":"f2c899e7.e9eac8","name":"Lectura de IO Mediante Modbus","style":{"label":true,"color":"#000000","fill":"#7f8faf"},"nodes":["41b78365.d9c2dc","b2d57d3c.2471d","a95021da.6a8c1","e733e0b4.8726a","2813ded5.10a312","eb6058e.d5d31a8","39217f0f.71278","4a10466c.0f815","d48327f0.4900d8"],"x":1364,"y":1579},{"id":"17c31216.1aa6ce","type":"group","z":"68deacdf.9a36f4","g":"4888c9a8.82cb88","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["eeb1651a.36a6c8","a8a1cb28.4cb2d8","f894367d.626e58","dfd4edc3.552ee","6db11539.a3447c","953df5ed.5a47e8"],"x":854,"y":1089},{"id":"52cef377.daab5c","type":"group","z":"68deacdf.9a36f4","g":"4888c9a8.82cb88","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["e39916f8.4609d8","20bcc378.2c882c","c4d4160a.bd9958","273246a6.a5d34a","b4b08522.2499f8","fff9ff1f.be459"],"x":104,"y":1179},{"id":"9560ef4.a49141","type":"group","z":"68deacdf.9a36f4","g":"4888c9a8.82cb88","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["43c29f1e.c217f","685e27da.9ce058","72bc0ef0.eb795","43ded433.bb53cc","864b03bd.9ce3c","cc4394ab.fc4558"],"x":104,"y":1089},{"id":"f185a628.7c4598","type":"group","z":"68deacdf.9a36f4","g":"4888c9a8.82cb88","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["8779966a.f672e8","d73d6d43.ab8f4"],"x":854,"y":1179},{"id":"b5305a67.80d008","type":"group","z":"68deacdf.9a36f4","g":"4888c9a8.82cb88","style":{"stroke":"#999999","stroke-opacity":"1","fill":"none","fill-opacity":"1","label":true,"label-position":"nw","color":"#a4a4a4"},"nodes":["476b5c3e.4e4d44","a842573a.e6e518","fa4bb7a.8739c48","87b3cc18.eed9f","4482dc9f.5ee144","1be701e.c661bfe","8207386.0661fc8"],"x":1094,"y":1179},{"id":"7d786b12.6e23b4","type":"group","z":"e86f0ca4.7feb5","g":"d3657222.35975","name":"Configuración","style":{"label":true,"fill":"#bfc7d7","color":"#000000"},"nodes":["99ba8dae.66de7","83ad2d47.6536c8","c186e2d4.e656a","63023b7d.6c0a8c","c4e8c6f.5e40b38","e8a4c965.84cf58","15c579d8.16795e","70b71704.d5b21","cf19cdf5.5c63b8","e1a7ebe7.07176","1b85ab91.41ca2c","374a05ca.665b6a","34f0c776.dcc38","21c8167a.dc0f0a","fa7e1f13.631d68","b35aa859.4e68d8","2d37969b.f5a5d2","ae6b83d0.08bcc","12e87c11.1b9a9c","3974b514.0fac1a","2e727d30.ac4db2","6bf55df4.d10704","c302a8c4.2b49f8","54a7490b.2797","1598cab6.8a12fd","644e5e06.3306d","a7671f5c.c6f4a8"],"x":44,"y":3059},{"id":"425cfe7f.80b058","type":"group","z":"e86f0ca4.7feb5","g":"d3657222.35975","name":"Función de activación Filtro de armónicos","style":{"label":true,"fill":"#bfc7d7","color":"#000000"},"nodes":["67cd1756.68cc7","e36c0499.7b3e08","a7000289.b8cb2"],"x":44,"y":3429},{"id":"c05026cc.2a6048","type":"group","z":"e86f0ca4.7feb5","g":"23bbdddc.b8c5c2","name":"","style":{"fill":"#3f5787","label":true},"nodes":["95dd5b10.93eeb8","8ecce404.876938","627efcf3.7c1d94","3adac9ad.967366","be92e9cc.af4ea8","a28ab24d.e3159","324d8a5d.797266","2514916c.82ad8e","669558e4.31fb88","7ab77e72.f274c","548a3e91.fba1d","fd8a5b86.5db6c8","421e6162.dc457","549db7d6.bf0818","250b02a.a48adfe","beafa3d1.066ef","38933109.a0660e","8cc27616.708d38","333a4d0f.a365e2","82ef607a.ab19c","f2e4a286.70c9d","4f650c7f.8e8864","dde63ac0.f1af98","e825b6f5.656cb8","ed05877.18ccd78","c48e11aa.f1c5b","e4e1a727.bfdc98","59cd5141.6d208","d5af92d1.30c4d","b8115e69.2fa69","59cc6269.8b63dc","ba40b293.69fa9","eeee6a7d.5b1c18","123256cf.a6e189","1ea25171.b45eef","b4f9d47a.daf3d8","c19731de.9f7ce","13a2af85.2e896","a8055038.008e3","3effc50b.71ceba","58071b9e.a38484","c06df558.df5ee8","4573a9d3.6416f8","fd80d16.7c4df3","584af226.6a9c6c","4dc9efde.bc6cb","be019981.2941f8","42dfe362.ecf9fc","b62e9296.2afd8","2b33cbc0.5a4c64"],"x":84,"y":1459},{"id":"5c3a9c15.3a4554","type":"group","z":"e86f0ca4.7feb5","g":"1027a10.a1e515f","name":"","style":{"fill":"#3f5787","label":true},"nodes":["ff6c1ae7.7f0dd8","3c9f71a9.9f8fce","83a6198.8a9bee8","a6b6e124.811fb","2153ada3.61f452","641c6b57.1bdb14","826212c.76963f","f360853e.c29228","969d8cdc.200d1","f4c377f1.8c4418","1252dc55.783c04","7c61da60.31add4","462f214a.e5fd","fa18228c.8181c","a65ddf0c.e44da","f4655786.614248","8a8d5c74.6c919","3c9fecb8.51c404","afd9656e.c67a18","d1695de0.41452","f406d5d7.37bf18","8f314f6c.0c944","835e4ff1.50739","29f2664c.10cf1a","511841f8.1761e","c1ca7972.7efad8","95efa56e.233d78"],"x":1384,"y":1069},{"id":"62757ffc.dca08","type":"group","z":"e86f0ca4.7feb5","g":"23bbdddc.b8c5c2","name":"","style":{"fill":"#3f5787","label":true},"nodes":["1d563240.d7335e","eae17bf7.abfb98","57693d42.64b594","5612c7d7.dfac98","d16a7da0.51a4b","53f591a9.c6db1","9739e42b.b55908","c3703a0f.b4eb58","b5365bc3.4a2988","c967237e.798c5","f7d45d17.1263","ce9bcbe0.82ba08","7fca5a8d.8bd774","bc814e1b.e48e3","bd084cfc.c96b7","4413b68b.f15548","39314781.1c5188","b014379a.bddbd8","84b6221b.a1775","9946d95c.306678","95258912.15d388","70f95af9.c31fe4","8d5d3cd1.75de5","c7a11874.426038","d7b7c53a.bfd1d8","c662f5ad.21deb8","4b93e0d.a6fd52","c44c2bcf.479ab8","c8be3f70.1b147","f682cea0.507b9","dba1ea5a.227608","bf79e240.5ab82","c971dc53.ca862","92923f3a.deb0e","dabf45d6.c9a6b8","1b8abdf6.3dcb22","adc1722f.13e2","ba03cbde.df6f78"],"x":84,"y":609},{"id":"2d061227.66d7ce","type":"group","z":"e86f0ca4.7feb5","g":"1027a10.a1e515f","name":"","style":{"fill":"#3f5787","label":true},"nodes":["2860e3ba.631ffc","65fd0659.ce5ea8","81c44399.313d1","36a6ada6.088e02","f9855a9d.d658d8","c7394d4f.1877f","e398f7a4.f17d08","885e055a.76fda8","4414ee60.603dd","afb718c8.4b74c8","d3888470.828598","955fc7d3.2b6ac8","edd64156.146d3","706c900.17dd37","ce1dc649.cc5748","f9a3d861.77c0f8","15368445.fbcc8c","18add3e9.59452c","5ba78aad.1e1004","5d335e3d.151a7","36c67261.6e84de","4650be5c.04ff2","ab3579b7.9be628","5c582963.1ed7f8","acf4e6b7.86a698","a0f714a1.164ef8","e3fc54b9.c1b108","a2be0fbd.31585","4a02b457.a1fecc","ffda9256.dc79c","924f3cdb.96bbe"],"x":1384,"y":609},{"id":"a80677cf.4274c8","type":"group","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["a46d071d.fcdc98","c404a6e9.ffda18","7dfbde1e.e4b5b","6d40adaa.11d2c4"],"x":574,"y":729},{"id":"be55ea76.ed4478","type":"group","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"","style":{"fill":"#ff7f7f","label":true},"nodes":["ffad1340.f8a3b","8effe1fe.bacd6","98a9b5d4.5e5608","d1a73825.d89578","6ee9b8f2.10e5e8"],"x":574,"y":559},{"id":"64ff74e5.f4c53c","type":"group","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"","style":{"label":false,"fill":"#ff7f7f"},"nodes":["8edea7ae.674088","33c5f16c.c8a5ae","42f85e00.83b314","a02a63e4.ca1e3"],"x":574,"y":299},{"id":"272ed76d.7cce68","type":"group","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Estado de la escritura de Referencia E2/E7","style":{"fill":"#addb7b","label":true,"color":"#000000"},"nodes":["ac35b5d7.c82f98","7eae3e0f.631e6","5a87edb6.8c3394","857e53fb.e5dae","e1454e7d.97fa8","35641b5c.fa1334","e9f8a5f1.b0bdb8","2451ed0d.81d282","933dddee.7aa6b","97085297.91fc4"],"x":924,"y":919},{"id":"5d1065e2.7b952c","type":"group","z":"e86f0ca4.7feb5","g":"23bbdddc.b8c5c2","name":"Handle de las funciones DI","style":{"fill":"#3f5787","label":true,"color":"#000000"},"nodes":["38626d7c.ef07b2","782235ec.980bfc","fe53aea5.79aaf","2067d6cd.3e46ca","9a2d670b.656248","45b32200.ade75","4b7a8d2a.7dcd74","9670bb31.dbb068","7a84d54f.a2970c","5e0e5966.967498","ce7147d6.294208","5ccfc99a.046e78","55d7f98f.7ca518"],"x":84,"y":1949},{"id":"b974d4b3.9e3f78","type":"group","z":"e86f0ca4.7feb5","g":"d22a2793.24a988","name":"Escribir salidas digitales en CUBLOC","style":{"fill":"#3f5787","label":true,"color":"#000000"},"nodes":["144c878a.5a55c8","f5cf8d1a.deec8","d2ef2515.318b48","3724defddc128482","e396b64.3472f48","7552fd27.c9dacc","8feada40.18166","e1426513.b6ead8"],"x":1334,"y":2259},{"id":"1b19a252.cfe16e","type":"group","z":"e86f0ca4.7feb5","g":"d22a2793.24a988","name":"","style":{"label":true,"color":"#d1d1d1","fill":"#3f5787"},"nodes":["c1725583.cfc348","4526b0f7.fa6a6","f67e70e4.5f30e","bb68e810.a57a38","ce5f1106.c4ff9","85590fb.bc50ef","dbf2523c.156f3","23cf0be1.ad7274","ab7a7e6.0a4ca8","1a41c067.58aff","4b7792b7.b882fc","8e67a2d0.14549","ffcb3293.a4c48","66aa96c8.486ca8","ff71fda1.67ec9","c4e00dfa.4f109","37d41ac8.88d346","e61ce5c2.e74a08","29ba2c8e.26a694","c19d1216.bf754","8e749bbe.f74f28","d34861d8.cf767","4968d3dd.74a03c","e3df39b.47c05c8","890ece98.923b9","16a30db2.f4a332","d7391425.ccfbf8"],"x":84,"y":2249},{"id":"49f2e1fd.34fcd","type":"ui_base","theme":{"name":"theme-light","lightTheme":{"default":"#0094CE","baseColor":"#204097","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#097479","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":false},"customTheme":{"name":"Untitled Theme 1","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#0094CE","value":"#204097","edited":true},"page-titlebar-backgroundColor":{"value":"#204097","edited":false},"page-backgroundColor":{"value":"#fafafa","edited":false},"page-sidebar-backgroundColor":{"value":"#333333","edited":false},"group-textColor":{"value":"#305cd3","edited":false},"group-borderColor":{"value":"#ffffff","edited":false},"group-backgroundColor":{"value":"#ffffff","edited":false},"widget-textColor":{"value":"#111111","edited":false},"widget-backgroundColor":{"value":"#204097","edited":false},"widget-borderColor":{"value":"#ffffff","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"true","allowSwipe":"false","lockMenu":"false","allowTempTheme":"false","dateFormat":"DD/MM/YYYY","sizes":{"sx":57,"sy":45,"gx":6,"gy":6,"cx":6,"cy":6,"px":0,"py":0}}},{"id":"e9a46a0b.71c978","type":"ui_spacer","name":"spacer","group":"","order":3,"width":"0","height":"0"},{"id":"99f17ff2.2c14","type":"ui_group","name":"Escribir parámetro C2S","tab":"9d512981.aa8278","order":7,"disp":true,"width":"4","collapse":false},{"id":"a3d14ba7.64fb58","type":"ui_tab","name":"Main","icon":"fa-home","order":1,"disabled":false,"hidden":false},{"id":"bbd73f04.32559","type":"ui_group","name":"Monitor","tab":"af61749c.7aa158","order":2,"disp":true,"width":"12","collapse":false},{"id":"971dcd1e.a04d5","type":"ui_group","name":"Ramps","tab":"9d512981.aa8278","order":5,"disp":false,"width":"6","collapse":false},{"id":"8370e95f.f0a918","type":"ui_group","name":"Datos C2S","tab":"a3d14ba7.64fb58","order":4,"disp":false,"width":"12","collapse":false},{"id":"1925e2c.fd4e91d","type":"ui_group","name":"Referencia de velocidad","tab":"a3d14ba7.64fb58","order":7,"disp":true,"width":8,"collapse":false},{"id":"6f4d01db.f0a2b","type":"influxdb","hostname":"localhost","port":"8086","protocol":"http","database":"SWCPRO","name":"","usetls":false,"tls":""},{"id":"78d62e2c.99b72","type":"modbus-client","name":"LocalServer","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"localhost","tcpPort":"10502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":5,"commandDelay":1,"clientTimeout":1000,"reconnectOnTimeout":true,"reconnectTimeout":2000,"parallelUnitIdsAllowed":true},{"id":"c17f19ae.06fbf8","type":"ui_tab","name":"Users","icon":"fa-user","order":4,"disabled":false,"hidden":false},{"id":"a706ea3d.b7fbc8","type":"ui_group","name":"User Credentials","tab":"c17f19ae.06fbf8","order":2,"disp":false,"width":"12","collapse":false},{"id":"5901c07f.97003","type":"ui_group","name":"Tensión","tab":"4be5396c.78f338","order":3,"disp":false,"width":"8","collapse":false},{"id":"4be5396c.78f338","type":"ui_tab","name":"Configuración-Protecciones-Superficie","icon":"fa-plug","order":14,"disabled":false,"hidden":false},{"id":"6b5426f3.f658d8","type":"ui_group","name":"Corriente","tab":"4be5396c.78f338","order":5,"disp":false,"width":"8","collapse":false},{"id":"a1a44702.88ed68","type":"ui_group","name":"Temperatura de entrada","tab":"70f4c45e.09553c","order":6,"disp":false,"width":"8","collapse":false},{"id":"e149ba57.923428","type":"ui_group","name":"Presión de entrada","tab":"70f4c45e.09553c","order":4,"disp":false,"width":"8","collapse":false},{"id":"38e9a87.c300958","type":"ui_group","name":"Presión de descarga","tab":"70f4c45e.09553c","order":8,"disp":false,"width":"8","collapse":false},{"id":"79bd9737.7bcf68","type":"ui_group","name":"Temperatura de descarga","tab":"70f4c45e.09553c","order":10,"disp":false,"width":"8","collapse":false},{"id":"b8c21edc.41f92","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":21,"width":"8","height":1},{"id":"8fb42710.c26628","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":21,"width":"8","height":1},{"id":"433a22e9.54c74c","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":21,"width":"8","height":1},{"id":"18a741a9.399cbe","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":21,"width":"8","height":1},{"id":"53f5e611.7d5b48","type":"ui_group","name":"Limits","tab":"9d512981.aa8278","order":6,"disp":false,"width":"6","collapse":false},{"id":"c0d4b517.4b9968","type":"ui_group","name":"Placa de motor","tab":"9d512981.aa8278","order":3,"disp":false,"width":"12","collapse":false},{"id":"b8183a56.ba29a8","type":"ui_group","name":"Control de motor","tab":"9d512981.aa8278","order":8,"disp":true,"width":"4","collapse":false},{"id":"8c9de1e9.1607e","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":1,"width":"0","height":"0"},{"id":"2f203838.1cd398","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":15,"width":"0","height":"0"},{"id":"fdffe6bc.86dd78","type":"ui_tab","name":"Eventos","icon":"fa-list-ol","order":3,"disabled":false,"hidden":false},{"id":"96dbaa88.715ef8","type":"ui_group","name":"Eventos","tab":"fdffe6bc.86dd78","order":3,"disp":false,"width":"12","collapse":false},{"id":"907f5ff7.25cd8","type":"ui_group","name":"C2S IP Direction","tab":"c85a3f81.44d67","order":2,"disp":true,"width":"12","collapse":false},{"id":"759fa4e7.01062c","type":"ui_group","name":"Comandos C2S","tab":"a3d14ba7.64fb58","order":9,"disp":true,"width":"10","collapse":false},{"id":"a487b683.29f738","type":"ui_group","name":"SWC Network Diagnostic","tab":"57cb75a3.2b4fdc","order":3,"disp":true,"width":"12","collapse":false},{"id":"91f407cc.9e95a8","type":"ui_group","name":"Memorias USB","tab":"fdffe6bc.86dd78","order":5,"disp":false,"width":"12","collapse":false},{"id":"c001d335.d33fe","type":"ui_group","name":"Phase A","tab":"3d7d1bc8.aa6c84","order":2,"disp":true,"width":"3","collapse":false},{"id":"12d8ae87.47ccb1","type":"ui_group","name":"Phase B","tab":"3d7d1bc8.aa6c84","order":3,"disp":true,"width":"3","collapse":false},{"id":"1e504599.f4523a","type":"ui_group","name":"Phase C","tab":"3d7d1bc8.aa6c84","order":4,"disp":true,"width":"3","collapse":false},{"id":"95ebb133.30cd2","type":"ui_group","name":"Average","tab":"3d7d1bc8.aa6c84","order":5,"disp":true,"width":"3","collapse":false},{"id":"c9a29e84.68bd","type":"ui_group","name":"Voltios Hertz","tab":"9d512981.aa8278","order":4,"disp":false,"width":"12","collapse":false},{"id":"ae58460d.12c698","type":"modbus-client","name":"PQA","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"192.168.2.13","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"5","commandDelay":"1","clientTimeout":"1000","reconnectOnTimeout":true,"reconnectTimeout":"2000","parallelUnitIdsAllowed":true},{"id":"2675f763.09aa58","type":"ui_group","d":true,"name":"Buzzer","tab":"73af030.b87b7fc","order":11,"disp":true,"width":"12","collapse":false},{"id":"d8a1c8a1.3fd9d8","type":"ui_group","name":"SWC Ethernet Config","tab":"57cb75a3.2b4fdc","order":2,"disp":true,"width":"12","collapse":false},{"id":"22d1f3b8.e8944c","type":"ui_tab","name":"Menu","icon":"dashboard","order":2,"disabled":false,"hidden":false},{"id":"9e6ebcc8.9f87","type":"ui_group","name":"Menu","tab":"22d1f3b8.e8944c","order":3,"disp":false,"width":"8","collapse":false},{"id":"13d04d5f.cae853","type":"ui_group","name":"Navbar","tab":"22d1f3b8.e8944c","order":1,"disp":false,"width":"9","collapse":false},{"id":"ccb4b03.df2d45","type":"ui_group","name":"Navbar","tab":"a3d14ba7.64fb58","order":1,"disp":false,"width":"9","collapse":false},{"id":"1ab5740c.42463c","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":5,"width":"3","height":1},{"id":"85ff5727.7cc6c8","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":3,"width":"3","height":1},{"id":"dca8b287.e913a","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":6,"width":"3","height":1},{"id":"f27e2d56.614aa","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":8,"width":"3","height":1},{"id":"53e6d6fb.0cd618","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":9,"width":"3","height":1},{"id":"eca5d69a.8e55f8","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":12,"width":"3","height":1},{"id":"b157381c.777888","type":"ui_group","name":"Navbar","tab":"fdffe6bc.86dd78","order":1,"disp":false,"width":"12","collapse":false},{"id":"9d512981.aa8278","type":"ui_tab","name":"Configuración-Estándar-Variador","icon":"dashboard","order":5,"disabled":false,"hidden":false},{"id":"55d542f4.50b54c","type":"ui_group","name":"Navbar","tab":"9d512981.aa8278","order":1,"disp":false,"width":"12","collapse":false},{"id":"8b5bc288.343f8","type":"ui_tab","name":"Monitoring-Drive","icon":"dashboard","order":41,"disabled":false,"hidden":false},{"id":"3d7d1bc8.aa6c84","type":"ui_tab","name":"Monitoring-PQA Voltage","icon":"dashboard","order":42,"disabled":false,"hidden":false},{"id":"16814f42.3918e1","type":"ui_group","name":"Speed","tab":"8b5bc288.343f8","order":2,"disp":true,"width":"4","collapse":false},{"id":"21c40e15.4edac2","type":"ui_group","name":"Voltage","tab":"8b5bc288.343f8","order":3,"disp":true,"width":"4","collapse":false},{"id":"6fb426b2.734468","type":"ui_group","name":"Current","tab":"8b5bc288.343f8","order":4,"disp":true,"width":"4","collapse":false},{"id":"baeb19e9.7b41b8","type":"ui_group","name":"Power","tab":"8b5bc288.343f8","order":5,"disp":true,"width":"4","collapse":false},{"id":"8f162ab5.03e8a8","type":"ui_group","name":"Temperature","tab":"8b5bc288.343f8","order":6,"disp":true,"width":"4","collapse":false},{"id":"c171a5e9.57a728","type":"ui_group","name":"CILA Image","tab":"22d1f3b8.e8944c","order":4,"disp":false,"width":"4","collapse":false},{"id":"7ddeb867.f441b8","type":"ui_group","name":"Datos de fondo","tab":"a3d14ba7.64fb58","order":5,"disp":false,"width":"12","collapse":false},{"id":"2666f936.6d0ee6","type":"ui_group","name":"Estado C2S","tab":"a3d14ba7.64fb58","order":11,"disp":false,"width":"9","collapse":false},{"id":"7bcf8b9.016b774","type":"ui_group","name":"Date Time","tab":"22d1f3b8.e8944c","order":6,"disp":false,"width":"3","collapse":false},{"id":"536af8e6.0e6808","type":"ui_group","name":"Estado C2S","tab":"22d1f3b8.e8944c","order":5,"disp":false,"width":"9","collapse":false},{"id":"4294c02d.433f5","type":"ui_tab","name":"Configuración-Estándar-Relación_de_reducción","icon":"dashboard","order":6,"disabled":false,"hidden":false},{"id":"e212240.b0030e","type":"ui_tab","name":"Configuración-Estándar-Filtro_armónicos","icon":"dashboard","order":7,"disabled":false,"hidden":false},{"id":"d4b273b7.118aa","type":"ui_tab","name":"Configuración-Estándar-Hardware_disponible","icon":"dashboard","order":8,"disabled":false,"hidden":false},{"id":"c45750e3.94fcf","type":"ui_tab","name":"Configuración-Estándar-Unidades_ingeniería","icon":"dashboard","order":10,"disabled":false,"hidden":false},{"id":"73af030.b87b7fc","type":"ui_tab","name":"Configuración-E_S-SWCPRO","icon":"dashboard","order":11,"disabled":false,"hidden":false},{"id":"8b397091.1e2a6","type":"ui_group","name":"Navbar","tab":"4294c02d.433f5","order":1,"disp":false,"width":"12","collapse":false},{"id":"251ce553.192aaa","type":"ui_group","name":"Navbar","tab":"e212240.b0030e","order":1,"disp":false,"width":"12","collapse":false},{"id":"a302ba1a.abeec8","type":"ui_group","name":"Navbar","tab":"d4b273b7.118aa","order":1,"disp":false,"width":"12","collapse":false},{"id":"611d0bce.a51234","type":"ui_group","name":"Navbar","tab":"c45750e3.94fcf","order":1,"disp":false,"width":"12","collapse":false},{"id":"d2902e21.4d6d9","type":"ui_tab","name":"Configuración-E_S-Remotas","icon":"dashboard","order":12,"disabled":false,"hidden":false},{"id":"5ec797db.370fe8","type":"ui_group","name":"Navbar","tab":"d2902e21.4d6d9","order":1,"disp":false,"width":"12","collapse":false},{"id":"782e29e9.7b7e28","type":"ui_group","name":"Navbar","tab":"73af030.b87b7fc","order":1,"disp":false,"width":"12","collapse":false},{"id":"f70043a3.dcddb","type":"ui_group","name":"Navbar","tab":"4be5396c.78f338","order":1,"disp":false,"width":"12","collapse":false},{"id":"1115e53d.667bcb","type":"ui_group","name":"Menú datos operativos","tab":"a3d14ba7.64fb58","order":3,"disp":false,"width":"12","collapse":false},{"id":"4f5c2b53.44a154","type":"ui_group","name":"Datos eléctricos","tab":"a3d14ba7.64fb58","order":6,"disp":false,"width":"12","collapse":false},{"id":"70f4c45e.09553c","type":"ui_tab","name":"Configuración-Protecciones-Fondo","icon":"dashboard","order":13,"disabled":false,"hidden":false},{"id":"fa54261.0bbffd8","type":"ui_group","name":"Navbar","tab":"70f4c45e.09553c","order":1,"disp":false,"width":"12","collapse":false},{"id":"896be3ec.eb491","type":"ui_group","name":"Navegación protecciones","tab":"70f4c45e.09553c","order":2,"disp":false,"width":"12","collapse":false},{"id":"9ae9c438.b36418","type":"ui_group","name":"Navegación protecciones","tab":"4be5396c.78f338","order":2,"disp":false,"width":"12","collapse":false},{"id":"7eaa26da.d167a8","type":"ui_tab","name":"Configuración-Comunicaciones-SCADA","icon":"dashboard","order":15,"disabled":false,"hidden":false},{"id":"64294d01.719264","type":"ui_group","name":"Navbar","tab":"7eaa26da.d167a8","order":1,"disp":false,"width":"12","collapse":false},{"id":"56b03a99.1007f4","type":"ui_group","name":"Navegación Comunicaciones","tab":"7eaa26da.d167a8","order":2,"disp":false,"width":"12","collapse":false},{"id":"2dbf183f.1f2ed8","type":"ui_tab","name":"Configuración-Comunicaciones-Sensor_de_fondo","icon":"dashboard","order":16,"disabled":false,"hidden":false},{"id":"46115c7a.f67544","type":"ui_group","name":"Navbar","tab":"2dbf183f.1f2ed8","order":1,"disp":false,"width":"12","collapse":false},{"id":"e37d4f11.c2ffd","type":"ui_tab","name":"Configuración-Comunicaciones-PQA","icon":"dashboard","order":17,"disabled":false,"hidden":false},{"id":"eba1ec9d.afb9","type":"ui_group","name":"Navbar","tab":"e37d4f11.c2ffd","order":1,"disp":false,"width":"12","collapse":false},{"id":"c85a3f81.44d67","type":"ui_tab","name":"Configuración-Comunicaciones-C2S","icon":"dashboard","order":18,"disabled":false,"hidden":false},{"id":"4ed084db.07bb8c","type":"ui_group","name":"Navbar","tab":"c85a3f81.44d67","order":1,"disp":false,"width":"12","collapse":false},{"id":"57cb75a3.2b4fdc","type":"ui_tab","name":"Configuración-Comunicaciones-SWC","icon":"dashboard","order":19,"disabled":false,"hidden":false},{"id":"7b7ba0c5.453ea","type":"ui_group","name":"Navegación Comunicaciones","tab":"2dbf183f.1f2ed8","order":2,"disp":false,"width":"12","collapse":false},{"id":"ea9d6f8c.70bbe","type":"ui_group","name":"Navegación Comunicaciones","tab":"e37d4f11.c2ffd","order":2,"disp":false,"width":"12","collapse":false},{"id":"422cfba8.52cb44","type":"ui_group","name":"Navbar","tab":"57cb75a3.2b4fdc","order":1,"disp":false,"width":"12","collapse":false},{"id":"12a91775.1f0509","type":"ui_spacer","name":"spacer","group":"d8a1c8a1.3fd9d8","order":1,"width":"3","height":"3"},{"id":"48242831.fbb518","type":"ui_spacer","name":"spacer","group":"d8a1c8a1.3fd9d8","order":6,"width":"3","height":"3"},{"id":"36b368d9.464228","type":"ui_spacer","name":"spacer","group":"907f5ff7.25cd8","order":1,"width":"3","height":1},{"id":"f792af12.140ec","type":"ui_spacer","name":"spacer","group":"907f5ff7.25cd8","order":3,"width":"3","height":1},{"id":"51fc0122.69508","type":"ui_tab","name":"Configuración-Tipo_de_control-Control_inteligente_de_torque","icon":"dashboard","order":20,"disabled":false,"hidden":false},{"id":"57ef0fe3.abf6d","type":"ui_tab","name":"Configuración-Tipo_de_control-Control_de_backspin","icon":"dashboard","order":21,"disabled":false,"hidden":false},{"id":"95558f26.f7b06","type":"ui_group","name":"Navbar","tab":"51fc0122.69508","order":1,"disp":false,"width":"12","collapse":false},{"id":"5e910f38.f94bf","type":"ui_group","name":"Navbar","tab":"57ef0fe3.abf6d","order":1,"disp":false,"width":"12","collapse":false},{"id":"929052b3.16de6","type":"ui_tab","name":"Tendencias-Fondo-Sensor_Less","icon":"dashboard","order":30,"disabled":false,"hidden":false},{"id":"68ac396.1165ac8","type":"ui_tab","name":"Tendencias-Multivariable-...","icon":"dashboard","order":31,"disabled":false,"hidden":false},{"id":"e7fec6e7.e03cc8","type":"ui_tab","name":"Monitoreo-Datos_Operativos-Superficie_y_Fondo","icon":"dashboard","order":32,"disabled":false,"hidden":false},{"id":"af61749c.7aa158","type":"ui_tab","name":"Monitoreo_ES_Remotas","icon":"dashboard","order":33,"disabled":false,"hidden":false},{"id":"a04c63d2.079f3","type":"ui_tab","name":"Monitoreo_ES_CILA2S","icon":"dashboard","order":34,"disabled":false,"hidden":false},{"id":"78de14f0.6d2a1c","type":"ui_tab","name":"Monitoreo-AVAS-IWOC","icon":"dashboard","order":35,"disabled":false,"hidden":false},{"id":"e4f8f278.f0d93","type":"ui_tab","name":"Monitoreo-AVAS-Sensor_Less","icon":"dashboard","order":36,"disabled":false,"hidden":false},{"id":"c89f74a9.ab18a8","type":"ui_tab","name":"Monitoreo-AVAS-Power_Sag","icon":"dashboard","order":37,"disabled":false,"hidden":false},{"id":"852dbf53.0f314","type":"ui_tab","name":"Monitoreo-AVAS-IRL","icon":"dashboard","order":38,"disabled":false,"hidden":false},{"id":"894c698a.73bca8","type":"ui_tab","name":"Monitoreo-AVAS-GasLock","icon":"dashboard","order":39,"disabled":false,"hidden":false},{"id":"4e2f4485.4ef94c","type":"ui_tab","name":"Configuración-AVAS-IWOC","icon":"dashboard","order":22,"disabled":false,"hidden":false},{"id":"52ac1d2c.4bfae4","type":"ui_tab","name":"Configuración-AVAS-Sensor_Less","icon":"dashboard","order":23,"disabled":false,"hidden":false},{"id":"979b2d16.995aa","type":"ui_tab","name":"Configuración-AVAS-Power_Sag","icon":"dashboard","order":24,"disabled":false,"hidden":false},{"id":"9def7eb2.1268e","type":"ui_tab","name":"Configuración-AVAS-IRL","icon":"dashboard","order":25,"disabled":false,"hidden":false},{"id":"89338107.067bf","type":"ui_tab","name":"Configuración-AVAS-GasLock","icon":"dashboard","order":26,"disabled":false,"hidden":false},{"id":"5f0a8098.4de05","type":"ui_group","name":"Navbar","tab":"4e2f4485.4ef94c","order":1,"disp":false,"width":"12","collapse":false},{"id":"b081becd.c126e","type":"ui_group","name":"Navbar","tab":"52ac1d2c.4bfae4","order":1,"disp":false,"width":"12","collapse":false},{"id":"2c0e3387.dee62c","type":"ui_group","name":"Navbar","tab":"979b2d16.995aa","order":1,"disp":false,"width":"12","collapse":false},{"id":"c522aab3.95b0b8","type":"ui_group","name":"Navbar","tab":"9def7eb2.1268e","order":1,"disp":false,"width":"12","collapse":false},{"id":"26ae8f9f.de158","type":"ui_group","name":"Navbar","tab":"89338107.067bf","order":1,"disp":false,"width":"12","collapse":false},{"id":"ccbff65e.9a8578","type":"ui_group","name":"Navbar","tab":"d3429dad.90f97","order":1,"disp":false,"width":"12","collapse":false},{"id":"f33b4c32.61464","type":"ui_group","name":"Navbar","tab":"5d9f53b4.4e1f4c","order":1,"disp":false,"width":"12","collapse":false},{"id":"5a9ecaca.da3fe4","type":"ui_group","name":"Navbar","tab":"929052b3.16de6","order":1,"disp":false,"width":"12","collapse":false},{"id":"56cd6bff.7aa614","type":"ui_group","name":"Navbar","tab":"68ac396.1165ac8","order":1,"disp":false,"width":"12","collapse":false},{"id":"6a601ecc.fd136","type":"ui_group","name":"Navbar","tab":"e7fec6e7.e03cc8","order":1,"disp":false,"width":"12","collapse":false},{"id":"bf5f3708.2559b8","type":"ui_group","name":"Navbar","tab":"af61749c.7aa158","order":1,"disp":false,"width":"12","collapse":false},{"id":"c37b1f84.33bd1","type":"ui_group","name":"Navbar","tab":"a04c63d2.079f3","order":1,"disp":false,"width":"12","collapse":false},{"id":"7a32c3e9.c1159c","type":"ui_group","name":"Navbar","tab":"78de14f0.6d2a1c","order":1,"disp":false,"width":"12","collapse":false},{"id":"eb53d4a4.495508","type":"ui_group","name":"Navbar","tab":"e4f8f278.f0d93","order":1,"disp":false,"width":"12","collapse":false},{"id":"f57f64c8.46f6a8","type":"ui_group","name":"Navbar","tab":"c89f74a9.ab18a8","order":1,"disp":false,"width":"12","collapse":false},{"id":"adc1ed68.2ce25","type":"ui_group","name":"Navbar","tab":"852dbf53.0f314","order":1,"disp":false,"width":"12","collapse":false},{"id":"8c64c7aa.286018","type":"ui_group","name":"Navbar","tab":"894c698a.73bca8","order":1,"disp":false,"width":"12","collapse":false},{"id":"90d3dd63.5cfad","type":"ui_group","name":"Navegación protecciones 2","tab":"70f4c45e.09553c","order":3,"disp":false,"width":"12","collapse":false},{"id":"9ba5470e.890228","type":"ui_spacer","name":"spacer","group":"bbd73f04.32559","order":4,"width":"2","height":"2"},{"id":"dd397fac.c2873","type":"ui_spacer","name":"spacer","group":"bbd73f04.32559","order":1,"width":"2","height":"2"},{"id":"dd2ab137.902b2","type":"ui_spacer","name":"spacer","group":"2675f763.09aa58","order":1,"width":"3","height":"2"},{"id":"b2953b65.5b5648","type":"ui_spacer","name":"spacer","group":"2675f763.09aa58","order":4,"width":"3","height":"2"},{"id":"bc656da7.f93a9","type":"ui_group","name":"Menu Eventos/Alarmas","tab":"fdffe6bc.86dd78","order":2,"disp":false,"width":"12","collapse":false},{"id":"4c0abc86.a9cf64","type":"ui_spacer","name":"spacer","group":"91f407cc.9e95a8","order":1,"width":"3","height":1},{"id":"e2d84225.8cfe","type":"ui_spacer","name":"spacer","group":"91f407cc.9e95a8","order":4,"width":"3","height":1},{"id":"42e65bd9.26fdf4","type":"ui_group","name":"Alarmas","tab":"fdffe6bc.86dd78","order":4,"disp":false,"width":"12","collapse":false},{"id":"32eaa726.76f2f8","type":"ui_group","name":"Vibración general","tab":"70f4c45e.09553c","order":12,"disp":false,"width":"8","collapse":false},{"id":"e5d6b12b.cf15","type":"ui_group","name":"Temperatura de motor","tab":"70f4c45e.09553c","order":14,"disp":false,"width":"8","collapse":false},{"id":"be2a9ad2.6fa458","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":21,"width":"8","height":1},{"id":"b32f8dd1.f3e86","type":"ui_group","name":"Corriente de fuga","tab":"70f4c45e.09553c","order":16,"disp":false,"width":"8","collapse":false},{"id":"fea027e7.4bcc68","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":21,"width":"8","height":1},{"id":"5d420622.3dd3c8","type":"ui_group","name":"Navegación ES","tab":"73af030.b87b7fc","order":2,"disp":false,"width":"12","collapse":false},{"id":"9457c46f.d710c8","type":"ui_group","name":"Configuración E.D.","tab":"73af030.b87b7fc","order":3,"disp":false,"width":"6","collapse":false},{"id":"89c29882.24ba28","type":"ui_group","name":"Información del canal E.D.","tab":"73af030.b87b7fc","order":4,"disp":false,"width":"6","collapse":false},{"id":"42b2cabf.0c7ea4","type":"ui_group","name":"Configuración E.A.","tab":"73af030.b87b7fc","order":5,"disp":false,"width":"6","collapse":false},{"id":"2d9cedce.ac17c2","type":"ui_group","name":"Configuración S.A.","tab":"73af030.b87b7fc","order":9,"disp":false,"width":"6","collapse":false},{"id":"4a58744b.a270cc","type":"ui_group","name":"Información del canal E.A.","tab":"73af030.b87b7fc","order":6,"disp":false,"width":"6","collapse":false},{"id":"999747fd.0e43c8","type":"ui_group","name":"Configuración S.D.","tab":"73af030.b87b7fc","order":7,"disp":false,"width":"6","collapse":false},{"id":"f099a646.bd5eb8","type":"ui_group","name":"Información del canal S.D.","tab":"73af030.b87b7fc","order":8,"disp":false,"width":"6","collapse":false},{"id":"7821f022.e6285","type":"ui_group","name":"Información del canal S.A.","tab":"73af030.b87b7fc","order":10,"disp":false,"width":"6","collapse":false},{"id":"cea47c8c.6a38d","type":"ui_tab","name":"Configuración-Estándar-Tipo_de_arranque","icon":"dashboard","order":9,"disabled":false,"hidden":false},{"id":"b1b1e40e.b6b5b8","type":"ui_group","name":"Navbar","tab":"cea47c8c.6a38d","order":1,"disp":false,"width":"12","collapse":false},{"id":"8dad8fe5.e2a3f","type":"ui_group","name":"Navegación tipo de arranque","tab":"cea47c8c.6a38d","order":2,"disp":false,"width":"12","collapse":false},{"id":"6030eeb8.f906","type":"ui_group","name":"Tipo de reducción","tab":"4294c02d.433f5","order":6,"disp":false,"width":"12","collapse":false},{"id":"69db1b09.223de4","type":"ui_spacer","name":"spacer","group":"6030eeb8.f906","order":3,"width":"2","height":1},{"id":"33f5216.a6073de","type":"ui_spacer","name":"spacer","group":"6030eeb8.f906","order":5,"width":"2","height":1},{"id":"622b6212.3c118c","type":"ui_group","name":"Polea correa","tab":"4294c02d.433f5","order":2,"disp":false,"width":"6","collapse":false},{"id":"46b27450.06373c","type":"ui_group","name":"Caja reductora","tab":"4294c02d.433f5","order":3,"disp":false,"width":"6","collapse":false},{"id":"4dc720d3.6e828","type":"ui_spacer","name":"spacer","group":"46b27450.06373c","order":1,"width":"6","height":"1"},{"id":"1d2ca82d.96c588","type":"ui_group","name":"Nav-tab","tab":"9d512981.aa8278","order":2,"disp":false,"width":"12","collapse":false},{"id":"63f7553a.291c4c","type":"ui_spacer","name":"spacer","group":"622b6212.3c118c","order":2,"width":"1","height":1},{"id":"a4033a4c.2e46b8","type":"ui_spacer","name":"spacer","group":"622b6212.3c118c","order":4,"width":"1","height":1},{"id":"8da06e95.1b23f","type":"ui_spacer","name":"spacer","group":"622b6212.3c118c","order":5,"width":"1","height":1},{"id":"7b8405d.2e489fc","type":"ui_spacer","name":"spacer","group":"622b6212.3c118c","order":7,"width":"1","height":1},{"id":"e7e5b0dc.13d08","type":"ui_spacer","name":"spacer","group":"46b27450.06373c","order":2,"width":"1","height":1},{"id":"c9709da.887b86","type":"ui_spacer","name":"spacer","group":"46b27450.06373c","order":4,"width":"1","height":1},{"id":"4b5d1e0.8984ee4","type":"ui_spacer","name":"spacer","group":"6030eeb8.f906","order":1,"width":"2","height":1},{"id":"c29db795.bc3948","type":"ui_spacer","name":"spacer","group":"622b6212.3c118c","order":8,"width":"6","height":1},{"id":"b0b15eed.8205a","type":"ui_spacer","name":"spacer","group":"6030eeb8.f906","order":6,"width":"12","height":1},{"id":"fcd99b1d.edbd18","type":"ui_spacer","name":"spacer","group":"a81f41c1.f56a2","order":6,"width":"6","height":1},{"id":"1dcc7ea4.2b6e31","type":"ui_spacer","name":"spacer","group":"46b27450.06373c","order":6,"width":"6","height":1},{"id":"f2734026.db36e","type":"ui_spacer","name":"spacer","group":"622b6212.3c118c","order":1,"width":"6","height":1},{"id":"af933080.a9609","type":"ui_spacer","name":"spacer","group":"46b27450.06373c","order":5,"width":"6","height":1},{"id":"b9060bca.13a558","type":"ui_spacer","name":"spacer","group":"89c29882.24ba28","order":4,"width":"6","height":1},{"id":"3c2d9656.351f5a","type":"ui_spacer","name":"spacer","group":"89c29882.24ba28","order":5,"width":1,"height":1},{"id":"4e271f96.cb5a","type":"ui_spacer","name":"spacer","group":"9457c46f.d710c8","order":5,"width":"6","height":1},{"id":"22a580a2.3bbb6","type":"ui_spacer","name":"spacer","group":"9457c46f.d710c8","order":1,"width":"6","height":1},{"id":"7cde7621.3ce038","type":"ui_spacer","name":"spacer","group":"9457c46f.d710c8","order":6,"width":1,"height":1},{"id":"1f0e1083.cc842f","type":"ui_spacer","name":"spacer","group":"9457c46f.d710c8","order":8,"width":1,"height":1},{"id":"4588504d.6a85b","type":"ui_spacer","name":"spacer","group":"89c29882.24ba28","order":1,"width":"6","height":1},{"id":"1cc8eb7.93f9c15","type":"ui_spacer","name":"spacer","group":"89c29882.24ba28","order":7,"width":1,"height":1},{"id":"d3e17f2f.77266","type":"ui_spacer","name":"spacer","group":"42b2cabf.0c7ea4","order":1,"width":"6","height":1},{"id":"6e88b979.dbbac8","type":"ui_spacer","name":"spacer","group":"42b2cabf.0c7ea4","order":6,"width":"6","height":1},{"id":"6149d3b8.df4cac","type":"ui_spacer","name":"spacer","group":"42b2cabf.0c7ea4","order":7,"width":1,"height":1},{"id":"c769895a.03c228","type":"ui_spacer","name":"spacer","group":"42b2cabf.0c7ea4","order":9,"width":1,"height":1},{"id":"24c99afb.ade3b6","type":"ui_spacer","name":"spacer","group":"4a58744b.a270cc","order":1,"width":"6","height":1},{"id":"8a928cd2.db4ac","type":"ui_spacer","name":"spacer","group":"4a58744b.a270cc","order":5,"width":"6","height":1},{"id":"752a153.0c6e3ec","type":"ui_spacer","name":"spacer","group":"4a58744b.a270cc","order":6,"width":1,"height":1},{"id":"7425a9f4.575f78","type":"ui_spacer","name":"spacer","group":"4a58744b.a270cc","order":8,"width":1,"height":1},{"id":"f524e70c.b28728","type":"ui_spacer","name":"spacer","group":"999747fd.0e43c8","order":1,"width":"6","height":1},{"id":"c8051692.402c88","type":"ui_spacer","name":"spacer","group":"999747fd.0e43c8","order":5,"width":"6","height":1},{"id":"2ca70c23.e11f24","type":"ui_spacer","name":"spacer","group":"999747fd.0e43c8","order":6,"width":1,"height":1},{"id":"d7e9c866.bf5748","type":"ui_spacer","name":"spacer","group":"999747fd.0e43c8","order":8,"width":1,"height":1},{"id":"b857f686.7a46a8","type":"ui_spacer","name":"spacer","group":"f099a646.bd5eb8","order":1,"width":"6","height":1},{"id":"57d2dc71.81d7e4","type":"ui_spacer","name":"spacer","group":"f099a646.bd5eb8","order":4,"width":"6","height":1},{"id":"9643d4f3.f6cfc8","type":"ui_spacer","name":"spacer","group":"f099a646.bd5eb8","order":5,"width":1,"height":1},{"id":"2e3655e0.20450a","type":"ui_spacer","name":"spacer","group":"f099a646.bd5eb8","order":7,"width":1,"height":1},{"id":"eede64ad.6894f8","type":"ui_spacer","name":"spacer","group":"2d9cedce.ac17c2","order":1,"width":"6","height":1},{"id":"a4db56c8.c13488","type":"ui_spacer","name":"spacer","group":"2d9cedce.ac17c2","order":6,"width":"6","height":1},{"id":"72cf1072.213f6","type":"ui_spacer","name":"spacer","group":"2d9cedce.ac17c2","order":7,"width":1,"height":1},{"id":"8938a4be.cfd978","type":"ui_spacer","name":"spacer","group":"2d9cedce.ac17c2","order":9,"width":1,"height":1},{"id":"e0dd5636.7460e8","type":"ui_spacer","name":"spacer","group":"7821f022.e6285","order":1,"width":"6","height":1},{"id":"6879ea03.cfde94","type":"ui_spacer","name":"spacer","group":"7821f022.e6285","order":5,"width":"6","height":1},{"id":"71de920.6b04d7","type":"ui_spacer","name":"spacer","group":"7821f022.e6285","order":6,"width":1,"height":1},{"id":"ca7cdf4a.675ae","type":"ui_spacer","name":"spacer","group":"7821f022.e6285","order":8,"width":1,"height":1},{"id":"ff00c464.c42898","type":"ui_spacer","name":"spacer","group":"","order":1,"width":12,"height":1},{"id":"e9e28db9.53359","type":"ui_spacer","name":"spacer","group":"","order":2,"width":2,"height":1},{"id":"52e2e.ced441d24","type":"ui_spacer","name":"spacer","group":"","order":4,"width":2,"height":1},{"id":"d238bca.7b95c4","type":"ui_spacer","name":"spacer","group":"","order":6,"width":2,"height":1},{"id":"8a8aff0f.ce2df","type":"ui_spacer","name":"spacer","group":"","order":7,"width":"1","height":1},{"id":"98c7e43f.44de28","type":"ui_spacer","name":"spacer","group":"","order":9,"width":"2","height":1},{"id":"d4186d8c.d6e7","type":"ui_spacer","name":"spacer","group":"","order":11,"width":"2","height":1},{"id":"2d4174c4.1074dc","type":"ui_spacer","name":"spacer","group":"","order":13,"width":"1","height":1},{"id":"4ea55fc.6175ca","type":"ui_group","name":"Unidades de Temperatura","tab":"c45750e3.94fcf","order":3,"disp":true,"width":"12","collapse":false},{"id":"83526f56.6f63","type":"ui_group","name":"Unidades de Torque","tab":"c45750e3.94fcf","order":4,"disp":true,"width":"12","collapse":false},{"id":"c1488a8e.209f28","type":"ui_group","name":"Unidades de Presión","tab":"c45750e3.94fcf","order":5,"disp":true,"width":"12","collapse":false},{"id":"8f7f059b.3c03e8","type":"ui_spacer","name":"spacer","group":"ddba8556.698cb8","order":5,"width":1,"height":1},{"id":"b40771f4.adac4","type":"ui_spacer","name":"spacer","group":"4ea55fc.6175ca","order":1,"width":"2","height":1},{"id":"7a47e083.04cb1","type":"ui_spacer","name":"spacer","group":"4ea55fc.6175ca","order":3,"width":"2","height":1},{"id":"afc288c3.553a88","type":"ui_spacer","name":"spacer","group":"83526f56.6f63","order":1,"width":"2","height":1},{"id":"f7fb0e45.041ec","type":"ui_spacer","name":"spacer","group":"83526f56.6f63","order":3,"width":"2","height":1},{"id":"6f210be.90821f4","type":"ui_spacer","name":"spacer","group":"c1488a8e.209f28","order":1,"width":"2","height":1},{"id":"33a18d86.1e3662","type":"ui_spacer","name":"spacer","group":"c1488a8e.209f28","order":3,"width":"2","height":1},{"id":"6f6940b5.06251","type":"ui_spacer","name":"spacer","group":"4ea55fc.6175ca","order":5,"width":"2","height":1},{"id":"496b742b.fdc34c","type":"ui_spacer","name":"spacer","group":"83526f56.6f63","order":5,"width":"2","height":1},{"id":"bd4fa5c.a1e6a58","type":"ui_spacer","name":"spacer","group":"c1488a8e.209f28","order":5,"width":"2","height":1},{"id":"91e9b1a7.1a536","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":21,"width":"8","height":1},{"id":"3afcf0f2.7f9b6","type":"ui_group","name":"Configuración control inteligente de torque","tab":"51fc0122.69508","order":2,"disp":true,"width":"12","collapse":false},{"id":"f5fa347f.938238","type":"ui_group","name":"Configuración control de Backspin","tab":"57ef0fe3.abf6d","order":2,"disp":true,"width":"12","collapse":false},{"id":"1afe1bac.d67314","type":"ui_group","name":"Presión entrada actual","tab":"70f4c45e.09553c","order":5,"disp":false,"width":"4","collapse":false},{"id":"3160c9bd.97c306","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":2,"width":1,"height":1},{"id":"61c54295.55453c","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":4,"width":1,"height":1},{"id":"c513872b.a73508","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":7,"width":1,"height":1},{"id":"1a837f7d.914db1","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":9,"width":1,"height":1},{"id":"a93b92ed.accf5","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":12,"width":1,"height":1},{"id":"a53a722d.60522","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":14,"width":1,"height":1},{"id":"f8a051e9.4acdb","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":17,"width":1,"height":1},{"id":"90977b9a.8a55d8","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":19,"width":1,"height":1},{"id":"bf6fa3ae.f20c2","type":"ui_spacer","name":"spacer","group":"1afe1bac.d67314","order":1,"width":"4","height":"1"},{"id":"a3f1c918.6e1c28","type":"ui_spacer","name":"spacer","group":"1afe1bac.d67314","order":11,"width":"4","height":1},{"id":"46a792b5.2d452c","type":"ui_spacer","name":"spacer","group":"e149ba57.923428","order":21,"width":"8","height":1},{"id":"d3e32e6d.962bc","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":2,"width":1,"height":1},{"id":"284ab17a.f443ae","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":4,"width":1,"height":1},{"id":"9d7386ce.175478","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":7,"width":1,"height":1},{"id":"4f54bdf5.8c4d34","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":9,"width":1,"height":1},{"id":"4dd43f40.9905c","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":12,"width":1,"height":1},{"id":"edc81f73.81c3f","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":14,"width":1,"height":1},{"id":"815d12e3.2fd06","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":17,"width":1,"height":1},{"id":"845137d2.03c718","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":19,"width":1,"height":1},{"id":"7e93fef7.c11ec","type":"ui_spacer","name":"spacer","group":"a1a44702.88ed68","order":21,"width":"8","height":1},{"id":"947448dd.d984b8","type":"ui_group","name":"Temperatura de entrada actual","tab":"70f4c45e.09553c","order":7,"disp":false,"width":"4","collapse":false},{"id":"bfa870aa.dfbf3","type":"ui_group","name":"Presión de descarga actual","tab":"70f4c45e.09553c","order":9,"disp":false,"width":"4","collapse":false},{"id":"92334174.4ca64","type":"ui_group","name":"Temperatura de descarga actual","tab":"70f4c45e.09553c","order":11,"disp":false,"width":"4","collapse":false},{"id":"20a7dc1b.594e74","type":"ui_spacer","name":"spacer","group":"947448dd.d984b8","order":1,"width":"4","height":1},{"id":"eca762bc.7aa5c","type":"ui_spacer","name":"spacer","group":"947448dd.d984b8","order":3,"width":"4","height":1},{"id":"dcd8ce21.d354a","type":"ui_group","name":"Vibración general actual","tab":"70f4c45e.09553c","order":13,"disp":false,"width":"4","collapse":false},{"id":"2a2a7835.816ec8","type":"ui_group","name":"Temperatura de motor actual","tab":"70f4c45e.09553c","order":15,"disp":false,"width":"4","collapse":false},{"id":"168d41c1.e88bfe","type":"ui_group","name":"Corriente de fuga actual","tab":"70f4c45e.09553c","order":17,"disp":false,"width":"4","collapse":false},{"id":"bed6e705.24aa58","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":2,"width":1,"height":1},{"id":"717213b2.e250cc","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":4,"width":1,"height":1},{"id":"b53e6ef5.80bca","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":7,"width":1,"height":1},{"id":"75055d63.1d7ef4","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":9,"width":1,"height":1},{"id":"e5dbe24b.db87d","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":12,"width":1,"height":1},{"id":"1904a714.9b9c29","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":14,"width":1,"height":1},{"id":"f82cc209.efc5b","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":17,"width":1,"height":1},{"id":"b99a08b1.aa9ff8","type":"ui_spacer","name":"spacer","group":"38e9a87.c300958","order":19,"width":1,"height":1},{"id":"42d91c07.9d1374","type":"ui_spacer","name":"spacer","group":"bfa870aa.dfbf3","order":1,"width":"4","height":1},{"id":"ca6ce062.94a5e","type":"ui_spacer","name":"spacer","group":"bfa870aa.dfbf3","order":3,"width":"4","height":1},{"id":"87df581f.4de0c8","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":2,"width":1,"height":1},{"id":"a3353ddd.6a117","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":4,"width":1,"height":1},{"id":"563bf4e6.4ccafc","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":7,"width":1,"height":1},{"id":"305c078b.750c38","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":9,"width":1,"height":1},{"id":"853563c7.2011c","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":12,"width":1,"height":1},{"id":"4ed3364.032e3c8","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":14,"width":1,"height":1},{"id":"96260a30.660eb8","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":17,"width":1,"height":1},{"id":"403f25a6.a86c2c","type":"ui_spacer","name":"spacer","group":"79bd9737.7bcf68","order":19,"width":1,"height":1},{"id":"f71f4a42.14fe58","type":"ui_spacer","name":"spacer","group":"92334174.4ca64","order":1,"width":"4","height":1},{"id":"cff854f1.e0c918","type":"ui_spacer","name":"spacer","group":"92334174.4ca64","order":3,"width":"4","height":1},{"id":"41f59af2.e33a64","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":2,"width":1,"height":1},{"id":"530dc7ba.ad8f88","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":4,"width":1,"height":1},{"id":"37c2b24b.3e0a1e","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":7,"width":1,"height":1},{"id":"ab77df9f.c5b82","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":9,"width":1,"height":1},{"id":"290a4f6c.55cf4","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":12,"width":1,"height":1},{"id":"e59b1ccf.e7fef","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":14,"width":1,"height":1},{"id":"a38882de.8fe59","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":17,"width":1,"height":1},{"id":"e9d21b5f.997ab8","type":"ui_spacer","name":"spacer","group":"32eaa726.76f2f8","order":19,"width":1,"height":1},{"id":"d5ac8b40.16c2c8","type":"ui_spacer","name":"spacer","group":"dcd8ce21.d354a","order":1,"width":"4","height":1},{"id":"11dc945c.3257cc","type":"ui_spacer","name":"spacer","group":"dcd8ce21.d354a","order":3,"width":"4","height":1},{"id":"fdb65473.8e9bf8","type":"ui_spacer","name":"spacer","group":"2a2a7835.816ec8","order":1,"width":"4","height":1},{"id":"68c40709.f49e48","type":"ui_spacer","name":"spacer","group":"2a2a7835.816ec8","order":16,"width":"4","height":1},{"id":"34ed3744.096ff8","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":2,"width":1,"height":1},{"id":"a3a2b3ff.73b8a","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":4,"width":1,"height":1},{"id":"cee296b3.8bd068","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":7,"width":1,"height":1},{"id":"41c2db.03603d24","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":9,"width":1,"height":1},{"id":"27b50dd3.04c8c2","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":12,"width":1,"height":1},{"id":"51dac46.cdc3c3c","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":14,"width":1,"height":1},{"id":"f1f6fba6.ca9fc8","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":17,"width":1,"height":1},{"id":"267063a6.102bac","type":"ui_spacer","name":"spacer","group":"e5d6b12b.cf15","order":19,"width":1,"height":1},{"id":"916bc88e.490ab8","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":2,"width":1,"height":1},{"id":"f3295c88.722eb","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":4,"width":1,"height":1},{"id":"84e6dfcd.c40ec","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":7,"width":1,"height":1},{"id":"ddd65554.560548","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":9,"width":1,"height":1},{"id":"5da33609.c97d38","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":12,"width":1,"height":1},{"id":"b160e462.7a2d38","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":14,"width":1,"height":1},{"id":"ffaca626.de5758","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":17,"width":1,"height":1},{"id":"8efd7380.d32fc","type":"ui_spacer","name":"spacer","group":"b32f8dd1.f3e86","order":19,"width":1,"height":1},{"id":"2f9a1cbe.684904","type":"ui_spacer","name":"spacer","group":"168d41c1.e88bfe","order":1,"width":"4","height":1},{"id":"9f7f7a7c.910c78","type":"ui_spacer","name":"spacer","group":"168d41c1.e88bfe","order":3,"width":"4","height":1},{"id":"f545408b.4bb6f","type":"ui_group","name":"Tensión actual","tab":"4be5396c.78f338","order":4,"disp":false,"width":"4","collapse":false},{"id":"9ec969ea.480308","type":"ui_spacer","name":"spacer","group":"f545408b.4bb6f","order":1,"width":"4","height":1},{"id":"ad85306b.a01fd","type":"ui_spacer","name":"spacer","group":"f545408b.4bb6f","order":3,"width":"4","height":1},{"id":"7b832283.e6235c","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":2,"width":1,"height":1},{"id":"585a211d.6057b","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":4,"width":1,"height":1},{"id":"7e85c4bb.3b27ec","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":7,"width":1,"height":1},{"id":"d662f5e1.a3a368","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":9,"width":1,"height":1},{"id":"31582934.4d4026","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":12,"width":1,"height":1},{"id":"39f275be.57c37a","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":14,"width":1,"height":1},{"id":"e65635de.1283d8","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":17,"width":1,"height":1},{"id":"c1833c3c.8ca42","type":"ui_spacer","name":"spacer","group":"5901c07f.97003","order":19,"width":1,"height":1},{"id":"cd288dd6.2e074","type":"ui_group","name":"Corriente actual","tab":"4be5396c.78f338","order":6,"disp":false,"width":"4","collapse":false},{"id":"de7941a5.c7731","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":2,"width":1,"height":1},{"id":"f8c6b7d7.361db8","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":4,"width":1,"height":1},{"id":"b22a7329.7902","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":7,"width":1,"height":1},{"id":"34c6a2fd.1fc00e","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":9,"width":1,"height":1},{"id":"8fa4f813.013078","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":12,"width":1,"height":1},{"id":"f3986e92.013b6","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":14,"width":1,"height":1},{"id":"57a78e57.dea65","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":17,"width":1,"height":1},{"id":"34ebbf22.73301","type":"ui_spacer","name":"spacer","group":"6b5426f3.f658d8","order":19,"width":1,"height":1},{"id":"c6c32b4b.5793f8","type":"ui_spacer","name":"spacer","group":"cd288dd6.2e074","order":1,"width":"4","height":1},{"id":"32d57d82.c84c12","type":"ui_spacer","name":"spacer","group":"cd288dd6.2e074","order":3,"width":"4","height":1},{"id":"4e7b8b75.8cd3e4","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":4,"width":1,"height":1},{"id":"13dfa2df.cef52d","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":9,"width":1,"height":1},{"id":"bcc7e1c3.0b059","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":2,"width":1,"height":1},{"id":"67f5cb92.73c884","type":"ui_spacer","name":"spacer","group":"9c7c7dd.a06188","order":1,"width":1,"height":1},{"id":"3bf433c2.50f3ec","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":7,"width":1,"height":1},{"id":"1952ac8b.8da2f3","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":11,"width":1,"height":1},{"id":"4173d2c8.6945dc","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":12,"width":1,"height":1},{"id":"eb2e9d66.346fb","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":6,"width":1,"height":1},{"id":"6184f798.525548","type":"ui_spacer","name":"spacer","group":"f5fa347f.938238","order":14,"width":1,"height":1},{"id":"b23bbc71.70ebd","type":"ui_spacer","name":"spacer","group":"3afcf0f2.7f9b6","order":2,"width":1,"height":1},{"id":"d8556e17.fc429","type":"ui_spacer","name":"spacer","group":"3afcf0f2.7f9b6","order":4,"width":2,"height":1},{"id":"2d20cc8f.6f3704","type":"ui_spacer","name":"spacer","group":"3afcf0f2.7f9b6","order":6,"width":1,"height":1},{"id":"c1dc2c69.920c5","type":"ui_spacer","name":"spacer","group":"3afcf0f2.7f9b6","order":7,"width":1,"height":1},{"id":"94b566f0.ff2b48","type":"ui_spacer","name":"spacer","group":"3afcf0f2.7f9b6","order":9,"width":2,"height":1},{"id":"398bcada.8bc9d6","type":"ui_spacer","name":"spacer","group":"3afcf0f2.7f9b6","order":11,"width":1,"height":1},{"id":"11d9777a.bd4209","type":"ui_spacer","name":"spacer","group":"3afcf0f2.7f9b6","order":1,"width":"12","height":1},{"id":"b44f8338.8605e","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":1,"width":12,"height":1},{"id":"893a1859.d043d8","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":2,"width":1,"height":1},{"id":"5c02ecc3.92cf84","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":4,"width":2,"height":1},{"id":"ec9f5073.62fd7","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":6,"width":2,"height":1},{"id":"f757588f.9e2138","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":8,"width":1,"height":1},{"id":"b4289560.0cf858","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":9,"width":1,"height":1},{"id":"7a4ac272.f0119c","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":11,"width":2,"height":1},{"id":"896a968e.87e278","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":13,"width":2,"height":1},{"id":"a441a4af.1ed218","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":15,"width":1,"height":1},{"id":"15825872.3d7778","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":16,"width":4,"height":1},{"id":"c9d054f0.5e1138","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":18,"width":4,"height":1},{"id":"8b4302ae.977d6","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":19,"width":12,"height":1},{"id":"20820ac5.0279d6","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":20,"width":4,"height":1},{"id":"75a461bd.54d41","type":"ui_spacer","name":"spacer","group":"c0d4b517.4b9968","order":22,"width":4,"height":1},{"id":"861231a6.e2ce7","type":"ui_spacer","name":"spacer","group":"c9a29e84.68bd","order":1,"width":12,"height":1},{"id":"28d39bb7.a29104","type":"ui_spacer","name":"spacer","group":"c9a29e84.68bd","order":2,"width":1,"height":1},{"id":"e6ba5291.10a58","type":"ui_spacer","name":"spacer","group":"c9a29e84.68bd","order":4,"width":2,"height":1},{"id":"4440f315.0e797c","type":"ui_spacer","name":"spacer","group":"c9a29e84.68bd","order":6,"width":2,"height":1},{"id":"94a8666d.108498","type":"ui_spacer","name":"spacer","group":"c9a29e84.68bd","order":8,"width":1,"height":1},{"id":"cb2fb037.c36a8","type":"ui_spacer","name":"spacer","group":"c9a29e84.68bd","order":9,"width":4,"height":1},{"id":"7423eb2.844bf14","type":"ui_spacer","name":"spacer","group":"c9a29e84.68bd","order":11,"width":4,"height":1},{"id":"5900892b.81c2a8","type":"ui_spacer","name":"spacer","group":"971dcd1e.a04d5","order":1,"width":6,"height":1},{"id":"5150841e.d2e8dc","type":"ui_spacer","name":"spacer","group":"971dcd1e.a04d5","order":2,"width":1,"height":1},{"id":"4cefa68a.326f58","type":"ui_spacer","name":"spacer","group":"971dcd1e.a04d5","order":4,"width":1,"height":1},{"id":"bfd3fd45.19ce3","type":"ui_spacer","name":"spacer","group":"971dcd1e.a04d5","order":5,"width":1,"height":1},{"id":"de48bc5b.0af38","type":"ui_spacer","name":"spacer","group":"971dcd1e.a04d5","order":7,"width":1,"height":1},{"id":"49b21051.09115","type":"ui_spacer","name":"spacer","group":"971dcd1e.a04d5","order":8,"width":6,"height":1},{"id":"1dcde315.503bfd","type":"ui_spacer","name":"spacer","group":"971dcd1e.a04d5","order":9,"width":1,"height":1},{"id":"420c9207.f91cac","type":"ui_spacer","name":"spacer","group":"971dcd1e.a04d5","order":11,"width":1,"height":1},{"id":"28ecc567.d8955a","type":"ui_spacer","name":"spacer","group":"53f5e611.7d5b48","order":1,"width":6,"height":1},{"id":"ad7ea98f.901878","type":"ui_spacer","name":"spacer","group":"53f5e611.7d5b48","order":2,"width":1,"height":1},{"id":"149d3323.099d1d","type":"ui_spacer","name":"spacer","group":"53f5e611.7d5b48","order":4,"width":1,"height":1},{"id":"c57ba0f9.6b51a","type":"ui_spacer","name":"spacer","group":"53f5e611.7d5b48","order":5,"width":1,"height":1},{"id":"b71fb2ce.3b73f","type":"ui_spacer","name":"spacer","group":"53f5e611.7d5b48","order":7,"width":1,"height":1},{"id":"1323f8c3.7c83d7","type":"ui_spacer","name":"spacer","group":"53f5e611.7d5b48","order":8,"width":6,"height":1},{"id":"8b40785f.6d8018","type":"ui_spacer","name":"spacer","group":"53f5e611.7d5b48","order":9,"width":1,"height":1},{"id":"636453f6.abda9c","type":"ui_spacer","name":"spacer","group":"53f5e611.7d5b48","order":11,"width":1,"height":1},{"id":"df64c26e.a1d6d","type":"ui_spacer","name":"spacer","group":"99f17ff2.2c14","order":4,"width":1,"height":1},{"id":"f18bfe9b.24d66","type":"ui_group","name":"DateTime","tab":"a3d14ba7.64fb58","order":12,"disp":false,"width":"3","collapse":false},{"id":"a832170e.124748","type":"ui_group","name":"Menu","tab":"d3429dad.90f97","order":3,"disp":false,"width":"12","collapse":false},{"id":"52f8d217.2f360c","type":"ui_group","name":"Menu","tab":"5d9f53b4.4e1f4c","order":2,"disp":false,"width":"12","collapse":false},{"id":"5708535c.2ece0c","type":"ui_group","name":"Menu","tab":"4753bb93.d51224","order":2,"disp":false,"width":"12","collapse":false},{"id":"d3429dad.90f97","type":"ui_tab","name":"Tendencias-Superficie-Datos_operativos","icon":"dashboard","order":27,"disabled":false,"hidden":false},{"id":"5d9f53b4.4e1f4c","type":"ui_tab","name":"Tendencias-Superficie-Datos_eléctricos_de_entrada","icon":"dashboard","order":28,"disabled":false,"hidden":false},{"id":"4753bb93.d51224","type":"ui_tab","name":"Tendencias-Fondo-Sensor_de_fondo","icon":"dashboard","order":29,"disabled":false,"hidden":false},{"id":"3a102a42.7f8df6","type":"ui_group","name":"Trend","tab":"d3429dad.90f97","order":4,"disp":false,"width":"12","collapse":false},{"id":"419728a7.c16f68","type":"ui_group","name":"Buttons","tab":"d3429dad.90f97","order":5,"disp":false,"width":"12","collapse":false},{"id":"60a3a013.03c5e","type":"ui_group","name":"Buttons","tab":"4753bb93.d51224","order":4,"disp":false,"width":"12","collapse":false},{"id":"57a005f9.8f8f9c","type":"ui_group","name":"Nombre del pozo","tab":"a3d14ba7.64fb58","order":2,"disp":false,"width":"3","collapse":false},{"id":"df8da47a.3b74d8","type":"ui_group","name":"Nombre del Pozo","tab":"22d1f3b8.e8944c","order":2,"disp":false,"width":"3","collapse":false},{"id":"71e1cbbe.7b7d94","type":"pccc endpoint","address":"192.168.2.10","port":"44818","userouting":false,"routing":"0x01,0x00,0x01,0x00","cycletime":"500","timeout":"1500","name":"Lectura","vartable":[{"addr":"N45:0","name":"Logic_Status_1"},{"addr":"N45:1","name":"Logic_Status_2"},{"addr":"N150:2","name":"Output_Frequency_1"},{"addr":"N150:3","name":"Output_Frequency_2"},{"addr":"N150:4","name":"Commanded_SpdRef_1"},{"addr":"N150:5","name":"Commanded_SpdRef_2"},{"addr":"N45:0","name":"Logic_Command_1"},{"addr":"N45:1","name":"Logic_Command_2"},{"addr":"N150:6","name":"Mtr_Vel_Fdbk_1"},{"addr":"N150:7","name":"Mtr_Vel_Fdbk_2"},{"addr":"N150:14","name":"Output_Current_1"},{"addr":"N150:15","name":"Output_Current_2"},{"addr":"N150:16","name":"Output_Voltage_1"},{"addr":"N150:17","name":"Output_Voltage_2"},{"addr":"N150:18","name":"Output_Power_1"},{"addr":"N150:19","name":"Output_Power_2"},{"addr":"N150:20","name":"Output_Powr_Fctr_1"},{"addr":"N150:21","name":"Output_Powr_Fctr_2"},{"addr":"N150:22","name":"DC_Bus_Volts_1"},{"addr":"N150:23","name":"DC_Bus_Volts_2"},{"addr":"N150:30","name":"Elapsed_Run_Time_1"},{"addr":"N150:31","name":"Elapsed_Run_Time_2"},{"addr":"N150:36","name":"Elpsd_Mtr_kWHrs_1"},{"addr":"N150:37","name":"Elpsd_Mtr_kWHrs_2"},{"addr":"N157:134","name":"IGBT_Temp_C_1"},{"addr":"N157:135","name":"IGBT_Temp_C_2"},{"addr":"N157:138","name":"Drive_Temp_C_1"},{"addr":"N157:139","name":"Drive_Temp_C_2"},{"addr":"N157:152","name":"Last_Fault_Code_1"},{"addr":"N157:153","name":"Last_Fault_Code_2"}]},{"id":"b006ff9.8805c","type":"ui_group","name":"Buttons","tab":"efd5c481.ae3cf8","order":4,"disp":false,"width":"12","collapse":false},{"id":"a41af5be.52be18","type":"ui_group","name":"Settings","tab":"efd5c481.ae3cf8","order":2,"disp":false,"width":"12","collapse":false},{"id":"efd5c481.ae3cf8","type":"ui_tab","name":"Datalogger","icon":"fa-file-archive-o","order":43,"disabled":false,"hidden":false},{"id":"842bb1a0.451f4","type":"ui_group","name":"Navbar","tab":"efd5c481.ae3cf8","order":1,"disp":false,"width":"12","collapse":false},{"id":"12242af4.a2b035","type":"ui_group","name":"Navbar","tab":"4753bb93.d51224","order":1,"disp":false,"width":"12","collapse":false},{"id":"4b2541bb.09fe6","type":"ui_spacer","name":"spacer","group":"a41af5be.52be18","order":1,"width":"12","height":1},{"id":"2d48a2e9.6681be","type":"ui_spacer","name":"spacer","group":"a41af5be.52be18","order":2,"width":1,"height":1},{"id":"e3eceb0b.1e89d8","type":"ui_spacer","name":"spacer","group":"a41af5be.52be18","order":4,"width":1,"height":1},{"id":"3ea18fe0.cca14","type":"ui_spacer","name":"spacer","group":"a41af5be.52be18","order":7,"width":"12","height":1},{"id":"4055713a.f0a18","type":"ui_spacer","name":"spacer","group":"a41af5be.52be18","order":6,"width":1,"height":1},{"id":"b407d996.322868","type":"ui_spacer","name":"spacer","group":"a41af5be.52be18","order":8,"width":"3","height":1},{"id":"e1c1602b.45a3a","type":"ui_spacer","name":"spacer","group":"a41af5be.52be18","order":1,"width":"3","height":1},{"id":"807ccbc.7ab7e38","type":"ui_spacer","name":"spacer","group":"b006ff9.8805c","order":1,"width":"12","height":1},{"id":"8ce950ca.d2282","type":"ui_spacer","name":"spacer","group":"b006ff9.8805c","order":2,"width":1,"height":1},{"id":"9964ea3b.7b0348","type":"ui_spacer","name":"spacer","group":"b006ff9.8805c","order":4,"width":"2","height":1},{"id":"d5155581.5cb5c8","type":"ui_spacer","name":"spacer","group":"b006ff9.8805c","order":5,"width":"12","height":1},{"id":"fd028f62.e92b1","type":"ui_spacer","name":"spacer","group":"b006ff9.8805c","order":7,"width":1,"height":1},{"id":"da30f5be.24c0a8","type":"ui_spacer","name":"spacer","group":"","order":2,"width":2,"height":1},{"id":"831eefef.35d2f","type":"ui_spacer","name":"spacer","group":"","order":4,"width":2,"height":1},{"id":"ec084c75.e7ad7","type":"ui_group","name":"Navbar","tab":"c17f19ae.06fbf8","order":1,"disp":false,"width":"12","collapse":false},{"id":"bba6de04.e8127","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":13,"width":"0","height":"0"},{"id":"4cbf8636.d5bfe8","type":"ui_spacer","name":"spacer","group":"a706ea3d.b7fbc8","order":14,"width":"0","height":"0"},{"id":"6e41db33.43af54","type":"mqtt-broker","name":"","broker":"mqtt.sispopayan.com","port":"8883","tls":"","clientid":"","usetls":true,"compatmode":false,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"29eec29e.f8e8ce","type":"influxdb","hostname":"localhost","port":"8086","protocol":"http","database":"SWCPRO","name":"","usetls":false,"tls":""},{"id":"309a2895.5230c8","type":"ui_group","name":"Buttons","tab":"5d9f53b4.4e1f4c","order":4,"disp":false,"width":"12","collapse":false},{"id":"be84226.2d60ee","type":"influxdb","hostname":"localhost","port":"8086","protocol":"http","database":"SWCPRO","name":"","usetls":false,"tls":""},{"id":"21b8bc36.73ddb4","type":"ui_spacer","name":"spacer","group":"419728a7.c16f68","order":1,"width":"4","height":1},{"id":"b4ae9f3e.48397","type":"ui_spacer","name":"spacer","group":"419728a7.c16f68","order":6,"width":"4","height":1},{"id":"e6616ee7.07ad2","type":"ui_group","name":"Trend","tab":"5d9f53b4.4e1f4c","order":3,"disp":false,"width":"12","collapse":false},{"id":"f0246745.e75b18","type":"ui_group","name":"Trend","tab":"4753bb93.d51224","order":3,"disp":false,"width":"12","collapse":false},{"id":"cef2d9b1.a0c338","type":"ui_spacer","name":"spacer","group":"60a3a013.03c5e","order":1,"width":"4","height":1},{"id":"9f48b543.9ce118","type":"ui_spacer","name":"spacer","group":"60a3a013.03c5e","order":6,"width":"4","height":1},{"id":"e4759f6b.bb412","type":"ui_spacer","name":"spacer","group":"309a2895.5230c8","order":1,"width":"4","height":1},{"id":"6a93c823.f32b88","type":"ui_spacer","name":"spacer","group":"309a2895.5230c8","order":6,"width":"4","height":1},{"id":"bdf717d2.f19ae8","type":"pccc endpoint","address":"192.168.2.10","port":"44818","userouting":false,"routing":"0x01,0x00,0x01,0x00","cycletime":"500","timeout":"1500","name":"Escritura","vartable":[{"addr":"N42:3","name":"TimeOut"},{"addr":"N45:0","name":"CommandWord"},{"addr":"N45:4","name":"Speed_Reference"},{"addr":"N45:6","name":"AO1"},{"addr":"N45:8","name":"AO2"},{"addr":"N45:10","name":"AO3"},{"addr":"N45:12","name":"AO4"}]},{"id":"f630cb55.8d18e8","type":"modbus-client","name":"Cubloc RS-232","clienttype":"simpleser","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"127.0.0.1","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/serial0","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":1,"commandDelay":1,"clientTimeout":1000,"reconnectOnTimeout":true,"reconnectTimeout":2000,"parallelUnitIdsAllowed":true},{"id":"1c1f6ab9.b77ba5","type":"ui_group","name":"Prolonged Reference","tab":"f590c865.6dedc8","order":5,"disp":true,"width":"6","collapse":false},{"id":"f590c865.6dedc8","type":"ui_tab","name":"Prolonged Reference","icon":"dashboard","order":40,"disabled":false,"hidden":false},{"id":"a2cdbb78.31d778","type":"ui_group","name":"Arranque escalonado","tab":"cea47c8c.6a38d","order":3,"disp":false,"width":"12","collapse":false},{"id":"78b8f22f.a47d4c","type":"ui_group","name":"Rampas de Aceleración","tab":"cea47c8c.6a38d","order":5,"disp":true,"width":"5","collapse":false},{"id":"edf097a9.5fb028","type":"ui_group","name":"Tiempo de rearme","tab":"cea47c8c.6a38d","order":6,"disp":true,"width":"3","collapse":false},{"id":"e72670e4.f5998","type":"ui_group","name":"No. de Intentos","tab":"cea47c8c.6a38d","order":7,"disp":true,"width":"3","collapse":false},{"id":"20076456.83052c","type":"ui_group","name":"Habilitar","tab":"cea47c8c.6a38d","order":4,"disp":false,"width":"1","collapse":false},{"id":"cf893b29.8b0a68","type":"ui_group","name":"Habilitar","tab":"cea47c8c.6a38d","order":8,"disp":false,"width":"12","collapse":false},{"id":"45237b74.b00cc4","type":"ui_group","name":"Estado","tab":"a3d14ba7.64fb58","order":10,"disp":true,"width":"2","collapse":false},{"id":"b5205197.2b915","type":"ui_spacer","name":"spacer","group":"20076456.83052c","order":1,"width":1,"height":1},{"id":"51710525.9fc4ac","type":"ui_group","name":"Navegación ES","tab":"a04c63d2.079f3","order":2,"disp":false,"width":"12","collapse":false},{"id":"8966e791.7e5758","type":"ui_group","name":"Monitoreo E.D.","tab":"a04c63d2.079f3","order":3,"disp":false,"width":"12","collapse":false},{"id":"4a35385f.d514b8","type":"ui_group","name":"Monitoreo E.A.","tab":"a04c63d2.079f3","order":4,"disp":false,"width":"12","collapse":false},{"id":"bf3ce100.cbf08","type":"ui_group","name":"Monitoreo S.D.","tab":"a04c63d2.079f3","order":5,"disp":false,"width":"12","collapse":false},{"id":"a3437404.7bf348","type":"modbus-client","name":"SWCPRO","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"0.0.0.0","tcpPort":"10502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":"1","commandDelay":"1","clientTimeout":"1000","reconnectOnTimeout":true,"reconnectTimeout":"2000","parallelUnitIdsAllowed":true},{"id":"760e85bd.1f3e7c","type":"ui_group","name":"Monitoreo Armónicos","tab":"e7fec6e7.e03cc8","order":2,"disp":false,"width":"12","collapse":false},{"id":"eb661a32.5e64e8","type":"ui_group","name":"Control","tab":"a3d14ba7.64fb58","order":8,"disp":true,"width":"2","collapse":false},{"id":"f98cb651.f22108","type":"ui_spacer","name":"spacer","group":"8370e95f.f0a918","order":7,"width":4,"height":1},{"id":"8c7087e1.b873a8","type":"ui_spacer","name":"spacer","group":"8370e95f.f0a918","order":9,"width":4,"height":1},{"id":"75fca400.8b622c","type":"ui_spacer","name":"spacer","group":"8370e95f.f0a918","order":10,"width":4,"height":1},{"id":"dc86d84a.388808","type":"ui_spacer","name":"spacer","group":"8370e95f.f0a918","order":11,"width":4,"height":1},{"id":"4720abdd.6de584","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":1,"width":12,"height":1},{"id":"b4fdba5f.020a58","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":2,"width":2,"height":1},{"id":"ccf0c87e.8e4fa8","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":5,"width":2,"height":1},{"id":"41347673.313c48","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":6,"width":2,"height":1},{"id":"7a8e11ef.1b441","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":7,"width":2,"height":1},{"id":"5e0afecc.02fe2","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":8,"width":2,"height":1},{"id":"b367d330.12f4e","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":11,"width":2,"height":1},{"id":"df701464.5b2e18","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":12,"width":2,"height":1},{"id":"c8244f48.9f582","type":"ui_spacer","name":"spacer","group":"7ddeb867.f441b8","order":13,"width":2,"height":1},{"id":"a4d24567.675958","type":"ui_spacer","name":"spacer","group":"4f5c2b53.44a154","order":1,"width":12,"height":1},{"id":"5a7ec06d.b7796","type":"ui_spacer","name":"spacer","group":"4f5c2b53.44a154","order":5,"width":2,"height":1},{"id":"637ad93c.48cc08","type":"ui_spacer","name":"spacer","group":"4f5c2b53.44a154","order":8,"width":2,"height":1},{"id":"70327292.fcbc3c","type":"ui_spacer","name":"spacer","group":"4f5c2b53.44a154","order":9,"width":2,"height":1},{"id":"16a87c0c.ab13b4","type":"ui_spacer","name":"spacer","group":"4f5c2b53.44a154","order":10,"width":2,"height":1},{"id":"cfb6af52.896e5","type":"ui_spacer","name":"spacer","group":"1925e2c.fd4e91d","order":1,"width":1,"height":1},{"id":"37785fdd.96481","type":"ui_spacer","name":"spacer","group":"1925e2c.fd4e91d","order":4,"width":1,"height":1},{"id":"abc7cca6.66b8b","type":"ui_spacer","name":"spacer","group":"1925e2c.fd4e91d","order":5,"width":1,"height":1},{"id":"14c4c711.e16f69","type":"ui_spacer","name":"spacer","group":"1925e2c.fd4e91d","order":7,"width":1,"height":1},{"id":"b6545a12.f7c7e8","type":"ui_spacer","name":"spacer","group":"759fa4e7.01062c","order":1,"width":2,"height":1},{"id":"dafdcaf0.ff0f58","type":"ui_spacer","name":"spacer","group":"759fa4e7.01062c","order":5,"width":2,"height":1},{"id":"db7c376f.cfa798","type":"ui_spacer","name":"spacer","group":"759fa4e7.01062c","order":6,"width":2,"height":1},{"id":"55a0f6a8.ec7688","type":"ui_spacer","name":"spacer","group":"45237b74.b00cc4","order":1,"width":2,"height":1},{"id":"3523ad78.c933e2","type":"ui_spacer","name":"spacer","group":"45237b74.b00cc4","order":3,"width":2,"height":1},{"id":"85188148.4c601","type":"ui_spacer","name":"spacer","group":"45237b74.b00cc4","order":10,"width":"2","height":1},{"id":"d6b9a19.933576","type":"ui_group","name":"Navbar","tab":"3d7d1bc8.aa6c84","order":1,"disp":false,"width":"12","collapse":false},{"id":"13bf819a.65c586","type":"ui_group","name":"Filtro de Armónicos","tab":"e212240.b0030e","order":3,"disp":true,"width":"12","collapse":false},{"id":"4cac86d3154c67c1","type":"modbus-client","name":"PyModbusServer","clienttype":"tcp","bufferCommands":true,"stateLogEnabled":false,"queueLogEnabled":false,"tcpHost":"127.0.0.1","tcpPort":"502","tcpType":"DEFAULT","serialPort":"/dev/ttyUSB","serialType":"RTU-BUFFERD","serialBaudrate":"9600","serialDatabits":"8","serialStopbits":"1","serialParity":"none","serialConnectionDelay":"100","unit_id":1,"commandDelay":1,"clientTimeout":1000,"reconnectOnTimeout":true,"reconnectTimeout":2000,"parallelUnitIdsAllowed":true},{"id":"32cc6176.70f1ae","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"Run","pt":"flow","to":"true","tot":"bool"},{"t":"set","p":"Reset","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":60,"wires":[["71cbf569.153fdc"]]},{"id":"e2d587a0.d643c8","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"Run","pt":"flow","to":"false","tot":"bool"},{"t":"set","p":"Reset","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":100,"wires":[["71cbf569.153fdc"]]},{"id":"275d95ef.60d87a","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"Reset","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":140,"wires":[["71cbf569.153fdc"]]},{"id":"71cbf569.153fdc","type":"function","z":"ed83123a.a1745","name":"LogicCommand","func":"//Buffer\nvar buffer = [0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0];\n\n//Global variables asignations\nvar Start_Stop  = flow.get(\"Run\");\nvar Direction   = flow.get(\"Direction\");\nvar Reset       = flow.get(\"Reset\")\nvar Command     = 0;\n\n// Start/Stop\nif(Start_Stop === true){buffer[0] = 0;  buffer[1] = 1;  msg.command = \"Start\"; }\nelse{                   buffer[0] = 1;  buffer[1] = 0;  msg.command = \"Stop\" }\n\n//Reset\nif(Reset === true){     buffer[3] = 1; msg.command = \"Reset\"; }\nelse{                   buffer[3] = 0;}\n\n// Direction\nif(Direction === true){buffer[4] = 0;   buffer[5] = 1;  msg.direction = \"Reverse\"; }\nelse{                  buffer[4] = 1;   buffer[5] = 0;  msg.direction =\" Forward\" }\n\n//Command construction\nfor(var i=0; i<buffer.length; i++){\n    Command += buffer[i] * Math.pow(2, i);\n}\nmsg.payload = Command;\nmsg.buffer = buffer;\n\nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":100,"wires":[["b1ebdfcf.493c5","212f0e9f.602f22"]]},{"id":"b1ebdfcf.493c5","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"LogicCommand","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":890,"y":100,"wires":[["cfd00620.10c8f8"]]},{"id":"cfd00620.10c8f8","type":"switch","z":"ed83123a.a1745","name":"","property":"command","propertyType":"msg","rules":[{"t":"eq","v":"Start","vt":"str"},{"t":"eq","v":"Stop","vt":"str"},{"t":"eq","v":"Reset","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":1080,"y":100,"wires":[["cee24161.e46cf"],["e9eed1d1.cf3d3"],["e9eed1d1.cf3d3"]]},{"id":"cee24161.e46cf","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"python -m cpppo.server.enip.get_attribute '@0x7/0/100=(INT)100' '@0x7/6/4=(DINT)###' -S -a IP","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"###","fromt":"str","to":"LogicCommand","tot":"flow"},{"t":"change","p":"payload","pt":"msg","from":"IP","fromt":"str","to":"IP","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1250,"y":80,"wires":[["f7ea2ba1.d56728"]]},{"id":"e9eed1d1.cf3d3","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"python -m cpppo.server.enip.get_attribute '@0x7/0/100=(INT)100' '@0x7/6/4=(DINT)###' -S -a IP ; python -m cpppo.server.enip.get_attribute '@0x7/6/4=(DINT)0' -S -a IP","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"###","fromt":"str","to":"LogicCommand","tot":"flow"},{"t":"change","p":"payload","pt":"msg","from":"IP","fromt":"str","to":"IP","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1250,"y":120,"wires":[["f7ea2ba1.d56728"]]},{"id":"f7ea2ba1.d56728","type":"exec","z":"ed83123a.a1745","command":"","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":1400,"y":100,"wires":[[],[],[]]},{"id":"a92e5d6e.ac21e","type":"switch","z":"ed83123a.a1745","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Start","vt":"str"},{"t":"eq","v":"Stop","vt":"str"},{"t":"eq","v":"Reset","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":310,"y":100,"wires":[["32cc6176.70f1ae"],["e2d587a0.d643c8"],["275d95ef.60d87a"]]},{"id":"f21a3359.cabb8","type":"switch","z":"ed83123a.a1745","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"Basic","vt":"str"},{"t":"eq","v":"Direction","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":150,"y":160,"wires":[["a92e5d6e.ac21e"],["f021a356.3b9fe"]]},{"id":"f021a356.3b9fe","type":"switch","z":"ed83123a.a1745","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"eq","v":"1","vt":"num"}],"checkall":"true","repair":false,"outputs":2,"x":310,"y":220,"wires":[["661ce4c8.e8cedc"],["2a3e2378.dc219c"]]},{"id":"661ce4c8.e8cedc","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Forward","tot":"str"},{"t":"set","p":"Direction","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":200,"wires":[["71cbf569.153fdc"]]},{"id":"2a3e2378.dc219c","type":"change","z":"ed83123a.a1745","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Reverse","tot":"str"},{"t":"set","p":"Direction","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":240,"wires":[["71cbf569.153fdc"]]},{"id":"db39d52e.5b2f28","type":"change","z":"c32b74bc.a74b98","name":"Command","rules":[{"t":"set","p":"payload","pt":"msg","to":"python -m cpppo.server.enip.get_attribute '@0x93/++/09=(---)###' '@0x93/++/09' -S -a IP","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"###","fromt":"str","to":"Dato","tot":"flow"},{"t":"change","p":"payload","pt":"msg","from":"++","fromt":"str","to":"Param","tot":"flow"},{"t":"change","p":"payload","pt":"msg","from":"---","fromt":"str","to":"Datatype","tot":"flow"},{"t":"change","p":"payload","pt":"msg","from":"IP","fromt":"str","to":"IP","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":160,"wires":[["72fd7ed.498238"]]},{"id":"72fd7ed.498238","type":"exec","z":"c32b74bc.a74b98","command":"","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Exec Escribir Par","x":570,"y":160,"wires":[[],[],[]]},{"id":"1083899a.1b4716","type":"exec","z":"11d568a7.09a5c7","command":"vcgencmd measure_temp | egrep -o '[0-9]*\\.[0-9]*'","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":390,"y":80,"wires":[[],[],[]]},{"id":"9cc3f117.42857","type":"exec","z":"11d568a7.09a5c7","command":"vcgencmd measure_clock arm | egrep -o '[0-9]{0,10}' | sed -n '1!p'","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":440,"y":140,"wires":[["3228637d.9e937c"],[],[]]},{"id":"3228637d.9e937c","type":"function","z":"11d568a7.09a5c7","name":"MHz","func":"msg.payload={payload: msg.payload/1000000};\nreturn msg.payload;","outputs":1,"noerr":0,"x":750,"y":130,"wires":[[]]},{"id":"deabf4e0.a1b7e8","type":"comment","z":"11d568a7.09a5c7","name":"Solicitud de datos de temperatura y frecuencia de la CPU","info":"","x":320,"y":30,"wires":[]},{"id":"1522c9f4.2d2d66","type":"comment","z":"bb78a8e.f8e5f58","name":"Rampas de aceleración y desaceleración","info":"","x":220,"y":70,"wires":[]},{"id":"8c24ec8f.cf43c","type":"exec","z":"1ae6c379.02ea3d","command":"","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Exec Escribir Par","x":510,"y":60,"wires":[[],[],[]]},{"id":"19669f01.a88711","type":"change","z":"1ae6c379.02ea3d","name":"Command","rules":[{"t":"set","p":"payload","pt":"msg","to":"python -m cpppo.server.enip.get_attribute '@0x93/++/09=(---)###' '@0x93/++/09' -S -a IP","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"###","fromt":"str","to":"Dato","tot":"flow"},{"t":"change","p":"payload","pt":"msg","from":"++","fromt":"str","to":"Parameter","tot":"env"},{"t":"change","p":"payload","pt":"msg","from":"---","fromt":"str","to":"Datatype","tot":"env"},{"t":"change","p":"payload","pt":"msg","from":"IP","fromt":"str","to":"IP","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":60,"wires":[["8c24ec8f.cf43c"]]},{"id":"aa1b627f.089b4","type":"change","z":"1ae6c379.02ea3d","name":"","rules":[{"t":"set","p":"Dato","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":170,"y":60,"wires":[["19669f01.a88711"]]},{"id":"603f9fa7.2436f","type":"function","z":"842d67ff.00f188","name":"Ref","func":"var Par         = { topic:\"Parameter\",      payload: 571 };\nvar DataType    = { topic:\"Datatype\",   payload: \"REAL\" };\nvar Data        = context.get(\"Data\") || { topic:\"Data\", payload: 0 };\n\nif (msg.topic == \"Ref\"){\n    Data = context.set(\"Data\",   { topic:\"Data\", payload: msg.payload });\n}\nelse if(msg.topic == \"Send\"){\n    return[Par, DataType, context.get(\"Data\"), msg];\n}\nelse{\n    return\n}","outputs":4,"noerr":0,"x":160,"y":40,"wires":[["1ab8ffa2.1e15e"],["1ab8ffa2.1e15e"],["1ab8ffa2.1e15e"],["1ab8ffa2.1e15e"]]},{"id":"1ab8ffa2.1e15e","type":"subflow:c32b74bc.a74b98","z":"842d67ff.00f188","name":"","env":[],"x":310,"y":40,"wires":[[]]},{"id":"69b90e27.12edb","type":"comment","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"Escribir parámetros en el Drive","info":"","x":300,"y":50,"wires":[]},{"id":"2d831abd.d82226","type":"modbus-server","z":"e86f0ca4.7feb5","g":"7e616dc8.62be14","name":"SWCPRO","logEnabled":false,"hostname":"0.0.0.0","serverPort":10502,"responseDelay":100,"delayUnit":"ms","coilsBufferSize":"100","holdingBufferSize":"100","inputBufferSize":"100","discreteBufferSize":"100","showErrors":false,"x":3500,"y":1060,"wires":[["f33f9071.607dc"],["f33f9071.607dc"],["f33f9071.607dc"],["f33f9071.607dc"],["f33f9071.607dc"]]},{"id":"eb3ef75e.1e44a8","type":"subflow:c32b74bc.a74b98","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","env":[],"x":440,"y":150,"wires":[["c2aaaa39.b8ab38"]]},{"id":"a9a422de.89b49","type":"comment","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":" Referencia de Velocidad Manual","info":"","x":300,"y":310,"wires":[]},{"id":"3cc764fd.7e58cc","type":"ui_text_input","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","label":"Referencia (Hz)","tooltip":"","group":"1925e2c.fd4e91d","order":2,"width":3,"height":1,"passthru":true,"mode":"number","delay":"100","topic":"Ref","x":570,"y":350,"wires":[["fce43241.9e843","8253c33e.847cf","179175a2.e04cba"]]},{"id":"32183b4f.c45764","type":"comment","z":"e86f0ca4.7feb5","g":"7e616dc8.62be14","name":"Servidor Modbus","info":"","x":3170,"y":1020,"wires":[]},{"id":"1acb0c29.0ddee4","type":"ui_button","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","group":"1925e2c.fd4e91d","order":3,"width":3,"height":1,"passthru":false,"label":"Confirmar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"true","payloadType":"bool","topic":"Send","x":590,"y":390,"wires":[["8253c33e.847cf","179175a2.e04cba","4d5c72d.3ef098c"]]},{"id":"c4dc63d8.59a54","type":"ui_toast","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","position":"top right","displayTime":"3","highlight":"green","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":950,"y":110,"wires":[]},{"id":"c2aaaa39.b8ab38","type":"switch","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","property":"payload.code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":600,"y":150,"wires":[["29dd54ff.f2d87c"],["850da070.cd3cc"]]},{"id":"94f98f25.8992","type":"ui_toast","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","position":"top right","displayTime":"3","highlight":"red","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":950,"y":190,"wires":[]},{"id":"29dd54ff.f2d87c","type":"change","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Comando exitoso!","tot":"str"},{"t":"delete","p":"topic","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":760,"y":110,"wires":[["c4dc63d8.59a54","fd9df9f7.0350c8"]]},{"id":"850da070.cd3cc","type":"change","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Comando fallido!","tot":"str"},{"t":"delete","p":"topic","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":760,"y":190,"wires":[["94f98f25.8992","fd9df9f7.0350c8"]]},{"id":"8f64c5d0.2e2de8","type":"function","z":"2657da37.013b66","name":"Login Autentication","func":"//Get user data from flow context\nuser            = flow.get(\"user\")|| \"null\";\npassword        = flow.get(\"password\")||\"null\";\n\n//User status\nUserStatus = global.get(\"UserStatus\")||0;\n\n// Admin user\nAdminUser       = \"slacol\";\nAdminPassword   = \"1278\";\n\n// Operator user\nOperUser        = \"Oper\";\nOperPassword    = \"1234\";\n\nif(!UserStatus){\n    \n    // Acceso Nivel 1\n    if(user == AdminUser && password == AdminPassword){\n        global.set(\"UserStatus\", 1);\n        msg.name = \"Admin\";\n        msg.userstatus = \"Sesión iniciada\"\n    }\n    // Acceso Nivel 2\n    else if(user == OperUser && password == OperPassword){\n        global.set(\"UserStatus\", 2);\n        msg.name = \"Operator\";\n        msg.userstatus = \"Sesión iniciada\"\n    }\n    else{\n        msg.error = \"Usuario o contraseña incorrectos: Por favor llene los campos nuevamente\";\n    }\n}\nelse{\n    msg.error = \"Usuario activo, por favor cierre sesión primero\";\n}\n\nmsg.payload = global.get(\"UserStatus\")\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":310,"y":110,"wires":[["a516f6f7.9f9d28","80a4c506.a81c78","1c0ced5.0f93b13"]]},{"id":"51d00666.b504b8","type":"ui_toast","z":"2657da37.013b66","position":"top right","displayTime":"3","highlight":"red","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":900,"y":40,"wires":[]},{"id":"a516f6f7.9f9d28","type":"switch","z":"2657da37.013b66","name":"Error","property":"error","propertyType":"msg","rules":[{"t":"nempty"}],"checkall":"true","repair":false,"outputs":1,"x":560,"y":40,"wires":[["a6a652a5.1b0aa"]]},{"id":"a6a652a5.1b0aa","type":"change","z":"2657da37.013b66","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"error","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":40,"wires":[["51d00666.b504b8"]]},{"id":"80a4c506.a81c78","type":"switch","z":"2657da37.013b66","name":"Name","property":"name","propertyType":"msg","rules":[{"t":"nempty"}],"checkall":"true","repair":false,"outputs":1,"x":560,"y":80,"wires":[["2a0bc418.e8756c"]]},{"id":"2a0bc418.e8756c","type":"change","z":"2657da37.013b66","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"name: userstatus","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"name","fromt":"str","to":"name","tot":"msg"},{"t":"change","p":"payload","pt":"msg","from":"userstatus","fromt":"str","to":"userstatus","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":710,"y":80,"wires":[["b7161c3b.bb7ad"]]},{"id":"b7161c3b.bb7ad","type":"ui_toast","z":"2657da37.013b66","position":"top right","displayTime":"3","highlight":"green","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":900,"y":80,"wires":[]},{"id":"62bf7dff.e31774","type":"ui_button","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","group":"99f17ff2.2c14","order":5,"width":0,"height":0,"passthru":false,"label":"Confirmar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"true","payloadType":"bool","topic":"Send","x":250,"y":210,"wires":[["eb3ef75e.1e44a8"]]},{"id":"e55c5b8.eb47aa8","type":"ui_dropdown","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","label":"","tooltip":"","place":"Datatype","group":"99f17ff2.2c14","order":3,"width":3,"height":1,"passthru":true,"multiple":false,"options":[{"label":"REAL","value":"REAL","type":"str"},{"label":"INT","value":"INT","type":"str"},{"label":"DINT","value":"DINT","type":"str"}],"payload":"","topic":"Datatype","x":240,"y":170,"wires":[["eb3ef75e.1e44a8"]]},{"id":"6cd658cf.98b1a8","type":"ui_text_input","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","label":"Dato:","tooltip":"","group":"99f17ff2.2c14","order":2,"width":2,"height":1,"passthru":true,"mode":"number","delay":"0","topic":"Data","x":260,"y":130,"wires":[["eb3ef75e.1e44a8"]]},{"id":"6a2f1608.861eb8","type":"ui_text_input","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"","label":"Parámetro:","tooltip":"","group":"99f17ff2.2c14","order":1,"width":2,"height":1,"passthru":false,"mode":"number","delay":"0","topic":"Parameter","x":240,"y":90,"wires":[["eb3ef75e.1e44a8"]]},{"id":"1f25e634.9a314a","type":"change","z":"c32b74bc.a74b98","name":"","rules":[{"t":"set","p":"Datatype","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":120,"wires":[[]]},{"id":"2a93d6c0.07a43a","type":"change","z":"c32b74bc.a74b98","name":"","rules":[{"t":"set","p":"Dato","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":80,"wires":[[]]},{"id":"4ef73cc2.642d14","type":"change","z":"c32b74bc.a74b98","name":"","rules":[{"t":"set","p":"Param","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":40,"wires":[[]]},{"id":"c18f6110.baf78","type":"switch","z":"c32b74bc.a74b98","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"Parameter","vt":"str"},{"t":"eq","v":"Data","vt":"str"},{"t":"eq","v":"Datatype","vt":"str"},{"t":"eq","v":"Send","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":210,"y":100,"wires":[["4ef73cc2.642d14"],["2a93d6c0.07a43a"],["1f25e634.9a314a"],["db39d52e.5b2f28"]]},{"id":"aa47304a.d40cf","type":"ui_toast","z":"2657da37.013b66","position":"top right","displayTime":"3","highlight":"green","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":600,"y":200,"wires":[]},{"id":"1c0ced5.0f93b13","type":"change","z":"2657da37.013b66","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"UserStatus","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":590,"y":160,"wires":[[]]},{"id":"7ac7e5a3.05d60c","type":"change","z":"2657da37.013b66","name":"Logout","rules":[{"t":"set","p":"user","pt":"flow","to":"null","tot":"str"},{"t":"set","p":"password","pt":"flow","to":"null","tot":"str"},{"t":"set","p":"UserStatus","pt":"global","to":"0","tot":"num"},{"t":"set","p":"userstatus","pt":"msg","to":"Sesión cerrada","tot":"str"},{"t":"set","p":"payload","pt":"msg","to":"Sesión cerrada","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":280,"y":150,"wires":[["1c0ced5.0f93b13","aa47304a.d40cf"]]},{"id":"7e6f340b.51d68c","type":"subflow:1ae6c379.02ea3d","z":"bb78a8e.f8e5f58","name":"Accel Time 1","env":[{"name":"Parameter","value":"535","type":"num"}],"x":590,"y":110,"wires":[[]]},{"id":"ce90a194.a2544","type":"change","z":"bb78a8e.f8e5f58","name":"Get Accel Value","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Accel","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":110,"wires":[["7e6f340b.51d68c"]]},{"id":"57d17dcf.058eb4","type":"change","z":"bb78a8e.f8e5f58","name":"Get Decel Value","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Decel","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":150,"wires":[["e5af86f9.f67c98"]]},{"id":"e5af86f9.f67c98","type":"subflow:1ae6c379.02ea3d","z":"bb78a8e.f8e5f58","name":"Decel Time 1","env":[{"name":"Parameter","value":"537","type":"num"}],"x":590,"y":150,"wires":[[]]},{"id":"f771788a.2843f8","type":"switch","z":"2657da37.013b66","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"user","vt":"str"},{"t":"eq","v":"password","vt":"str"},{"t":"eq","v":"Iniciar sesión","vt":"str"},{"t":"eq","v":"Cerrar sesión","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":130,"y":90,"wires":[["9804cbde.aea688"],["2ae89933.84dea6"],["8f64c5d0.2e2de8"],["7ac7e5a3.05d60c"]]},{"id":"70f31cc4.eae4a4","type":"change","z":"bb78a8e.f8e5f58","name":"Get MinLimit Value","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Accel","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":190,"wires":[["39a68012.d603b"]]},{"id":"40525190.6099e","type":"change","z":"bb78a8e.f8e5f58","name":"Get MaxLimit Value","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.MaxLimit","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":230,"wires":[["78c6c402.eb8c0c"]]},{"id":"39a68012.d603b","type":"subflow:1ae6c379.02ea3d","z":"bb78a8e.f8e5f58","name":"Min Limit","env":[{"name":"Parameter","value":"535","type":"num"}],"x":600,"y":190,"wires":[[]]},{"id":"78c6c402.eb8c0c","type":"subflow:1ae6c379.02ea3d","z":"bb78a8e.f8e5f58","name":"Max Limit","env":[{"name":"Parameter","value":"537","type":"num"}],"x":600,"y":230,"wires":[[]]},{"id":"aa3fafd7.15572","type":"switch","z":"bb78a8e.f8e5f58","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"Ramps","vt":"str"},{"t":"eq","v":"Limits","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":200,"y":180,"wires":[["ce90a194.a2544","57d17dcf.058eb4"],["70f31cc4.eae4a4","40525190.6099e"]]},{"id":"d12d799d.788c68","type":"ui_led","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","group":"2666f936.6d0ee6","order":1,"width":5,"height":1,"label":"C2S: {{msg.payload}}","labelPlacement":"right","labelAlignment":"left","colorForValue":[{"color":"red","value":"FALLA!","valueType":"str"},{"color":"Orange","value":"ALARMA!","valueType":"str"},{"color":"green","value":"ACTIVO","valueType":"str"},{"color":"green","value":"ACTIVO Acelerando","valueType":"str"},{"color":"green","value":"ACTIVO Desacelerando","valueType":"str"},{"color":"gray","value":"DETENIDO","valueType":"str"},{"color":"black","value":"Falla de comunicación","valueType":"str"}],"allowColorForValueInMessage":false,"name":"Main","x":4250,"y":470,"wires":[]},{"id":"a15a7cb4.b3f51","type":"switch","z":"f4a6b35e.fd0a3","name":"Setpoint","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"HH Setpoint","vt":"str"},{"t":"eq","v":"H Setpoint","vt":"str"},{"t":"eq","v":"L Setpoint","vt":"str"},{"t":"eq","v":"LL Setpoint","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":410,"y":120,"wires":[["2ac21f55.4fee8"],["58fc2425.0ac08c"],["2f4c5ebb.b56d22"],["da5c1b5b.fe5808"]]},{"id":"e0f0c721.2f0368","type":"switch","z":"f4a6b35e.fd0a3","name":"Enable","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"HH EN","vt":"str"},{"t":"eq","v":"H EN","vt":"str"},{"t":"eq","v":"L EN","vt":"str"},{"t":"eq","v":"LL EN","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":420,"y":280,"wires":[["7354ad0d.15cff4"],["c249ccd6.c0126"],["6be5e5b6.85d3bc"],["b7e1d83c.e36948"]]},{"id":"600fc043.eaa6b","type":"switch","z":"f4a6b35e.fd0a3","name":"Death Time","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"HH DT","vt":"str"},{"t":"eq","v":"H DT","vt":"str"},{"t":"eq","v":"L DT","vt":"str"},{"t":"eq","v":"LL DT","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":400,"y":440,"wires":[["fa97384d.2c4098"],["a5529c.a6837d68"],["210b1f1.433bbe"],["1f8d0a3b.524306"]]},{"id":"2ac21f55.4fee8","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"HHSetpoint","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":60,"wires":[[]]},{"id":"58fc2425.0ac08c","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"HSetpoint","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":100,"wires":[[]]},{"id":"2f4c5ebb.b56d22","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"LSetpoint","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":140,"wires":[[]]},{"id":"da5c1b5b.fe5808","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"LLSetpoint","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":180,"wires":[[]]},{"id":"7354ad0d.15cff4","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"HHEN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":590,"y":220,"wires":[[]]},{"id":"c249ccd6.c0126","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"HEN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":260,"wires":[[]]},{"id":"6be5e5b6.85d3bc","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"LEN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":300,"wires":[[]]},{"id":"b7e1d83c.e36948","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"LLEN","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":590,"y":340,"wires":[[]]},{"id":"fa97384d.2c4098","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"HHDT","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":590,"y":380,"wires":[[]]},{"id":"a5529c.a6837d68","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"HDT","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":420,"wires":[[]]},{"id":"210b1f1.433bbe","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"LDT","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":460,"wires":[[]]},{"id":"1f8d0a3b.524306","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"LLDT","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":590,"y":500,"wires":[[]]},{"id":"44179ab3.d047c4","type":"function","z":"f4a6b35e.fd0a3","name":"Protection Function","func":"// Setpoints\nvar HHSetpoint  = flow.get(\"HHSetpoint\")||0;\nvar HSetpoint   = flow.get(\"HSetpoint\")||0;\nvar LSetpoint   = flow.get(\"LSetpoint\")||0;\nvar LLSetpoint  = flow.get(\"LLSetpoint\")||0;\n\n// Enablers\nvar HH_EN       = flow.get(\"HHEN\")||false;\nvar H_EN        = flow.get(\"HEN\")||false;\nvar L_EN        = flow.get(\"LEN\")||false;\nvar LL_EN       = flow.get(\"LLEN\")||false;\n\n// Death times\nvar HHDeathTime = flow.get(\"HHDT\")||0;\nvar HDeathTime  = flow.get(\"HDT\")||0;\nvar LDeathTime  = flow.get(\"LDT\")||0;\nvar LLDeathTime = flow.get(\"LLDT\")||0;\n\n// Value\nvar CurrentValue = msg.payload;\n\nif(CurrentValue >= HHSetpoint && HH_EN === true){\n    msg.disp = true;\n    msg.alrm = false;\n    msg.message = \"Trigger by HH Protection\";\n    msg.delay = HHDeathTime * 1000;\n}\nelse if(CurrentValue >= HSetpoint && H_EN === true){\n    msg.disp = false;\n    msg.alrm = true;\n    msg.message = \"Alarm by H Protection\";\n    msg.delay = HDeathTime * 1000;\n}\nelse if(CurrentValue <= LLSetpoint && LL_EN === true){\n    msg.disp = true;\n    msg.alrm = false;\n    msg.message = \"Trigger by LL Protection\"\n    msg.delay = LLDeathTime * 1000;\n}\nelse if(CurrentValue <= LSetpoint && L_EN === true){\n    msg.disp = false;\n    msg.alrm = true;\n    msg.message = \"Alarm by L Protection\";\n    msg.delay = LDeathTime * 1000;\n}\nelse{\n    msg.disp = false;\n    msg.alrm = false;\n    msg.message = \"Normal condition\";\n    msg.reset = true;\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":600,"y":540,"wires":[["4e7c8a55.a1ffa4","ea20c75e.326798","8f669088.6ce6"]]},{"id":"20131cf7.f33024","type":"switch","z":"f4a6b35e.fd0a3","name":"Value","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"value","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":420,"y":540,"wires":[["44179ab3.d047c4"]]},{"id":"4e7c8a55.a1ffa4","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"message","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":840,"y":640,"wires":[[]]},{"id":"212f0e9f.602f22","type":"change","z":"ed83123a.a1745","name":"Status","rules":[{"t":"set","p":"payload","pt":"msg","to":"command","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":830,"y":140,"wires":[[]]},{"id":"f20d743b.8f1ae8","type":"ui_switch","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"HH EN","label":"HH","tooltip":"","group":"5901c07f.97003","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2050,"y":280,"wires":[["ebea3def.ed3e8"]]},{"id":"9879ef49.93bf","type":"ui_switch","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"H EN","label":"H","tooltip":"","group":"5901c07f.97003","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2060,"y":420,"wires":[["21eed523.11447a"]]},{"id":"51d04077.f80bf","type":"ui_switch","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"L EN","label":"L","tooltip":"","group":"5901c07f.97003","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2060,"y":560,"wires":[["6542eb5f.278a44"]]},{"id":"deaa0e2e.28e19","type":"ui_switch","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"LL EN","label":"LL","tooltip":"","group":"5901c07f.97003","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2060,"y":700,"wires":[["dff3293.985e0d8"]]},{"id":"1cc2d728.54fb09","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"HH Setpoint","label":"Límite [V]","tooltip":"","group":"5901c07f.97003","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"HH Setpoint","x":2040,"y":190,"wires":[["d116f23d.cc4a3"]]},{"id":"7c70377c.b4ae48","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"H Setpoint","label":"Límite [V]","tooltip":"","group":"5901c07f.97003","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":2040,"y":330,"wires":[["1b55dcc8.5819d3"]]},{"id":"6622800d.ba7da","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"L Setpoint","label":"Límite [V]","tooltip":"","group":"5901c07f.97003","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":2040,"y":470,"wires":[["fc17c06c.acffa"]]},{"id":"a9faa567.a64398","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"LL Setpoint","label":"Límite [V]","tooltip":"","group":"5901c07f.97003","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":2040,"y":610,"wires":[["f102662c.8f0fc8"]]},{"id":"d116f23d.cc4a3","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2300,"y":190,"wires":[["2cd079.27675f88"]]},{"id":"1b55dcc8.5819d3","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2310,"y":330,"wires":[["2cd079.27675f88"]]},{"id":"fc17c06c.acffa","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2310,"y":470,"wires":[["2cd079.27675f88"]]},{"id":"f102662c.8f0fc8","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2310,"y":610,"wires":[["2cd079.27675f88"]]},{"id":"97925335.78553","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":230,"wires":[["2cd079.27675f88"]]},{"id":"8f90abd2.71ca98","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2330,"y":370,"wires":[["2cd079.27675f88"]]},{"id":"471b8ebe.ebd96","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2330,"y":510,"wires":[["2cd079.27675f88"]]},{"id":"5b1d2927.d1b308","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":650,"wires":[["2cd079.27675f88"]]},{"id":"ebea3def.ed3e8","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":280,"wires":[["2cd079.27675f88"]]},{"id":"21eed523.11447a","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2330,"y":420,"wires":[["2cd079.27675f88"]]},{"id":"6542eb5f.278a44","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2330,"y":560,"wires":[["2cd079.27675f88"]]},{"id":"dff3293.985e0d8","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"","rules":[{"t":"set","p":"Protections.Voltage.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2320,"y":700,"wires":[["2cd079.27675f88"]]},{"id":"a13aa793.6d5958","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":190,"wires":[["1cc2d728.54fb09"]]},{"id":"417b61dc.3bc9c","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1840,"y":330,"wires":[["7c70377c.b4ae48"]]},{"id":"96202ced.2d14f","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1840,"y":470,"wires":[["6622800d.ba7da"]]},{"id":"b0c6f4cf.8adde8","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1840,"y":610,"wires":[["a9faa567.a64398"]]},{"id":"3384822b.910e1e","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":230,"wires":[["a210ddee.c7129"]]},{"id":"9621ae2b.31111","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1820,"y":370,"wires":[["6d73a85a.f42f18"]]},{"id":"cb12dde6.c272c","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1820,"y":510,"wires":[["f016e07e.fbcde"]]},{"id":"3c3fc25f.9c4dce","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":650,"wires":[["cb0d324.9efa3d"]]},{"id":"f06b900e.9d7cc","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":280,"wires":[["f20d743b.8f1ae8"]]},{"id":"55ade534.9df4fc","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":420,"wires":[["9879ef49.93bf"]]},{"id":"dec10cf6.2f956","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1820,"y":560,"wires":[["51d04077.f80bf"]]},{"id":"c1246694.d07138","type":"change","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Voltage.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Voltage.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":700,"wires":[["deaa0e2e.28e19"]]},{"id":"5cde6087.192be","type":"ui_switch","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"HH EN","label":"HH","tooltip":"","group":"6b5426f3.f658d8","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3010,"y":280,"wires":[["d37e22c7.8958f"]]},{"id":"c247524.b0573b","type":"ui_switch","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"H EN","label":"H","tooltip":"","group":"6b5426f3.f658d8","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3020,"y":420,"wires":[["2c25b9aa.58cde6"]]},{"id":"ea323d75.a5cf1","type":"ui_switch","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"L EN","label":"L","tooltip":"","group":"6b5426f3.f658d8","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3020,"y":560,"wires":[["28f973b0.1c354c"]]},{"id":"cfbb9853.8b8ac8","type":"ui_switch","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"LL EN","label":"LL","tooltip":"","group":"6b5426f3.f658d8","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3020,"y":700,"wires":[["6829005.b62e3"]]},{"id":"badfd33e.f1ea","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"HH Setpoint","label":"Límite [Lbft]","tooltip":"","group":"6b5426f3.f658d8","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"HH Setpoint","x":3000,"y":190,"wires":[["91e27d4d.24ec7"]]},{"id":"7cf8f013.bc0ad","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"H Setpoint","label":"Límite [Lbft]","tooltip":"","group":"6b5426f3.f658d8","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":3000,"y":330,"wires":[["2da503f8.07291c"]]},{"id":"7064736d.16021c","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"L Setpoint","label":"Límite [Lbft]","tooltip":"","group":"6b5426f3.f658d8","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":3010,"y":470,"wires":[["9369e45e.ca1fa8"]]},{"id":"47dd7297.3c11fc","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"LL Setpoint","label":"Límite [Lbft]","tooltip":"","group":"6b5426f3.f658d8","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":3000,"y":610,"wires":[["1ec15d40.fd09f3"]]},{"id":"91e27d4d.24ec7","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3250,"y":190,"wires":[["d54f3181.5d7ad"]]},{"id":"2da503f8.07291c","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3260,"y":330,"wires":[["d54f3181.5d7ad"]]},{"id":"9369e45e.ca1fa8","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3260,"y":470,"wires":[["d54f3181.5d7ad"]]},{"id":"1ec15d40.fd09f3","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3250,"y":610,"wires":[["d54f3181.5d7ad"]]},{"id":"bd3ac661.673888","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":230,"wires":[["d54f3181.5d7ad"]]},{"id":"cd0132de.28ef2","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":370,"wires":[["d54f3181.5d7ad"]]},{"id":"9b498fd7.493cf","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3280,"y":510,"wires":[["d54f3181.5d7ad"]]},{"id":"2b999efc.767842","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":650,"wires":[["d54f3181.5d7ad"]]},{"id":"d37e22c7.8958f","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":280,"wires":[["d54f3181.5d7ad"]]},{"id":"2c25b9aa.58cde6","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":420,"wires":[["d54f3181.5d7ad"]]},{"id":"28f973b0.1c354c","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":560,"wires":[["d54f3181.5d7ad"]]},{"id":"6829005.b62e3","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"","rules":[{"t":"set","p":"Protections.Load.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3270,"y":700,"wires":[["d54f3181.5d7ad"]]},{"id":"112f0c7f.98c2c4","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2820,"y":190,"wires":[["badfd33e.f1ea"]]},{"id":"5131bc8d.e72484","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2810,"y":330,"wires":[["7cf8f013.bc0ad"]]},{"id":"8638e91.f1d9618","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2810,"y":470,"wires":[["7064736d.16021c"]]},{"id":"9f6c778c.dd65f8","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2820,"y":610,"wires":[["47dd7297.3c11fc"]]},{"id":"807ce42f.663038","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":230,"wires":[["15aef3d2.fbcebc"]]},{"id":"d596bd95.36ac7","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":370,"wires":[["ca4807a6.e20fa8"]]},{"id":"c16ccd29.4c0fd","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":510,"wires":[["527b631b.e975ec"]]},{"id":"7489c0c1.72eaa","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":650,"wires":[["5bf3fb88.25b264"]]},{"id":"c7386ae5.f34358","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":280,"wires":[["5cde6087.192be"]]},{"id":"9fad8a58.994598","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":420,"wires":[["c247524.b0573b"]]},{"id":"bf640dd0.241e2","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":560,"wires":[["ea323d75.a5cf1"]]},{"id":"ceffd9dc.9d9c28","type":"change","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Load.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Load.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2800,"y":700,"wires":[["cfbb9853.8b8ac8"]]},{"id":"ad8923b8.78158","type":"function","z":"f4a6b35e.fd0a3","name":"TON Disp","func":"var Act = msg.disp;\nvar Ant = context.get(\"Anterior\")||false;\nvar Output = { payload: false };\n\n//Flanco de subida\nif(Act === true && Ant === false){\n    context.set(\"RefTime\", Date.now());\n}\n\nelse if(Act === true && Ant === true){\n    if(Date.now() - context.get(\"RefTime\") >= msg.delay){\n        Output.payload = true;\n        Output.Mensaje = msg.message; \n    }\n}\nelse{\n    Output.payload = false;\n}\n\ncontext.set(\"Anterior\", Act);\nreturn Output;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":410,"wires":[[]]},{"id":"c49b79d1.a4a3b8","type":"ui_switch","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"HH EN","label":"HH","tooltip":"","group":"a1a44702.88ed68","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4040,"y":280,"wires":[["4a19a55c.029b5c"]]},{"id":"35830ee2.4789a2","type":"ui_switch","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"H EN","label":"H","tooltip":"","group":"a1a44702.88ed68","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4040,"y":420,"wires":[["b2b661cd.df409"]]},{"id":"9431bf1.ace564","type":"ui_switch","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"L EN","label":"L","tooltip":"","group":"a1a44702.88ed68","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4040,"y":560,"wires":[["dbacee46.2b006"]]},{"id":"4406e6f2.49d418","type":"ui_switch","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"LL EN","label":"LL","tooltip":"","group":"a1a44702.88ed68","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4040,"y":700,"wires":[["faa2c727.765558"]]},{"id":"402fd21b.93e37c","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"HH Setpoint","label":"Límite [°F]","tooltip":"","group":"a1a44702.88ed68","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"HH Setpoint","x":4020,"y":190,"wires":[["cdda7c15.9b834"]]},{"id":"be419375.1309a","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"H Setpoint","label":"Límite [°F]","tooltip":"","group":"a1a44702.88ed68","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":4020,"y":330,"wires":[["a3005f26.9c6f9"]]},{"id":"3aab3d8a.4f5cb2","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"L Setpoint","label":"Límite [°F]","tooltip":"","group":"a1a44702.88ed68","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":4019,"y":470,"wires":[["f9e3db2e.79bad8"]]},{"id":"fdc58cf2.60fb5","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"LL Setpoint","label":"Límite [°F]","tooltip":"","group":"a1a44702.88ed68","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":4020,"y":610,"wires":[["e552bb7f.7cd1b8"]]},{"id":"cdda7c15.9b834","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4310,"y":190,"wires":[["4d839d32.72a8f4"]]},{"id":"a3005f26.9c6f9","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4310,"y":330,"wires":[["4d839d32.72a8f4"]]},{"id":"f9e3db2e.79bad8","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4310,"y":470,"wires":[["4d839d32.72a8f4"]]},{"id":"e552bb7f.7cd1b8","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4310,"y":610,"wires":[["4d839d32.72a8f4"]]},{"id":"1d496804.d2c2f8","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4320,"y":230,"wires":[["4d839d32.72a8f4"]]},{"id":"4160bf9.173304","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4330,"y":370,"wires":[["4d839d32.72a8f4"]]},{"id":"f9d899c1.161488","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4330,"y":510,"wires":[["4d839d32.72a8f4"]]},{"id":"1e6715c8.358b2a","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4330,"y":650,"wires":[["4d839d32.72a8f4"]]},{"id":"4a19a55c.029b5c","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4320,"y":280,"wires":[["4d839d32.72a8f4"]]},{"id":"b2b661cd.df409","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4330,"y":420,"wires":[["4d839d32.72a8f4"]]},{"id":"dbacee46.2b006","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4330,"y":560,"wires":[["4d839d32.72a8f4"]]},{"id":"faa2c727.765558","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"","rules":[{"t":"set","p":"Protections.Intake.Temperature.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4330,"y":700,"wires":[["4d839d32.72a8f4"]]},{"id":"f924bdb0.5be41","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"Intake.Temperature.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3800,"y":190,"wires":[["402fd21b.93e37c"]]},{"id":"1865ce38.af04e2","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"Intake.Temperature.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3800,"y":330,"wires":[["be419375.1309a"]]},{"id":"29688391.2998dc","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"Intake.Temperature.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3800,"y":470,"wires":[["3aab3d8a.4f5cb2"]]},{"id":"7463a6d.8f98458","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"Intake.Temperature.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3800,"y":610,"wires":[["fdc58cf2.60fb5"]]},{"id":"4b0117c9.906a28","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"Intake.Temperature.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3790,"y":230,"wires":[["49f4bc47.e792b4"]]},{"id":"735fcd8c.139204","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"Intake.Temperature.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3780,"y":370,"wires":[["b2bf10ae.1293f"]]},{"id":"62792eb4.ed585","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"Intake.Temperature.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3780,"y":510,"wires":[["2a0281a3.689efe"]]},{"id":"b215f346.b41bf","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"Intake.Temperature.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3780,"y":650,"wires":[["ea97a2e4.6a67d"]]},{"id":"15cdc18c.2d1afe","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"Intake.Temperature.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3790,"y":280,"wires":[["c49b79d1.a4a3b8"]]},{"id":"e940bc9d.487ab","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"Intake.Temperature.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3780,"y":420,"wires":[["35830ee2.4789a2"]]},{"id":"3927678c.1ba258","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"Intake.Temperature.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3780,"y":560,"wires":[["9431bf1.ace564"]]},{"id":"efdfec7f.80deb","type":"change","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"Intake.Temperature.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Temperature.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3780,"y":700,"wires":[["4406e6f2.49d418"]]},{"id":"e61d4a61.e53858","type":"ui_switch","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"HH EN","label":"HH","tooltip":"","group":"e149ba57.923428","order":1,"width":"2","height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2090,"y":880,"wires":[["7a934c21.2ecb84"]]},{"id":"c2250f98.0d359","type":"ui_switch","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"H EN","label":"H","tooltip":"","group":"e149ba57.923428","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2100,"y":1020,"wires":[["3bb485e.5c59e7a"]]},{"id":"a526c702.97fae8","type":"ui_switch","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"L EN","label":"L","tooltip":"","group":"e149ba57.923428","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2100,"y":1160,"wires":[["54738e5b.62f9d"]]},{"id":"e5d51105.c7ff6","type":"ui_switch","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"LL EN","label":"LL","tooltip":"","group":"e149ba57.923428","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2100,"y":1300,"wires":[["8a8eddbb.01d1b"]]},{"id":"e0cc3f40.9ec5c","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"HH Setpoint","label":"Límite [psi]","tooltip":"","group":"e149ba57.923428","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"HH Setpoint","x":2080,"y":790,"wires":[["f5bb9109.f3ee9"]]},{"id":"3886347c.05aadc","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"H Setpoint","label":"Límite [psi]","tooltip":"","group":"e149ba57.923428","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"H Setpoint","x":2080,"y":930,"wires":[["c121793e.08fd78"]]},{"id":"db30b407.1a7568","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"L Setpoint","label":"Límite [psi]","tooltip":"","group":"e149ba57.923428","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":2079,"y":1070,"wires":[["953d1543.ba90f8"]]},{"id":"aa7fc893.e7f238","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"LL Setpoint","label":"Límite [psi]","tooltip":"","group":"e149ba57.923428","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"LL Setpoint","x":2080,"y":1210,"wires":[["aeb719f5.a80828"]]},{"id":"f5bb9109.f3ee9","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2360,"y":790,"wires":[["33575158.040bce"]]},{"id":"c121793e.08fd78","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2360,"y":930,"wires":[["33575158.040bce"]]},{"id":"953d1543.ba90f8","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2370,"y":1070,"wires":[["33575158.040bce"]]},{"id":"aeb719f5.a80828","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2360,"y":1210,"wires":[["33575158.040bce"]]},{"id":"4a731ce4.a7a854","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":830,"wires":[["33575158.040bce"]]},{"id":"54781f62.2457e","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":970,"wires":[["33575158.040bce"]]},{"id":"3d5fce47.6c25d2","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":1110,"wires":[["33575158.040bce"]]},{"id":"5798187e.286368","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":1250,"wires":[["33575158.040bce"]]},{"id":"7a934c21.2ecb84","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":880,"wires":[["33575158.040bce"]]},{"id":"3bb485e.5c59e7a","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":1020,"wires":[["33575158.040bce"]]},{"id":"54738e5b.62f9d","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":1160,"wires":[["33575158.040bce"]]},{"id":"8a8eddbb.01d1b","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"","rules":[{"t":"set","p":"Protections.Intake.Pressure.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":1300,"wires":[["33575158.040bce"]]},{"id":"a454cef5.af8fc","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"Intake.Pressure.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1870,"y":790,"wires":[["e0cc3f40.9ec5c"]]},{"id":"bfcf1d22.6a633","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"Intake.Pressure.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1870,"y":930,"wires":[["3886347c.05aadc"]]},{"id":"cff15ba9.0519d8","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"Intake.Pressure.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1870,"y":1070,"wires":[["db30b407.1a7568"]]},{"id":"403e0e9.7738af","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"Intake.Pressure.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1870,"y":1210,"wires":[["aa7fc893.e7f238"]]},{"id":"68dc5746.f43798","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"Intake.Pressure.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":830,"wires":[["3dd23d60.3a9252"]]},{"id":"5705aa78.5d51a4","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"Intake.Pressure.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":970,"wires":[["217a7e83.476b12"]]},{"id":"ce9bc7e2.b5ae88","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"Intake.Pressure.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":1110,"wires":[["5ba4a28e.be396c"]]},{"id":"20a20d73.57b622","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"Intake.Pressure.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":1250,"wires":[["b636759a.1af358"]]},{"id":"e280d419.905258","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"Intake.Pressure.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":880,"wires":[["e61d4a61.e53858"]]},{"id":"3f5e77fb.ba40f8","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"Intake.Pressure.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":1020,"wires":[["c2250f98.0d359"]]},{"id":"561da518.30b27c","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"Intake.Pressure.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":1160,"wires":[["a526c702.97fae8"]]},{"id":"e386a315.a703f","type":"change","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"Intake.Pressure.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Intake.Pressure.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":1300,"wires":[["e5d51105.c7ff6"]]},{"id":"bb0d981d.727c38","type":"ui_switch","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"HH EN","label":"HH","tooltip":"","group":"38e9a87.c300958","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3170,"y":880,"wires":[["9146ae0d.3af17"]]},{"id":"c6237d3d.8ab13","type":"ui_switch","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"H EN","label":"H","tooltip":"","group":"38e9a87.c300958","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3180,"y":1020,"wires":[["2bd5723a.161dee"]]},{"id":"e4d77b34.0e69e8","type":"ui_switch","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"L EN","label":"L","tooltip":"","group":"38e9a87.c300958","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3180,"y":1160,"wires":[["24ff573d.b4ad38"]]},{"id":"f15261a7.5b9b7","type":"ui_switch","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"LL EN","label":"LL","tooltip":"","group":"38e9a87.c300958","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3180,"y":1300,"wires":[["fa92c1eb.77342"]]},{"id":"597d509a.97049","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"HH Setpoint","label":"Límite [psi]","tooltip":"","group":"38e9a87.c300958","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"HH Setpoint","x":3160,"y":790,"wires":[["5c22c963.73c3c8"]]},{"id":"d88d36e1.6c1a78","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"H Setpoint","label":"Límite [psi]","tooltip":"","group":"38e9a87.c300958","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":3160,"y":930,"wires":[["2e5d68dc.858698"]]},{"id":"f2e33ee6.334d6","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"L Setpoint","label":"Límite [psi]","tooltip":"","group":"38e9a87.c300958","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":3160,"y":1070,"wires":[["bb669792.76b798"]]},{"id":"1fa6726c.71384e","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"LL Setpoint","label":"Límite [psi]","tooltip":"","group":"38e9a87.c300958","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":3160,"y":1210,"wires":[["cd53a4b1.02cee8"]]},{"id":"5c22c963.73c3c8","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3450,"y":790,"wires":[["fa27ee3.dd7941"]]},{"id":"2e5d68dc.858698","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3450,"y":930,"wires":[["fa27ee3.dd7941"]]},{"id":"bb669792.76b798","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3450,"y":1070,"wires":[["fa27ee3.dd7941"]]},{"id":"cd53a4b1.02cee8","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3450,"y":1210,"wires":[["fa27ee3.dd7941"]]},{"id":"7458a005.66f77","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3460,"y":830,"wires":[["fa27ee3.dd7941"]]},{"id":"9bea7e46.26625","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":970,"wires":[["fa27ee3.dd7941"]]},{"id":"3113c7be.11c838","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":1110,"wires":[["fa27ee3.dd7941"]]},{"id":"a6333e19.ef71e","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":1250,"wires":[["fa27ee3.dd7941"]]},{"id":"9146ae0d.3af17","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3460,"y":880,"wires":[["fa27ee3.dd7941"]]},{"id":"2bd5723a.161dee","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":1020,"wires":[["fa27ee3.dd7941"]]},{"id":"24ff573d.b4ad38","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":1160,"wires":[["fa27ee3.dd7941"]]},{"id":"fa92c1eb.77342","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"","rules":[{"t":"set","p":"Protections.Discharge.Pressure.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":1300,"wires":[["fa27ee3.dd7941"]]},{"id":"4d772326.e83ecc","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"Discharge.Pressure.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2940,"y":790,"wires":[["597d509a.97049"]]},{"id":"4ec0aff2.fb6d","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"Discharge.Pressure.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2940,"y":930,"wires":[["d88d36e1.6c1a78"]]},{"id":"e01553c7.65a86","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"Discharge.Pressure.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2940,"y":1070,"wires":[["f2e33ee6.334d6"]]},{"id":"d84150ed.51b5c","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"Discharge.Pressure.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2940,"y":1210,"wires":[["1fa6726c.71384e"]]},{"id":"5bf3855e.8a14bc","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"Discharge.Pressure.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2930,"y":830,"wires":[["12d295a5.7cda8a"]]},{"id":"3bced553.64606a","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"Discharge.Pressure.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2920,"y":970,"wires":[["5eb0694e.8b93e8"]]},{"id":"1aa3aef6.22fa21","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"Discharge.Pressure.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2920,"y":1110,"wires":[["174a50b7.39ca9f"]]},{"id":"10708263.2b625e","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"Discharge.Pressure.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2930,"y":1250,"wires":[["86aeff9f.23163"]]},{"id":"4fa4208b.9e6ec","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"Discharge.Pressure.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2930,"y":880,"wires":[["bb0d981d.727c38"]]},{"id":"f262ad5b.79dde","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"Discharge.Pressure.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2920,"y":1020,"wires":[["c6237d3d.8ab13"]]},{"id":"bc1d2c03.fbe0e","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"Discharge.Pressure.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2920,"y":1160,"wires":[["e4d77b34.0e69e8"]]},{"id":"8504e8d.5781318","type":"change","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"Discharge.Pressure.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Pressure.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2930,"y":1300,"wires":[["f15261a7.5b9b7"]]},{"id":"81ff8c6b.e369f","type":"ui_switch","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"HH EN","label":"HH","tooltip":"","group":"79bd9737.7bcf68","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4319,"y":880,"wires":[["64363868.0e3af8"]]},{"id":"55ba2fb8.d5992","type":"ui_switch","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"H EN","label":"H","tooltip":"","group":"79bd9737.7bcf68","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4320,"y":1020,"wires":[["f0ff8de3.8e9a7"]]},{"id":"f179284a.884a28","type":"ui_switch","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"L EN","label":"L","tooltip":"","group":"79bd9737.7bcf68","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4320,"y":1160,"wires":[["f20a0ccd.95dc1"]]},{"id":"7e134a.7a0facb8","type":"ui_switch","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"LL EN","label":"LL","tooltip":"","group":"79bd9737.7bcf68","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4320,"y":1300,"wires":[["e5a465ce.be26d8"]]},{"id":"b65f868e.fb2a88","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"HH Setpoint","label":"Límite [°F]","tooltip":"","group":"79bd9737.7bcf68","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"HH Setpoint","x":4300,"y":790,"wires":[["11676fef.03085"]]},{"id":"8c436e.5a8edc9","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"H Setpoint","label":"Límite [°F]","tooltip":"","group":"79bd9737.7bcf68","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":4300,"y":930,"wires":[["1f22fc42.e793e4"]]},{"id":"c92bfd00.2798e","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"L Setpoint","label":"Límite [°F]","tooltip":"","group":"79bd9737.7bcf68","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":4299,"y":1070,"wires":[["e6e945d1.72b968"]]},{"id":"2f46d7ce.92d298","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"LL Setpoint","label":"Límite [°F]","tooltip":"","group":"79bd9737.7bcf68","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":4300,"y":1210,"wires":[["f5287419.d23a28"]]},{"id":"11676fef.03085","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4600,"y":790,"wires":[["99ff714a.7a819"]]},{"id":"1f22fc42.e793e4","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4600,"y":930,"wires":[["99ff714a.7a819"]]},{"id":"e6e945d1.72b968","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4610,"y":1070,"wires":[["99ff714a.7a819"]]},{"id":"f5287419.d23a28","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4600,"y":1210,"wires":[["99ff714a.7a819"]]},{"id":"f6a753ca.d6306","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4630,"y":830,"wires":[["99ff714a.7a819"]]},{"id":"49379c96.283dd4","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4620,"y":970,"wires":[["99ff714a.7a819"]]},{"id":"32f9531b.a08ddc","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4620,"y":1110,"wires":[["99ff714a.7a819"]]},{"id":"6576783e.0b9e38","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4630,"y":1250,"wires":[["99ff714a.7a819"]]},{"id":"64363868.0e3af8","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4620,"y":880,"wires":[["99ff714a.7a819"]]},{"id":"f0ff8de3.8e9a7","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4620,"y":1020,"wires":[["99ff714a.7a819"]]},{"id":"f20a0ccd.95dc1","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4620,"y":1160,"wires":[["99ff714a.7a819"]]},{"id":"e5a465ce.be26d8","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"","rules":[{"t":"set","p":"Protections.Discharge.Temperature.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4630,"y":1300,"wires":[["99ff714a.7a819"]]},{"id":"c9db83bd.21e72","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"Discharge.Temperature.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4060,"y":790,"wires":[["b65f868e.fb2a88"]]},{"id":"ab4f9b0e.b58748","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"Discharge.Temperature.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4050,"y":930,"wires":[["8c436e.5a8edc9"]]},{"id":"62cfa401.544bfc","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"Discharge.Temperature.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4050,"y":1070,"wires":[["c92bfd00.2798e"]]},{"id":"fa38bc67.7796a","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"Discharge.Temperature.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"DProtections.ischarge.Temperature.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4050,"y":1210,"wires":[["2f46d7ce.92d298"]]},{"id":"224de176.531cbe","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"Discharge.Temperature.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4040,"y":830,"wires":[["8391ee25.6681c"]]},{"id":"2d9b97ec.afb1f8","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"Discharge.Temperature.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4030,"y":970,"wires":[["612144c8.db8e4c"]]},{"id":"defdcfa2.787fe","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"Discharge.Temperature.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4030,"y":1110,"wires":[["ef41c61b.f2f998"]]},{"id":"40dcb368.34489c","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"Discharge.Temperature.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4040,"y":1250,"wires":[["3368017a.de213e"]]},{"id":"c07a38bc.f59cb8","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"Discharge.Temperature.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4040,"y":880,"wires":[["81ff8c6b.e369f"]]},{"id":"2988bb53.335914","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"Discharge.Temperature.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4030,"y":1020,"wires":[["55ba2fb8.d5992"]]},{"id":"a5ab5c99.0daba","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"Discharge.Temperature.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4030,"y":1160,"wires":[["f179284a.884a28"]]},{"id":"41e32d9c.3f35a4","type":"change","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"Discharge.Temperature.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Discharge.Temperature.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4040,"y":1300,"wires":[["7e134a.7a0facb8"]]},{"id":"b97c0cba.aea3","type":"ui_text_input","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","label":"Voltage","tooltip":"","group":"c0d4b517.4b9968","order":3,"width":2,"height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":631,"y":642,"wires":[["b405c349.c96bb"]]},{"id":"625acf36.28ca1","type":"ui_text_input","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","label":"Amps","tooltip":"","group":"c0d4b517.4b9968","order":5,"width":2,"height":1,"passthru":true,"mode":"number","delay":"100","topic":"Accel","x":641,"y":722,"wires":[["2b15e46d.065cec"]]},{"id":"52666b13.2f23b4","type":"ui_text_input","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","label":"Hertz","tooltip":"","group":"c0d4b517.4b9968","order":7,"width":2,"height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":641,"y":802,"wires":[["2d255252.339eee"]]},{"id":"9fce2d60.4554b","type":"ui_text_input","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","label":"RPM","tooltip":"","group":"c0d4b517.4b9968","order":10,"width":2,"height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":641,"y":882,"wires":[["183f49bb.f6d776"]]},{"id":"a5bfded0.8a3cf","type":"ui_text_input","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","label":"Power","tooltip":"","group":"c0d4b517.4b9968","order":12,"width":2,"height":1,"passthru":true,"mode":"number","delay":"100","topic":"Accel","x":641,"y":962,"wires":[["c780b49a.0e4338"]]},{"id":"dc569dcc.729","type":"ui_text_input","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","label":"Poles","tooltip":"","group":"c0d4b517.4b9968","order":14,"width":2,"height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":641,"y":1042,"wires":[["44e6874.2344578"]]},{"id":"2df856a8.f45a8a","type":"ui_text_input","z":"43b51d90.0b47f4","g":"b60351ac.2ba88","name":"","label":"Max. Volt.","tooltip":"","group":"b8183a56.ba29a8","order":1,"width":2,"height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":620,"y":1736,"wires":[["bfcfb7be.379538"]]},{"id":"5c9c4d5b.096174","type":"ui_text_input","z":"43b51d90.0b47f4","g":"b60351ac.2ba88","name":"","label":"Max. Freq.","tooltip":"","group":"b8183a56.ba29a8","order":2,"width":2,"height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":610,"y":1776,"wires":[["294d3de8.c826f2"]]},{"id":"2bbbe8b6.93dbd8","type":"comment","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Control de motor - Datos Placa de Motor","info":"","x":481,"y":602,"wires":[]},{"id":"9804cbde.aea688","type":"change","z":"2657da37.013b66","name":"","rules":[{"t":"set","p":"user","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":290,"y":30,"wires":[[]]},{"id":"2ae89933.84dea6","type":"change","z":"2657da37.013b66","name":"","rules":[{"t":"set","p":"password","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":310,"y":70,"wires":[[]]},{"id":"798ac169.6edda","type":"inject","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"","props":[{"p":"payload","v":"true","vt":"bool"},{"p":"topic","v":"","vt":"string"}],"repeat":"5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":120,"y":120,"wires":[["88ac83a3.561a3","1cb59f89.cf5d7"]]},{"id":"20490d7e.8acac2","type":"comment","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"Monitorear Temperatura y Velocidad de CPU","info":"","x":210,"y":60,"wires":[]},{"id":"88ac83a3.561a3","type":"subflow:11d568a7.09a5c7","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"","env":[],"x":280,"y":120,"wires":[["7b1383a8.719ecc","4906fc64.1e6a14"],["99ba02d4.713c2","d43fb27a.273b3"]]},{"id":"7b1383a8.719ecc","type":"influxdb out","z":"ef673f81.6ec95","d":true,"g":"3383e29e.9b29fe","influxdb":"6f4d01db.f0a2b","name":"","measurement":"Temperature","precision":"","retentionPolicy":"","x":580,"y":100,"wires":[]},{"id":"99ba02d4.713c2","type":"influxdb out","z":"ef673f81.6ec95","d":true,"g":"3383e29e.9b29fe","influxdb":"6f4d01db.f0a2b","name":"","measurement":"CPUFreq","precision":"","retentionPolicy":"","x":570,"y":180,"wires":[]},{"id":"d382db6f.29f0a8","type":"function","z":"8528a254.70837","g":"11f55817.139c18","name":"Events","func":"var event   = flow.get('Events')||[];\nvar id      = flow.get('id')||0;\nvar date    = new Date();\n\n// Date\nvar year    = date.getFullYear();\nvar month   = date.getMonth()+1;\nvar day     = date.getDate();\n\n//Time\nvar hours   = date.getHours();\nvar minutes = date.getMinutes();\nvar seconds = date.getSeconds();\n\nmsg.payload={\n            'no':id,\n            'fecha':month+'/'+day+'/'+year,\n            'hora':hours+':'+minutes+':'+seconds,\n            'evento':msg.payload\n}\n\nevent.unshift(msg.payload);\nflow.set('Events',event);\nid++\nflow.set('id',id);\nmsg.payload = event;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":456,"y":80,"wires":[["ec98695.bbf8698","7b4bd7a0.fd9398"]]},{"id":"972e1f74.3dd4c","type":"comment","z":"8528a254.70837","g":"11f55817.139c18","name":"Eventos","info":"","x":116,"y":80,"wires":[]},{"id":"ec98695.bbf8698","type":"json","z":"8528a254.70837","g":"11f55817.139c18","name":"","property":"payload","action":"","pretty":false,"x":616,"y":80,"wires":[["7b4bd7a0.fd9398"]]},{"id":"54ec819a.c1bc9","type":"change","z":"8528a254.70837","g":"11f55817.139c18","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Events","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":426,"y":120,"wires":[["ec98695.bbf8698","7b4bd7a0.fd9398"]]},{"id":"52f10c12.555b24","type":"comment","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"Eventos","info":"","x":600,"y":110,"wires":[]},{"id":"fd9df9f7.0350c8","type":"link out","z":"5f404c88.fa75a4","g":"5613a5b2.95577c","name":"Escribir parámetros","links":["59e817c2.295b38"],"x":875,"y":150,"wires":[]},{"id":"59e817c2.295b38","type":"link in","z":"8528a254.70837","g":"11f55817.139c18","name":"Eventos","links":["62b08bc.a787d74","6d40adaa.11d2c4","db1e9db0.6840e","f99e70c8.70126","fd9df9f7.0350c8","6026f9a1fb67d99c","ebd426c6.92c6a","9fb65d7a.6ca43","35365450.af6584","d5fc3fb.27a824"],"x":371,"y":80,"wires":[["d382db6f.29f0a8"]]},{"id":"d82f7fec.13595","type":"ui_toast","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","position":"top right","displayTime":"3","highlight":"green","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1750,"y":330,"wires":[]},{"id":"1c5b5d3c.1c9023","type":"switch","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","property":"code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1360,"y":350,"wires":[["5d2f7a98.356b04"],["6d286a3.7a9a594"]]},{"id":"5d2f7a98.356b04","type":"change","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Cambio de velocidad Local exitoso a +++ Hz","tot":"str"},{"t":"delete","p":"topic","pt":"msg"},{"t":"change","p":"payload","pt":"msg","from":"+++","fromt":"str","to":"Ultima_Referencia","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":330,"wires":[["d82f7fec.13595","62b08bc.a787d74"]]},{"id":"6d286a3.7a9a594","type":"change","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Cambio de velocidad Local fallido!","tot":"str"},{"t":"delete","p":"topic","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1520,"y":370,"wires":[["62b08bc.a787d74","d82f7fec.13595"]]},{"id":"62b08bc.a787d74","type":"link out","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"Escribir Referencia de velocidad","links":["59e817c2.295b38"],"x":1675,"y":370,"wires":[]},{"id":"b6ce196c.b85ff8","type":"comment","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"Acciones de usuario","info":"","x":160,"y":590,"wires":[]},{"id":"c404a6e9.ffda18","type":"change","z":"827787d0.ede678","g":"a80677cf.4274c8","name":"Admin","rules":[{"t":"set","p":"payload","pt":"msg","to":"Admin Loged","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":660,"y":810,"wires":[["6d40adaa.11d2c4"]]},{"id":"7dfbde1e.e4b5b","type":"change","z":"827787d0.ede678","g":"a80677cf.4274c8","name":"Operator","rules":[{"t":"set","p":"payload","pt":"msg","to":"Operator Loged in","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":670,"y":850,"wires":[["6d40adaa.11d2c4"]]},{"id":"6d40adaa.11d2c4","type":"link out","z":"827787d0.ede678","g":"a80677cf.4274c8","name":"Usuario","links":["59e817c2.295b38","40c12bb3.ead9f4"],"x":785,"y":810,"wires":[]},{"id":"b405c349.c96bb","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","rules":[{"t":"set","p":"Motor_Control.Nameplate.Voltage","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":891,"y":642,"wires":[[]]},{"id":"a90890e0.f21c8","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Voltage","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Voltage","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":381,"y":642,"wires":[["b97c0cba.aea3"]]},{"id":"2b15e46d.065cec","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","rules":[{"t":"set","p":"Motor_Control.Nameplate.Amps","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":881,"y":722,"wires":[[]]},{"id":"ed08c0de.3ee1e","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Amps","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Amps","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":371,"y":722,"wires":[["625acf36.28ca1"]]},{"id":"e89df25d.18cdc","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Hertz","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Hertz","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":371,"y":802,"wires":[["52666b13.2f23b4"]]},{"id":"2d255252.339eee","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","rules":[{"t":"set","p":"Motor_Control.Nameplate.Hertz","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":881,"y":802,"wires":[[]]},{"id":"183f49bb.f6d776","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","rules":[{"t":"set","p":"Motor_Control.Nameplate.RPM","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":871,"y":882,"wires":[[]]},{"id":"9355594d.0b5af8","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"RPM","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.RPM","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":371,"y":882,"wires":[["9fce2d60.4554b"]]},{"id":"c780b49a.0e4338","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","rules":[{"t":"set","p":"Motor_Control.Nameplate.Power","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":881,"y":962,"wires":[[]]},{"id":"fa5d0b5d.173c98","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Power","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Power","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":371,"y":962,"wires":[["a5bfded0.8a3cf"]]},{"id":"44e6874.2344578","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","rules":[{"t":"set","p":"Motor_Control.Nameplate.Poles","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":881,"y":1042,"wires":[[]]},{"id":"657a5d37.6d07c4","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Poles","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Poles","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":371,"y":1042,"wires":[["dc569dcc.729"]]},{"id":"bfcfb7be.379538","type":"change","z":"43b51d90.0b47f4","g":"b60351ac.2ba88","name":"","rules":[{"t":"set","p":"Motor_Control.CtrlMode.MaxVolt","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":1736,"wires":[[]]},{"id":"294d3de8.c826f2","type":"change","z":"43b51d90.0b47f4","g":"b60351ac.2ba88","name":"","rules":[{"t":"set","p":"Motor_Control.CtrlMode.MaxFreq","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":1776,"wires":[[]]},{"id":"d780aa82.2d5678","type":"change","z":"43b51d90.0b47f4","g":"b60351ac.2ba88","name":"MaxVolt","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.CtrlMode.MaxVolt","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":380,"y":1736,"wires":[["2df856a8.f45a8a"]]},{"id":"54c5e154.bb4ce","type":"change","z":"43b51d90.0b47f4","g":"b60351ac.2ba88","name":"MaxFreq","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.CtrlMode.MaxFreq","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":380,"y":1776,"wires":[["5c9c4d5b.096174"]]},{"id":"ea258cd2.d6e7d","type":"ui_button","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"","group":"c0d4b517.4b9968","order":21,"width":4,"height":1,"passthru":false,"label":"Confirmar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1211,"y":642,"wires":[["7507ff98.5a92b","dca07a87.27ec18","f041a8b3.dcb0d8","184c506a.42dbd","60be1d12.066574","ed33f12b.95cc7","39af17e3.7d87a8"]]},{"id":"7507ff98.5a92b","type":"change","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Send Voltage","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Voltage","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1501,"y":642,"wires":[["effa34c4.ff41c8"]]},{"id":"dca07a87.27ec18","type":"change","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Send Amps","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Amps","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1501,"y":682,"wires":[["3f3006.edaa2ffa"]]},{"id":"f041a8b3.dcb0d8","type":"change","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Send Hertz","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Hertz","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1501,"y":722,"wires":[["53d73778.d0b178"]]},{"id":"184c506a.42dbd","type":"change","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Send RPM","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.RPM","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1501,"y":762,"wires":[["b8855fd7.225d3"]]},{"id":"60be1d12.066574","type":"change","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Send Power","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Power","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1501,"y":802,"wires":[["30d2c9b7.d0d666"]]},{"id":"ed33f12b.95cc7","type":"change","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Send Poles","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Poles","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1501,"y":842,"wires":[["1a6f7f25.56eb41"]]},{"id":"effa34c4.ff41c8","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Voltage","env":[{"name":"Parameter","value":"25","type":"num"}],"x":1851,"y":642,"wires":[[]]},{"id":"3f3006.edaa2ffa","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Amps","env":[{"name":"Parameter","value":"26","type":"num"}],"x":1861,"y":682,"wires":[[]]},{"id":"53d73778.d0b178","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Hertz","env":[{"name":"Parameter","value":"27","type":"num"}],"x":1861,"y":722,"wires":[[]]},{"id":"b8855fd7.225d3","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"RPM","env":[{"name":"Parameter","value":"28","type":"num"}],"x":1861,"y":762,"wires":[[]]},{"id":"30d2c9b7.d0d666","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Power","env":[{"name":"Parameter","value":"30","type":"num"}],"x":1861,"y":802,"wires":[[]]},{"id":"1a6f7f25.56eb41","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Poles","env":[{"name":"Parameter","value":"31","type":"num"},{"name":"Datatype","value":"DINT","type":"str"}],"x":1861,"y":842,"wires":[[]]},{"id":"a46d071d.fcdc98","type":"comment","z":"827787d0.ede678","g":"a80677cf.4274c8","name":"Eventos de usuario","info":"","x":690,"y":770,"wires":[]},{"id":"a6590a31.100138","type":"ui_text","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","group":"a487b683.29f738","order":4,"width":"0","height":"0","name":"","label":"Ethernet :","format":"{{msg.payload}}","layout":"row-center","x":1080,"y":90,"wires":[]},{"id":"856da30f.2df08","type":"exec","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","command":"ifconfig eth0","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":300,"y":100,"wires":[["babc7e0a.35af5"],[],[]]},{"id":"e9b62f95.1b77f","type":"inject","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"","props":[{"p":"payload","v":"","vt":"date"},{"p":"topic","v":"","vt":"string"}],"repeat":"5","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":140,"y":100,"wires":[["856da30f.2df08"]]},{"id":"7342b43f.bedb2c","type":"function","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"Obtener IP & Netmask","func":"// Get string complete\nvar str                 = msg.payload;\n\n// Get 'inet' start and end position inside the string\nvar start_of_inet       = str.indexOf('inet')+5;\nvar end_of_inet         = str.indexOf('netmask')-2;\n\n// Get 'netmask' start and end position inside the string\nvar start_of_netmask    = str.indexOf('netmask')+8;\nvar end_of_netmask      = str.indexOf('broadcast')-2;\n\n// Get \"inet\" complete string.\nvar inet                = str.slice(start_of_inet,end_of_inet);\nvar netmask             = str.slice(start_of_netmask,end_of_netmask);\n\nmsg.payload ={\n    \"Ethernet\":inet,\n    \"Netmask\":netmask\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":730,"y":90,"wires":[["df476a8b.883118","3663f735.969b68"]]},{"id":"df476a8b.883118","type":"change","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"Ethernet","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Ethernet","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":920,"y":90,"wires":[["a6590a31.100138"]]},{"id":"3663f735.969b68","type":"change","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"Netmask","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Netmask","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":920,"y":130,"wires":[["fb855c25.47e4a"]]},{"id":"fb855c25.47e4a","type":"ui_text","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","group":"a487b683.29f738","order":4,"width":"0","height":"0","name":"","label":"Netmask :","format":"{{msg.payload}}","layout":"row-center","x":1090,"y":130,"wires":[]},{"id":"38f71bea.eab544","type":"comment","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"Network Diagnóstic","info":"","x":130,"y":60,"wires":[]},{"id":"d1a73825.d89578","type":"ui_text","z":"827787d0.ede678","g":"be55ea76.ed4478","group":"a706ea3d.b7fbc8","order":2,"width":"0","height":"0","name":"","label":"Usuario actual:","format":"{{msg.payload}}","layout":"row-center","x":840,"y":640,"wires":[]},{"id":"8e762cce.be81","type":"switch","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"eq","v":"1","vt":"num"},{"t":"eq","v":"2","vt":"num"}],"checkall":"true","repair":false,"outputs":3,"x":440,"y":640,"wires":[["ffad1340.f8a3b","8edea7ae.674088"],["8effe1fe.bacd6","33c5f16c.c8a5ae","c404a6e9.ffda18"],["98a9b5d4.5e5608","42f85e00.83b314","7dfbde1e.e4b5b"]]},{"id":"ffad1340.f8a3b","type":"change","z":"827787d0.ede678","g":"be55ea76.ed4478","name":"No user","rules":[{"t":"set","p":"payload","pt":"msg","to":"No user","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":660,"y":600,"wires":[["d1a73825.d89578"]]},{"id":"8effe1fe.bacd6","type":"change","z":"827787d0.ede678","g":"be55ea76.ed4478","name":"Admin","rules":[{"t":"set","p":"payload","pt":"msg","to":"Admin","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":650,"y":640,"wires":[["d1a73825.d89578"]]},{"id":"98a9b5d4.5e5608","type":"change","z":"827787d0.ede678","g":"be55ea76.ed4478","name":"Operator","rules":[{"t":"set","p":"payload","pt":"msg","to":"Operator","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":660,"y":680,"wires":[["d1a73825.d89578"]]},{"id":"6ee9b8f2.10e5e8","type":"comment","z":"827787d0.ede678","g":"be55ea76.ed4478","name":"Mensaje para conocer el ususario logeado","info":"","x":920,"y":600,"wires":[]},{"id":"d50d9b6b.bbc7f8","type":"change","z":"8528a254.70837","g":"11f55817.139c18","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Events","tot":"flow"},{"t":"set","p":"filename","pt":"msg","to":"+++/Eventos/Eventos.csv","tot":"str"},{"t":"change","p":"filename","pt":"msg","from":"+++","fromt":"str","to":"USB_Drive","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":586,"y":160,"wires":[["ad47f0cc.93af5"]]},{"id":"c02fb05c.baccf","type":"file","z":"8528a254.70837","g":"11f55817.139c18","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":856,"y":160,"wires":[[]]},{"id":"4b2de6bc.d46068","type":"comment","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Datos placa de motor","info":"","x":1251,"y":602,"wires":[]},{"id":"930fca30.88a2b8","type":"inject","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":1140,"y":100,"wires":[["8266a56b.0a72b8","6d168e3b.93824","44cc5158.334ef","1619e480.7045ec","e52ed370.116f8","acf7d8bf.d43438","20d8c8d2.e2f6b8","9f9c2227.c74c8","f61ffe92.c077c","4b867a44.bf9d94","fc478e83.c0618","9eac5e53.3d363","c1186f48.26051","fdfb1344.a0206"]]},{"id":"2f8b09f0.230796","type":"comment","z":"68deacdf.9a36f4","g":"6889f2bb.892f0c","name":"C2S","info":"","x":1100,"y":60,"wires":[]},{"id":"3f228908.0d0696","type":"comment","z":"68deacdf.9a36f4","g":"95e4279e.465018","name":"PQA","info":"","x":160,"y":80,"wires":[]},{"id":"58926891.1f2dd8","type":"link in","z":"68deacdf.9a36f4","g":"95e4279e.465018","name":"PQA Data Link","links":["f28712cf.12333"],"x":145,"y":120,"wires":[["ed440caa.e3c9a","3faa3e6.58be8c2","50e718bc.acc418","ea1cde92.60e99","9cd71bbc.0f4798","1cbd6fef.8eb83","cd1b505d.a6b93","425425ae.e0c16c","7ef6f5bd.3b5e0c","ac730498.f22c08","c91b1beb.1017c8","3d7bd8eb.a0e0b8","e3fa2881.918ec8","d83d9d82.65e01","a47fdb9.7d9a428","6fae5501.179cac"]]},{"id":"b5a13da4.6e3eb","type":"ui_text","z":"68deacdf.9a36f4","g":"195d3093.36368f","group":"c001d335.d33fe","order":4,"width":"3","height":"1","name":"","label":"LN:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":120,"wires":[]},{"id":"d8debc2.700294","type":"change","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_1_Voltage","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":120,"wires":[["7b039538.19006c"]]},{"id":"ed440caa.e3c9a","type":"switch","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"Filtro de mensajes no nulos","property":"payload.Phase_1_Voltage","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":120,"wires":[["d8debc2.700294"]]},{"id":"7b039538.19006c","type":"function","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":120,"wires":[["b5a13da4.6e3eb"]]},{"id":"f41accc4.c621f","type":"ui_text","z":"68deacdf.9a36f4","g":"195d3093.36368f","group":"c001d335.d33fe","order":4,"width":"3","height":"1","name":"","label":"LL:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":160,"wires":[]},{"id":"54e4b15.a95c55","type":"change","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Line_Voltage_1_2","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":160,"wires":[["6646dcc2.7e27f4"]]},{"id":"3faa3e6.58be8c2","type":"switch","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"Filtro de mensajes no nulos","property":"payload.Line_Voltage_1_2","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":160,"wires":[["54e4b15.a95c55"]]},{"id":"6646dcc2.7e27f4","type":"function","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":160,"wires":[["f41accc4.c621f"]]},{"id":"c3ab454c.6a6608","type":"ui_text","z":"68deacdf.9a36f4","g":"195d3093.36368f","group":"c001d335.d33fe","order":4,"width":"3","height":"1","name":"","label":"Current:","format":"{{msg.payload}} A","layout":"row-left","x":900,"y":200,"wires":[]},{"id":"ceb28ed6.efd8a","type":"change","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Total_Phase_A_Current","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":200,"wires":[["cf46bea2.57892"]]},{"id":"50e718bc.acc418","type":"switch","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"Filtro de mensajes no nulos","property":"payload.Total_Phase_A_Current","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":200,"wires":[["ceb28ed6.efd8a"]]},{"id":"cf46bea2.57892","type":"function","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":200,"wires":[["c3ab454c.6a6608"]]},{"id":"e0f1b2fe.bfc45","type":"ui_text","z":"68deacdf.9a36f4","g":"195d3093.36368f","group":"c001d335.d33fe","order":4,"width":"3","height":"1","name":"","label":"Power:","format":"{{msg.payload}} KW","layout":"row-left","x":900,"y":240,"wires":[]},{"id":"43c8bed9.bb82","type":"change","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_A_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":240,"wires":[["6702af9e.46335"]]},{"id":"ea1cde92.60e99","type":"switch","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"Filtro de mensajes no nulos","property":"payload.Phase_A_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":240,"wires":[["43c8bed9.bb82"]]},{"id":"6702af9e.46335","type":"function","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":240,"wires":[["e0f1b2fe.bfc45"]]},{"id":"80169c1a.91406","type":"ui_text","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","group":"12d8ae87.47ccb1","order":4,"width":"3","height":"1","name":"","label":"LN:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":370,"wires":[]},{"id":"c117a84c.46b918","type":"change","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_2_Voltage","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":370,"wires":[["fa75954f.6f9b58"]]},{"id":"9cd71bbc.0f4798","type":"switch","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"Filtro de mensajes no nulos","property":"payload.Phase_2_Voltage","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":370,"wires":[["c117a84c.46b918"]]},{"id":"fa75954f.6f9b58","type":"function","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":370,"wires":[["80169c1a.91406"]]},{"id":"e05eed2.40a0a1","type":"ui_text","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","group":"12d8ae87.47ccb1","order":4,"width":"3","height":"1","name":"","label":"LL:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":410,"wires":[]},{"id":"e5ed4e23.54b1b","type":"change","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Line_Voltage_2_3","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":410,"wires":[["4f5a5d6c.c4a5b4"]]},{"id":"1cbd6fef.8eb83","type":"switch","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"Filtro de mensajes no nulos","property":"payload.Line_Voltage_2_3","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":410,"wires":[["e5ed4e23.54b1b"]]},{"id":"4f5a5d6c.c4a5b4","type":"function","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":410,"wires":[["e05eed2.40a0a1"]]},{"id":"77b72aa.31581d4","type":"ui_text","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","group":"12d8ae87.47ccb1","order":4,"width":"3","height":"1","name":"","label":"Current:","format":"{{msg.payload}} A","layout":"row-left","x":900,"y":450,"wires":[]},{"id":"e4d9b95a.0c8b58","type":"change","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Total_Phase_B_Current","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":450,"wires":[["7432babc.6c5c14"]]},{"id":"cd1b505d.a6b93","type":"switch","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"Filtro de mensajes no nulos","property":"payload.Total_Phase_B_Current","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":450,"wires":[["e4d9b95a.0c8b58"]]},{"id":"7432babc.6c5c14","type":"function","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":450,"wires":[["77b72aa.31581d4"]]},{"id":"8abcfca1.5ae87","type":"ui_text","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","group":"12d8ae87.47ccb1","order":4,"width":"3","height":"1","name":"","label":"Power:","format":"{{msg.payload}} KW","layout":"row-left","x":900,"y":490,"wires":[]},{"id":"1ff91965.c1cd07","type":"change","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_B_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":490,"wires":[["7781bc54.e1daf4"]]},{"id":"425425ae.e0c16c","type":"switch","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"Filtro de mensajes no nulos","property":"payload.Phase_B_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":490,"wires":[["1ff91965.c1cd07"]]},{"id":"7781bc54.e1daf4","type":"function","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":490,"wires":[["8abcfca1.5ae87"]]},{"id":"968d5347.1b134","type":"comment","z":"68deacdf.9a36f4","g":"195d3093.36368f","name":"Fase A","info":"","x":310,"y":80,"wires":[]},{"id":"24dd678c.7f1308","type":"comment","z":"68deacdf.9a36f4","g":"991382e7.7f2e6","name":"Fase B","info":"","x":310,"y":330,"wires":[]},{"id":"863a9269.4fc47","type":"ui_text","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","group":"1e504599.f4523a","order":4,"width":"3","height":"1","name":"","label":"LN:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":620,"wires":[]},{"id":"26911d09.c6e252","type":"change","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_3_Voltage","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":620,"wires":[["d235af14.d2a16"]]},{"id":"7ef6f5bd.3b5e0c","type":"switch","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"Filtro de mensajes no nulos","property":"payload.Phase_3_Voltage","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":620,"wires":[["26911d09.c6e252"]]},{"id":"d235af14.d2a16","type":"function","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":620,"wires":[["863a9269.4fc47"]]},{"id":"783c757.7a1388c","type":"ui_text","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","group":"1e504599.f4523a","order":4,"width":"3","height":"1","name":"","label":"LL:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":660,"wires":[]},{"id":"e7bffc64.2c3df","type":"change","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Line_Voltage_3_1","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":660,"wires":[["1dd500ad.15e62f"]]},{"id":"ac730498.f22c08","type":"switch","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"Filtro de mensajes no nulos","property":"payload.Line_Voltage_3_1","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":660,"wires":[["e7bffc64.2c3df"]]},{"id":"1dd500ad.15e62f","type":"function","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":660,"wires":[["783c757.7a1388c"]]},{"id":"ddd9d6d9.213a98","type":"ui_text","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","group":"1e504599.f4523a","order":4,"width":"3","height":"1","name":"","label":"Current:","format":"{{msg.payload}} A","layout":"row-left","x":900,"y":700,"wires":[]},{"id":"e1ae4a43.6449b8","type":"change","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Total_Phase_C_Current","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":700,"wires":[["e38fb396.925cf"]]},{"id":"c91b1beb.1017c8","type":"switch","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"Filtro de mensajes no nulos","property":"payload.Total_Phase_C_Current","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":700,"wires":[["e1ae4a43.6449b8"]]},{"id":"e38fb396.925cf","type":"function","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":700,"wires":[["ddd9d6d9.213a98"]]},{"id":"c42fa7dd.b205f8","type":"ui_text","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","group":"1e504599.f4523a","order":4,"width":"3","height":"1","name":"","label":"Power:","format":"{{msg.payload}} KW","layout":"row-left","x":900,"y":740,"wires":[]},{"id":"8c3b7557.aaaa78","type":"change","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Phase_C_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":740,"wires":[["b5789608.bb4d98"]]},{"id":"3d7bd8eb.a0e0b8","type":"switch","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"Filtro de mensajes no nulos","property":"payload.Phase_C_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":740,"wires":[["8c3b7557.aaaa78"]]},{"id":"b5789608.bb4d98","type":"function","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":740,"wires":[["c42fa7dd.b205f8"]]},{"id":"e8ae66c1.7229a8","type":"comment","z":"68deacdf.9a36f4","g":"91feb623.ce89e8","name":"Fase C","info":"","x":310,"y":580,"wires":[]},{"id":"baecdbce.b91ec8","type":"ui_text","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","group":"95ebb133.30cd2","order":4,"width":"3","height":"1","name":"","label":"LN:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":870,"wires":[]},{"id":"19ac6698.c438b9","type":"change","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Average_Phase_Voltage","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":870,"wires":[["2debc1b0.4df98e"]]},{"id":"e3fa2881.918ec8","type":"switch","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"Filtro de mensajes no nulos","property":"payload.Average_Phase_Voltage","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":870,"wires":[["19ac6698.c438b9"]]},{"id":"2debc1b0.4df98e","type":"function","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":870,"wires":[["baecdbce.b91ec8"]]},{"id":"1e344ba1.2d56c4","type":"ui_text","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","group":"95ebb133.30cd2","order":4,"width":"3","height":"1","name":"","label":"LL:","format":"{{msg.payload}} V","layout":"row-left","x":890,"y":910,"wires":[]},{"id":"716d46a.8b783b8","type":"change","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Average_Line_Voltage","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":910,"wires":[["8fcc0ea2.3e85c"]]},{"id":"d83d9d82.65e01","type":"switch","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"Filtro de mensajes no nulos","property":"payload.Average_Line_Voltage","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":910,"wires":[["716d46a.8b783b8"]]},{"id":"8fcc0ea2.3e85c","type":"function","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":910,"wires":[["1e344ba1.2d56c4"]]},{"id":"c32e6129.fc854","type":"ui_text","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","group":"95ebb133.30cd2","order":4,"width":"3","height":"1","name":"","label":"Current:","format":"{{msg.payload}} A","layout":"row-left","x":900,"y":950,"wires":[]},{"id":"152a06b4.7b74e9","type":"change","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Average_Phase_Current","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":950,"wires":[["5b355a89.562704"]]},{"id":"a47fdb9.7d9a428","type":"switch","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"Filtro de mensajes no nulos","property":"payload.Average_Phase_Current","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":950,"wires":[["152a06b4.7b74e9"]]},{"id":"5b355a89.562704","type":"function","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":950,"wires":[["c32e6129.fc854"]]},{"id":"48b79c34.416fb4","type":"ui_text","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","group":"95ebb133.30cd2","order":4,"width":"3","height":"1","name":"","label":"Power:","format":"{{msg.payload}} KW","layout":"row-left","x":900,"y":990,"wires":[]},{"id":"a75a1b6a.0a4de8","type":"change","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Total_System_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":990,"wires":[["47bf531f.4f32cc"]]},{"id":"6fae5501.179cac","type":"switch","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"Filtro de mensajes no nulos","property":"payload.Total_System_Power","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":990,"wires":[["a75a1b6a.0a4de8"]]},{"id":"47bf531f.4f32cc","type":"function","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"toFixed(2)","func":"msg.payload = msg.payload.toFixed(2);\nreturn msg;","outputs":1,"noerr":0,"x":760,"y":990,"wires":[["48b79c34.416fb4"]]},{"id":"bd48652a.f5a5e8","type":"comment","z":"68deacdf.9a36f4","g":"a035a752.10f9d8","name":"Average","info":"","x":320,"y":830,"wires":[]},{"id":"1f8e91cb.d426be","type":"comment","z":"43b51d90.0b47f4","g":"b60351ac.2ba88","name":"Control de motor - Modo de Control","info":"","x":460,"y":1696,"wires":[]},{"id":"21e4fb07.22d804","type":"change","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"User Status","rules":[{"t":"set","p":"payload","pt":"msg","to":"UserStatus","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":300,"y":640,"wires":[["8e762cce.be81"]]},{"id":"5c27d2c5.3f268c","type":"ui_text_input","z":"43b51d90.0b47f4","d":true,"g":"c41a251e.427c98","name":"","label":"Start/Acc Boost","tooltip":"","group":"c9a29e84.68bd","order":3,"width":2,"height":1,"passthru":true,"mode":"number","delay":"100","topic":"Accel","x":670,"y":1344,"wires":[["9bfa59cc.d6a398"]]},{"id":"9bfa59cc.d6a398","type":"change","z":"43b51d90.0b47f4","d":true,"g":"c41a251e.427c98","name":"","rules":[{"t":"set","p":"Motor_Control.Volts_per_Hertz.Start_Acc_Boost","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1000,"y":1344,"wires":[[]]},{"id":"c1afba0d.22f5d8","type":"change","z":"43b51d90.0b47f4","d":true,"g":"c41a251e.427c98","name":"Start_Acc_Boost","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Volts_per_Hertz.Start_Acc_Boost","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":1344,"wires":[["5c27d2c5.3f268c"]]},{"id":"ced5d329.31661","type":"comment","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"Control de motor - Volts por Hertz","info":"","x":460,"y":1304,"wires":[]},{"id":"9b007129.593e9","type":"ui_text_input","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","label":"Break Voltage","tooltip":"","group":"c9a29e84.68bd","order":5,"width":2,"height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":670,"y":1424,"wires":[["a7e937e4.d19518"]]},{"id":"a7e937e4.d19518","type":"change","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","rules":[{"t":"set","p":"Motor_Control.Volts_per_Hertz.Break_Voltage","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":990,"y":1424,"wires":[[]]},{"id":"64263ab2.3a9e04","type":"change","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"Break_Voltage","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Volts_per_Hertz.Break_Voltage","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":1424,"wires":[["9b007129.593e9"]]},{"id":"d290dc22.ecd03","type":"ui_text_input","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","label":"Break Frequency","tooltip":"","group":"c9a29e84.68bd","order":7,"width":2,"height":1,"passthru":true,"mode":"number","delay":"0","topic":"Accel","x":680,"y":1514,"wires":[["454c0be8.b02024"]]},{"id":"454c0be8.b02024","type":"change","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","rules":[{"t":"set","p":"Motor_Control.Volts_per_Hertz.Break_Frequecy","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1000,"y":1514,"wires":[[]]},{"id":"370e9542.6d045a","type":"change","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"Break_Frequecy","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Volts_per_Hertz.Break_Frequecy","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":1514,"wires":[["d290dc22.ecd03"]]},{"id":"f33f9071.607dc","type":"debug","z":"e86f0ca4.7feb5","g":"7e616dc8.62be14","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":3700,"y":1060,"wires":[]},{"id":"5f5c0eb1.85586","type":"modbus-read","z":"6140c191.470ef","name":"","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"","dataType":"HoldingRegister","adr":"0","quantity":"16","rate":"300","rateUnit":"ms","delayOnStart":false,"startDelayTime":"","server":"78d62e2c.99b72","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"x":117,"y":70,"wires":[[],["8f39f447.253f48","415b57f5.4abad8"]]},{"id":"8f39f447.253f48","type":"change","z":"6140c191.470ef","name":"Status Word","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.data[0]","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":287,"y":70,"wires":[["43cf3328.11744c"]]},{"id":"43cf3328.11744c","type":"function","z":"6140c191.470ef","name":"INT to BIN Buffer","func":"var buffer = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];\nvar temp = msg.payload;\nvar i = buffer.length\n\nwhile(temp > 0){\n    if(temp % 2 === 0){\n        buffer[i] = 0;\n    }\n    else{\n        buffer[i] = 1;\n    }\n    \n    i--;\n    temp = Math.floor(temp / 2);\n}\n\nmsg.payload = buffer.reverse();\nreturn msg;","outputs":1,"noerr":0,"x":467,"y":70,"wires":[["43b62275.c76bcc"]]},{"id":"8375d89f.837d48","type":"function","z":"6140c191.470ef","name":"Status Function","func":"//Calling global variables\nvar Active  = global.get(\"Drive_Status.Active\") ||0;\nvar Alarm   = global.get(\"Drive_Status.Alarm\")  ||0;\nvar Fault   = global.get(\"Drive_Status.Faulted\")||0;\nvar Accel   = global.get(\"Drive_Status.Accel\")  ||0;\nvar Decel   = global.get(\"Drive_Status.Decel\")  ||0;\nvar Comm    = global.get(\"Estado_Comunicacion_Drive\");\n\nif(!Comm){\n    msg.payload = \"Falla de comunicación\";\n}\nelse if(Fault){\n    msg.payload = \"FALLA!\";\n}\nelse if (Alarm){\n    msg.payload = \"ALARMA!\";\n}\nelse if(Active){\n    if(Accel){\n        msg.payload = \"ACTIVO Acelerando\"; \n    }\n    else if(Decel){\n        msg.payload = \"ACTIVO Desacelerando\";\n    }\n    else{\n        msg.payload = \"ACTIVO\";\n    }\n}\nelse {\n    msg.payload = \"DETENIDO\";\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":817,"y":70,"wires":[[]]},{"id":"3868d9f2.6c3b86","type":"comment","z":"6140c191.470ef","name":"Lectura de los parámetros del Drive almacenados en el mapa Modbus del servidor local","info":"","x":327,"y":20,"wires":[]},{"id":"415b57f5.4abad8","type":"function","z":"6140c191.470ef","name":"Lectura Parámetros Drive","func":"msg.payload = {\n    \"Output_Frequency\"  :msg.payload.data[1]/100,\n    \"Speed_Reference\"   :msg.payload.data[2]/100,\n    \"Motor_Speed\"       :msg.payload.data[3]/100,\n    \"Output_Current\"    :msg.payload.data[4]/100,\n    \"Output_Voltage\"    :msg.payload.data[5]/100,\n    \"Output_Power\"      :msg.payload.data[6]/1000,\n    \"Power_Factor\"      :msg.payload.data[7]/100,\n    \"Bus_DC_Volts\"      :msg.payload.data[8]/10,\n    \"Elapsed_Runtime\"   :msg.payload.data[9]/1000,\n    \"Motor_KWh\"         :msg.payload.data[10],\n    \"Digital_Inputs\"    :msg.payload.data[11],\n    \"Drive_Status_2\"    :msg.payload.data[12],\n    \"IGBTS_Temperature\" :msg.payload.data[13],\n    \"Drive_Temperature\" :msg.payload.data[14],\n    \"Last_Fault_Code\"   :msg.payload.data[15]\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":327,"y":110,"wires":[[]]},{"id":"43b62275.c76bcc","type":"function","z":"6140c191.470ef","name":"Drive_Status","func":"msg.payload={\n    \"Run_Ready\"         :msg.payload[0],\n    \"Active\"            :msg.payload[1],\n    \"Command_dir\"       :msg.payload[2],\n    \"Actual_dir\"        :msg.payload[3],\n    \"Accel\"             :msg.payload[4],\n    \"Decel\"             :msg.payload[5],\n    \"Alarm\"             :msg.payload[6],\n    \"Fault\"             :msg.payload[7]\n}\nglobal.set(\"Drive_Status\",msg.payload)\nreturn msg;","outputs":1,"noerr":0,"x":647,"y":70,"wires":[["8375d89f.837d48"]]},{"id":"8266a56b.0a72b8","type":"change","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"Output_Frequency","rules":[{"t":"set","p":"payload","pt":"msg","to":"Drive_Data.Output_Frequency","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1380,"y":100,"wires":[["84701751.827698"]]},{"id":"6d168e3b.93824","type":"change","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"Speed_Reference","rules":[{"t":"set","p":"payload","pt":"msg","to":"Drive_Data.Speed_Reference","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1380,"y":140,"wires":[["da5abb02.7375e8"]]},{"id":"44cc5158.334ef","type":"change","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"Motor_Speed","rules":[{"t":"set","p":"payload","pt":"msg","to":"Drive_Data.Motor_Speed","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":180,"wires":[["c3be533b.65e24"]]},{"id":"1619e480.7045ec","type":"change","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"Output_Current","rules":[{"t":"set","p":"payload","pt":"msg","to":"Drive_Data.Output_Current","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":220,"wires":[["27355038.852fa"]]},{"id":"e52ed370.116f8","type":"change","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"Output_Voltage","rules":[{"t":"set","p":"payload","pt":"msg","to":"Drive_Data.Output_Voltage","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":260,"wires":[["fca65212.ba6ab"]]},{"id":"acf7d8bf.d43438","type":"change","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"Output_Power","rules":[{"t":"set","p":"payload","pt":"msg","to":"Drive_Data.Output_Power","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":300,"wires":[["e0a7f797.b92ac8"]]},{"id":"20d8c8d2.e2f6b8","type":"change","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"Power_Factor","rules":[{"t":"set","p":"payload","pt":"msg","to":"Drive_Data.Power_Factor","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":340,"wires":[["f3ff1be0.0961a8"]]},{"id":"9f9c2227.c74c8","type":"change","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"Bus_DC_Volts","rules":[{"t":"set","p":"payload","pt":"msg","to":"Drive_Data.Bus_DC_Volts","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":380,"wires":[["df0c6998.ca0c18"]]},{"id":"f61ffe92.c077c","type":"change","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"Elapsed_Runtime","rules":[{"t":"set","p":"payload","pt":"msg","to":"Drive_Data.Elapsed_Runtime","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1380,"y":420,"wires":[[]]},{"id":"4b867a44.bf9d94","type":"change","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"Motor_KWh","rules":[{"t":"set","p":"payload","pt":"msg","to":"Drive_Data.Motor_KWh","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":460,"wires":[[]]},{"id":"fc478e83.c0618","type":"change","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"Digital_Inputs","rules":[{"t":"set","p":"payload","pt":"msg","to":"Drive_Data.Digital_Inputs","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":500,"wires":[[]]},{"id":"9eac5e53.3d363","type":"change","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"Drive_Status_2","rules":[{"t":"set","p":"payload","pt":"msg","to":"Drive_Data.Drive_Status_2","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":540,"wires":[[]]},{"id":"c1186f48.26051","type":"change","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"Drive_Temperature","rules":[{"t":"set","p":"payload","pt":"msg","to":"Drive_Data.Drive_Temperature","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1380,"y":580,"wires":[["36d73f7a.42644"]]},{"id":"fdfb1344.a0206","type":"change","z":"68deacdf.9a36f4","d":true,"g":"6889f2bb.892f0c","name":"Last_Fault_Code","rules":[{"t":"set","p":"payload","pt":"msg","to":"Drive_Data.Last_Fault_Code","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1380,"y":620,"wires":[[]]},{"id":"27355038.852fa","type":"ui_text","z":"68deacdf.9a36f4","g":"6889f2bb.892f0c","group":"6fb426b2.734468","order":1,"width":"3","height":"1","name":"","label":"Current:","format":"{{msg.payload}} A","layout":"row-left","x":1580,"y":220,"wires":[]},{"id":"fca65212.ba6ab","type":"ui_text","z":"68deacdf.9a36f4","g":"6889f2bb.892f0c","group":"21c40e15.4edac2","order":1,"width":"3","height":"1","name":"","label":"Voltage:","format":"{{msg.payload}} V","layout":"row-left","x":1580,"y":260,"wires":[]},{"id":"e0a7f797.b92ac8","type":"ui_text","z":"68deacdf.9a36f4","g":"6889f2bb.892f0c","group":"baeb19e9.7b41b8","order":1,"width":"3","height":"1","name":"","label":"Power:","format":"{{msg.payload}} W","layout":"row-left","x":1580,"y":300,"wires":[]},{"id":"f3ff1be0.0961a8","type":"ui_text","z":"68deacdf.9a36f4","g":"6889f2bb.892f0c","group":"baeb19e9.7b41b8","order":2,"width":"3","height":"1","name":"","label":"Power Factor:","format":"{{msg.payload}}","layout":"row-left","x":1600,"y":340,"wires":[]},{"id":"df0c6998.ca0c18","type":"ui_text","z":"68deacdf.9a36f4","g":"6889f2bb.892f0c","group":"21c40e15.4edac2","order":2,"width":"3","height":"1","name":"","label":"Bus DC:","format":"{{msg.payload}} V","layout":"row-left","x":1580,"y":380,"wires":[]},{"id":"84701751.827698","type":"ui_text","z":"68deacdf.9a36f4","g":"6889f2bb.892f0c","group":"16814f42.3918e1","order":3,"width":"3","height":"1","name":"","label":"Freq:","format":"{{msg.payload}} Hz","layout":"row-left","x":1570,"y":100,"wires":[]},{"id":"da5abb02.7375e8","type":"ui_text","z":"68deacdf.9a36f4","g":"6889f2bb.892f0c","group":"16814f42.3918e1","order":2,"width":"3","height":"1","name":"","label":"Reference:","format":"{{msg.payload}} Hz","layout":"row-left","x":1590,"y":140,"wires":[]},{"id":"c3be533b.65e24","type":"ui_text","z":"68deacdf.9a36f4","g":"6889f2bb.892f0c","group":"16814f42.3918e1","order":1,"width":"3","height":"1","name":"","label":"Speed:","format":"{{msg.payload}} Hz","layout":"row-left","x":1580,"y":180,"wires":[]},{"id":"2728a87e.717058","type":"ui_button","z":"43b51d90.0b47f4","g":"7b926503.10d39c","name":"","group":"b8183a56.ba29a8","order":3,"width":0,"height":0,"passthru":false,"label":"Confirm","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1140,"y":1746,"wires":[["4881ca.bbc90e38","996a2f7c.7ac0c"]]},{"id":"4881ca.bbc90e38","type":"change","z":"43b51d90.0b47f4","g":"7b926503.10d39c","name":"Send MaxVolt","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.CtrlMode.MaxVolt","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1320,"y":1746,"wires":[["e50a7af8.6c2778"]]},{"id":"996a2f7c.7ac0c","type":"change","z":"43b51d90.0b47f4","g":"7b926503.10d39c","name":"Send MaxFreq","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.CtrlMode.MaxFreq","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1320,"y":1786,"wires":[["72428a1c.d38094"]]},{"id":"e50a7af8.6c2778","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"7b926503.10d39c","name":"MaxVolt","env":[{"name":"Parameter","value":"535","type":"num"}],"x":1480,"y":1746,"wires":[[]]},{"id":"72428a1c.d38094","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"7b926503.10d39c","name":"MaxFreq","env":[{"name":"Parameter","value":"535","type":"num"}],"x":1480,"y":1786,"wires":[[]]},{"id":"b60d4442.d5f0e8","type":"comment","z":"43b51d90.0b47f4","g":"7b926503.10d39c","name":"Control de motor","info":"","x":1160,"y":1696,"wires":[]},{"id":"7ed08f75.bf75b","type":"ui_button","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"","group":"c9a29e84.68bd","order":10,"width":4,"height":1,"passthru":false,"label":"Confirmar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1330,"y":1344,"wires":[["59d9f322.aedecc","1d4bc15f.069e1f","e8c7703c.35e3c"]]},{"id":"59d9f322.aedecc","type":"change","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Send Start_Acc_Boost","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Volts_per_Hertz.Start_Acc_Boost","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1640,"y":1344,"wires":[["4105a369.d1cc3c"]]},{"id":"eb839f99.2a5d1","type":"comment","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Volts por Hertz","info":"","x":1350,"y":1304,"wires":[]},{"id":"1d4bc15f.069e1f","type":"change","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Send Break_Voltage","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Volts_per_Hertz.Break_Voltage","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1640,"y":1384,"wires":[["7b0567a6.14ba98"]]},{"id":"e8c7703c.35e3c","type":"change","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Send Break_Frequecy","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Volts_per_Hertz.Break_Frequecy","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1640,"y":1424,"wires":[["9429095c.bf7808"]]},{"id":"4105a369.d1cc3c","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Start_Acc_Boost","env":[{"name":"Parameter","value":"60","type":"num"}],"x":1920,"y":1344,"wires":[[]]},{"id":"7b0567a6.14ba98","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Break_Voltage","env":[{"name":"Parameter","value":"62","type":"num"}],"x":1930,"y":1384,"wires":[[]]},{"id":"9429095c.bf7808","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"1306de9a.9ba341","name":"Break_Frequecy","env":[{"name":"Parameter","value":"63","type":"num"}],"x":1930,"y":1424,"wires":[[]]},{"id":"c3259a58.4fe088","type":"ui_dropdown","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","label":"Power Units","tooltip":"","place":"","group":"c0d4b517.4b9968","order":17,"width":4,"height":1,"passthru":true,"multiple":false,"options":[{"label":"HP","value":0,"type":"num"},{"label":"kW","value":"1","type":"str"}],"payload":"","topic":"","x":621,"y":1122,"wires":[["3f0134d0.dc178c"]]},{"id":"3f0134d0.dc178c","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","rules":[{"t":"set","p":"Motor_Control.Nameplate.Power_Units","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":901,"y":1122,"wires":[[]]},{"id":"f7f5dc17.aa232","type":"change","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Power_Units","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Power_Units","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":391,"y":1122,"wires":[["c3259a58.4fe088"]]},{"id":"39af17e3.7d87a8","type":"change","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Power_Units","rules":[{"t":"set","p":"payload","pt":"msg","to":"Motor_Control.Nameplate.Power_Units","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1501,"y":882,"wires":[["ee2e2c40.fad2f"]]},{"id":"ee2e2c40.fad2f","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"e9d2f5f0.86a518","name":"Power_Units","env":[{"name":"Parameter","value":"29","type":"num"},{"name":"Datatype","value":"DINT","type":"str"}],"x":1841,"y":882,"wires":[[]]},{"id":"babc7e0a.35af5","type":"switch","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"Not null configuration","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"inet","vt":"str"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":490,"y":90,"wires":[["7342b43f.bedb2c"],["ef1ec9d.e6ba638"]]},{"id":"ef1ec9d.e6ba638","type":"change","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"null","rules":[{"t":"set","p":"payload","pt":"msg","to":"Not configured","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":690,"y":190,"wires":[["ccd73af1.690d48","4933a716.e0ed08"]]},{"id":"ccd73af1.690d48","type":"change","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"Ethernet","rules":[{"t":"set","p":"Not configured","pt":"msg","to":"payload.Ethernet","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":920,"y":170,"wires":[["a6590a31.100138"]]},{"id":"4933a716.e0ed08","type":"change","z":"e86f0ca4.7feb5","g":"6b3fc99d.7d45d8","name":"Netmask","rules":[{"t":"set","p":"none","pt":"msg","to":"payload.Netmask","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":920,"y":210,"wires":[["fb855c25.47e4a"]]},{"id":"10568812.f7a178","type":"ui_button","z":"ef673f81.6ec95","g":"25cd4464.cad59c","name":"","group":"2675f763.09aa58","order":2,"width":"6","height":"1","passthru":false,"label":"Disable","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":100,"y":420,"wires":[["13963619.b19a6a"]]},{"id":"8034138b.0dc72","type":"ui_button","z":"ef673f81.6ec95","g":"25cd4464.cad59c","name":"","group":"2675f763.09aa58","order":3,"width":"6","height":"1","passthru":false,"label":"Enable","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":90,"y":380,"wires":[["9fc0b21f.a5027"]]},{"id":"9fc0b21f.a5027","type":"change","z":"ef673f81.6ec95","g":"25cd4464.cad59c","name":"Enable Buzzer","rules":[{"t":"set","p":"payload","pt":"msg","to":"sudo systemctl enable touch-beep.service && sudo systemctl start touch-beep.service","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":260,"y":380,"wires":[["1a75f72d.2bf409"]]},{"id":"13963619.b19a6a","type":"change","z":"ef673f81.6ec95","g":"25cd4464.cad59c","name":"Disable Buzzer","rules":[{"t":"set","p":"payload","pt":"msg","to":"sudo systemctl stop touch-beep.service && sudo systemctl disable touch-beep.service","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":260,"y":420,"wires":[["1a75f72d.2bf409"]]},{"id":"1a75f72d.2bf409","type":"exec","z":"ef673f81.6ec95","g":"25cd4464.cad59c","command":"","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":430,"y":380,"wires":[[],[],[]]},{"id":"4f35268e.5e9168","type":"comment","z":"ef673f81.6ec95","g":"25cd4464.cad59c","name":"Piezo Buzzer Control","info":"","x":140,"y":340,"wires":[]},{"id":"dad30d1f.4d19","type":"ui_button","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"","group":"d8a1c8a1.3fd9d8","order":2,"width":"3","height":"1","passthru":false,"label":"Use DHCP","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":120,"y":640,"wires":[["4667d023.b612f"]]},{"id":"afcd8074.a7f4c","type":"ui_button","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"","group":"d8a1c8a1.3fd9d8","order":3,"width":"3","height":"1","passthru":false,"label":"Use static IP","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":120,"y":680,"wires":[["77ee5b63.0c04b4"]]},{"id":"f9b02319.63798","type":"ui_text_input","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"","label":"IP","tooltip":"","group":"d8a1c8a1.3fd9d8","order":4,"width":"6","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":140,"y":550,"wires":[["e6585c00.e504c"]]},{"id":"1f8da294.c0c84d","type":"ui_text_input","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"","label":"Netmask","tooltip":"","group":"d8a1c8a1.3fd9d8","order":5,"width":"6","height":"1","passthru":true,"mode":"text","delay":300,"topic":"","x":130,"y":590,"wires":[["20f79db3.234842"]]},{"id":"e6585c00.e504c","type":"change","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"","rules":[{"t":"set","p":"SWC_IP","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":550,"wires":[[]]},{"id":"20f79db3.234842","type":"change","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"","rules":[{"t":"set","p":"SWC_Netmask","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":370,"y":590,"wires":[[]]},{"id":"77ee5b63.0c04b4","type":"change","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"Static IP","rules":[{"t":"set","p":"payload","pt":"msg","to":"sudo ifconfig eth0 +++ netmask ***","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"+++","fromt":"str","to":"SWC_IP","tot":"flow"},{"t":"change","p":"payload","pt":"msg","from":"***","fromt":"str","to":"SWC_Netmask","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":280,"y":680,"wires":[["2aac0837.208b38"]]},{"id":"4667d023.b612f","type":"change","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"DHCP","rules":[{"t":"set","p":"payload","pt":"msg","to":"sudo ifconfig eth0 0.0.0.0 && sudo dhclient eth0","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":290,"y":640,"wires":[["2aac0837.208b38"]]},{"id":"2aac0837.208b38","type":"exec","z":"ef673f81.6ec95","g":"c0366b36.2372f8","command":"","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":430,"y":640,"wires":[[],[],[]]},{"id":"cf1d9747.ddd4d8","type":"comment","z":"ef673f81.6ec95","g":"c0366b36.2372f8","name":"SWC Network Configuration","info":"","x":160,"y":510,"wires":[]},{"id":"49fc1b59.51f164","type":"template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","name":"Navbar","field":"payload","fieldType":"msg","format":"html","syntax":"mustache","template":"<div class = \"container\">\n    <div class = \"row\"> \n        <!-- Image -->\n        <div class=\"col\">\n            \n            <!-- BCPGroup LOGO -->\n            <img src=\"http://localhost:1880/swcpro-images/hlogo.png\" width=\"45\" height=\"45\" class=\"d-inline-block align-center\" alt=\"\" loading=\"lazy\">\n        \n            <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                <!-- Main -->\n                <a href=\"http://localhost:1880/ui/#!/0\" type=\"button\" class=\"btn btn-link\">\n                    <!-- House icon -->\n                    <img src=\"http://localhost:1880/bootstrap-icons/icons/house.svg\" alt=\"\" width=\"30\" height=\"30\">\n                </a>\n                <!-- Menu -->\n                <a href=\"http://localhost:1880/ui/#!/1\" type=\"button\" class=\"btn btn-link\">\n                    <!-- List icon -->\n                    <img src=\"http://localhost:1880/bootstrap-icons/icons/list-ul.svg\" alt=\"\" width=\"30\" height=\"30\">\n                </a>\n            </div>\n        </div>    \n        <!-- Users -->\n        <div class=\"col\">\n            <div class=\"btn-group float-right\" role=\"group\" aria-label=\"Button group with nested dropdown\">\n                <!-- Events -->\n                <a href=\"http://localhost:1880/ui/#!/2\" type=\"button\" class=\"btn btn-link\">\n                    <!-- Calendar icon -->\n                    <img src=\"http://localhost:1880/bootstrap-icons/icons/calendar2-check.svg\" alt=\"\" width=\"30\" height=\"30\">\n                </a>\n                <!-- Users -->\n                <a href=\"http://localhost:1880/ui/#!/3\" type=\"button\" class=\"btn btn-link\">\n                    <!-- Person icon -->\n                    <img src=\"http://localhost:1880/bootstrap-icons/icons/file-person.svg\" alt=\"\" width=\"30\" height=\"30\">\n                </a>\n                <!-- Datalogger -->\n                <a href=\"http://localhost:1880/ui/#!/42\" type=\"button\" class=\"btn btn-link\">\n                    <!-- Person icon -->\n                    <img src=\"http://swcpro.local:1880/bootstrap-icons/icons/clipboard-data.svg\" alt=\"\" width=\"30\" height=\"30\">\n                </a>\n            </div>\n        </div>\n    </div>\n</div>\n","output":"str","x":170,"y":420,"wires":[["619de7f9.420de8"]]},{"id":"c74e5c83.97d99","type":"ui_template","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","group":"9e6ebcc8.9f87","name":"Menu","order":0,"width":"8","height":"7","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":650,"y":200,"wires":[[]]},{"id":"e3b242da.1cd29","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"13d04d5f.cae853","name":"Menu Navbar","order":1,"width":"9","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":380,"y":370,"wires":[[]]},{"id":"3bd2923f.2169ae","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"ccb4b03.df2d45","name":"Main Navbar","order":1,"width":9,"height":1,"format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":370,"y":330,"wires":[[]]},{"id":"ec6f0468.330258","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"b157381c.777888","name":"Events Navbar","order":0,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":380,"y":410,"wires":[[]]},{"id":"75851744.fc50c8","type":"trigger","z":"8528a254.70837","g":"11f55817.139c18","name":"","op1":"1","op2":"2","op1type":"str","op2type":"str","duration":"1","extend":false,"units":"s","reset":"","bytopic":"all","topic":"topic","outputs":1,"x":266,"y":120,"wires":[["54ec819a.c1bc9"]]},{"id":"a9225e61.e6e0e","type":"comment","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Menu","info":"","x":120,"y":80,"wires":[]},{"id":"bacdd0cd.1b215","type":"comment","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","name":"Navigation bar","info":"","x":150,"y":340,"wires":[]},{"id":"1a3e4532.22ef5b","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"55d542f4.50b54c","name":"Navbar Configuración-Estándar-Variador","order":1,"width":12,"height":1,"format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":460,"y":490,"wires":[[]]},{"id":"36d73f7a.42644","type":"ui_text","z":"68deacdf.9a36f4","g":"6889f2bb.892f0c","group":"8f162ab5.03e8a8","order":1,"width":"0","height":"0","name":"","label":"Drive Temperature:","format":"{{msg.payload}} ºC","layout":"row-left","x":1610,"y":580,"wires":[]},{"id":"6336cca0.5c0a84","type":"ui_template","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","group":"c171a5e9.57a728","name":"CILA Image","order":0,"width":"4","height":"7","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":630,"y":160,"wires":[[]]},{"id":"730afe4e.63438","type":"template","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"CILA","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n\n  </head>\n  <body>\n        <div class=\"container align-self-center\">\n            <div class=\"row\">\n                <div class=\"col\">\n                    <div id=\"carouselExampleSlidesOnly\" class=\"carousel slide\" data-ride=\"carousel\">\n                      <div class=\"carousel-inner\">\n                        <div class=\"carousel-item active\">\n                            <img src=\"http://localhost:1880/swcpro-images/CILA2S4G_ESP.jpeg\" class=\"d-block w-100\" alt=\"...\">\n                        </div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n</body>\n</html>","output":"str","x":490,"y":160,"wires":[["6336cca0.5c0a84"]]},{"id":"7201bf39.d9ff6","type":"change","z":"46543e54.1f89d","name":"Set exec msg","rules":[{"t":"set","p":"value","pt":"msg","to":"payload","tot":"msg"},{"t":"set","p":"payload","pt":"msg","to":"gpio mode +++ output && gpio write +++ ***","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"+++","fromt":"str","to":"Channel","tot":"env"},{"t":"change","p":"payload","pt":"msg","from":"***","fromt":"str","to":"value","tot":"msg"},{"t":"delete","p":"value","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":30,"wires":[["6f4f984d.133ac8"]]},{"id":"a561d7b5.e3c2e8","type":"function","z":"46543e54.1f89d","name":"Output Function","func":"if(msg.Channel>=17 && msg.Channel <= 27 && typeof msg.payload === \"boolean\"){\n    msg.payload = msg.payload === true ? 1:0;\n    return msg;\n}\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":310,"y":30,"wires":[["7201bf39.d9ff6"]]},{"id":"ec6f2e76.31eb9","type":"change","z":"46543e54.1f89d","name":"Set channel","rules":[{"t":"set","p":"Channel","pt":"msg","to":"Channel","tot":"env"}],"action":"","property":"","from":"","to":"","reg":false,"x":140,"y":30,"wires":[["a561d7b5.e3c2e8"]]},{"id":"6f4f984d.133ac8","type":"exec","z":"46543e54.1f89d","command":"","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":660,"y":30,"wires":[[],[],[]]},{"id":"d19e40a5.abcfe","type":"inject","z":"51296ca5.0c0cb4","name":"500 ms","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"Channel","payloadType":"env","x":110,"y":70,"wires":[["c9b9512f.10fa"]]},{"id":"4c8b7786.0a4da8","type":"template","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Boostrap","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <!--<link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">-->\n    \n  </head>\n  <body>\n    <div style=\"background-color:#ffffff;\">\n        {{{payload}}}\n    </div>\n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS \n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script> -->\n  </body>\n</html>","output":"str","x":520,"y":200,"wires":[["c74e5c83.97d99"]]},{"id":"6df5b697.72df38","type":"random","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"","low":"1","high":"200","inte":"true","property":"payload","x":3520,"y":50,"wires":[["a097facd.d32e48"]]},{"id":"11284c61.9c1354","type":"random","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"","low":"1","high":"200","inte":"true","property":"payload","x":3520,"y":90,"wires":[["b18e026.fe2e"]]},{"id":"bf515d87.59e0d","type":"random","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"","low":"1","high":"200","inte":"true","property":"payload","x":3520,"y":130,"wires":[["52556542.54c46c"]]},{"id":"f274d4b8.28afb8","type":"random","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"","low":"1000","high":"5000","inte":"true","property":"payload","x":3520,"y":170,"wires":[["947b1f9a.d8f17"]]},{"id":"4c8f5a04.095bc4","type":"function","z":"5ef5b1ce.d3899","g":"e0133d8.e6db5c","name":"DateTime","func":"// Date and Time Object\nvar DT      = new Date();\n\n// Date\nvar year    = DT.getFullYear();\nvar month   = DT.getMonth()+1;\nvar day     = DT.getDate();\n\n// Time\nvar hours   = DT.getHours();\nvar minutes = DT.getMinutes();  minutes = minutes <= 9 ? \"0\"+minutes : minutes;\nvar seconds = DT.getSeconds();  seconds = seconds <= 9 ? \"0\"+seconds : seconds;\n\n// Payload\nmsg.payload = day+\"/\"+month+\"/\"+year+\" \"+hours+\":\"+minutes+\":\"+seconds;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2010,"y":100,"wires":[["90937545.972c78","2409fb72.507894"]]},{"id":"abd0a82a.ab2348","type":"inject","z":"5ef5b1ce.d3899","g":"e0133d8.e6db5c","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":1860,"y":100,"wires":[["4c8f5a04.095bc4"]]},{"id":"3fab3ca.466a0c4","type":"ui_led","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","group":"536af8e6.0e6808","order":1,"width":"5","height":"1","label":"C2S: {{msg.payload}}","labelPlacement":"right","labelAlignment":"left","colorForValue":[{"color":"red","value":"FALLA!","valueType":"str"},{"color":"Orange","value":"ALARMA!","valueType":"str"},{"color":"green","value":"ACTIVO","valueType":"str"},{"color":"green","value":"ACTIVO Acelerando","valueType":"str"},{"color":"green","value":"ACTIVO Desacelerando","valueType":"str"},{"color":"gray","value":"DETENIDO","valueType":"str"},{"color":"black","value":"Falla de comunicación","valueType":"str"}],"allowColorForValueInMessage":false,"name":"Menú","x":4250,"y":510,"wires":[]},{"id":"7a336fa4.b80d3","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"8b397091.1e2a6","name":"Navbar Configuración-Estándar-Transformador","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":480,"y":530,"wires":[[]]},{"id":"335b3a95.f258c6","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"251ce553.192aaa","name":"Navbar Configuración-Estándar-Filtro_armónicos","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":490,"y":570,"wires":[[]]},{"id":"33924ef6.c0eca2","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"a302ba1a.abeec8","name":"Navbar Configuración-Estándar-Hardware_disponible","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":500,"y":610,"wires":[[]]},{"id":"452c5a8c.8530a4","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"611d0bce.a51234","name":"Navbar Configuración-Estándar-Unidades_ingeniería","order":1,"width":12,"height":1,"format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":500,"y":690,"wires":[[]]},{"id":"b5c23987.426b28","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"782e29e9.7b7e28","name":"Navbar Configuración-E_S-SWCPRO","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":450,"y":730,"wires":[[]]},{"id":"30237182.6ab22e","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"5ec797db.370fe8","name":"Navbar Configuración-E_S-Remotas","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":450,"y":770,"wires":[[]]},{"id":"adc3a650.9795a8","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"f70043a3.dcddb","name":"Navbar Configuración-Protecciones-Superficie","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":480,"y":850,"wires":[[]]},{"id":"73b9407c.4ce98","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"fa54261.0bbffd8","name":"Configuración-Protecciones-Fondo","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":440,"y":810,"wires":[[]]},{"id":"1e55d9a.1ad3926","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"64294d01.719264","name":"Navbar Configuración-Comunicaciones-SCADA","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":480,"y":890,"wires":[[]]},{"id":"d55ab14e.37d05","type":"inject","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"","props":[{"p":"payload"}],"repeat":"2","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":3150,"y":260,"wires":[["6df5b697.72df38","11284c61.9c1354","bf515d87.59e0d","f274d4b8.28afb8","1ebf6b2.52e8695","609f652a.1629bc","b73ecfac.dd9a5","8b8bceb8.c893b","5ffa1ec7.3e093"]]},{"id":"d192f60a.894e68","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"46115c7a.f67544","name":"Navbar Configuración-Comunicaciones-Sensor_de_fondo","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":510,"y":930,"wires":[[]]},{"id":"f6e8fbe4.4a94e8","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"eba1ec9d.afb9","name":"Navbar Configuración-Comunicaciones-PQA","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":470,"y":970,"wires":[[]]},{"id":"587cd4fe.b5184c","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"4ed084db.07bb8c","name":"Navbar Configuración-Comunicaciones-C2S","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":470,"y":1010,"wires":[[]]},{"id":"3fc54723.62b978","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"422cfba8.52cb44","name":"Navbar Configuración-Comunicaciones-SWC","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":480,"y":1050,"wires":[[]]},{"id":"da157b1a.e8eb88","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"95558f26.f7b06","name":"Navbar Configuración-Tipo_de_control-Control_de_velocidad","order":1,"width":12,"height":1,"format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":530,"y":1090,"wires":[[]]},{"id":"117295c5.1ff4ea","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"5e910f38.f94bf","name":"Navbar Configuración-Tipo_de_control-Control_PID","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":500,"y":1130,"wires":[[]]},{"id":"ad47f0cc.93af5","type":"csv","z":"8528a254.70837","g":"11f55817.139c18","name":"","sep":",","hdrin":"","hdrout":"none","multi":"one","ret":"\\n","temp":"no,fecha,hora,evento","skip":"0","strings":true,"include_empty_strings":"","include_null_values":"","x":736,"y":160,"wires":[["c02fb05c.baccf"]]},{"id":"2976c32b.5e795c","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"5f0a8098.4de05","name":"Navbar Configuración-AVAS-IWOC","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":440,"y":1170,"wires":[[]]},{"id":"13c95730.dc8459","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"b081becd.c126e","name":"Navbar Configuración-AVAS-Sensor_Less","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":460,"y":1210,"wires":[[]]},{"id":"4b3ceae3.bb8a84","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"2c0e3387.dee62c","name":"Navbar Configuración-AVAS-Power_Sag","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":460,"y":1250,"wires":[[]]},{"id":"9dbe0a3.53061f8","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"c522aab3.95b0b8","name":"Navbar Configuración-AVAS-IRL","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":430,"y":1290,"wires":[[]]},{"id":"9a43c9b1.af8138","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"26ae8f9f.de158","name":"Navbar Configuración-AVAS-GasLock","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":450,"y":1330,"wires":[[]]},{"id":"814db426.2a5bf8","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"ccbff65e.9a8578","name":"Navbar Tendencias-Superficie-Datos_Operativos","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":490,"y":1370,"wires":[[]]},{"id":"1f443c09.755434","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"f33b4c32.61464","name":"Navbar Tendencias-Superficie-Datos_eléctricos_de_entrada","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":520,"y":1410,"wires":[[]]},{"id":"7bb293cb.faf72c","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"12242af4.a2b035","name":"Navbar Tendencias-Fondo-Sensor_de_fondo","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":470,"y":1450,"wires":[[]]},{"id":"2c5a7e92.2d6be2","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"5a9ecaca.da3fe4","name":"Navbar Tendencias-Fondo-Sensor_Less","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":460,"y":1490,"wires":[[]]},{"id":"ae3517f4.0d6d88","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"56cd6bff.7aa614","name":"Navbar Tendencias-Multivariable","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":440,"y":1530,"wires":[[]]},{"id":"2db6a760.856798","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"6a601ecc.fd136","name":"Navbar Monitoreo-Datos_Operativos-Superficie_y_fondo","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":510,"y":1570,"wires":[[]]},{"id":"ad56625d.fdd01","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"bf5f3708.2559b8","name":"Navbar Monitoreo-ES-SWC_Pro","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":430,"y":1610,"wires":[[]]},{"id":"2563434b.e228dc","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"c37b1f84.33bd1","name":"Navbar Monitoreo-ES-Remotas","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":430,"y":1650,"wires":[[]]},{"id":"2665915.a411c6e","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"7a32c3e9.c1159c","name":"Navbar Monitoreo-AVAS-IWOC","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":430,"y":1690,"wires":[[]]},{"id":"eef48f93.f418","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"eb53d4a4.495508","name":"Navbar Monitoreo-AVAS-Sensor_Less","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":450,"y":1730,"wires":[[]]},{"id":"f5a2b632.6a8ac8","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"f57f64c8.46f6a8","name":"Navbar Monitoreo-AVAS-Power_Sag","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":450,"y":1770,"wires":[[]]},{"id":"d971ff84.76256","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"adc1ed68.2ce25","name":"Navbar Monitoreo-AVAS-IRL","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":420,"y":1810,"wires":[[]]},{"id":"a1c4871a.8ded58","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"8c64c7aa.286018","name":"Navbar Monitoreo-AVAS-GasLock","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":440,"y":1850,"wires":[[]]},{"id":"4906fc64.1e6a14","type":"ui_level","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","group":"bbd73f04.32559","order":2,"width":"4","height":"2","name":"Temp. CPU","label":"Temp. CPU","colorHi":"#e60000","colorWarn":"#ff9900","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"60","segHigh":"70","unit":"ºC","layout":"sv","channelA":"","channelB":"","decimals":"1","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"","fontSmall":"0.95","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":500,"y":60,"wires":[]},{"id":"d43fb27a.273b3","type":"ui_level","z":"ef673f81.6ec95","group":"bbd73f04.32559","order":3,"width":"4","height":"2","name":"Freq. CPU","label":"Freq. CPU","colorHi":"#e60000","colorWarn":"#00b33c","colorNormal":"#ff9900","colorOff":"#595959","min":0,"max":"1500","segWarn":"500","segHigh":"1200","unit":"MHz","layout":"sv","channelA":"","channelB":"","decimals":"0","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"","fontSmall":"0.95","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":500,"y":140,"wires":[]},{"id":"7f485fc5.63768","type":"comment","z":"5ef5b1ce.d3899","g":"e0133d8.e6db5c","name":"","info":"","x":1830,"y":60,"wires":[]},{"id":"7b4bd7a0.fd9398","type":"ui_table","z":"8528a254.70837","g":"11f55817.139c18","group":"96dbaa88.715ef8","name":"Eventos","order":1,"width":"12","height":"6","columns":[{"field":"no","title":"No","width":"10%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"fecha","title":"Fecha","width":"15%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"hora","title":"Hora","width":"15%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"evento","title":"Evento","width":"55%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}}],"outputs":1,"cts":true,"x":626,"y":120,"wires":[[]]},{"id":"5538dea3.2170d","type":"ui_toast","z":"8528a254.70837","g":"31baddff.ea0922","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"SI","cancel":"NO","raw":false,"topic":"","name":"Descargar Eventos","x":830,"y":350,"wires":[["ea2cdff7.1ca41"]]},{"id":"ba93352a.05c2c8","type":"ui_text","z":"8528a254.70837","g":"31baddff.ea0922","group":"91f407cc.9e95a8","order":2,"width":"3","height":"1","name":"","label":"USB","format":"{{msg.payload}}","layout":"col-center","x":530,"y":310,"wires":[]},{"id":"71a2d93c.a0e7b8","type":"comment","z":"8528a254.70837","g":"31baddff.ea0922","name":"Memorias USB","info":"","x":120,"y":280,"wires":[]},{"id":"9a7b58a2.fb2708","type":"watch","z":"8528a254.70837","g":"31baddff.ea0922","name":"","files":"/media/pi","recursive":false,"x":100,"y":320,"wires":[["e8691e07.796b8","c3828a55.9caf08","f4d7e7b4.768fa8"]]},{"id":"e8691e07.796b8","type":"exec","z":"8528a254.70837","g":"31baddff.ea0922","command":"df /dev/sda1","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":320,"y":370,"wires":[[],[],[]]},{"id":"33074282.f772de","type":"ui_button","z":"8528a254.70837","g":"31baddff.ea0922","name":"","group":"91f407cc.9e95a8","order":3,"width":"3","height":"1","passthru":false,"label":"Expulsar USB","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":130,"y":470,"wires":[["1de5018d.f87c5e"]]},{"id":"1de5018d.f87c5e","type":"exec","z":"8528a254.70837","g":"31baddff.ea0922","command":"sudo eject /dev/sda1/","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":350,"y":470,"wires":[[],[],[]]},{"id":"f4d7e7b4.768fa8","type":"change","z":"8528a254.70837","g":"31baddff.ea0922","name":"","rules":[{"t":"set","p":"USB_Drive","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":350,"y":420,"wires":[[]]},{"id":"c3828a55.9caf08","type":"exec","z":"8528a254.70837","g":"31baddff.ea0922","command":"cd /media/pi && ls","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":340,"y":320,"wires":[["ba93352a.05c2c8","510145ab.b5bd4c","6dac98f7.ec5cb8"],[],[]]},{"id":"4700d2e1.64485c","type":"change","z":"8528a254.70837","g":"31baddff.ea0922","name":"Eventos","rules":[{"t":"set","p":"payload","pt":"msg","to":"¿Desea descargar los eventos?","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Dispositivo USB encontrado","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":660,"y":350,"wires":[["5538dea3.2170d"]]},{"id":"510145ab.b5bd4c","type":"switch","z":"8528a254.70837","g":"31baddff.ea0922","name":"","property":"type","propertyType":"msg","rules":[{"t":"eq","v":"directory","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":530,"y":350,"wires":[["4700d2e1.64485c"]]},{"id":"6dac98f7.ec5cb8","type":"switch","z":"8528a254.70837","g":"31baddff.ea0922","name":"","property":"type","propertyType":"msg","rules":[{"t":"eq","v":"none","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":530,"y":390,"wires":[["f2cccf9c.cf4c4"]]},{"id":"f2cccf9c.cf4c4","type":"change","z":"8528a254.70837","g":"31baddff.ea0922","name":"Eventos","rules":[{"t":"set","p":"payload","pt":"msg","to":"Dispositivo USB Expulsado","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Dispositivo USB","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":660,"y":390,"wires":[["e36370f8.236cc"]]},{"id":"e36370f8.236cc","type":"ui_toast","z":"8528a254.70837","g":"31baddff.ea0922","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"OK","cancel":"","raw":false,"topic":"","name":"USB Expulsada","x":820,"y":390,"wires":[[]]},{"id":"ea2cdff7.1ca41","type":"switch","z":"8528a254.70837","g":"31baddff.ea0922","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"SI","vt":"str"},{"t":"eq","v":"NO","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":990,"y":350,"wires":[["453f1499.9c3efc","704ad7b8.7027e8"],["704ad7b8.7027e8"]]},{"id":"453f1499.9c3efc","type":"link out","z":"8528a254.70837","g":"31baddff.ea0922","name":"Descargar Eventos Out","links":["cad3d4cb.b5bc98"],"x":1105,"y":350,"wires":[]},{"id":"cad3d4cb.b5bc98","type":"link in","z":"8528a254.70837","g":"11f55817.139c18","name":"Descargar Eventos In","links":["453f1499.9c3efc"],"x":471,"y":160,"wires":[["d50d9b6b.bbc7f8"]]},{"id":"61696fdd.aa672","type":"ui_toast","z":"8528a254.70837","g":"31baddff.ea0922","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"SI","cancel":"NO","raw":false,"topic":"","name":"Descargar Alarmas","x":1320,"y":390,"wires":[["6a8c02f7.f4d81c"]]},{"id":"704ad7b8.7027e8","type":"change","z":"8528a254.70837","g":"31baddff.ea0922","name":"Eventos","rules":[{"t":"set","p":"payload","pt":"msg","to":"¿Desea descargar el archivo de alarmas?","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Dispositivo USB encontrado","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1150,"y":390,"wires":[["61696fdd.aa672"]]},{"id":"6a8c02f7.f4d81c","type":"switch","z":"8528a254.70837","g":"31baddff.ea0922","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"SI","vt":"str"},{"t":"eq","v":"NO","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1480,"y":390,"wires":[[],[]]},{"id":"bd165d4f.e3f48","type":"comment","z":"8528a254.70837","g":"cf57802e.7d258","name":"Alarmas","info":"","x":1026,"y":80,"wires":[]},{"id":"c95dde3d.c676e","type":"json","z":"8528a254.70837","g":"cf57802e.7d258","name":"","property":"payload","action":"","pretty":false,"x":1516,"y":80,"wires":[["12f5302f.69f92"]]},{"id":"191d34db.93fe3b","type":"change","z":"8528a254.70837","g":"cf57802e.7d258","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Alarms","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1326,"y":120,"wires":[["c95dde3d.c676e","12f5302f.69f92"]]},{"id":"35f773cc.39ea9c","type":"change","z":"8528a254.70837","g":"cf57802e.7d258","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Alarms","tot":"flow"},{"t":"set","p":"filename","pt":"msg","to":"+++/Alarmas/Alarmas.csv","tot":"str"},{"t":"change","p":"filename","pt":"msg","from":"+++","fromt":"str","to":"USB_Drive","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1486,"y":160,"wires":[["dcdb5992.425238"]]},{"id":"ccc4d9c0.904c78","type":"file","z":"8528a254.70837","g":"cf57802e.7d258","name":"","filename":"","appendNewline":true,"createDir":true,"overwriteFile":"true","encoding":"none","x":1756,"y":160,"wires":[[]]},{"id":"d9101c40.6e85a","type":"trigger","z":"8528a254.70837","g":"cf57802e.7d258","name":"","op1":"1","op2":"2","op1type":"str","op2type":"str","duration":"1","extend":false,"units":"s","reset":"","bytopic":"all","topic":"topic","outputs":1,"x":1166,"y":120,"wires":[["191d34db.93fe3b"]]},{"id":"dcdb5992.425238","type":"csv","z":"8528a254.70837","g":"cf57802e.7d258","name":"","sep":",","hdrin":"","hdrout":"none","multi":"one","ret":"\\n","temp":"no,fecha,hora,alarma","skip":"0","strings":true,"include_empty_strings":"","include_null_values":"","x":1636,"y":160,"wires":[["ccc4d9c0.904c78"]]},{"id":"12f5302f.69f92","type":"ui_table","z":"8528a254.70837","g":"cf57802e.7d258","group":"42e65bd9.26fdf4","name":"Alarmas","order":1,"width":"12","height":"6","columns":[{"field":"no","title":"No","width":"10%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"fecha","title":"Fecha","width":"15%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"hora","title":"Hora","width":"15%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}},{"field":"alarma","title":"Alarma","width":"58%","align":"left","formatter":"plaintext","formatterParams":{"target":"_blank"}}],"outputs":1,"cts":true,"x":1526,"y":120,"wires":[[]]},{"id":"9055a2bd.67028","type":"function","z":"8528a254.70837","g":"cf57802e.7d258","name":"Events","func":"var Alarm   = flow.get('Alarms')||[];\nvar id      = flow.get('id')||0;\nvar date    = new Date();\n\n// Date\nvar year    = date.getFullYear();\nvar month   = date.getMonth()+1;\nvar day     = date.getDate();\n\n//Time\nvar hours   = date.getHours();\nvar minutes = date.getMinutes();\nvar seconds = date.getSeconds();\n\nmsg.payload={\n            'no':id,\n            'fecha':month+'/'+day+'/'+year,\n            'hora':hours+':'+minutes+':'+seconds,\n            'alarma':msg.payload\n}\n\nAlarm.unshift(msg.payload);\nflow.set('Alarms',Alarm);\nid++\nflow.set('id',id);\nmsg.payload = Alarm;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1356,"y":80,"wires":[["c95dde3d.c676e"]]},{"id":"33f2aa3c.6c08f6","type":"link in","z":"8528a254.70837","g":"cf57802e.7d258","name":"Alarmas","links":["4e8f42ac.3431ac"],"x":1271,"y":80,"wires":[["9055a2bd.67028"]]},{"id":"ebf4df19.2cfb2","type":"link in","z":"8528a254.70837","g":"11f55817.139c18","name":"Actualizar Eventos In","links":["f7333c0a.a70d3"],"x":165,"y":160,"wires":[["75851744.fc50c8"]]},{"id":"22d301f6.875ece","type":"ui_switch","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"HH EN","label":"HH","tooltip":"","group":"32eaa726.76f2f8","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2119,"y":1480,"wires":[["fe3c6368.9f449"]]},{"id":"6025a752.a41498","type":"ui_switch","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"H EN","label":"H","tooltip":"","group":"32eaa726.76f2f8","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2120,"y":1620,"wires":[["8ffa507a.b48d9"]]},{"id":"acb547dc.dacae8","type":"ui_switch","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"L EN","label":"L","tooltip":"","group":"32eaa726.76f2f8","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2120,"y":1760,"wires":[["1fd0f6dd.0e2919"]]},{"id":"e4c38850.c159e8","type":"ui_switch","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"LL EN","label":"LL","tooltip":"","group":"32eaa726.76f2f8","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":2120,"y":1900,"wires":[["45c7a3ac.94d28c"]]},{"id":"944db7b8.e26aa8","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"HH Setpoint","label":"Límite [G]","tooltip":"","group":"32eaa726.76f2f8","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"HH Setpoint","x":2100,"y":1390,"wires":[["8c9d72ab.fe0b3"]]},{"id":"d3c40146.c0499","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"H Setpoint","label":"Límite [G]","tooltip":"","group":"32eaa726.76f2f8","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":2100,"y":1530,"wires":[["806c85f.8dd7f78"]]},{"id":"72890c6a.8ea9b4","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"L Setpoint","label":"Límite [G]","tooltip":"","group":"32eaa726.76f2f8","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"L Setpoint","x":2100,"y":1670,"wires":[["9bf3743f.352588"]]},{"id":"abd14615.8c65b8","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"LL Setpoint","label":"Límite [G]","tooltip":"","group":"32eaa726.76f2f8","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"LL Setpoint","x":2100,"y":1810,"wires":[["76f117ca.92d3c8"]]},{"id":"8c9d72ab.fe0b3","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2390,"y":1390,"wires":[["64688fe5.072df"]]},{"id":"806c85f.8dd7f78","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2400,"y":1530,"wires":[["64688fe5.072df"]]},{"id":"9bf3743f.352588","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2400,"y":1670,"wires":[["64688fe5.072df"]]},{"id":"76f117ca.92d3c8","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2400,"y":1810,"wires":[["64688fe5.072df"]]},{"id":"516c4379.8b3fdc","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2410,"y":1430,"wires":[["64688fe5.072df"]]},{"id":"92c3216b.2a08e","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2420,"y":1570,"wires":[["64688fe5.072df"]]},{"id":"696af8b.6cc2208","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2420,"y":1710,"wires":[["64688fe5.072df"]]},{"id":"4ce429b2.16f6c8","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2410,"y":1850,"wires":[["64688fe5.072df"]]},{"id":"fe3c6368.9f449","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2410,"y":1480,"wires":[["64688fe5.072df"]]},{"id":"8ffa507a.b48d9","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2410,"y":1620,"wires":[["64688fe5.072df"]]},{"id":"1fd0f6dd.0e2919","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2420,"y":1760,"wires":[["64688fe5.072df"]]},{"id":"45c7a3ac.94d28c","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"","rules":[{"t":"set","p":"Protections.Vibration.General.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2410,"y":1900,"wires":[["64688fe5.072df"]]},{"id":"f9ffe747.d73e68","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"Vibration.General.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1880,"y":1390,"wires":[["944db7b8.e26aa8"]]},{"id":"7ab3478d.9c0738","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"Vibration.General.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1870,"y":1530,"wires":[["d3c40146.c0499"]]},{"id":"352fd76d.913c58","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"Vibration.General.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1870,"y":1670,"wires":[["72890c6a.8ea9b4"]]},{"id":"5effee23.67b21","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"Vibration.General.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1870,"y":1810,"wires":[["abd14615.8c65b8"]]},{"id":"6962b205.fc1aac","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"Vibration.General.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":1430,"wires":[["de936866.24ffb8"]]},{"id":"5f190ad1.a98134","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"Vibration.General.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":1570,"wires":[["c3763f57.e2b75"]]},{"id":"605b4eac.e17f5","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"Vibration.General.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1850,"y":1710,"wires":[["c7c53db4.79034"]]},{"id":"81c4a37d.8c2cd","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"Vibration.General.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":1850,"wires":[["ada97752.874638"]]},{"id":"62e71307.8e355c","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"Vibration.General.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":1480,"wires":[["22d301f6.875ece"]]},{"id":"3e1aa9bb.34b5e6","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"Vibration.General.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":1620,"wires":[["6025a752.a41498"]]},{"id":"2037d4fa.74488c","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"Vibration.General.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":1760,"wires":[["acb547dc.dacae8"]]},{"id":"eb0a77ea.6300e8","type":"change","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"Vibration.General.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Vibration.General.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1860,"y":1900,"wires":[["e4c38850.c159e8"]]},{"id":"d0aea037.561e6","type":"ui_switch","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"HH EN","label":"HH","tooltip":"","group":"e5d6b12b.cf15","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3210,"y":1480,"wires":[["2502b655.62606a"]]},{"id":"da6b73c3.c5088","type":"ui_switch","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"H EN","label":"H","tooltip":"","group":"e5d6b12b.cf15","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3220,"y":1620,"wires":[["d5b43321.fafb7"]]},{"id":"c3ac0f93.10065","type":"ui_switch","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"L EN","label":"L","tooltip":"","group":"e5d6b12b.cf15","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3220,"y":1760,"wires":[["4e35be9.a66a84"]]},{"id":"8744b13d.803ec","type":"ui_switch","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"LL EN","label":"LL","tooltip":"","group":"e5d6b12b.cf15","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":3220,"y":1900,"wires":[["b5a8c2ca.49dc9"]]},{"id":"25f0acc3.0a6fc4","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"HH Setpoint","label":"Límite [°F]","tooltip":"","group":"e5d6b12b.cf15","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"HH Setpoint","x":3200,"y":1390,"wires":[["3722b470.b0f71c"]]},{"id":"76a3c3a8.b87a3c","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"H Setpoint","label":"Límite [°F]","tooltip":"","group":"e5d6b12b.cf15","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":3200,"y":1530,"wires":[["c6106d57.b8b1a"]]},{"id":"5a5b3612.b68658","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"L Setpoint","label":"Límite [°F]","tooltip":"","group":"e5d6b12b.cf15","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":300,"topic":"L Setpoint","x":3200,"y":1670,"wires":[["154aa5c9.dabe0a"]]},{"id":"5a8d8eed.904ce","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"LL Setpoint","label":"Límite [°F]","tooltip":"","group":"e5d6b12b.cf15","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":3200,"y":1810,"wires":[["4ecc9d3b.ddab74"]]},{"id":"3722b470.b0f71c","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3490,"y":1390,"wires":[["3cab3ca5.8a90e4"]]},{"id":"c6106d57.b8b1a","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3490,"y":1530,"wires":[["3cab3ca5.8a90e4"]]},{"id":"154aa5c9.dabe0a","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.L.Setpoint","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3500,"y":1670,"wires":[["3cab3ca5.8a90e4"]]},{"id":"4ecc9d3b.ddab74","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3490,"y":1810,"wires":[["3cab3ca5.8a90e4"]]},{"id":"5f37b60a.040e98","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1430,"wires":[["3cab3ca5.8a90e4"]]},{"id":"c507c3c.4a6f44","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1570,"wires":[["3cab3ca5.8a90e4"]]},{"id":"6f1ff079.8108","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1710,"wires":[["3cab3ca5.8a90e4"]]},{"id":"605ef006.c23d","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1850,"wires":[["3cab3ca5.8a90e4"]]},{"id":"2502b655.62606a","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1480,"wires":[["3cab3ca5.8a90e4"]]},{"id":"d5b43321.fafb7","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1620,"wires":[["3cab3ca5.8a90e4"]]},{"id":"4e35be9.a66a84","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1760,"wires":[["3cab3ca5.8a90e4"]]},{"id":"b5a8c2ca.49dc9","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"","rules":[{"t":"set","p":"Protections.Motor.Temperature.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":1900,"wires":[["3cab3ca5.8a90e4"]]},{"id":"5e1757df.5b1588","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"Motor.Temperature.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2980,"y":1390,"wires":[["25f0acc3.0a6fc4"]]},{"id":"71026936.0a1168","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"Motor.Temperature.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2980,"y":1530,"wires":[["76a3c3a8.b87a3c"]]},{"id":"6e9d6483.a1fe8c","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"Motor.Temperature.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2980,"y":1670,"wires":[["5a5b3612.b68658"]]},{"id":"2513b275.f44c6e","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"Motor.Temperature.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2980,"y":1810,"wires":[["5a8d8eed.904ce"]]},{"id":"2fd7693.e40dd96","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"Motor.Temperature.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2970,"y":1430,"wires":[["46731d6f.af2214"]]},{"id":"1d418876.417d38","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"Motor.Temperature.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2960,"y":1570,"wires":[["4b370d9f.00c294"]]},{"id":"b25b555c.1ced68","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"Motor.Temperature.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2960,"y":1710,"wires":[["dfebd1a5.7fa3f"]]},{"id":"d55ef8f4.b385f8","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"Motor.Temperature.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2960,"y":1850,"wires":[["739b4fcf.1c18"]]},{"id":"f08b112f.2c935","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"Motor.Temperature.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2970,"y":1480,"wires":[["d0aea037.561e6"]]},{"id":"bed22736.50e648","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"Motor.Temperature.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2960,"y":1620,"wires":[["da6b73c3.c5088"]]},{"id":"96adec74.08397","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"Motor.Temperature.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2960,"y":1760,"wires":[["c3ac0f93.10065"]]},{"id":"722cbad5.ee51b4","type":"change","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"Motor.Temperature.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Motor.Temperature.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":2960,"y":1900,"wires":[["8744b13d.803ec"]]},{"id":"2f390198.4111ce","type":"ui_switch","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"HH EN","label":"HH","tooltip":"","group":"b32f8dd1.f3e86","order":1,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"HH EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4330,"y":1480,"wires":[["45ab58b1.dff618"]]},{"id":"ecc85f63.cecce","type":"ui_switch","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"H EN","label":"H","tooltip":"","group":"b32f8dd1.f3e86","order":6,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"H EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4340,"y":1620,"wires":[["5b8035f.4577ccc"]]},{"id":"a42f96d0.192458","type":"ui_switch","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"L EN","label":"L","tooltip":"","group":"b32f8dd1.f3e86","order":11,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"L EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4340,"y":1760,"wires":[["db468536.d0b718"]]},{"id":"ac20c1c9.e237b","type":"ui_switch","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"LL EN","label":"LL","tooltip":"","group":"b32f8dd1.f3e86","order":16,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"LL EN","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":4340,"y":1900,"wires":[["aba058eb.11c338"]]},{"id":"305c4471.75d26c","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"HH Setpoint","label":"Límite [mA]","tooltip":"","group":"b32f8dd1.f3e86","order":3,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"HH Setpoint","x":4320,"y":1390,"wires":[["f3237f0e.ad13c"]]},{"id":"c72f1ab6.e07358","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"H Setpoint","label":"Límite [mA]","tooltip":"","group":"b32f8dd1.f3e86","order":8,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"H Setpoint","x":4320,"y":1530,"wires":[["d69924a4.339048"]]},{"id":"3cc53ea.7b20ec2","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"L Setpoint","label":"Límite [mA]","tooltip":"","group":"b32f8dd1.f3e86","order":13,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"L Setpoint","x":4319,"y":1670,"wires":[["60cb248.67e94dc"]]},{"id":"77bf0d67.408d84","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"LL Setpoint","label":"Límite [mA]","tooltip":"","group":"b32f8dd1.f3e86","order":18,"width":"2","height":1,"passthru":true,"mode":"number","delay":"0","topic":"LL Setpoint","x":4320,"y":1810,"wires":[["7e59ed5e.19cdf4"]]},{"id":"f3237f0e.ad13c","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.HH.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4600,"y":1390,"wires":[["4d351b9.638afe4"]]},{"id":"d69924a4.339048","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.H.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4600,"y":1530,"wires":[["4d351b9.638afe4"]]},{"id":"60cb248.67e94dc","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.L.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4600,"y":1670,"wires":[["4d351b9.638afe4"]]},{"id":"7e59ed5e.19cdf4","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.LL.Setpoint","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4600,"y":1810,"wires":[["4d351b9.638afe4"]]},{"id":"b8413d80.707c1","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.HH.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4610,"y":1430,"wires":[["4d351b9.638afe4"]]},{"id":"b3ff66ec.1baab8","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.H.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4620,"y":1570,"wires":[["4d351b9.638afe4"]]},{"id":"f20f1ff3.7073b","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.L.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4620,"y":1710,"wires":[["4d351b9.638afe4"]]},{"id":"ef36995d.9e4a68","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.LL.DT","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4610,"y":1850,"wires":[["4d351b9.638afe4"]]},{"id":"45ab58b1.dff618","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.HH.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4610,"y":1480,"wires":[["4d351b9.638afe4"]]},{"id":"5b8035f.4577ccc","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.H.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4620,"y":1620,"wires":[["4d351b9.638afe4"]]},{"id":"db468536.d0b718","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.L.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4620,"y":1760,"wires":[["4d351b9.638afe4"]]},{"id":"aba058eb.11c338","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"","rules":[{"t":"set","p":"Protections.Current.Leakage.LL.EN","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4610,"y":1900,"wires":[["4d351b9.638afe4"]]},{"id":"7540e2.26d57f2","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"Current.Leakage.HH.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.HH.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4100,"y":1390,"wires":[["305c4471.75d26c"]]},{"id":"26cf091b.0dbae6","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"Current.Leakage.H.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.H.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4090,"y":1530,"wires":[["c72f1ab6.e07358"]]},{"id":"deaa71f0.41ac4","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"Current.Leakage.L.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.L.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4090,"y":1670,"wires":[["3cc53ea.7b20ec2"]]},{"id":"a5239eba.e811","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"Current.Leakage.LL.Setpoint","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.LL.Setpoint","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4090,"y":1810,"wires":[["77bf0d67.408d84"]]},{"id":"a733b9b9.cda278","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"Current.Leakage.HH.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.HH.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4080,"y":1430,"wires":[["b9eeec2b.8259d"]]},{"id":"69b368d7.dcea78","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"Current.Leakage.H.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.H.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4070,"y":1570,"wires":[["b116daf7.152128"]]},{"id":"2ccb33c5.6a40ac","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"Current.Leakage.L.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.L.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4070,"y":1710,"wires":[["6456f2d9.f929ac"]]},{"id":"b256fdee.aab19","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"Current.Leakage.LL.DT","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.LL.DT","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4080,"y":1850,"wires":[["4fe0e535.f16e5c"]]},{"id":"2adccd69.57bb72","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"Current.Leakage.HH.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.HH.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4080,"y":1480,"wires":[["2f390198.4111ce"]]},{"id":"353e5f5c.3308c","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"Current.Leakage.H.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.H.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4070,"y":1620,"wires":[["ecc85f63.cecce"]]},{"id":"29c58a6d.2469b6","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"Current.Leakage.L.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.L.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4070,"y":1760,"wires":[["a42f96d0.192458"]]},{"id":"15fa8e12.ecb012","type":"change","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"Current.Leakage.LL.EN","rules":[{"t":"set","p":"payload","pt":"msg","to":"Protections.Current.Leakage.LL.EN","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":4080,"y":1900,"wires":[["ac20c1c9.e237b"]]},{"id":"2cd079.27675f88","type":"link out","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Protección de tensión Out","links":["b13f907c.215b","6501d3d3.4e2dec","50f74338.13ca0c"],"x":2565,"y":190,"wires":[]},{"id":"d54f3181.5d7ad","type":"link out","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Protección de sobrecarga Out","links":["58b6b462.94daac","c47cc85b.26bd58","f02f218c.c3f95"],"x":3505,"y":190,"wires":[]},{"id":"4d839d32.72a8f4","type":"link out","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"Protección de temperatura de entrada Out","links":["e62a6f39.ba806","23e61906.12bde6","ff6398bf.77f108"],"x":4605,"y":190,"wires":[]},{"id":"33575158.040bce","type":"link out","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"Protección de presión de entrada Out","links":["16289ee6.2a25c1","fef78832.db5dc8","af715940.cc5e78"],"x":2645,"y":790,"wires":[]},{"id":"fa27ee3.dd7941","type":"link out","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"Protección Presión de descarga Out","links":["9fb74ca2.40d4a","5b2ead9d.d7aca4","de8cd607.5bc628","41063822.e89db8"],"x":3745,"y":790,"wires":[]},{"id":"99ff714a.7a819","type":"link out","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"Protección temperatura de descarga Out","links":["9fd75293.b16e2","34e29829.fec988","7158753e.ed6e6c"],"x":4925,"y":790,"wires":[]},{"id":"64688fe5.072df","type":"link out","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"Protección Vibración general Out","links":["c6316c03.86579","ec206eee.38338","5464e2e9.61654c"],"x":2685,"y":1390,"wires":[]},{"id":"485a456c.532fdc","type":"link out","z":"6c7d2db7.37ef34","g":"dabbb1f4.9b65e","name":"Timestamp Out","links":["806e7b59.38e138","3e39b5ec.dda60a","28fd8b2e.2b37e4","f1b01bce.f6aca8","11e71592.43ecba","49ed0754.2b0538","8a84bba5.928628","e44c2e4e.679a2","923b8ac6.db6738","191ae243.ac0bde"],"x":1725,"y":100,"wires":[]},{"id":"806e7b59.38e138","type":"link in","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"Timestamp In","links":["485a456c.532fdc"],"x":1675,"y":190,"wires":[["a13aa793.6d5958","3384822b.910e1e","f06b900e.9d7cc","417b61dc.3bc9c","9621ae2b.31111","55ade534.9df4fc","96202ced.2d14f","cb12dde6.c272c","dec10cf6.2f956","b0c6f4cf.8adde8","3c3fc25f.9c4dce","c1246694.d07138"]]},{"id":"3e39b5ec.dda60a","type":"link in","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"Timestamp In","links":["485a456c.532fdc"],"x":2655,"y":190,"wires":[["112f0c7f.98c2c4","807ce42f.663038","c7386ae5.f34358","5131bc8d.e72484","d596bd95.36ac7","9fad8a58.994598","8638e91.f1d9618","c16ccd29.4c0fd","bf640dd0.241e2","9f6c778c.dd65f8","7489c0c1.72eaa","ceffd9dc.9d9c28"]]},{"id":"28fd8b2e.2b37e4","type":"link in","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"Timestamp In","links":["485a456c.532fdc"],"x":3595,"y":190,"wires":[["f924bdb0.5be41","4b0117c9.906a28","15cdc18c.2d1afe","1865ce38.af04e2","735fcd8c.139204","e940bc9d.487ab","29688391.2998dc","62792eb4.ed585","3927678c.1ba258","7463a6d.8f98458","b215f346.b41bf","efdfec7f.80deb"]]},{"id":"f1b01bce.f6aca8","type":"link in","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"Timestamp In","links":["485a456c.532fdc"],"x":1675,"y":790,"wires":[["a454cef5.af8fc","68dc5746.f43798","e280d419.905258","bfcf1d22.6a633","5705aa78.5d51a4","3f5e77fb.ba40f8","cff15ba9.0519d8","ce9bc7e2.b5ae88","561da518.30b27c","403e0e9.7738af","20a20d73.57b622","e386a315.a703f"]]},{"id":"11e71592.43ecba","type":"link in","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"Timestamp In","links":["485a456c.532fdc"],"x":2735,"y":790,"wires":[["4d772326.e83ecc","5bf3855e.8a14bc","4fa4208b.9e6ec","4ec0aff2.fb6d","3bced553.64606a","f262ad5b.79dde","e01553c7.65a86","1aa3aef6.22fa21","bc1d2c03.fbe0e","d84150ed.51b5c","10708263.2b625e","8504e8d.5781318"]]},{"id":"49ed0754.2b0538","type":"link in","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"Timestamp In","links":["485a456c.532fdc"],"x":3835,"y":790,"wires":[["c9db83bd.21e72","224de176.531cbe","c07a38bc.f59cb8","ab4f9b0e.b58748","2d9b97ec.afb1f8","2988bb53.335914","62cfa401.544bfc","defdcfa2.787fe","a5ab5c99.0daba","fa38bc67.7796a","40dcb368.34489c","41e32d9c.3f35a4"]]},{"id":"8a84bba5.928628","type":"link in","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"Timestamp In","links":["485a456c.532fdc"],"x":1675,"y":1390,"wires":[["f9ffe747.d73e68","6962b205.fc1aac","62e71307.8e355c","7ab3478d.9c0738","5f190ad1.a98134","3e1aa9bb.34b5e6","352fd76d.913c58","605b4eac.e17f5","2037d4fa.74488c","5effee23.67b21","81c4a37d.8c2cd","eb0a77ea.6300e8"]]},{"id":"e44c2e4e.679a2","type":"link in","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"Timestamp In","links":["485a456c.532fdc"],"x":2775,"y":1390,"wires":[["5e1757df.5b1588","2fd7693.e40dd96","f08b112f.2c935","71026936.0a1168","1d418876.417d38","bed22736.50e648","6e9d6483.a1fe8c","b25b555c.1ced68","96adec74.08397","2513b275.f44c6e","d55ef8f4.b385f8","722cbad5.ee51b4"]]},{"id":"3cab3ca5.8a90e4","type":"link out","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"Protección Temperatura de motor Out","links":["dc56d5e0.8f3748","ccacd35a.c0616","4093fc8e.4b8104"],"x":3785,"y":1390,"wires":[]},{"id":"4d351b9.638afe4","type":"link out","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"Protección Corriente de fuga Out","links":["ba48c9f3.3a6188","d23baded.2c27c","3c679349.cb826c"],"x":4885,"y":1390,"wires":[]},{"id":"191ae243.ac0bde","type":"link in","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"Timestamp In","links":["485a456c.532fdc"],"x":3895,"y":1390,"wires":[["7540e2.26d57f2","a733b9b9.cda278","2adccd69.57bb72","26cf091b.0dbae6","69b368d7.dcea78","353e5f5c.3308c","deaa71f0.41ac4","2ccb33c5.6a40ac","29c58a6d.2469b6","a5239eba.e811","b256fdee.aab19","15fa8e12.ecb012"]]},{"id":"95dd5b10.93eeb8","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 8","env":[{"name":"Channel","value":"8","type":"num"}],"x":160,"y":1540,"wires":[["627efcf3.7c1d94"]]},{"id":"8ecce404.876938","type":"function","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Tipo Instrumento","func":"var config = msg.Config || null;\n\nif(config !== null){\n    if(config.Tipo == \"NC\"){\n        msg.payload = !msg.payload\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":650,"y":1500,"wires":[["c48e11aa.f1c5b"]]},{"id":"627efcf3.7c1d94","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal8","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal8","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":1540,"wires":[["e4e1a727.bfdc98"]]},{"id":"3adac9ad.967366","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 9","env":[{"name":"Channel","value":"9","type":"num"}],"x":160,"y":1590,"wires":[["549db7d6.bf0818"]]},{"id":"be92e9cc.af4ea8","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 10","env":[{"name":"Channel","value":"10","type":"num"}],"x":170,"y":1640,"wires":[["250b02a.a48adfe"]]},{"id":"a28ab24d.e3159","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 11","env":[{"name":"Channel","value":"11","type":"num"}],"x":170,"y":1690,"wires":[["beafa3d1.066ef"]]},{"id":"324d8a5d.797266","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 12","env":[{"name":"Channel","value":"12","type":"num"}],"x":570,"y":1540,"wires":[["38933109.a0660e"]]},{"id":"2514916c.82ad8e","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 13","env":[{"name":"Channel","value":"13","type":"num"}],"x":570,"y":1590,"wires":[["8cc27616.708d38"]]},{"id":"669558e4.31fb88","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 14","env":[{"name":"Channel","value":"10","type":"num"}],"x":570,"y":1640,"wires":[["333a4d0f.a365e2"]]},{"id":"7ab77e72.f274c","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 15","env":[{"name":"Channel","value":"15","type":"num"}],"x":570,"y":1690,"wires":[["82ef607a.ab19c"]]},{"id":"548a3e91.fba1d","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 16","env":[{"name":"Channel","value":"16","type":"num"}],"x":970,"y":1540,"wires":[["f2e4a286.70c9d"]]},{"id":"fd8a5b86.5db6c8","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 17","env":[{"name":"Channel","value":"17","type":"num"}],"x":970,"y":1590,"wires":[["4f650c7f.8e8864"]]},{"id":"421e6162.dc457","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 18","env":[{"name":"Channel","value":"18","type":"num"}],"x":970,"y":1640,"wires":[["dde63ac0.f1af98"]]},{"id":"549db7d6.bf0818","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal9","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal9","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":1590,"wires":[["e4e1a727.bfdc98"]]},{"id":"250b02a.a48adfe","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal10","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal10","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":1640,"wires":[["e4e1a727.bfdc98"]]},{"id":"beafa3d1.066ef","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal11","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal11","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":1690,"wires":[["e4e1a727.bfdc98"]]},{"id":"38933109.a0660e","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal12","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal12","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":1540,"wires":[["59cd5141.6d208"]]},{"id":"8cc27616.708d38","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal13","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal13","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":1590,"wires":[["59cd5141.6d208"]]},{"id":"333a4d0f.a365e2","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal14","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal14","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":1640,"wires":[["59cd5141.6d208"]]},{"id":"82ef607a.ab19c","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal15","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal15","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":1690,"wires":[["59cd5141.6d208"]]},{"id":"f2e4a286.70c9d","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal16","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal16","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1130,"y":1540,"wires":[["d5af92d1.30c4d"]]},{"id":"4f650c7f.8e8864","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal17","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal17","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1130,"y":1590,"wires":[["d5af92d1.30c4d"]]},{"id":"dde63ac0.f1af98","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal18","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal18","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1130,"y":1640,"wires":[["d5af92d1.30c4d"]]},{"id":"e825b6f5.656cb8","type":"function","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Activación de Funciones","func":"var Funcion = flow.get('ES').ED.Funciones || null;\n\n// Vector de indices de la lista completa\nvar keys = Object.keys(Funcion.Lista_Completa); \n\n// Indice\nvar index;\n\n// Respuesta\nvar Resp = [];\n\n//Inicializar Resp\nfor(var j=0; j<Funcion.Lista_Simple.length; j++){\n    Resp[j] = false;\n}\n\nfor(var i=0; i<=Object.keys(Funcion.Lista_Completa).length; i++){\n    \n    //Encontrar el índice de la lista simple donde aparece el elemento de la lista completa\n    index = Funcion.Lista_Simple.findIndex((element) => element == Funcion.Lista_Completa[parseInt(keys[i])]);\n    \n    if( msg.payload[parseInt(keys[i])] == 1){\n        Resp[index] = true;\n    }\n}\n\nmsg.payload = [];\n\nfor(var k=0; k<Funcion.Lista_Simple.length; k++){\n    msg.payload[k]={\n        'Funcion':Funcion.Lista_Simple[k],\n        'Estado': Resp[k]\n    }\n}\nflow.set('ActFunctions',msg.payload,'memoryOnly');\nreturn;","outputs":0,"noerr":0,"initialize":"var ES = flow.get('ES')|| null;\nif(ES === null){\n    ES = {\n        'ED':{\n            'Funciones':{\n                'Lista_Simple':[],\n                'Lista_Completa':{}\n            }\n        },\n        'EA':{\n            'Funciones':{\n                'Lista_Simple':[],\n                'Lista_Completa':{}\n            }\n        },\n        'SD':{\n            'Funciones':{\n                'Lista_Simple':[],\n                'Lista_Completa':{}\n            }\n        },\n        'SA':{\n            'Funciones':{\n                'Lista_Simple':[],\n                'Lista_Completa':{}\n            }\n        },\n    }\n    flow.set('ES',ES);\n}","finalize":"","x":1090,"y":1500,"wires":[]},{"id":"ed05877.18ccd78","type":"comment","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Lectura y asignación de entradas digitales","info":"","x":270,"y":1500,"wires":[]},{"id":"1d563240.d7335e","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","label":"Función","tooltip":"","place":"--","group":"9457c46f.d710c8","order":2,"width":"6","height":"1","passthru":true,"multiple":false,"options":[{"label":"Start","value":"Start","type":"str"},{"label":"Stop","value":"Stop","type":"str"},{"label":"Reset","value":"Reset","type":"str"},{"label":"Stop E.S.D.","value":"Stop_ESD","type":"str"},{"label":"Disparo Alto nivel de aceite SUT","value":"Alto_nivel_SUT","type":"str"},{"label":"Estado DPS.","value":"Estado_DPS","type":"str"},{"label":"Sobre temperatura filtros (HF-SW)","value":"Alta_temp_filtros","type":"str"},{"label":"Falla UPS","value":"Falla_UPS","type":"str"},{"label":"Alta temperatura SUT","value":"Alta_temp_SUT","type":"str"},{"label":"Alarma bajo nivel de aceite SUT","value":"Alarma_bajo_aceite_SUT","type":"str"},{"label":"Disparo por bajo nivel de aceite SUT","value":"Disparo_bajo_aceite_SUT","type":"str"},{"label":"Disparo por sobre presión (THP)","value":"Disparo_THP","type":"str"},{"label":"Disparo por sobre presión SUT","value":"Disparo_presion_SUT","type":"str"},{"label":"Presión baja en la troncal","value":"Presión_baja_troncal","type":"str"},{"label":"Remoto [Selector]","value":"Remoto","type":"str"}],"payload":"","topic":"","x":740,"y":680,"wires":[["57693d42.64b594"]]},{"id":"eae17bf7.abfb98","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","rules":[{"t":"set","p":"ED_Config.Canal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":470,"y":860,"wires":[[]]},{"id":"57693d42.64b594","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","rules":[{"t":"set","p":"ED_Config.Funcion","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":940,"y":680,"wires":[[]]},{"id":"5612c7d7.dfac98","type":"ui_button","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","group":"9457c46f.d710c8","order":7,"width":"4","height":"1","passthru":false,"label":"Configurar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"ED_Config","payloadType":"flow","topic":"","x":870,"y":1030,"wires":[["9739e42b.b55908"]]},{"id":"d16a7da0.51a4b","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","label":"Tipo","tooltip":"","place":"--","group":"9457c46f.d710c8","order":4,"width":"3","height":"1","passthru":true,"multiple":false,"options":[{"label":"NC","value":"NC","type":"str"},{"label":"NO","value":"NO","type":"str"}],"payload":"","topic":"","x":730,"y":730,"wires":[["53f591a9.c6db1"]]},{"id":"53f591a9.c6db1","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","rules":[{"t":"set","p":"ED_Config.TipoInstrumento","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":970,"y":730,"wires":[[]]},{"id":"9739e42b.b55908","type":"switch","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal","property":"payload.Canal","propertyType":"msg","rules":[{"t":"eq","v":"8","vt":"num"},{"t":"eq","v":"9","vt":"num"},{"t":"eq","v":"10","vt":"num"},{"t":"eq","v":"11","vt":"num"},{"t":"eq","v":"12","vt":"num"},{"t":"eq","v":"13","vt":"num"},{"t":"eq","v":"14","vt":"num"},{"t":"eq","v":"15","vt":"num"},{"t":"eq","v":"16","vt":"num"},{"t":"eq","v":"17","vt":"num"},{"t":"eq","v":"18","vt":"num"},{"t":"eq","v":"19","vt":"num"},{"t":"eq","v":"20","vt":"num"},{"t":"eq","v":"21","vt":"num"},{"t":"eq","v":"22","vt":"num"},{"t":"eq","v":"23","vt":"num"},{"t":"eq","v":"24","vt":"num"},{"t":"eq","v":"25","vt":"num"},{"t":"eq","v":"26","vt":"num"},{"t":"eq","v":"27","vt":"num"}],"checkall":"false","repair":false,"outputs":20,"x":1010,"y":1030,"wires":[["b5365bc3.4a2988"],["c967237e.798c5"],["f7d45d17.1263"],["ce9bcbe0.82ba08"],["7fca5a8d.8bd774"],["bc814e1b.e48e3"],["bd084cfc.c96b7"],["4413b68b.f15548"],["39314781.1c5188"],["c44c2bcf.479ab8"],["c8be3f70.1b147"],["f682cea0.507b9"],["dba1ea5a.227608"],["bf79e240.5ab82"],["c971dc53.ca862"],["92923f3a.deb0e"],["dabf45d6.c9a6b8"],["1b8abdf6.3dcb22"],["adc1722f.13e2"],["ba03cbde.df6f78"]]},{"id":"c3703a0f.b4eb58","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","label":"Canal","tooltip":"","place":"--","group":"9457c46f.d710c8","order":3,"width":"3","height":"1","passthru":true,"multiple":false,"options":[{"label":"8","value":8,"type":"num"},{"label":"9","value":9,"type":"num"},{"label":"10","value":10,"type":"num"},{"label":"11","value":11,"type":"num"},{"label":"12","value":12,"type":"num"},{"label":"13","value":13,"type":"num"},{"label":"14","value":14,"type":"num"},{"label":"15","value":15,"type":"num"},{"label":"16","value":16,"type":"num"},{"label":"17","value":17,"type":"num"},{"label":"18","value":18,"type":"num"},{"label":"19","value":19,"type":"num"},{"label":"20","value":20,"type":"num"},{"label":"21","value":21,"type":"num"},{"label":"22","value":22,"type":"num"},{"label":"23","value":23,"type":"num"}],"payload":"","topic":"","x":270,"y":860,"wires":[["eae17bf7.abfb98"]]},{"id":"b5365bc3.4a2988","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal8","rules":[{"t":"set","p":"ES.ED.Canal8.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal8.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":650,"wires":[[]]},{"id":"c967237e.798c5","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal9","rules":[{"t":"set","p":"ES.ED.Canal9.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal9.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":690,"wires":[[]]},{"id":"f7d45d17.1263","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal10","rules":[{"t":"set","p":"ES.ED.Canal10.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal10.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":730,"wires":[[]]},{"id":"ce9bcbe0.82ba08","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal11","rules":[{"t":"set","p":"ES.ED.Canal11.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal11.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":770,"wires":[[]]},{"id":"7fca5a8d.8bd774","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal12","rules":[{"t":"set","p":"ES.ED.Canal12.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal12.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":810,"wires":[[]]},{"id":"bc814e1b.e48e3","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal13","rules":[{"t":"set","p":"ES.ED.Canal13.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal13.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":850,"wires":[[]]},{"id":"bd084cfc.c96b7","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal14","rules":[{"t":"set","p":"ES.ED.Canal14.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal14.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":890,"wires":[[]]},{"id":"4413b68b.f15548","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal15","rules":[{"t":"set","p":"ES.ED.Canal15.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal15.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":930,"wires":[[]]},{"id":"39314781.1c5188","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal16","rules":[{"t":"set","p":"ES.ED.Canal16.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal16.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":970,"wires":[[]]},{"id":"b014379a.bddbd8","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","rules":[{"t":"set","p":"ES.ED.Funciones","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":470,"y":700,"wires":[[]]},{"id":"84b6221b.a1775","type":"comment","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Configuración de entradas digitales","info":"","x":250,"y":660,"wires":[]},{"id":"9946d95c.306678","type":"function","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Cargar configuración del canal","func":"var Canal = flow.get('ED_Config').Canal||null;\nvar ES = flow.get('ES')||null;\n\n// Concatenar Canal\nvar Canalmsg = \"Canal\" + Canal;\n\n// Responder\nvar Resp = ES.ED[Canalmsg];\nmsg.payload = \"Canal no configurado\";\n\nif(typeof Resp !== 'undefined'){\n    msg.Funcion = {'payload':Resp.Funcion};\n    msg.Tipo = {'payload':Resp.Tipo};\n    \n}\nelse{\n    msg.Funcion = {'payload':\"Canal no configurado\"};\n    msg.Tipo =  {'payload':\"Ninguno\"};\n}\n\nreturn [msg.Funcion, msg.Tipo];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":490,"y":740,"wires":[["95258912.15d388","1d563240.d7335e"],["70f95af9.c31fe4","d16a7da0.51a4b"]]},{"id":"95258912.15d388","type":"ui_text","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","group":"89c29882.24ba28","order":2,"width":"6","height":"1","name":"Función","label":"Función:","format":"{{msg.payload}}","layout":"row-left","x":740,"y":780,"wires":[]},{"id":"70f95af9.c31fe4","type":"ui_text","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","group":"89c29882.24ba28","order":3,"width":"6","height":"1","name":"Tipo","label":"Tipo:","format":"{{msg.payload}}","layout":"row-left","x":730,"y":820,"wires":[]},{"id":"8d5d3cd1.75de5","type":"function","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Borrar configuración del canal","func":"var Canal   = flow.get('ED_Config').Canal||null;\nvar ES      = flow.get('ES')||null;\n\n// Concatenar Canal\nvar Canalmsg = \"Canal\" + Canal;\n\n// Borrar propiedad\ndelete ES.ED[Canalmsg];\n\n// Cargar nueva configuración\nflow.set('ES',ES);\n","outputs":0,"noerr":0,"initialize":"","finalize":"","x":490,"y":820,"wires":[]},{"id":"c7a11874.426038","type":"ui_button","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"","group":"89c29882.24ba28","order":6,"width":"4","height":"1","passthru":false,"label":"Borrar configuración","tooltip":"","color":"","bgcolor":"","icon":"","payload":"ES_Config","payloadType":"flow","topic":"","x":220,"y":820,"wires":[["8d5d3cd1.75de5"]]},{"id":"d7b7c53a.bfd1d8","type":"complete","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Seleccionar canal","scope":["eae17bf7.abfb98","8d5d3cd1.75de5"],"uncaught":false,"x":230,"y":780,"wires":[["9946d95c.306678"]]},{"id":"c662f5ad.21deb8","type":"function","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Vector de Funciones 2","func":"var ES = flow.get(\"ES\");\nvar Funcion = [];\nvar Lista_Funciones = {};\n\nvar Canal = [4,5,6,7,8,9,10,11,12,13,16];\n\nfor(var i=0; i<11; i++){\n    \n    // Concatenar el texto del canal\n    Canalmsg = 'Canal' + Canal[i];\n    \n    // Generar el vector con todas las posibles opciones de configuración\n    if( typeof ES.ED[Canalmsg] !== 'undefined'){\n        \n        // Lista Completa\n        Lista_Funciones[Canal[i]] = ES.ED[Canalmsg].Funcion;\n        \n        // Lista Simple\n        if(Funcion.find(element => element == ES.ED[Canalmsg].Funcion) !== ES.ED[Canalmsg].Funcion ){\n            Funcion.push(ES.ED[Canalmsg].Funcion);\n        }\n    }\n    else{\n        delete Lista_Funciones[Canal[i]];\n    }\n    \n}\n\nmsg.payload = {\n    'Lista_Simple':Funcion,\n    'Lista_Completa':Lista_Funciones\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":220,"y":700,"wires":[["b014379a.bddbd8"]]},{"id":"c48e11aa.f1c5b","type":"function","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Entradas Digitales 2","func":"var Data = context.get(\"IO\",'memoryOnly') || {   \n    8:false, \n    9:false, \n    10:false, \n    11:false, \n    12:false, \n    13:false, \n    14:false, \n    15:false, \n    16:false, \n    17:false, \n    18:false, \n    19:false, \n    20:false, \n    21:false, \n    22:false, \n    23:false, \n    24:false, \n    25:false, \n    26:false, \n    27:false\n};\n// Arreglo de Canales\nvar Canal = Object.keys(Data); //[4,5,6,7,8,9,10,11,12,13,16];\n\nfor(var i=0; i<11; i++){\n    if(msg.topic == 'Canal'+ Canal[i]){\n        Data[Canal[i]] = msg.payload;\n    }\n}\ncontext.set(\"IO\",Data,'memoryOnly');\nmsg.payload = Data;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":860,"y":1500,"wires":[["e825b6f5.656cb8"]]},{"id":"4b93e0d.a6fd52","type":"complete","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Configurar Canal","scope":["b5365bc3.4a2988","c967237e.798c5","f7d45d17.1263","ce9bcbe0.82ba08","7fca5a8d.8bd774","bc814e1b.e48e3","bd084cfc.c96b7","4413b68b.f15548","39314781.1c5188","8d5d3cd1.75de5","c44c2bcf.479ab8","c8be3f70.1b147"],"uncaught":false,"x":240,"y":740,"wires":[["9946d95c.306678","c662f5ad.21deb8"]]},{"id":"ff6c1ae7.7f0dd8","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN0","env":[{"name":"Channel","value":"0","type":"num"}],"x":1460,"y":1150,"wires":[["641c6b57.1bdb14"]]},{"id":"3c9f71a9.9f8fce","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN1","env":[{"name":"Channel","value":"1","type":"num"}],"x":1460,"y":1200,"wires":[["826212c.76963f"]]},{"id":"83a6198.8a9bee8","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN2","env":[{"name":"Channel","value":"2","type":"num"}],"x":1460,"y":1250,"wires":[["f360853e.c29228"]]},{"id":"a6b6e124.811fb","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN3","env":[{"name":"Channel","value":"3","type":"num"}],"x":1460,"y":1300,"wires":[["969d8cdc.200d1"]]},{"id":"2153ada3.61f452","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear\nvar a = [0,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = (b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]))*1.1;\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    // Asignar payload\n    msg.payload = parseFloat(t.toFixed(3));\n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:b});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1750,"y":1150,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"2860e3ba.631ffc","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","label":"Canal","tooltip":"","place":"--","group":"42b2cabf.0c7ea4","order":3,"width":"2","height":"1","passthru":true,"multiple":false,"options":[{"label":"AN0","value":"AN0","type":"str"},{"label":"AN1","value":"AN1","type":"str"},{"label":"AN2","value":"AN2","type":"str"},{"label":"AN3","value":"AN3","type":"str"},{"label":"AN4","value":"AN4","type":"str"},{"label":"AN5","value":"AN5","type":"str"},{"label":"AN6","value":"AN6","type":"str"},{"label":"AN7","value":"AN7","type":"str"}],"payload":"","topic":"","x":1510,"y":690,"wires":[["f9a3d861.77c0f8"]]},{"id":"65fd0659.ce5ea8","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","label":"Función","tooltip":"","place":"--","group":"42b2cabf.0c7ea4","order":2,"width":"6","height":"1","passthru":true,"multiple":false,"options":[{"label":"PRESION INTAKE","value":"PRESION_INTAKE","type":"str"},{"label":"PRESION DISCHARGE","value":"PRESION_DISCHARGE","type":"str"},{"label":"PRESION CASING","value":"PRESION_CASING","type":"str"},{"label":"PRESION CABEZA THP","value":"PRESION_CABEZA_THP","type":"str"},{"label":"TEMPERATURA CABEZA THT","value":"TEMPERATURA_CABEZA_THT","type":"str"},{"label":"TEMPERATURA INTAKE","value":"TEMPERATURA_INTAKE","type":"str"},{"label":"TEMPERATURA DISCHARGE","value":"TEMPERATURA_DISCHARGE","type":"str"},{"label":"TEMPERATURA MOTOR","value":"TEMPERATURA_MOTOR","type":"str"},{"label":"REFERENCIA REMOTA (Hz)","value":"REFERENCIA_REMOTA","type":"str"},{"label":"CT TRANSFORMADOR ELEVADOR","value":"CT_TRANSFORMADOR_ELEVADOR","type":"str"}],"payload":"","topic":"","x":2110,"y":700,"wires":[["15368445.fbcc8c"]]},{"id":"81c44399.313d1","type":"ui_dropdown","z":"e86f0ca4.7feb5","d":true,"g":"2d061227.66d7ce","name":"","label":"Tipo","tooltip":"","place":"--","group":"42b2cabf.0c7ea4","order":10,"width":"3","height":"1","passthru":true,"multiple":false,"options":[{"label":"0-5 VDC","value":"0-5 VDC","type":"str"},{"label":"0-10 VDC","value":"0-10 VDC","type":"str"},{"label":"0-20 mA","value":"0-20 mA","type":"str"},{"label":"4-20 mA","value":"4-20 mA","type":"str"}],"payload":"","topic":"","x":1890,"y":690,"wires":[[]]},{"id":"36a6ada6.088e02","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","label":"Rango Min","tooltip":"","group":"42b2cabf.0c7ea4","order":4,"width":"2","height":"1","passthru":true,"mode":"number","delay":300,"topic":"","x":2120,"y":750,"wires":[["5d335e3d.151a7"]]},{"id":"f9855a9d.d658d8","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","label":"Rango Max","tooltip":"","group":"42b2cabf.0c7ea4","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":300,"topic":"","x":2120,"y":800,"wires":[["36c67261.6e84de"]]},{"id":"641c6b57.1bdb14","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN0","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN0","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN0.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1580,"y":1150,"wires":[["2153ada3.61f452"]]},{"id":"826212c.76963f","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN1","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN1","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN1.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1580,"y":1200,"wires":[["d1695de0.41452"]]},{"id":"f360853e.c29228","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN2","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN2","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN2.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1580,"y":1250,"wires":[["f406d5d7.37bf18"]]},{"id":"969d8cdc.200d1","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN3","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN3","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN3.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1580,"y":1300,"wires":[["8f314f6c.0c944"]]},{"id":"c7394d4f.1877f","type":"function","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"Vector de Funciones AN","func":"var ES = flow.get(\"ES\");\nvar Funcion = [];\nvar Lista_Funciones = {};\n\nvar Canal = ['AN1','AN2','AN3','AN4'];\n\nfor(var i=0; i<Canal.length; i++){\n    \n    // Generar el vector con todas las posibles opciones de configuración\n    if( typeof ES.EA[Canal[i]] !== 'undefined'){\n        \n        // Lista Completa\n        Lista_Funciones[Canal[i]] = ES.EA[Canal[i]].Funcion;\n        \n        // Lista Simple\n        if(Funcion.find(element => element == ES.EA[Canal[i]].Funcion) !== ES.EA[Canal[i]].Funcion ){\n            Funcion.push(ES.EA[Canal[i]].Funcion);\n        }\n    }\n    else{\n        delete Lista_Funciones[Canal[i]];\n    }\n    \n}\n\nmsg.payload = {\n    'Lista_Simple':Funcion,\n    'Lista_Completa':Lista_Funciones\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1830,"y":730,"wires":[["e398f7a4.f17d08"]]},{"id":"e398f7a4.f17d08","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","rules":[{"t":"set","p":"ES.EA.Funciones","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1830,"y":770,"wires":[[]]},{"id":"885e055a.76fda8","type":"ui_text","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","group":"4a58744b.a270cc","order":2,"width":"6","height":"1","name":"Función","label":"Función:","format":"{{msg.payload}}","layout":"row-left","x":2110,"y":840,"wires":[]},{"id":"4414ee60.603dd","type":"ui_text","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","group":"4a58744b.a270cc","order":3,"width":"3","height":"1","name":"Rango Min","label":"Rango mínimo:","format":"{{msg.payload}}","layout":"row-left","x":2120,"y":880,"wires":[]},{"id":"afb718c8.4b74c8","type":"function","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"Cargar configuración del canal","func":"var Canal = flow.get('EA_Config').Canal||null;\nvar ES = flow.get('ES')||null;\n\nmsg.payload = \"Canal no configurado\";\n\n//msg.payload = ES.EA[Canal].Rango;\n//return msg;\n\nif(typeof ES.EA[Canal] !== 'undefined'){\n    msg.Funcion =  {'payload':ES.EA[Canal].Funcion};\n    msg.RangoMin = {'payload':ES.EA[Canal].Rango_Min};\n    msg.RangoMax = {'payload':ES.EA[Canal].Rango_Max};\n}\nelse{\n    msg.Funcion = {'payload':\"Canal no configurado\"};\n    msg.RangoMin =  {'payload':\"No fijado\"};\n    msg.RangoMax = {'payload': \"No fijado\"};\n}\n\nreturn [msg.Funcion, msg.RangoMin, msg.RangoMax];","outputs":3,"noerr":0,"initialize":"","finalize":"","x":1850,"y":820,"wires":[["885e055a.76fda8","65fd0659.ce5ea8"],["4414ee60.603dd","36a6ada6.088e02"],["706c900.17dd37","f9855a9d.d658d8"]]},{"id":"d3888470.828598","type":"ui_button","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","group":"4a58744b.a270cc","order":7,"width":"4","height":"1","passthru":false,"label":"Borrar configuración","tooltip":"","color":"","bgcolor":"","icon":"","payload":"ES_Config","payloadType":"flow","topic":"","x":1550,"y":870,"wires":[["955fc7d3.2b6ac8"]]},{"id":"955fc7d3.2b6ac8","type":"function","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"Borrar configuración del canal","func":"var Canal   = flow.get('EA_Config').Canal||null;\nvar ES      = flow.get('ES')||null;\n\n// Borrar propiedad\ndelete ES.EA[Canal];\n\n// Cargar nueva configuración\nflow.set('ES',ES);\n","outputs":0,"noerr":0,"initialize":"","finalize":"","x":1850,"y":870,"wires":[]},{"id":"edd64156.146d3","type":"complete","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"Seleccionar canal","scope":["f9a3d861.77c0f8","ce1dc649.cc5748"],"uncaught":false,"x":1560,"y":820,"wires":[["afb718c8.4b74c8"]]},{"id":"706c900.17dd37","type":"ui_text","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","group":"4a58744b.a270cc","order":4,"width":"3","height":"1","name":"Rango Max","label":"Rango máximo:","format":"{{msg.payload}}","layout":"row-left","x":2120,"y":920,"wires":[]},{"id":"ce1dc649.cc5748","type":"ui_button","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","group":"42b2cabf.0c7ea4","order":8,"width":"4","height":"1","passthru":false,"label":"Configurar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"EA_Config","payloadType":"flow","topic":"","x":2280,"y":890,"wires":[["18add3e9.59452c"]]},{"id":"f9a3d861.77c0f8","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","rules":[{"t":"set","p":"EA_Config.Canal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":690,"wires":[[]]},{"id":"15368445.fbcc8c","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","rules":[{"t":"set","p":"EA_Config.Funcion","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2310,"y":700,"wires":[[]]},{"id":"18add3e9.59452c","type":"switch","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","property":"payload.Canal","propertyType":"msg","rules":[{"t":"eq","v":"AN0","vt":"str"},{"t":"eq","v":"AN1","vt":"str"},{"t":"eq","v":"AN2","vt":"str"},{"t":"eq","v":"AN3","vt":"str"},{"t":"eq","v":"AN4","vt":"str"},{"t":"eq","v":"AN5","vt":"str"},{"t":"eq","v":"AN6","vt":"str"},{"t":"eq","v":"AN7","vt":"str"}],"checkall":"true","repair":false,"outputs":8,"x":2420,"y":890,"wires":[["e3fc54b9.c1b108","924f3cdb.96bbe"],["5ba78aad.1e1004"],["ab3579b7.9be628"],["5c582963.1ed7f8"],["acf4e6b7.86a698"],["a2be0fbd.31585"],["4a02b457.a1fecc"],["ffda9256.dc79c"]]},{"id":"5ba78aad.1e1004","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN1","rules":[{"t":"set","p":"ES.EA.AN1.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN1.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN1.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2590,"y":780,"wires":[[]]},{"id":"5d335e3d.151a7","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","rules":[{"t":"set","p":"EA_Config.Rango_Min","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2340,"y":750,"wires":[[]]},{"id":"36c67261.6e84de","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","rules":[{"t":"set","p":"EA_Config.Rango_Max","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2340,"y":800,"wires":[[]]},{"id":"4650be5c.04ff2","type":"complete","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"Configuración AN Completa","scope":["5ba78aad.1e1004","ab3579b7.9be628","5c582963.1ed7f8","acf4e6b7.86a698","955fc7d3.2b6ac8"],"uncaught":false,"x":1530,"y":780,"wires":[["c7394d4f.1877f","afb718c8.4b74c8"]]},{"id":"ab3579b7.9be628","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN2","rules":[{"t":"set","p":"ES.EA.AN2.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN2.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN2.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2590,"y":820,"wires":[[]]},{"id":"5c582963.1ed7f8","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN3","rules":[{"t":"set","p":"ES.EA.AN3.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN3.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN3.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2590,"y":860,"wires":[[]]},{"id":"acf4e6b7.86a698","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN4","rules":[{"t":"set","p":"ES.EA.AN4.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN4.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN4.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2590,"y":900,"wires":[[]]},{"id":"a0f714a1.164ef8","type":"comment","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"Configuración de Entradas analógicas","info":"","x":1560,"y":650,"wires":[]},{"id":"f4c377f1.8c4418","type":"comment","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Lectura de Entradas analógicas","info":"","x":1540,"y":1110,"wires":[]},{"id":"37d41ac8.88d346","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","label":"Tipo","tooltip":"","place":"--","group":"999747fd.0e43c8","order":4,"width":"3","height":"1","passthru":true,"multiple":false,"options":[{"label":"NC","value":"NC","type":"str"},{"label":"NO","value":"NO","type":"str"}],"payload":"","topic":"","x":730,"y":2370,"wires":[["66aa96c8.486ca8"]]},{"id":"e3df39b.47c05c8","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","label":"Canal","tooltip":"","place":"--","group":"999747fd.0e43c8","order":3,"width":"3","height":"1","passthru":true,"multiple":false,"options":[{"label":"32","value":32,"type":"num"},{"label":"33","value":33,"type":"num"},{"label":"34","value":34,"type":"num"},{"label":"35","value":35,"type":"num"},{"label":"36","value":36,"type":"num"},{"label":"37","value":37,"type":"num"},{"label":"38","value":38,"type":"num"},{"label":"39","value":39,"type":"num"}],"payload":"","topic":"","x":310,"y":2340,"wires":[["4968d3dd.74a03c"]]},{"id":"c4e00dfa.4f109","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","label":"Función","tooltip":"","place":"--","group":"999747fd.0e43c8","order":2,"width":"6","height":"1","passthru":true,"multiple":false,"options":[{"label":"CILA2S EN MARCHA","value":"CILA2S_EN_MARCHA","type":"str"},{"label":"FALLA GENERAL","value":"FALLA_GENERAL","type":"str"},{"label":"PID PRESIÓN OPERANDO","value":"PID_PRESIÓN_OPERANDO","type":"str"},{"label":"LUZ INTERNA","value":"LUZ_INTERNA","type":"str"},{"label":"LUZ MODULO POTENCIA","value":"LUZ_MODULO_POTENCIA","type":"str"},{"label":"DISPARO BREAKER MODULO ESD","value":"DISPARO_BREAKER_MODULO_ESD","type":"str"},{"label":"CONTACTO BYPASS FILTRO ARMONICOS","value":"BYPASS_FILTRO_ARMONICOS","type":"str"},{"label":"SISTEMA_REFRIGERACION_MOTOR","value":"SISTEMA_REFRIGERACION_MOTOR","type":"str"},{"label":"SISTEMA CALEFACTOR MOTOR","value":"SISTEMA_CALEFACTOR_MOTOR","type":"str"}],"payload":"","topic":"","x":740,"y":2320,"wires":[["ff71fda1.67ec9"]]},{"id":"c19d1216.bf754","type":"ui_button","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","group":"999747fd.0e43c8","order":7,"width":"4","height":"1","passthru":false,"label":"Configurar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"SD_Config","payloadType":"flow","topic":"","x":880,"y":2490,"wires":[["ffcb3293.a4c48"]]},{"id":"66aa96c8.486ca8","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","rules":[{"t":"set","p":"SD_Config.TipoInstrumento","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":950,"y":2370,"wires":[[]]},{"id":"4968d3dd.74a03c","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","rules":[{"t":"set","p":"SD_Config.Canal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":490,"y":2340,"wires":[[]]},{"id":"ff71fda1.67ec9","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","rules":[{"t":"set","p":"SD_Config.Funcion","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":940,"y":2320,"wires":[[]]},{"id":"ffcb3293.a4c48","type":"switch","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal","property":"payload.Canal","propertyType":"msg","rules":[{"t":"eq","v":"32","vt":"num"},{"t":"eq","v":"33","vt":"num"},{"t":"eq","v":"34","vt":"num"},{"t":"eq","v":"35","vt":"num"},{"t":"eq","v":"36","vt":"num"},{"t":"eq","v":"37","vt":"num"},{"t":"eq","v":"38","vt":"num"},{"t":"eq","v":"39","vt":"num"},{"t":"eq","v":"40","vt":"num"},{"t":"eq","v":"41","vt":"num"},{"t":"eq","v":"42","vt":"num"},{"t":"eq","v":"43","vt":"num"}],"checkall":"false","repair":false,"outputs":12,"x":1020,"y":2490,"wires":[["c1725583.cfc348"],["4526b0f7.fa6a6"],["f67e70e4.5f30e"],["bb68e810.a57a38"],["ce5f1106.c4ff9"],["85590fb.bc50ef"],["dbf2523c.156f3"],["23cf0be1.ad7274"],["ab7a7e6.0a4ca8"],["1a41c067.58aff"],["4b7792b7.b882fc"],["8e67a2d0.14549"]]},{"id":"c1725583.cfc348","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal32","rules":[{"t":"set","p":"ES.SD.Canal32.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal32.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1230,"y":2290,"wires":[[]]},{"id":"4526b0f7.fa6a6","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal33","rules":[{"t":"set","p":"ES.SD.Canal33.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal33.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1230,"y":2330,"wires":[[]]},{"id":"f67e70e4.5f30e","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal34","rules":[{"t":"set","p":"ES.SD.Canal34.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal34.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1230,"y":2370,"wires":[[]]},{"id":"bb68e810.a57a38","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal35","rules":[{"t":"set","p":"ES.SD.Canal35.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal35.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1230,"y":2410,"wires":[[]]},{"id":"ce5f1106.c4ff9","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal36","rules":[{"t":"set","p":"ES.SD.Canal36.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal36.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1230,"y":2450,"wires":[[]]},{"id":"85590fb.bc50ef","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal37","rules":[{"t":"set","p":"ES.SD.Canal37.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal37.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1230,"y":2490,"wires":[[]]},{"id":"dbf2523c.156f3","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal38","rules":[{"t":"set","p":"ES.SD.Canal38.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal38.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1230,"y":2530,"wires":[[]]},{"id":"23cf0be1.ad7274","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal39","rules":[{"t":"set","p":"ES.SD.Canal39.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal39.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1230,"y":2570,"wires":[[]]},{"id":"ab7a7e6.0a4ca8","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal40","rules":[{"t":"set","p":"ES.SD.Canal40.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal40.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1230,"y":2610,"wires":[[]]},{"id":"1a41c067.58aff","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal41","rules":[{"t":"set","p":"ES.SD.Canal41.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal41.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1230,"y":2650,"wires":[[]]},{"id":"4b7792b7.b882fc","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal42","rules":[{"t":"set","p":"ES.SD.Canal42.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal42.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1230,"y":2690,"wires":[[]]},{"id":"8e749bbe.f74f28","type":"function","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Borrar configuración del canal","func":"var Canal   = flow.get('SD_Config').Canal||null;\nvar ES      = flow.get('ES')||null;\n\n// Concatenar Canal\nvar Canalmsg = \"Canal\" + Canal;\n\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:Canalmsg});\n\n// Borrar propiedad\ndelete ES.SD[Canalmsg];\n\n// Cargar nueva configuración\nflow.set('ES',ES);\n","outputs":0,"noerr":0,"initialize":"","finalize":"","x":500,"y":2440,"wires":[]},{"id":"890ece98.923b9","type":"complete","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Configuración SD Completa","scope":["4968d3dd.74a03c","c1725583.cfc348","4526b0f7.fa6a6","f67e70e4.5f30e","bb68e810.a57a38","ce5f1106.c4ff9","85590fb.bc50ef","dbf2523c.156f3","23cf0be1.ad7274","ab7a7e6.0a4ca8","1a41c067.58aff","4b7792b7.b882fc","8e749bbe.f74f28","8e67a2d0.14549","c19d1216.bf754"],"uncaught":false,"x":230,"y":2390,"wires":[["d34861d8.cf767"]]},{"id":"e61ce5c2.e74a08","type":"ui_text","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","group":"f099a646.bd5eb8","order":2,"width":"6","height":"1","name":"Función","label":"Función:","format":"{{msg.payload}}","layout":"row-left","x":740,"y":2420,"wires":[]},{"id":"29ba2c8e.26a694","type":"ui_text","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","group":"f099a646.bd5eb8","order":3,"width":"6","height":"1","name":"Tipo","label":"Tipo:","format":"{{msg.payload}}","layout":"row-left","x":730,"y":2460,"wires":[]},{"id":"16a30db2.f4a332","type":"ui_button","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"","group":"f099a646.bd5eb8","order":6,"width":"4","height":"1","passthru":false,"label":"Borrar configuración","tooltip":"","color":"","bgcolor":"","icon":"","payload":"ES_Config","payloadType":"flow","topic":"","x":250,"y":2440,"wires":[["8e749bbe.f74f28"]]},{"id":"d34861d8.cf767","type":"function","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Cargar configuración del canal","func":"var Canal = flow.get('SD_Config').Canal||null;\nvar ES = flow.get('ES')||null;\n\n// Concatenar Canal\nvar Canalmsg = \"Canal\" + Canal;\n\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:Canalmsg});\n\n// Responder\nvar Resp = ES.SD[Canalmsg];\nmsg.payload = \"Canal no configurado\";\n\nif(typeof Resp !== 'undefined'){\n    msg.Funcion = {'payload':Resp.Funcion};\n    msg.Tipo = {'payload':Resp.Tipo};\n    \n}\nelse{\n    msg.Funcion = {'payload':\"Canal no configurado\"};\n    msg.Tipo =  {'payload':\"Ninguno\"};\n}\n\nreturn [msg.Funcion, msg.Tipo];","outputs":2,"noerr":0,"initialize":"","finalize":"","x":500,"y":2390,"wires":[["e61ce5c2.e74a08","c4e00dfa.4f109"],["29ba2c8e.26a694","37d41ac8.88d346"]]},{"id":"d7391425.ccfbf8","type":"comment","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Configuración salidas digitales","info":"","x":240,"y":2290,"wires":[]},{"id":"403f2c89.5c77c4","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","label":"Canal","tooltip":"","place":"--","group":"2d9cedce.ac17c2","order":3,"width":"2","height":"1","passthru":true,"multiple":false,"options":[{"label":"O1","value":"AO1","type":"str"},{"label":"O2","value":"AO2","type":"str"},{"label":"O3","value":"AO3","type":"str"},{"label":"O4","value":"AO4","type":"str"}],"payload":"","topic":"","x":2270,"y":2340,"wires":[["e9b72ba.cbd4bd8"]]},{"id":"fa0998da.25ce28","type":"ui_dropdown","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","label":"Función","tooltip":"","place":"--","group":"2d9cedce.ac17c2","order":2,"width":"6","height":"1","passthru":true,"multiple":false,"options":[{"label":"Frecuencia de salida C2S","value":"Frecuencia de salida C2S","type":"str"},{"label":"Corriente de salida","value":"Corriente de salida","type":"str"},{"label":"Tensión de salida","value":"Tensión de salida","type":"str"},{"label":"Potencia de salida","value":"Potencia de salida","type":"str"}],"payload":"","topic":"","x":2740,"y":2270,"wires":[["3d2d28c4.24fb38"]]},{"id":"2ce5372e.7ad778","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","label":"Rango Min","tooltip":"","group":"2d9cedce.ac17c2","order":4,"width":"2","height":"1","passthru":true,"mode":"number","delay":300,"topic":"","x":2750,"y":2320,"wires":[["dca99529.6959c8"]]},{"id":"624af569.ea18cc","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","label":"Rango Max","tooltip":"","group":"2d9cedce.ac17c2","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":300,"topic":"","x":2750,"y":2370,"wires":[["10d8ade3.a7e942"]]},{"id":"303c96fd.f6ab4a","type":"ui_button","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","group":"2d9cedce.ac17c2","order":8,"width":"4","height":"1","passthru":false,"label":"Configurar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"SA_Config","payloadType":"flow","topic":"","x":2910,"y":2450,"wires":[["22b0d7de.606178","ac67f4df.445778"]]},{"id":"e9b72ba.cbd4bd8","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","rules":[{"t":"set","p":"SA_Config.Canal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2450,"y":2340,"wires":[[]]},{"id":"3d2d28c4.24fb38","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","rules":[{"t":"set","p":"SA_Config.Funcion","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2960,"y":2270,"wires":[[]]},{"id":"dca99529.6959c8","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","rules":[{"t":"set","p":"SA_Config.Rango_Min","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2970,"y":2320,"wires":[[]]},{"id":"10d8ade3.a7e942","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","rules":[{"t":"set","p":"SA_Config.Rango_Max","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2970,"y":2370,"wires":[[]]},{"id":"22b0d7de.606178","type":"switch","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","property":"payload.Canal","propertyType":"msg","rules":[{"t":"eq","v":"AO1","vt":"str"},{"t":"eq","v":"AO2","vt":"str"},{"t":"eq","v":"AO3","vt":"str"},{"t":"eq","v":"AO4","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":3050,"y":2450,"wires":[["5135d0c7.6a31b"],["d3ab8d40.89bb8"],["3c83aebf.54ee92"],["85f12e7a.2e726"]]},{"id":"5135d0c7.6a31b","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"O1","rules":[{"t":"set","p":"ES.SA.AO1.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.SA.AO1.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.SA.AO1.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3210,"y":2380,"wires":[[]]},{"id":"d3ab8d40.89bb8","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"O2","rules":[{"t":"set","p":"ES.SA.AO2.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.SA.AO2.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.SA.AO2.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3210,"y":2420,"wires":[[]]},{"id":"ac1c125d.58013","type":"ui_text","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","group":"7821f022.e6285","order":2,"width":"6","height":"1","name":"Función","label":"Función:","format":"{{msg.payload}}","layout":"row-left","x":2740,"y":2410,"wires":[]},{"id":"bb924e9.114edb","type":"ui_text","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","group":"7821f022.e6285","order":3,"width":"3","height":"1","name":"Rango Min","label":"Rango mínimo:","format":"{{msg.payload}}","layout":"row-left","x":2750,"y":2450,"wires":[]},{"id":"a1f1520d.067d8","type":"ui_text","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","group":"7821f022.e6285","order":4,"width":"3","height":"1","name":"Rango Max","label":"Rango máximo:","format":"{{msg.payload}}","layout":"row-left","x":2750,"y":2490,"wires":[]},{"id":"d3c940f3.2efcf","type":"function","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"Cargar configuración del canal","func":"var Canal = flow.get('SA_Config').Canal||null;\nvar ES = flow.get('ES')||null;\n\nmsg.payload = \"Canal no configurado\";\n\n//msg.payload = ES.EA[Canal].Rango;\n//return msg;\n\nif(typeof ES.SA[Canal] !== 'undefined'){\n    msg.Funcion =  {'payload':ES.SA[Canal].Funcion};\n    msg.RangoMin = {'payload':ES.SA[Canal].Rango_Min};\n    msg.RangoMax = {'payload':ES.SA[Canal].Rango_Max};\n}\nelse{\n    msg.Funcion = {'payload':\"Canal no configurado\"};\n    msg.RangoMin =  {'payload':\"No fijado\"};\n    msg.RangoMax = {'payload': \"No fijado\"};\n}\n\nreturn [msg.Funcion, msg.RangoMin, msg.RangoMax];","outputs":3,"noerr":0,"initialize":"","finalize":"","x":2470,"y":2390,"wires":[["ac1c125d.58013","fa0998da.25ce28"],["bb924e9.114edb","2ce5372e.7ad778"],["a1f1520d.067d8","624af569.ea18cc"]]},{"id":"46172269.17fc4c","type":"complete","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"Configuración SA Completa","scope":["e9b72ba.cbd4bd8","5135d0c7.6a31b","d3ab8d40.89bb8","1d4ffc63.2c9fb4","3c83aebf.54ee92","85f12e7a.2e726"],"uncaught":false,"x":2200,"y":2390,"wires":[["d3c940f3.2efcf"]]},{"id":"6a7c3fff.d9b2f","type":"ui_button","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"","group":"7821f022.e6285","order":7,"width":"4","height":"1","passthru":false,"label":"Borrar configuración","tooltip":"","color":"","bgcolor":"","icon":"","payload":"ES_Config","payloadType":"flow","topic":"","x":2220,"y":2440,"wires":[["1d4ffc63.2c9fb4"]]},{"id":"1d4ffc63.2c9fb4","type":"function","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"Borrar configuración del canal","func":"var Canal   = flow.get('SA_Config').Canal||null;\nvar ES      = flow.get('ES')||null;\n\n// Borrar propiedad\ndelete ES.SA[Canal];\n\n// Cargar nueva configuración\nflow.set('ES',ES);\n","outputs":0,"noerr":0,"initialize":"","finalize":"","x":2470,"y":2440,"wires":[]},{"id":"e4e1a727.bfdc98","type":"link out","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"DI1","links":["59cc6269.8b63dc"],"x":485,"y":1610,"wires":[]},{"id":"59cd5141.6d208","type":"link out","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"DI2","links":["59cc6269.8b63dc"],"x":885,"y":1610,"wires":[]},{"id":"d5af92d1.30c4d","type":"link out","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"DI3","links":["59cc6269.8b63dc"],"x":1285,"y":1610,"wires":[]},{"id":"b8115e69.2fa69","type":"link out","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"DI4","links":["59cc6269.8b63dc"],"x":485,"y":1830,"wires":[]},{"id":"59cc6269.8b63dc","type":"link in","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"DI","links":["d5af92d1.30c4d","b8115e69.2fa69","59cd5141.6d208","e4e1a727.bfdc98","2b33cbc0.5a4c64"],"x":525,"y":1500,"wires":[["8ecce404.876938"]]},{"id":"4f7d7d5d.f0e5c4","type":"comment","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"Configuración Salidas analógicas","info":"","x":2210,"y":2270,"wires":[]},{"id":"f5cf8d1a.deec8","type":"function","z":"e86f0ca4.7feb5","g":"b974d4b3.9e3f78","name":"Salidas Digitales","func":"var ES = flow.get('ES')||null;\nvar Data = context.get(\"IO\") || { 32:false, 33:false, 34:false, 35:false, 36:false, 37:false, 38:false, 39:false, 40:false, 41:false, 42:false, 43:false};\nvar Drive_Status = global.get('Drive_Status','memoryOnly');\nvar ActFunctions = flow.get('ActFunctions','memoryOnly');\nvar Prot = global.get('Protections.RFlag','memoryOnly');\nvar FA = global.get('Filtro_armonicos.Estado','memoryOnly')||false;\n\n// Arreglo de Canales\nvar Canal = Object.keys(Data); //[32,33,34,35,36,37,38,39,40,41,42,43];\nvar canalmsg;\n//Objeto con las funciones del CILA2S\nvar FuncionC2S = {\n    \"CILA2S_EN_MARCHA\":     Drive_Status.Active == 1 ? true:false ,\n    \"FALLA_GENERAL\":        Drive_Status.Fault  == 1 ? true:false || Prot, \n    \"DISPARO_BREAKER_MODULO_ESD\": InFunction(ActFunctions,'Stop_ESD'),\n    \"BYPASS_FILTRO_ARMONICOS\"   : FA\n}\n\n// Funciones que se activan desde una entrada digital\nfunction InFunction(Var,Str){\n    for(var j = 0; j < Var.length; j++){\n        if(Var[j].Funcion == Str){\n            return Var[j].Estado;\n        }\n    }\n}\n// Llaves del vector FuncionesC2S\nvar Keys = Object.keys(FuncionC2S);\n\n// Para cada canal de salida\nfor(var i=0; i <Canal.length; i++){\n    canalmsg ='Canal'+ Canal[i];\n    // Si la configuración del canal está declarada\n    if(typeof ES.SD[canalmsg] != 'undefined'){\n        // Para cada llave del vector FuncionesC2S que coincida con la configuración del canal\n        for(var j=0; j<Keys.length; j++){\n            //node.send({ciclofor: canalmsg+\" \"+ES.SD[canalmsg]});\n            if(ES.SD[canalmsg].Funcion == Keys[j]){\n                // Asignar el valor contenido en el vector de funciones al canal de salida\n                Data[Canal[i]] = FuncionC2S[Keys[j]];\n            } \n        }\n    }\n}\ncontext.set(\"IO\",Data);\n\nvar values = Object.values(Data);\nmsg.payload = { \n    value: values, \n    'fc': 15, \n    'unitid': 1, \n    'address': 4096, \n    'quantity': 12 \n} \nnode.status({fill:\"green\",shape:\"dot\",text:Data});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1610,"y":2340,"wires":[[]],"inputLabels":["Activar función"],"outputLabels":["Canal32"]},{"id":"1ebf6b2.52e8695","type":"change","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Frecuencia","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::PQA.Real_Time_Parameters.Frequency","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3510,"y":220,"wires":[["23a2e534.c227ba"]]},{"id":"609f652a.1629bc","type":"change","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Tensión de fase promedio","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::PQA.Real_Time_Parameters.Average_Phase_Voltage","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":260,"wires":[["ad35e08b.93dd"]]},{"id":"b73ecfac.dd9a5","type":"change","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"Tensión de línea promedio","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::PQA.Real_Time_Parameters.Average_Line_Voltage","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3460,"y":300,"wires":[["b5f98fab.54e65"]]},{"id":"8b8bceb8.c893b","type":"change","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"THD Tensión Promedio","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::PQA.Harmonics.Power_Quality.THD_avg","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":340,"wires":[["767c6edd.e99ef"]]},{"id":"5ffa1ec7.3e093","type":"change","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"THD Corriente Promedio","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::PQA.Harmonics.Power_Quality.THD_Iavg","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":3470,"y":380,"wires":[["61519ed8.7e8ec"]]},{"id":"188fa39a.e3a3ec","type":"template","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Menu Admin","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":" <!-- Navigation Bar -->\n    <div class=\"container align-self-center\">\n        <div class=\"row\">\n            <div class=\"col-12\">\n                <ul class=\"nav nav-tabs nav-fill\" id=\"pills-tab\" role=\"tablist\">\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link active\" id=\"pills-Configurations-tab\" data-toggle=\"pill\" href=\"#pills-Configurations\" role=\"tab\" aria-controls=\"pills-Configurations\" aria-selected=\"true\">Configuración</a>\n                  </li>\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link\" id=\"pills-Trends-tab\" data-toggle=\"pill\" href=\"#pills-Trends\" role=\"tab\" aria-controls=\"pills-Trends\" aria-selected=\"false\">Tendencias</a>\n                  </li>\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link\" id=\"pills-Monitoring-tab\" data-toggle=\"pill\" href=\"#pills-Monitoring\" role=\"tab\" aria-controls=\"pills-Monitoring\" aria-selected=\"false\">Monitoreo</a>\n                  </li>\n                </ul>\n                <div class=\"tab-content\" id=\"pills-tabContent\">\n                    <!-- Configurations -->\n                    <div class=\"tab-pane fade show active\" id=\"pills-Configurations\" role=\"tabpanel\" aria-labelledby=\"pills-Configurations-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <p></p>\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                              <a class=\"nav-link active\" id=\"v-pills-Drive-tab\" data-toggle=\"pill\" href=\"#v-pills-Estandar\" role=\"tab\" aria-controls=\"v-pills-Estandar\" aria-selected=\"true\">Estándar</a>\n                              <a class=\"nav-link\" id=\"v-pills-IO-tab\" data-toggle=\"pill\" href=\"#v-pills-IO\" role=\"tab\" aria-controls=\"v-pills-IO\" aria-selected=\"false\">E/S</a>\n                              <a class=\"nav-link\" id=\"v-pills-Protection-tab\" data-toggle=\"pill\" href=\"#v-pills-Protection\" role=\"tab\" aria-controls=\"v-pills-Protection\" aria-selected=\"false\">Protecciones</a>\n                              <a class=\"nav-link\" id=\"v-pills-Communications-tab\" data-toggle=\"pill\" href=\"#v-pills-Communications\" role=\"tab\" aria-controls=\"v-pills-Communications\" aria-selected=\"false\">Communicationes</a>\n                              <a class=\"nav-link\" id=\"v-pills-Control-tab\" data-toggle=\"pill\" href=\"#v-pills-Control\" role=\"tab\" aria-controls=\"v-pills-Control\" aria-selected=\"false\">Tipo de control</a>\n                              <a class=\"nav-link disabled\" id=\"v-pills-AVAS-tab\" data-toggle=\"pill\" href=\"#v-pills-AVAS\" role=\"tab\" aria-controls=\"v-pills-AVAS\" aria-selected=\"false\">AVAs</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-Estandar\" role=\"tabpanel\" aria-labelledby=\"v-pills-Estandar-tab\">\n                                    <!-- Drive -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/4\" class=\"list-group-item list-group-item-action\">Variador C2S</a>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/5\" class=\"list-group-item list-group-item-action\">Relación de reducción</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/6\" class=\"list-group-item list-group-item-action\">Filtro de armónicos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/7\" class=\"list-group-item list-group-item-action\">Hardware disponible</a>\n                                        <a href=\"http://localhost:1880/ui/#!/8\" class=\"list-group-item list-group-item-action\">Tipo de arranque</a>     <!-- Actualizar pestañas desde aquí -->\n                                        <a href=\"http://localhost:1880/ui/#!/9\" class=\"list-group-item list-group-item-action\">Unidades de ingeniería</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-IO\" role=\"tabpanel\" aria-labelledby=\"v-pills-IO-tab\">\n                                    <!-- IO -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/10\" class=\"list-group-item list-group-item-action\">Swc Pro®</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/10\" class=\"list-group-item list-group-item-action\">CILA2S</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Protection\" role=\"tabpanel\" aria-labelledby=\"v-pills-Protection-tab\">\n                                    <!-- Protection -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/12\" class=\"list-group-item list-group-item-action\">Fondo</a>\n                                        <a href=\"http://localhost:1880/ui/#!/13\" class=\"list-group-item list-group-item-action\">Superficie</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Communications\" role=\"tabpanel\" aria-labelledby=\"v-pills-Communications-tab\">\n                                    <!-- Communications -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/14\" class=\"list-group-item list-group-item-action\">SCADA</a>\n                                        <a href=\"http://localhost:1880/ui/#!/15\" class=\"list-group-item list-group-item-action\">Downhole sensor</a>\n                                        <a href=\"http://localhost:1880/ui/#!/16\" class=\"list-group-item list-group-item-action\">PQA</a>\n                                        <a href=\"http://localhost:1880/ui/#!/17\" class=\"list-group-item list-group-item-action\">C2S</a>\n                                        <a href=\"http://localhost:1880/ui/#!/18\" class=\"list-group-item list-group-item-action\">SWC</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Control\" role=\"tabpanel\" aria-labelledby=\"v-pills-Control-tab\">\n                                    <!-- Control -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/19\" class=\"list-group-item list-group-item-action\">Control inteligente de torque</a>-->\n                                        <!--<a href=\"http://localhost:1880/ui/#!/20\" class=\"list-group-item list-group-item-action\">Control de backspin</a>-->\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-AVAS\" role=\"tabpanel\" aria-labelledby=\"v-pills-AVAS-tab\">\n                                    <!-- Control -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/21\" class=\"list-group-item list-group-item-action\">IWOC®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/22\" class=\"list-group-item list-group-item-action\">Sensor Less®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/23\" class=\"list-group-item list-group-item-action\">Power Sag®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/24\" class=\"list-group-item list-group-item-action\">IRL®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/25\" class=\"list-group-item list-group-item-action\">GasLock®</a>  \n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                  \n                    <!-- Trends -->\n                    <div class=\"tab-pane fade\" id=\"pills-Trends\" role=\"tabpanel\" aria-labelledby=\"pills-Trends-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                              <p></p>\n                              <a class=\"nav-link active\" id=\"v-pills-Surface-tab\" data-toggle=\"pill\" href=\"#v-pills-Surface\" role=\"tab\" aria-controls=\"v-pills-Surface\" aria-selected=\"true\">CILA2S</a>\n                              <a class=\"nav-link\" id=\"v-pills-Downhole-tab\" data-toggle=\"pill\" href=\"#v-pills-Downhole\" role=\"tab\" aria-controls=\"v-pills-Downhole\" aria-selected=\"false\">Sistema de inyección</a>\n                              <a class=\"nav-link\" id=\"v-pills-Multivariable-tab\" data-toggle=\"pill\" href=\"#v-pills-Multivariable\" role=\"tab\" aria-controls=\"v-pills-Multivariable\" aria-selected=\"false\">Multivariable</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-Surface\" role=\"tabpanel\" aria-labelledby=\"v-pills-Surface-tab\">\n                                    <!-- Superficie -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/26\" class=\"list-group-item list-group-item-action\">Datos Operativos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/27\" class=\"list-group-item list-group-item-action\">Eléctricos de entrada</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Downhole\" role=\"tabpanel\" aria-labelledby=\"v-pills-ElectricData-tab\">\n                                    <!-- Fondo -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/28\" class=\"list-group-item list-group-item-action\">Sensor de Fondo</a>\n                                        <a href=\"http://localhost:1880/ui/#!/29\" class=\"list-group-item list-group-item-action\">SensorLess®</a>\n                                    </div>\n                                    \n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Multivariable\" role=\"tabpanel\" aria-labelledby=\"v-pills-DownholeData-tab\">\n                                    <!-- Multivariable -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                     <!-- Monitoring -->\n                    <div class=\"tab-pane fade\" id=\"pills-Monitoring\" role=\"tabpanel\" aria-labelledby=\"pills-Monitoring-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                                <p></p>\n                                <a class=\"nav-link active\" id=\"v-pills-OperativeDataMonitor-tab\" data-toggle=\"pill\" href=\"#v-pills-OperativeDataMonitor\" role=\"tab\" aria-controls=\"v-pills-OperativeDataMonitor\" aria-selected=\"true\">Datos Operativos</a>\n                                <a class=\"nav-link\" id=\"v-pills-ES_Monitoring-tab\" data-toggle=\"pill\" href=\"#v-pills-ES_Monitoring\" role=\"tab\" aria-controls=\"v-pills-ES_Monitoring\" aria-selected=\"false\">E/S</a>\n                                <a class=\"nav-link disabled\" id=\"v-pills-AVASMonitor-tab\" data-toggle=\"pill\" href=\"#v-pills-AVASMonitor\" role=\"tab\" aria-controls=\"v-pills-AVASMonitor\" aria-selected=\"false\">AVA's</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-OperativeDataMonitor\" role=\"tabpanel\" aria-labelledby=\"v-pills-OperativeDataMonitor-tab\">\n                                    <!-- OperativeData -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/31\" class=\"list-group-item list-group-item-action\">Armónicos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/41\" class=\"list-group-item list-group-item-action\">Datos eléctricos</a>\n\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-ES_Monitoring\" role=\"tabpanel\" aria-labelledby=\"v-pills-ES_Monitoring-tab\">\n                                    <!-- E/S Monitoring -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/32\" class=\"list-group-item list-group-item-action\">SWC Pro®</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/33\" class=\"list-group-item list-group-item-action\">CILA2S</a>\n                                    </div>  \n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-AVASMonitor\" role=\"tabpanel\" aria-labelledby=\"v-pills-AVASMonitor-tab\">\n                                    <!-- AVA's monitoring-->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/34\" class=\"list-group-item list-group-item-action\">IWOC®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/35\" class=\"list-group-item list-group-item-action\">Sensor Less®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/36\" class=\"list-group-item list-group-item-action\">Power Sag®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/37\" class=\"list-group-item list-group-item-action\">IRL®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/38\" class=\"list-group-item list-group-item-action\">GasLock®</a>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>","output":"str","x":350,"y":200,"wires":[["4c8b7786.0a4da8"]]},{"id":"4feb0a11.ed3ed4","type":"template","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Menu No user","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":" <!-- Navigation Bar -->\n    <div class=\"container align-self-center\">\n        <div class=\"row\">\n            <div class=\"col-12\">\n                <ul class=\"nav nav-tabs nav-fill\" id=\"pills-tab\" role=\"tablist\">\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link active\" id=\"pills-Configurations-tab\" data-toggle=\"pill\" href=\"#pills-Configurations\" role=\"tab\" aria-controls=\"pills-Configurations\" aria-selected=\"true\">Configuración</a>\n                  </li>\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link\" id=\"pills-Trends-tab\" data-toggle=\"pill\" href=\"#pills-Trends\" role=\"tab\" aria-controls=\"pills-Trends\" aria-selected=\"false\">Tendencias</a>\n                  </li>\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link\" id=\"pills-Monitoring-tab\" data-toggle=\"pill\" href=\"#pills-Monitoring\" role=\"tab\" aria-controls=\"pills-Monitoring\" aria-selected=\"false\">Monitoreo</a>\n                  </li>\n                </ul>\n                <div class=\"tab-content\" id=\"pills-tabContent\">\n                    <!-- Configurations -->\n                    <div class=\"tab-pane fade show active\" id=\"pills-Configurations\" role=\"tabpanel\" aria-labelledby=\"pills-Configurations-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <p></p>\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                              <a class=\"nav-link active\" id=\"v-pills-Drive-tab\" data-toggle=\"pill\" href=\"#v-pills-Estandar\" role=\"tab\" aria-controls=\"v-pills-Estandar\" aria-selected=\"true\">Estándar</a>\n                              <a class=\"nav-link\" id=\"v-pills-IO-tab\" data-toggle=\"pill\" href=\"#v-pills-IO\" role=\"tab\" aria-controls=\"v-pills-IO\" aria-selected=\"false\">E/S</a>\n                              <a class=\"nav-link\" id=\"v-pills-Protection-tab\" data-toggle=\"pill\" href=\"#v-pills-Protection\" role=\"tab\" aria-controls=\"v-pills-Protection\" aria-selected=\"false\">Protecciones</a>\n                              <a class=\"nav-link\" id=\"v-pills-Communications-tab\" data-toggle=\"pill\" href=\"#v-pills-Communications\" role=\"tab\" aria-controls=\"v-pills-Communications\" aria-selected=\"false\">Communicationes</a>\n                              <a class=\"nav-link\" id=\"v-pills-Control-tab\" data-toggle=\"pill\" href=\"#v-pills-Control\" role=\"tab\" aria-controls=\"v-pills-Control\" aria-selected=\"false\">Tipo de control</a>\n                              <a class=\"nav-link disabled\" id=\"v-pills-AVAS-tab\" data-toggle=\"pill\" href=\"#v-pills-AVAS\" role=\"tab\" aria-controls=\"v-pills-AVAS\" aria-selected=\"false\">AVAs</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-Estandar\" role=\"tabpanel\" aria-labelledby=\"v-pills-Estandar-tab\">\n                                    <!-- Drive -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/4\" class=\"list-group-item list-group-item-action disabled\">Variador C2S</a>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/5\" class=\"list-group-item list-group-item-action disabled\">Relación de reducción</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/6\" class=\"list-group-item list-group-item-action disabled\">Filtro de armónicos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/7\" class=\"list-group-item list-group-item-action disabled\">Hardware disponible</a>\n                                        <a href=\"http://localhost:1880/ui/#!/8\" class=\"list-group-item list-group-item-action disabled\">Tipo de arranque</a>\n                                        <a href=\"http://localhost:1880/ui/#!/9\" class=\"list-group-item list-group-item-action disabled\">Unidades de ingeniería</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-IO\" role=\"tabpanel\" aria-labelledby=\"v-pills-IO-tab\">\n                                    <!-- IO -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/10\" class=\"list-group-item list-group-item-action  disabled\">Swc Pro®</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/10\" class=\"list-group-item list-group-item-action disabled\">CILA2S</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Protection\" role=\"tabpanel\" aria-labelledby=\"v-pills-Protection-tab\">\n                                    <!-- Protection -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/12\" class=\"list-group-item list-group-item-action disabled\">Fondo</a>\n                                        <a href=\"http://localhost:1880/ui/#!/13\" class=\"list-group-item list-group-item-action disabled\">Superficie</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Communications\" role=\"tabpanel\" aria-labelledby=\"v-pills-Communications-tab\">\n                                    <!-- Communications -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/14\" class=\"list-group-item list-group-item-action disabled\">SCADA</a>\n                                        <a href=\"http://localhost:1880/ui/#!/15\" class=\"list-group-item list-group-item-action disabled\">Downhole sensor</a>\n                                        <a href=\"http://localhost:1880/ui/#!/16\" class=\"list-group-item list-group-item-action disabled\">PQA</a>\n                                        <a href=\"http://localhost:1880/ui/#!/17\" class=\"list-group-item list-group-item-action disabled\">C2S</a>\n                                        <a href=\"http://localhost:1880/ui/#!/18\" class=\"list-group-item list-group-item-action disabled\">SWC</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Control\" role=\"tabpanel\" aria-labelledby=\"v-pills-Control-tab\">\n                                    <!-- Control -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/19\" class=\"list-group-item list-group-item-action disabled\">Control inteligente de torque</a>-->\n                                        <!--<a href=\"http://localhost:1880/ui/#!/20\" class=\"list-group-item list-group-item-action disabled\">Control de backspin</a>-->\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-AVAS\" role=\"tabpanel\" aria-labelledby=\"v-pills-AVAS-tab\">\n                                    <!-- Control -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/21\" class=\"list-group-item list-group-item-action disabled\">IWOC®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/22\" class=\"list-group-item list-group-item-action disabled\">Sensor Less®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/23\" class=\"list-group-item list-group-item-action disabled\">Power Sag®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/24\" class=\"list-group-item list-group-item-action disabled\">IRL®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/25\" class=\"list-group-item list-group-item-action disabled\">GasLock®</a>  \n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                  \n                    <!-- Trends -->\n                    <div class=\"tab-pane fade\" id=\"pills-Trends\" role=\"tabpanel\" aria-labelledby=\"pills-Trends-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                              <p></p>\n                              <a class=\"nav-link active\" id=\"v-pills-Surface-tab\" data-toggle=\"pill\" href=\"#v-pills-Surface\" role=\"tab\" aria-controls=\"v-pills-Surface\" aria-selected=\"true\">CILA2S</a>\n                              <a class=\"nav-link\" id=\"v-pills-Downhole-tab\" data-toggle=\"pill\" href=\"#v-pills-Downhole\" role=\"tab\" aria-controls=\"v-pills-Downhole\" aria-selected=\"false\">Sistema de inyección</a>\n                              <a class=\"nav-link\" id=\"v-pills-Multivariable-tab\" data-toggle=\"pill\" href=\"#v-pills-Multivariable\" role=\"tab\" aria-controls=\"v-pills-Multivariable\" aria-selected=\"false\">Multivariable</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-Surface\" role=\"tabpanel\" aria-labelledby=\"v-pills-Surface-tab\">\n                                    <!-- Superficie -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/26\" class=\"list-group-item list-group-item-action disabled\">Datos Operativos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/27\" class=\"list-group-item list-group-item-action disabled\">Eléctricos de entrada</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Downhole\" role=\"tabpanel\" aria-labelledby=\"v-pills-ElectricData-tab\">\n                                    <!-- Fondo -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/28\" class=\"list-group-item list-group-item-action disabled\">Sensor de Fondo</a>\n                                        <a href=\"http://localhost:1880/ui/#!/29\" class=\"list-group-item list-group-item-action disabled\">SensorLess®</a>\n                                    </div>\n                                    \n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Multivariable\" role=\"tabpanel\" aria-labelledby=\"v-pills-DownholeData-tab\">\n                                    <!-- Multivariable -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action disabled\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action disabled\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action disabled\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action disabled\">...</a>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                     <!-- Monitoring -->\n                    <div class=\"tab-pane fade\" id=\"pills-Monitoring\" role=\"tabpanel\" aria-labelledby=\"pills-Monitoring-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                                <p></p>\n                                <a class=\"nav-link active\" id=\"v-pills-OperativeDataMonitor-tab\" data-toggle=\"pill\" href=\"#v-pills-OperativeDataMonitor\" role=\"tab\" aria-controls=\"v-pills-OperativeDataMonitor\" aria-selected=\"true\">Datos Operativos</a>\n                                <a class=\"nav-link\" id=\"v-pills-ES_Monitoring-tab\" data-toggle=\"pill\" href=\"#v-pills-ES_Monitoring\" role=\"tab\" aria-controls=\"v-pills-ES_Monitoring\" aria-selected=\"false\">E/S</a>\n                                <a class=\"nav-link disabled\" id=\"v-pills-AVASMonitor-tab\" data-toggle=\"pill\" href=\"#v-pills-AVASMonitor\" role=\"tab\" aria-controls=\"v-pills-AVASMonitor\" aria-selected=\"false\">AVA's</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-OperativeDataMonitor\" role=\"tabpanel\" aria-labelledby=\"v-pills-OperativeDataMonitor-tab\">\n                                    <!-- OperativeData -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/31\" class=\"list-group-item list-group-item-action disabled\">Armónicos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/41\" class=\"list-group-item list-group-item-action disabled\">Datos eléctricos</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-ES_Monitoring\" role=\"tabpanel\" aria-labelledby=\"v-pills-ES_Monitoring-tab\">\n                                    <!-- E/S Monitoring -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/32\" class=\"list-group-item list-group-item-action disabled\">SWC Pro®</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/33\" class=\"list-group-item list-group-item-action disabled\">CILA2S</a>\n                                    </div>  \n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-AVASMonitor\" role=\"tabpanel\" aria-labelledby=\"v-pills-AVASMonitor-tab\">\n                                    <!-- AVA's monitoring-->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/34\" class=\"list-group-item list-group-item-action disabled\">IWOC®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/35\" class=\"list-group-item list-group-item-action disabled\">Sensor Less®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/36\" class=\"list-group-item list-group-item-action disabled\">Power Sag®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/37\" class=\"list-group-item list-group-item-action disabled\">IRL®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/38\" class=\"list-group-item list-group-item-action disabled\">GasLock®</a>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>","output":"str","x":340,"y":160,"wires":[["4c8b7786.0a4da8","730afe4e.63438"]]},{"id":"50c0a40f.f78b9c","type":"template","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Menu Oper","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":" <!-- Navigation Bar -->\n    <div class=\"container align-self-center\">\n        <div class=\"row\">\n            <div class=\"col-12\">\n                <ul class=\"nav nav-tabs nav-fill\" id=\"pills-tab\" role=\"tablist\">\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link active\" id=\"pills-Configurations-tab\" data-toggle=\"pill\" href=\"#pills-Configurations\" role=\"tab\" aria-controls=\"pills-Configurations\" aria-selected=\"true\">Configuración</a>\n                  </li>\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link\" id=\"pills-Trends-tab\" data-toggle=\"pill\" href=\"#pills-Trends\" role=\"tab\" aria-controls=\"pills-Trends\" aria-selected=\"false\">Tendencias</a>\n                  </li>\n                  <li class=\"nav-item\" role=\"presentation\">\n                    <a class=\"nav-link\" id=\"pills-Monitoring-tab\" data-toggle=\"pill\" href=\"#pills-Monitoring\" role=\"tab\" aria-controls=\"pills-Monitoring\" aria-selected=\"false\">Monitoreo</a>\n                  </li>\n                </ul>\n                <div class=\"tab-content\" id=\"pills-tabContent\">\n                    <!-- Configurations -->\n                    <div class=\"tab-pane fade show active\" id=\"pills-Configurations\" role=\"tabpanel\" aria-labelledby=\"pills-Configurations-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <p></p>\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                              <a class=\"nav-link active\" id=\"v-pills-Drive-tab\" data-toggle=\"pill\" href=\"#v-pills-Estandar\" role=\"tab\" aria-controls=\"v-pills-Estandar\" aria-selected=\"true\">Estándar</a>\n                              <a class=\"nav-link\" id=\"v-pills-IO-tab\" data-toggle=\"pill\" href=\"#v-pills-IO\" role=\"tab\" aria-controls=\"v-pills-IO\" aria-selected=\"false\">E/S</a>\n                              <a class=\"nav-link\" id=\"v-pills-Protection-tab\" data-toggle=\"pill\" href=\"#v-pills-Protection\" role=\"tab\" aria-controls=\"v-pills-Protection\" aria-selected=\"false\">Protecciones</a>\n                              <a class=\"nav-link\" id=\"v-pills-Communications-tab\" data-toggle=\"pill\" href=\"#v-pills-Communications\" role=\"tab\" aria-controls=\"v-pills-Communications\" aria-selected=\"false\">Communicationes</a>\n                              <a class=\"nav-link\" id=\"v-pills-Control-tab\" data-toggle=\"pill\" href=\"#v-pills-Control\" role=\"tab\" aria-controls=\"v-pills-Control\" aria-selected=\"false\">Tipo de control</a>\n                              <a class=\"nav-link disabled\" id=\"v-pills-AVAS-tab\" data-toggle=\"pill\" href=\"#v-pills-AVAS\" role=\"tab\" aria-controls=\"v-pills-AVAS\" aria-selected=\"false\">AVAs</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-Estandar\" role=\"tabpanel\" aria-labelledby=\"v-pills-Estandar-tab\">\n                                    <!-- Drive -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/4\" class=\"list-group-item list-group-item-action disabled\">Variador C2S</a>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/5\" class=\"list-group-item list-group-item-action disabled\">Relación de reducción</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/6\" class=\"list-group-item list-group-item-action disabled\">Filtro de armónicos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/7\" class=\"list-group-item list-group-item-action disabled\">Hardware disponible</a>\n                                        <a href=\"http://localhost:1880/ui/#!/8\" class=\"list-group-item list-group-item-action disabled\">Tipo de arranque</a>    <!-- Actualizar pestañas desde aquí -->\n                                        <a href=\"http://localhost:1880/ui/#!/9\" class=\"list-group-item list-group-item-action disabled\">Unidades de ingeniería</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-IO\" role=\"tabpanel\" aria-labelledby=\"v-pills-IO-tab\">\n                                    <!-- IO -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/10\" class=\"list-group-item list-group-item-action  disabled\">Swc Pro®</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/10\" class=\"list-group-item list-group-item-action disabled\">CILA2S</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Protection\" role=\"tabpanel\" aria-labelledby=\"v-pills-Protection-tab\">\n                                    <!-- Protection -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/12\" class=\"list-group-item list-group-item-action disabled\">Fondo</a>\n                                        <a href=\"http://localhost:1880/ui/#!/13\" class=\"list-group-item list-group-item-action disabled\">Superficie</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Communications\" role=\"tabpanel\" aria-labelledby=\"v-pills-Communications-tab\">\n                                    <!-- Communications -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/14\" class=\"list-group-item list-group-item-action disabled\">SCADA</a>\n                                        <a href=\"http://localhost:1880/ui/#!/15\" class=\"list-group-item list-group-item-action disabled\">Downhole sensor</a>\n                                        <a href=\"http://localhost:1880/ui/#!/16\" class=\"list-group-item list-group-item-action disabled\">PQA</a>\n                                        <a href=\"http://localhost:1880/ui/#!/17\" class=\"list-group-item list-group-item-action disabled\">C2S</a>\n                                        <a href=\"http://localhost:1880/ui/#!/18\" class=\"list-group-item list-group-item-action disabled\">SWC</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Control\" role=\"tabpanel\" aria-labelledby=\"v-pills-Control-tab\">\n                                    <!-- Control -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/19\" class=\"list-group-item list-group-item-action disabled\">Control inteligente de torque</a>-->\n                                        <!--<a href=\"http://localhost:1880/ui/#!/20\" class=\"list-group-item list-group-item-action disabled\">Control de backspin</a>-->\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-AVAS\" role=\"tabpanel\" aria-labelledby=\"v-pills-AVAS-tab\">\n                                    <!-- Control -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/21\" class=\"list-group-item list-group-item-action disabled\">IWOC®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/22\" class=\"list-group-item list-group-item-action disabled\">Sensor Less®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/23\" class=\"list-group-item list-group-item-action disabled\">Power Sag®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/24\" class=\"list-group-item list-group-item-action disabled\">IRL®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/25\" class=\"list-group-item list-group-item-action disabled\">GasLock®</a>  \n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                  \n                    <!-- Trends -->\n                    <div class=\"tab-pane fade\" id=\"pills-Trends\" role=\"tabpanel\" aria-labelledby=\"pills-Trends-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                              <p></p>\n                              <a class=\"nav-link active\" id=\"v-pills-Surface-tab\" data-toggle=\"pill\" href=\"#v-pills-Surface\" role=\"tab\" aria-controls=\"v-pills-Surface\" aria-selected=\"true\">CILA2S</a>\n                              <a class=\"nav-link\" id=\"v-pills-Downhole-tab\" data-toggle=\"pill\" href=\"#v-pills-Downhole\" role=\"tab\" aria-controls=\"v-pills-Downhole\" aria-selected=\"false\">Sistema de inyección</a>\n                              <a class=\"nav-link\" id=\"v-pills-Multivariable-tab\" data-toggle=\"pill\" href=\"#v-pills-Multivariable\" role=\"tab\" aria-controls=\"v-pills-Multivariable\" aria-selected=\"false\">Multivariable</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-Surface\" role=\"tabpanel\" aria-labelledby=\"v-pills-Surface-tab\">\n                                    <!-- Superficie -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/26\" class=\"list-group-item list-group-item-action\">Datos Operativos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/27\" class=\"list-group-item list-group-item-action\">Eléctricos de entrada</a>\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Downhole\" role=\"tabpanel\" aria-labelledby=\"v-pills-ElectricData-tab\">\n                                    <!-- Fondo -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/28\" class=\"list-group-item list-group-item-action\">Sensor de Fondo</a>\n                                        <a href=\"http://localhost:1880/ui/#!/29\" class=\"list-group-item list-group-item-action\">SensorLess®</a>\n                                    </div>\n                                    \n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-Multivariable\" role=\"tabpanel\" aria-labelledby=\"v-pills-DownholeData-tab\">\n                                    <!-- Multivariable -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                        <a href=\"#\" class=\"list-group-item list-group-item-action\">...</a>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                     <!-- Monitoring -->\n                    <div class=\"tab-pane fade\" id=\"pills-Monitoring\" role=\"tabpanel\" aria-labelledby=\"pills-Monitoring-tab\">\n                        <div class=\"row\">\n                          <div class=\"col-5\">\n                            <div class=\"nav flex-column nav-pills\" id=\"v-pills-tab\" role=\"tablist\" aria-orientation=\"vertical\">\n                                <p></p>\n                                <a class=\"nav-link active\" id=\"v-pills-OperativeDataMonitor-tab\" data-toggle=\"pill\" href=\"#v-pills-OperativeDataMonitor\" role=\"tab\" aria-controls=\"v-pills-OperativeDataMonitor\" aria-selected=\"true\">Datos Operativos</a>\n                                <a class=\"nav-link\" id=\"v-pills-ES_Monitoring-tab\" data-toggle=\"pill\" href=\"#v-pills-ES_Monitoring\" role=\"tab\" aria-controls=\"v-pills-ES_Monitoring\" aria-selected=\"false\">E/S</a>\n                                <a class=\"nav-link disabled\" id=\"v-pills-AVASMonitor-tab\" data-toggle=\"pill\" href=\"#v-pills-AVASMonitor\" role=\"tab\" aria-controls=\"v-pills-AVASMonitor\" aria-selected=\"false\">AVA's</a>\n                            </div>\n                          </div>\n                          <div class=\"col-7\">\n                            <div class=\"tab-content\" id=\"v-pills-tabContent\">\n                                <div class=\"tab-pane fade show active\" id=\"v-pills-OperativeDataMonitor\" role=\"tabpanel\" aria-labelledby=\"v-pills-OperativeDataMonitor-tab\">\n                                    <!-- OperativeData -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/31\" class=\"list-group-item list-group-item-action\">Armónicos</a>\n                                        <a href=\"http://localhost:1880/ui/#!/41\" class=\"list-group-item list-group-item-action\">Datos eléctricos</a>\n\n                                    </div>\n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-ES_Monitoring\" role=\"tabpanel\" aria-labelledby=\"v-pills-ES_Monitoring-tab\">\n                                    <!-- E/S Monitoring -->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <!--<a href=\"http://localhost:1880/ui/#!/32\" class=\"list-group-item list-group-item-action\">SWC Pro®</a>-->\n                                        <a href=\"http://localhost:1880/ui/#!/33\" class=\"list-group-item list-group-item-action\">CILA2S</a>\n                                    </div>  \n                                </div>\n                                <div class=\"tab-pane fade\" id=\"v-pills-AVASMonitor\" role=\"tabpanel\" aria-labelledby=\"v-pills-AVASMonitor-tab\">\n                                    <!-- AVA's monitoring-->\n                                    <div class=\"list-group list-group-flush\">\n                                        <p></p>\n                                        <a href=\"http://localhost:1880/ui/#!/34\" class=\"list-group-item list-group-item-action\">IWOC®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/35\" class=\"list-group-item list-group-item-action\">Sensor Less®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/36\" class=\"list-group-item list-group-item-action\">Power Sag®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/37\" class=\"list-group-item list-group-item-action\">IRL®</a>\n                                        <a href=\"http://localhost:1880/ui/#!/38\" class=\"list-group-item list-group-item-action\">GasLock®</a>\n                                    </div>\n                                </div>\n                            </div>\n                          </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>","output":"str","x":350,"y":240,"wires":[["4c8b7786.0a4da8"]]},{"id":"8edea7ae.674088","type":"link out","z":"827787d0.ede678","g":"64ff74e5.f4c53c","name":"No user Out","links":["dd807959.9e5a08","bf656c1e.ff84","40b58948.5d5a48"],"x":615,"y":390,"wires":[]},{"id":"33c5f16c.c8a5ae","type":"link out","z":"827787d0.ede678","g":"64ff74e5.f4c53c","name":"Admin Out","links":["5cc2d788.18b678","ba3ec3f7.7f116","b87d8378.fe2aa","6f2053fa.77020c"],"x":615,"y":450,"wires":[]},{"id":"42f85e00.83b314","type":"link out","z":"827787d0.ede678","g":"64ff74e5.f4c53c","name":"Oper Out","links":["30e13f64.16c0d","ba3ec3f7.7f116","b87d8378.fe2aa","6f2053fa.77020c"],"x":615,"y":510,"wires":[]},{"id":"dd807959.9e5a08","type":"link in","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"No user In","links":["8edea7ae.674088"],"x":205,"y":160,"wires":[["4feb0a11.ed3ed4"]]},{"id":"5cc2d788.18b678","type":"link in","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Admin In","links":["33c5f16c.c8a5ae"],"x":205,"y":200,"wires":[["188fa39a.e3a3ec"]]},{"id":"30e13f64.16c0d","type":"link in","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Oper In","links":["42f85e00.83b314"],"x":205,"y":240,"wires":[["50c0a40f.f78b9c"]]},{"id":"a91eace.59d675","type":"complete","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"","scope":["7de51565.2383cc"],"uncaught":false,"x":140,"y":640,"wires":[["21e4fb07.22d804"]]},{"id":"df6fb5ca.5f8af8","type":"subflow:2657da37.013b66","z":"827787d0.ede678","g":"eb91dac5.690838","name":"Usuario","env":[],"x":710,"y":110,"wires":[["7de51565.2383cc"]],"inputLabels":["Input msg"],"outputLabels":["Output msg"]},{"id":"28cd79fb.3dcae6","type":"ui_button","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","group":"a706ea3d.b7fbc8","order":11,"width":3,"height":1,"passthru":true,"label":"Cerrar sesión","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"num","topic":"Cerrar sesión","x":310,"y":110,"wires":[["df6fb5ca.5f8af8","2ffa7be0.763644","2066be8e.5c6832"]]},{"id":"4e159374.20339c","type":"comment","z":"827787d0.ede678","g":"eb91dac5.690838","name":"Acceso a usuarios","info":"","x":160,"y":70,"wires":[]},{"id":"2066be8e.5c6832","type":"ui_text_input","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","label":"Nombre de usuario","tooltip":"","group":"a706ea3d.b7fbc8","order":4,"width":"6","height":"1","passthru":true,"mode":"text","delay":"10","topic":"user","x":500,"y":180,"wires":[["df6fb5ca.5f8af8"]]},{"id":"e04fbd1c.98ffe","type":"ui_button","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","group":"a706ea3d.b7fbc8","order":10,"width":3,"height":1,"passthru":false,"label":"Iniciar sesión","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"Iniciar sesión","x":520,"y":220,"wires":[["df6fb5ca.5f8af8"]]},{"id":"2ffa7be0.763644","type":"ui_text_input","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","label":"Contraseña","tooltip":"","group":"a706ea3d.b7fbc8","order":7,"width":"6","height":"1","passthru":true,"mode":"password","delay":"50","topic":"password","x":520,"y":140,"wires":[["df6fb5ca.5f8af8"]]},{"id":"7de51565.2383cc","type":"debug","z":"827787d0.ede678","g":"eb91dac5.690838","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":840,"y":110,"wires":[]},{"id":"a02a63e4.ca1e3","type":"comment","z":"827787d0.ede678","g":"64ff74e5.f4c53c","name":"Acciones externas usuario","info":"","x":710,"y":340,"wires":[]},{"id":"496f46c9.6e2eb8","type":"change","z":"c8b77ff3.ab501","name":"","rules":[{"t":"set","p":"Run","pt":"flow","to":"true","tot":"bool"},{"t":"set","p":"Reset","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":110,"wires":[["d5c3f10c.5e2e1"]]},{"id":"faf6a9fc.1f3448","type":"change","z":"c8b77ff3.ab501","name":"","rules":[{"t":"set","p":"Run","pt":"flow","to":"false","tot":"bool"},{"t":"set","p":"Reset","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":150,"wires":[["d5c3f10c.5e2e1"]]},{"id":"a92c8835.c15158","type":"change","z":"c8b77ff3.ab501","name":"","rules":[{"t":"set","p":"Reset","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":190,"wires":[["d5c3f10c.5e2e1"]]},{"id":"d5c3f10c.5e2e1","type":"function","z":"c8b77ff3.ab501","name":"LogicCommand","func":"//Buffer\nvar buffer = [0,0,0,0,0,0,0,0,1,0,1,0,1,0,0,0];\n\n//Global variables asignations\nvar Start_Stop  = flow.get(\"Run\");\nvar Direction   = flow.get(\"Direction\");\nvar Reset       = flow.get(\"Reset\")\nvar Command     = 0;\n\n// Start/Stop\nif(Start_Stop === true){buffer[0] = 0;  buffer[1] = 1;} // Start\nelse{                   buffer[0] = 1;  buffer[1] = 0;} // Stop\n\n//Reset\nif(Reset === true){     buffer[3] = 1;}                 // Reset\nelse{                   buffer[3] = 0;}\n\n// Direction\nif(Direction === true){buffer[4] = 0;   buffer[5] = 1;} // Reverse\nelse{                  buffer[4] = 1;   buffer[5] = 0;} // Forward \n\n//Command construction\nfor(var i=0; i<buffer.length; i++){\n    Command += buffer[i] * Math.pow(2, i);\n}\n\n//Mensaje de salida\nif(msg.payload == 'Start'){\n    if(Direction === true){\n        msg.command = \"Arranque 'Reverse'\";\n    }\n    else{\n        msg.command = \"Arranque 'Forward'\";\n    }\n}\nelse if(msg.payload == 'Stop'){\n    msg.command = \"Parada del equipo\";\n}\nelse if(msg.payload == 'Reset'){\n    msg.command = \"Reset del equipo\";\n}\nelse if(msg.payload == 'Forward'){\n    msg.command = \"Cambio sentido de giro a 'Forward'\";\n}\nelse if(msg.payload == 'Reverse'){\n    msg.command = \"Cambio sentido de giro a 'Reverse'\";\n}\n\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n\nmsg.payload = Command;\nmsg.buffer  = buffer;\n\nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":740,"y":190,"wires":[["bfda390e.8957b8"]]},{"id":"e3a323f2.83da5","type":"switch","z":"c8b77ff3.ab501","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Start","vt":"str"},{"t":"eq","v":"Stop","vt":"str"},{"t":"eq","v":"Reset","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":340,"y":150,"wires":[["496f46c9.6e2eb8"],["faf6a9fc.1f3448"],["a92c8835.c15158"]]},{"id":"d411e0cd.a63f9","type":"switch","z":"c8b77ff3.ab501","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"Basic","vt":"str"},{"t":"eq","v":"Direction","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":180,"y":200,"wires":[["e3a323f2.83da5"],["3f954611.0fa83a"]]},{"id":"3f954611.0fa83a","type":"switch","z":"c8b77ff3.ab501","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"eq","v":"1","vt":"num"}],"checkall":"true","repair":false,"outputs":2,"x":340,"y":250,"wires":[["29c6c985.5a6e56"],["1138740f.c6a8fc"]]},{"id":"29c6c985.5a6e56","type":"change","z":"c8b77ff3.ab501","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Forward","tot":"str"},{"t":"set","p":"Direction","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":230,"wires":[["d5c3f10c.5e2e1"]]},{"id":"1138740f.c6a8fc","type":"change","z":"c8b77ff3.ab501","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Reverse","tot":"str"},{"t":"set","p":"Direction","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":270,"wires":[["d5c3f10c.5e2e1"]]},{"id":"bfda390e.8957b8","type":"change","z":"c8b77ff3.ab501","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"command","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":950,"y":240,"wires":[[]]},{"id":"fecfa2a0.5ca25","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"b1b1e40e.b6b5b8","name":"Navbar Configuración-Estándar-Tipo_de_arranque","order":1,"width":12,"height":1,"format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":490,"y":650,"wires":[[]]},{"id":"430e037a.b0c2ec","type":"change","z":"e6caea2d.94f508","name":"Read command","rules":[{"t":"set","p":"payload","pt":"msg","to":"python -m cpppo.server.enip.get_attribute '@0x93/+++/10' -S -a IP","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"+++","fromt":"str","to":"Parameter","tot":"env"},{"t":"change","p":"payload","pt":"msg","from":"IP","fromt":"str","to":"IP","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":210,"y":70,"wires":[["bb5d72d2.8bb36"]]},{"id":"bb5d72d2.8bb36","type":"exec","z":"e6caea2d.94f508","command":"","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":360,"y":70,"wires":[["977ba8de.b9cf38"],[],[]]},{"id":"977ba8de.b9cf38","type":"function","z":"e6caea2d.94f508","name":"","func":"var Datatype = env.get(\"Datatype\");\nvar inicio  = msg.payload.indexOf(\"[\")+1;\nvar fin     = msg.payload.indexOf(\"]\");\nvar array   = msg.payload.slice(inicio,fin);\narray = array.split(',');\nvar intvalue = [];\n\nfor(var i=0; i<array.length; i++){\n    array[i] = parseInt(array[i]);\n    array[i] = array[i] << 8*i;\n    intvalue = intvalue | array[i];\n}\nif(Datatype == \"REAL\"){\n    msg.payload = parseFloat(Int2Float32(intvalue).toFixed(2));\n}\nelse if(Datatype == \"INT\"){\n    msg.payload = parseInt(intvalue);\n}\nreturn msg;\n\n// IEC 754 to Float Function\nfunction Int2Float32(bytes) {\n    var sign = (bytes & 0x80000000) ? -1 : 1;\n    var exponent = ((bytes >> 23) & 0xFF) - 127;\n    var significand = (bytes & ~(-1 << 23));\n\n    if (exponent == 128) \n        return sign * ((significand) ? Number.NaN : Number.POSITIVE_INFINITY);\n\n    if (exponent == -127) {\n        if (significand === 0) return sign * 0.0;\n        exponent = -126;\n        significand /= (1 << 22);\n    } else significand = (significand | (1 << 23)) / (1 << 23);\n\n    return sign * significand * Math.pow(2, exponent);\n}\n// Créditos: https://flows.nodered.org/flow/359ead34237b7ab6ec0465ee85a34b62","outputs":1,"noerr":0,"initialize":"","finalize":"","x":490,"y":60,"wires":[[]]},{"id":"645e5a91.8ccef4","type":"ui_text_input","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","label":"Rampa de aceleración","tooltip":"","group":"971dcd1e.a04d5","order":3,"width":4,"height":1,"passthru":true,"mode":"number","delay":"100","topic":"Accel","x":641,"y":180,"wires":[["2709f5cf.b4e16a"]]},{"id":"faa40213.086fa","type":"ui_text_input","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","label":"Rampa de desaceleración","tooltip":"","group":"971dcd1e.a04d5","order":6,"width":4,"height":1,"passthru":true,"mode":"number","delay":"100","topic":"","x":651,"y":260,"wires":[["3ca6161d.651d6a"]]},{"id":"ebeef8ea.3def58","type":"ui_text_input","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","label":"Límite mínimo","tooltip":"","group":"53f5e611.7d5b48","order":3,"width":4,"height":1,"passthru":true,"mode":"number","delay":"100","topic":"","x":641,"y":340,"wires":[["1358ba12.db4f76"]]},{"id":"7b0522e.ed903dc","type":"ui_text_input","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","label":"Límite máximo","tooltip":"","group":"53f5e611.7d5b48","order":6,"width":4,"height":1,"passthru":true,"mode":"number","delay":"100","topic":"","x":641,"y":420,"wires":[["40fde4de.c5c06c"]]},{"id":"2163239b.5a9bbc","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Accel","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.Accel","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":371,"y":180,"wires":[["645e5a91.8ccef4"]]},{"id":"2498ec05.7284b4","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Decel Time 1","env":[{"name":"Parameter","value":"537","type":"num"}],"x":1840,"y":220,"wires":[[]]},{"id":"e5c3bbc0.8b2998","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Decel","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.Decel","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":371,"y":260,"wires":[["faa40213.086fa"]]},{"id":"e89aec53.9b1b1","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"MinLimit","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.MinLimit","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":381,"y":340,"wires":[["ebeef8ea.3def58"]]},{"id":"319a607a.54c89","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Min Limit Fwd","env":[{"name":"Parameter","value":"522","type":"num"}],"x":1830,"y":270,"wires":[[]]},{"id":"7048ef53.1fd6f","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Max Limit Fwd","env":[{"name":"Parameter","value":"520","type":"num"}],"x":1830,"y":350,"wires":[[]]},{"id":"d59b7b28.be0e68","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"MaxLimit","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.MaxLimit","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":381,"y":420,"wires":[["7b0522e.ed903dc"]]},{"id":"15ff1b61.43bc65","type":"comment","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Rampas y Límites","info":"","x":411,"y":140,"wires":[]},{"id":"2709f5cf.b4e16a","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","rules":[{"t":"set","p":"Speed_Control.Accel","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":971,"y":180,"wires":[[]]},{"id":"3ca6161d.651d6a","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","rules":[{"t":"set","p":"Speed_Control.Decel","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":971,"y":260,"wires":[[]]},{"id":"1358ba12.db4f76","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","rules":[{"t":"set","p":"Speed_Control.MinLimit","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":340,"wires":[[]]},{"id":"40fde4de.c5c06c","type":"change","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"","rules":[{"t":"set","p":"Speed_Control.MaxLimit","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":420,"wires":[[]]},{"id":"acaa43fe.71bfa","type":"ui_button","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"","group":"971dcd1e.a04d5","order":10,"width":4,"height":1,"passthru":false,"label":"Confirmar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1220,"y":180,"wires":[["b559fab2.66fd28","df9eb38c.fa6d7"]]},{"id":"b559fab2.66fd28","type":"change","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Send Accel","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.Accel","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":180,"wires":[["4d7667fd.f49138"]]},{"id":"df9eb38c.fa6d7","type":"change","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Send Decel","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.Decel","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":220,"wires":[["2498ec05.7284b4"]]},{"id":"f7f45d3a.6e4e4","type":"ui_button","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"","group":"53f5e611.7d5b48","order":10,"width":4,"height":1,"passthru":false,"label":"Confirmar","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":1220,"y":270,"wires":[["c104f9d3.1b01d8","7116aa90.5b13a4","c5a4efe1.dcb16","ee09985d.8da768"]]},{"id":"c104f9d3.1b01d8","type":"change","z":"43b51d90.0b47f4","d":true,"g":"a7e99088.c8108","name":"Send MinLimit","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.MinLimit","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1440,"y":270,"wires":[["319a607a.54c89","9c75f1ec.0814b"]]},{"id":"7116aa90.5b13a4","type":"change","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Send MaxLimit","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.MaxLimit","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1440,"y":350,"wires":[["7048ef53.1fd6f","d4e8aa0c.01c0c8"]]},{"id":"9706da4e.929b28","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Min Lim Rev","env":[{"name":"Parameter","value":"523","type":"num"}],"x":1840,"y":310,"wires":[[]]},{"id":"24d1e786.5ef6e8","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Max Limit Rev","env":[{"name":"Parameter","value":"521","type":"num"}],"x":1830,"y":390,"wires":[[]]},{"id":"4d7667fd.f49138","type":"subflow:1ae6c379.02ea3d","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Accel Time 1","env":[{"name":"Parameter","value":"535","type":"num"}],"x":1840,"y":180,"wires":[[]]},{"id":"9c75f1ec.0814b","type":"function","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Invertir","func":"msg.payload = msg.payload*-1;\nreturn msg;","outputs":1,"noerr":0,"x":1660,"y":310,"wires":[["9706da4e.929b28"]]},{"id":"d4e8aa0c.01c0c8","type":"function","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Invertir","func":"msg.payload = msg.payload*-1;\nreturn msg;","outputs":1,"noerr":0,"x":1660,"y":390,"wires":[["24d1e786.5ef6e8"]]},{"id":"af3b1dcf.9d898","type":"comment","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Rampas y Límites","info":"","x":1310,"y":140,"wires":[]},{"id":"1ee1ef5.793bc11","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Acceleration","env":[{"name":"Parameter","value":"535","type":"num"}],"x":441,"y":220,"wires":[["645e5a91.8ccef4"]]},{"id":"6817551.a1c08ac","type":"switch","z":"43b51d90.0b47f4","g":"8a04702.34fd29","name":"Configuración-Estándar-Drive_C2S","property":"tab","propertyType":"msg","rules":[{"t":"eq","v":"4","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":2280,"y":190,"wires":[["fa33f7fa.bf0bd8"]]},{"id":"fa33f7fa.bf0bd8","type":"link out","z":"43b51d90.0b47f4","g":"8a04702.34fd29","name":"Pantalla Configuración-Estándar-Drive_C2S Link Out","links":["2d0c4fa4.505a8","251a85e5.2591ca","29bb8af3.ae5fa6","885891cc.84f0d","bd852785.499c28","6fe51a99.814d94","664a9d08.0c3cc4","af3a631.a66aea","dc9ea4ba.1aa038","b970befc.5452","e7412dd2.70fb","eb89266c.2d2618","7fd169a3.b2f638","f7031c65.4fe95"],"x":2455,"y":190,"wires":[]},{"id":"2d0c4fa4.505a8","type":"link in","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Accel Link In","links":["fa33f7fa.bf0bd8"],"x":336,"y":220,"wires":[["1ee1ef5.793bc11"]]},{"id":"251a85e5.2591ca","type":"link in","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Decel Link In","links":["fa33f7fa.bf0bd8"],"x":336,"y":300,"wires":[["75cd2afc.41fc44"]]},{"id":"75cd2afc.41fc44","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Deceleration","env":[{"name":"Parameter","value":"537","type":"num"}],"x":441,"y":300,"wires":[["faa40213.086fa"]]},{"id":"29bb8af3.ae5fa6","type":"link in","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Min Limit","links":["fa33f7fa.bf0bd8"],"x":336,"y":380,"wires":[["75279853.2d0538","e89aec53.9b1b1"]]},{"id":"75279853.2d0538","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","d":true,"g":"6cdd72bc.8124cc","name":"Min Limit","env":[{"name":"Parameter","value":"522","type":"num"}],"x":431,"y":380,"wires":[["ebeef8ea.3def58"]]},{"id":"885891cc.84f0d","type":"link in","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Max Limit","links":["fa33f7fa.bf0bd8"],"x":336,"y":460,"wires":[["f75e195a.cf9c28"]]},{"id":"f75e195a.cf9c28","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"6cdd72bc.8124cc","name":"Max Limit","env":[{"name":"Parameter","value":"520","type":"num"}],"x":431,"y":460,"wires":[["7b0522e.ed903dc"]]},{"id":"bd852785.499c28","type":"link in","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","links":["fa33f7fa.bf0bd8"],"x":336,"y":682,"wires":[["9e18b5a9.e943a8"]]},{"id":"9e18b5a9.e943a8","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Voltage","env":[{"name":"Parameter","value":"25","type":"num"}],"x":431,"y":682,"wires":[["b97c0cba.aea3"]]},{"id":"6fe51a99.814d94","type":"link in","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","links":["fa33f7fa.bf0bd8"],"x":336,"y":762,"wires":[["8a16b6f8.4cab88"]]},{"id":"8a16b6f8.4cab88","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Amps","env":[{"name":"Parameter","value":"26","type":"num"}],"x":421,"y":762,"wires":[["625acf36.28ca1"]]},{"id":"664a9d08.0c3cc4","type":"link in","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","links":["fa33f7fa.bf0bd8"],"x":336,"y":842,"wires":[["74e19d32.06a044"]]},{"id":"74e19d32.06a044","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Hertz","env":[{"name":"Parameter","value":"27","type":"num"}],"x":421,"y":842,"wires":[["52666b13.2f23b4"]]},{"id":"af3a631.a66aea","type":"link in","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","links":["fa33f7fa.bf0bd8"],"x":336,"y":922,"wires":[["8a96dde9.7f1ce"]]},{"id":"8a96dde9.7f1ce","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"RPM","env":[{"name":"Parameter","value":"28","type":"num"}],"x":421,"y":922,"wires":[["9fce2d60.4554b"]]},{"id":"dc9ea4ba.1aa038","type":"link in","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","links":["fa33f7fa.bf0bd8"],"x":336,"y":1002,"wires":[["1be8989c.a5ad57"]]},{"id":"1be8989c.a5ad57","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Power","env":[{"name":"Parameter","value":"30","type":"num"}],"x":421,"y":1002,"wires":[["a5bfded0.8a3cf"]]},{"id":"b970befc.5452","type":"link in","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","links":["fa33f7fa.bf0bd8"],"x":336,"y":1082,"wires":[["b71d8a2b.54dcc8"]]},{"id":"b71d8a2b.54dcc8","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Poles","env":[{"name":"Parameter","value":"31","type":"num"},{"name":"Datatype","value":"INT","type":"str"}],"x":421,"y":1082,"wires":[["dc569dcc.729"]]},{"id":"e7412dd2.70fb","type":"link in","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"","links":["fa33f7fa.bf0bd8"],"x":336,"y":1162,"wires":[["3ac432d5.f6b63e"]]},{"id":"3ac432d5.f6b63e","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"27c43941.e9e0c6","name":"Power_Units","env":[{"name":"Parameter","value":"29","type":"num"},{"name":"Datatype","value":"INT","type":"str"}],"x":441,"y":1162,"wires":[["c3259a58.4fe088"]]},{"id":"eb89266c.2d2618","type":"link in","z":"43b51d90.0b47f4","d":true,"g":"c41a251e.427c98","name":"","links":["fa33f7fa.bf0bd8"],"x":335,"y":1384,"wires":[["45c17b29.d24c94"]]},{"id":"45c17b29.d24c94","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","d":true,"g":"c41a251e.427c98","name":"Start_Acc_Boost","env":[{"name":"Parameter","value":"60","type":"num"}],"x":460,"y":1384,"wires":[["5c27d2c5.3f268c"]]},{"id":"7fd169a3.b2f638","type":"link in","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","links":["fa33f7fa.bf0bd8"],"x":335,"y":1464,"wires":[["ba716101.086bd"]]},{"id":"ba716101.086bd","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"Break_Voltage","env":[{"name":"Parameter","value":"62","type":"num"}],"x":450,"y":1464,"wires":[["9b007129.593e9"]]},{"id":"f7031c65.4fe95","type":"link in","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"","links":["fa33f7fa.bf0bd8"],"x":335,"y":1554,"wires":[["4305893.7fd6878"]]},{"id":"4305893.7fd6878","type":"subflow:e6caea2d.94f508","z":"43b51d90.0b47f4","g":"c41a251e.427c98","name":"Break_Frequency","env":[{"name":"Parameter","value":"63","type":"num"}],"x":460,"y":1554,"wires":[["d290dc22.ecd03"]]},{"id":"824358e3.5e87b8","type":"comment","z":"43b51d90.0b47f4","g":"8a04702.34fd29","name":"Acceso a pantalla de configuración drive C2S","info":"","x":2165,"y":116,"wires":[]},{"id":"c5a4efe1.dcb16","type":"link out","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Send Limits Out","links":["367f4f35.fb249"],"x":1375,"y":390,"wires":[]},{"id":"fce43241.9e843","type":"function","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"LimitesVelocidad","func":"var Velocidad = global.get(\"Speed_Control\");\n\nvar Min = Velocidad.MinLimit;\nvar Max = Velocidad.MaxLimit;\n\nif(msg.payload > Max){\n    msg.payload = Max;\n}\nelse if(msg.payload < Min){\n    msg.payload = Min;\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":560,"y":310,"wires":[["3cc764fd.7e58cc"]]},{"id":"e1b497b2.06f878","type":"inject","z":"43b51d90.0b47f4","g":"8a04702.34fd29","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":2365,"y":156,"wires":[["fa33f7fa.bf0bd8"]]},{"id":"8253c33e.847cf","type":"function","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"Última referencia","func":"if(typeof msg.payload == 'number'){\n    context.set(\"Ref\",msg.payload);\n}\nelse if(typeof msg.payload == 'boolean' && msg.topic == 'Send'){\n    global.set(\"Ultima_Referencia\",context.get('Ref'));\n}\nreturn;","outputs":0,"noerr":0,"initialize":"","finalize":"","x":960,"y":390,"wires":[]},{"id":"40526d49.cc9b14","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"TemperaturaEntrada","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Vibración_general\",\t                \"Configuración-Protecciones-Fondo_Vibración_general_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor_actual\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones\"        \t       ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1380,"y":440,"wires":[["1882018b.4d179e"]]},{"id":"d4249aea.7ecbb8","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"PresionEntrada","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Vibración_general\",\t                \"Configuración-Protecciones-Fondo_Vibración_general_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor_actual\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones\"\t       ]\t   }\t}\t\t","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":400,"wires":[["1882018b.4d179e"]]},{"id":"39224b5b.70cb94","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"PresionDescarga","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Vibración_general\",\t                \"Configuración-Protecciones-Fondo_Vibración_general_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor_actual\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones\"\t       ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":480,"wires":[["1882018b.4d179e"]]},{"id":"1637aff7.4bd9e","type":"inject","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":1130,"y":440,"wires":[["d4249aea.7ecbb8"]]},{"id":"284df00f.87b86","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Temperatura de descarga","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Vibración_general\",\t                \"Configuración-Protecciones-Fondo_Vibración_general_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor_actual\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga_actual\",\t                \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"\t                \t       ],\t       \"show\":[ \t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones\"\t        ]\t                \t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1390,"y":520,"wires":[["1882018b.4d179e"]]},{"id":"560686d1.a385a8","type":"ui_template","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","group":"896be3ec.eb491","name":"Menú Protecciones","order":1,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-PresionEntrada-tab\" data-toggle=\"tab\" href=\"#nav-PresionEntrada\" role=\"tab\" aria-controls=\"nav-PresionEntrada\" aria-selected=\"true\" ng-click=\"send({payload:PresionEntrada()})\">Presión entrada</a>\n        <a class=\"nav-item nav-link\" id=\"nav-TemperaturaEntrada-tab\" data-toggle=\"tab\" href=\"#nav-TemperaturaEntrada\" role=\"tab\" aria-controls=\"nav-TemperaturaEntrada\" aria-selected=\"false\" ng-click=\"send({payload:TemperaturaEntrada()})\">Temperatura Entrada</a>\n        <a class=\"nav-item nav-link\" id=\"nav-PresionDescarga-tab\" data-toggle=\"tab\" href=\"#nav-PresionDescarga\" role=\"tab\" aria-controls=\"nav-PresionDescarga\" aria-selected=\"false\" ng-click=\"send({payload:PresionDescarga()})\">Presión descarga</a>\n        <a class=\"nav-item nav-link\" id=\"nav-TemperaturaDescarga-tab\" data-toggle=\"tab\" href=\"#nav-TemperaturaDescarga\" role=\"tab\" aria-controls=\"nav-TemperaturaDescarga\" aria-selected=\"false\" ng-click=\"send({payload:TemperaturaDescarga()})\">Temperatura descarga</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Menu2\" data-toggle=\"tab\" href=\"nav-Menu2\" role=\"tab\" aria-controls=\"nav-Menu2\" aria-selected=\"false\" ng-click=\"send({payload:Menu2()})\">\n            <img src=\"http://localhost:1880/bootstrap-icons/icons/caret-right-square.svg\" alt=\"\" width=\"20\" height=\"20\"> \n        </a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.PresionEntrada = function() { return \"PresionEntrada\"; };\n        this.scope.TemperaturaEntrada = function() { return \"TemperaturaEntrada\"; };\n        this.scope.PresionDescarga = function() { return \"PresionDescarga\"; };\n        this.scope.TemperaturaDescarga = function() { return \"TemperaturaDescarga\"; };\n        this.scope.Menu2 = function() { return \"Menu2\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":970,"y":500,"wires":[["b0e2a79d.a2fa38"]]},{"id":"b0e2a79d.a2fa38","type":"switch","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"PresionEntrada","vt":"str"},{"t":"eq","v":"TemperaturaEntrada","vt":"str"},{"t":"eq","v":"PresionDescarga","vt":"str"},{"t":"eq","v":"TemperaturaDescarga","vt":"str"},{"t":"eq","v":"Menu2","vt":"str"}],"checkall":"true","repair":false,"outputs":5,"x":1150,"y":500,"wires":[["d4249aea.7ecbb8"],["40526d49.cc9b14"],["39224b5b.70cb94"],["284df00f.87b86"],["98b87f1c.386a4"]]},{"id":"d7816a62.f2ef78","type":"comment","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Menu Protecciones Fondo","info":"","x":980,"y":360,"wires":[]},{"id":"8d721bd4.965938","type":"ui_template","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","group":"90d3dd63.5cfad","name":"Menú Protecciones 2","order":1,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link\" id=\"nav-Menu\" data-toggle=\"tab\" href=\"nav-Menu\" role=\"tab\" aria-controls=\"nav-Menu\" aria-selected=\"false\" ng-click=\"send({payload:Menu()})\">\n            <img src=\"http://localhost:1880/bootstrap-icons/icons/caret-left-square.svg\" alt=\"\" width=\"20\" height=\"20\"> \n        </a>\n        <a class=\"nav-item nav-link\" id=\"nav-Vibracion-tab\" data-toggle=\"tab\" href=\"#nav-Vibracion\" role=\"tab\" aria-controls=\"nav-Vibracion\" aria-selected=\"true\" ng-click=\"send({payload:Vibracion()})\">Vibración</a>\n        <a class=\"nav-item nav-link\" id=\"nav-TemperaturaMotor-tab\" data-toggle=\"tab\" href=\"#nav-TemperaturaMotor\" role=\"tab\" aria-controls=\"nav-TemperaturaMotor\" aria-selected=\"false\" ng-click=\"send({payload:TemperaturaMotor()})\">Temperatura motor</a>\n        <a class=\"nav-item nav-link\" id=\"nav-CorrienteFuga-tab\" data-toggle=\"tab\" href=\"#nav-CorrienteFuga\" role=\"tab\" aria-controls=\"nav-CorrienteFuga\" aria-selected=\"false\" ng-click=\"send({payload:CorrienteFuga()})\">Corriente fuga</a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.Vibracion = function() { return \"Vibracion\"; };\n        this.scope.TemperaturaMotor = function() { return \"TemperaturaMotor\"; };\n        this.scope.CorrienteFuga = function() { return \"CorrienteFuga\"; };\n        this.scope.Menu = function() { return \"Menu\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":980,"y":670,"wires":[["85a449e3.6bf2d8"]]},{"id":"fdbff94e.9b8b48","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"TemperaturaMotor","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Vibración_general\",\t                \"Configuración-Protecciones-Fondo_Vibración_general_actual\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Temperatura_de_motor\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"\t                ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":650,"wires":[["1882018b.4d179e"]]},{"id":"e4281529.e777b8","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Vibración","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor_actual\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones\"\t                \t       \t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Vibración_general\",\t                \"Configuración-Protecciones-Fondo_Vibración_general_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"\t       ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1340,"y":610,"wires":[["1882018b.4d179e"]]},{"id":"90f4ad13.35a65","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"CorrienteFuga","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga_actual\",\t                \"Configuración-Protecciones-Fondo_Vibración_general\",\t                \"Configuración-Protecciones-Fondo_Vibración_general_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_motor_actual\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones\"\t       ],\t       \"show\":[ \t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga\",\t                \"Configuración-Protecciones-Fondo_Corriente_de_fuga_actual\",\t                \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"\t                ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":690,"wires":[["1882018b.4d179e"]]},{"id":"85a449e3.6bf2d8","type":"switch","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Vibracion","vt":"str"},{"t":"eq","v":"TemperaturaMotor","vt":"str"},{"t":"eq","v":"CorrienteFuga","vt":"str"},{"t":"eq","v":"Menu","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":1150,"y":670,"wires":[["e4281529.e777b8"],["fdbff94e.9b8b48"],["90f4ad13.35a65"],["9ec47908.11be28"]]},{"id":"98b87f1c.386a4","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Ocultar Navegación protecciones","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Navegación_protecciones\"],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1420,"y":560,"wires":[["1882018b.4d179e"]]},{"id":"9ec47908.11be28","type":"change","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Ocultar Navegación protecciones 2","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Navegación_protecciones_2\"],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Navegación_protecciones\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1420,"y":730,"wires":[["1882018b.4d179e"]]},{"id":"b4849b66.3cb828","type":"change","z":"5ef5b1ce.d3899","g":"5073e01d.10857","name":"Modbus RTU RS-485","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1340,"y":1110,"wires":[["1981cd18.e62913"]]},{"id":"53b720f4.9bf81","type":"change","z":"5ef5b1ce.d3899","g":"5073e01d.10857","name":"Modbus TCP","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1310,"y":1070,"wires":[["1981cd18.e62913"]]},{"id":"ffff58c2.e3d6f8","type":"change","z":"5ef5b1ce.d3899","g":"5073e01d.10857","name":"Modbus RTU RS-232","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Presión_de_descarga\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1340,"y":1150,"wires":[["1981cd18.e62913"]]},{"id":"b55b0e4.10acff","type":"inject","z":"5ef5b1ce.d3899","g":"5073e01d.10857","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":1140,"y":1060,"wires":[["53b720f4.9bf81"]]},{"id":"37c41387.a53fcc","type":"ui_template","z":"5ef5b1ce.d3899","g":"5073e01d.10857","group":"56b03a99.1007f4","name":"Menú Comunicaciones","order":4,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-TCP-tab\" data-toggle=\"tab\" href=\"#nav-TCP\" role=\"tab\" aria-controls=\"nav-TCP\" aria-selected=\"true\" ng-click=\"send({payload:TCP()})\">Modbus TCP</a>\n        <a class=\"nav-item nav-link\" id=\"nav-RS485-tab\" data-toggle=\"tab\" href=\"#nav-RS485\" role=\"tab\" aria-controls=\"nav-RS485\" aria-selected=\"false\" ng-click=\"send({payload:RS485()})\">Modbus RS-485</a>\n        <a class=\"nav-item nav-link\" id=\"nav-RS232-tab\" data-toggle=\"tab\" href=\"#nav-RS232\" role=\"tab\" aria-controls=\"nav-RS232\" aria-selected=\"false\" ng-click=\"send({payload:RS232()})\">Modbus RS-232</a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.TCP = function() { return \"TCP\"; };\n        this.scope.RS485 = function() { return \"RS485\"; };\n        this.scope.RS232 = function() { return \"RS232\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":980,"y":1110,"wires":[["dcddb7c0.bb3808"]]},{"id":"dcddb7c0.bb3808","type":"switch","z":"5ef5b1ce.d3899","g":"5073e01d.10857","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"TCP","vt":"str"},{"t":"eq","v":"RS485","vt":"str"},{"t":"eq","v":"RS232","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":1160,"y":1110,"wires":[["53b720f4.9bf81"],["b4849b66.3cb828"],["ffff58c2.e3d6f8"]]},{"id":"52e99374.8d9b7c","type":"comment","z":"5ef5b1ce.d3899","g":"5073e01d.10857","name":"Menu Comunicaciones SCADA","info":"","x":1000,"y":1010,"wires":[]},{"id":"ee90f6c1.5a99f8","type":"change","z":"5ef5b1ce.d3899","g":"d7658545.b7ac78","name":"Modbus RTU RS-485","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1340,"y":1340,"wires":[["ea1ac6a6.fda178"]]},{"id":"41cc9ffc.297bf","type":"change","z":"5ef5b1ce.d3899","g":"d7658545.b7ac78","name":"Modbus TCP","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1310,"y":1300,"wires":[["ea1ac6a6.fda178"]]},{"id":"22dfd5b.e159b2a","type":"change","z":"5ef5b1ce.d3899","g":"d7658545.b7ac78","name":"Modbus RTU RS-232","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Presión_de_descarga\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1340,"y":1380,"wires":[["ea1ac6a6.fda178"]]},{"id":"c2f60f02.6ba29","type":"inject","z":"5ef5b1ce.d3899","g":"d7658545.b7ac78","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":1140,"y":1290,"wires":[["41cc9ffc.297bf"]]},{"id":"4386dd07.771724","type":"ui_template","z":"5ef5b1ce.d3899","g":"d7658545.b7ac78","group":"7b7ba0c5.453ea","name":"Menú Comunicaciones","order":4,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-TCP-tab\" data-toggle=\"tab\" href=\"#nav-TCP\" role=\"tab\" aria-controls=\"nav-TCP\" aria-selected=\"true\" ng-click=\"send({payload:TCP()})\">Modbus TCP</a>\n        <a class=\"nav-item nav-link\" id=\"nav-RS485-tab\" data-toggle=\"tab\" href=\"#nav-RS485\" role=\"tab\" aria-controls=\"nav-RS485\" aria-selected=\"false\" ng-click=\"send({payload:RS485()})\">Modbus RS-485</a>\n        <a class=\"nav-item nav-link\" id=\"nav-RS232-tab\" data-toggle=\"tab\" href=\"#nav-RS232\" role=\"tab\" aria-controls=\"nav-RS232\" aria-selected=\"false\" ng-click=\"send({payload:RS232()})\">Modbus RS-232</a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.TCP = function() { return \"TCP\"; };\n        this.scope.RS485 = function() { return \"RS485\"; };\n        this.scope.RS232 = function() { return \"RS232\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":980,"y":1340,"wires":[["28de6154.35098e"]]},{"id":"28de6154.35098e","type":"switch","z":"5ef5b1ce.d3899","g":"d7658545.b7ac78","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"TCP","vt":"str"},{"t":"eq","v":"RS485","vt":"str"},{"t":"eq","v":"RS232","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":1160,"y":1340,"wires":[["41cc9ffc.297bf"],["ee90f6c1.5a99f8"],["22dfd5b.e159b2a"]]},{"id":"8b1545c1.108318","type":"comment","z":"5ef5b1ce.d3899","g":"d7658545.b7ac78","name":"Menu Comunicaciones Sensor de fondo","info":"","x":1030,"y":1240,"wires":[]},{"id":"2499f70f.806ab8","type":"switch","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"EntradasDigitales","vt":"str"},{"t":"eq","v":"EntradasAnalogicas","vt":"str"},{"t":"eq","v":"SalidasDigitales","vt":"str"},{"t":"eq","v":"SalidasAnalogicas","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":1120,"y":1860,"wires":[["c1f7c147.2e2dd"],["98ed183e.8031b8"],["950ebf98.9385d"],["8916af0a.61064"]]},{"id":"461615d3.efcb8c","type":"ui_template","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","group":"5d420622.3dd3c8","name":"Menú ES SWCPRO","order":4,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-EntradasDigitales-tab\" data-toggle=\"tab\" href=\"#nav-EntradasDigitales\" role=\"tab\" aria-controls=\"nav-EntradasDigitales\" aria-selected=\"true\" ng-click=\"send({payload:EntradasDigitales()})\">Entradas digitales</a>\n        <a class=\"nav-item nav-link\" id=\"nav-EntradasAnalogicas-tab\" data-toggle=\"tab\" href=\"#nav-EntradasAnalogicas\" role=\"tab\" aria-controls=\"nav-EntradasAnalogicas\" aria-selected=\"false\" ng-click=\"send({payload:EntradasAnalogicas()})\">Entradas analógicas</a>\n        <a class=\"nav-item nav-link\" id=\"nav-SalidasDigitales-tab\" data-toggle=\"tab\" href=\"#nav-SalidasDigitales\" role=\"tab\" aria-controls=\"nav-SalidasDigitales\" aria-selected=\"false\" ng-click=\"send({payload:SalidasDigitales()})\">Salidas digitales</a>\n        <a class=\"nav-item nav-link\" id=\"nav-SalidasAnalogicas-tab\" data-toggle=\"tab\" href=\"#nav-SalidasAnalogicas\" role=\"tab\" aria-controls=\"nav-SalidasAnalogicas\" aria-selected=\"false\" ng-click=\"send({payload:SalidasAnalogicas()})\">Salidas analógicas</a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.EntradasDigitales = function() { return \"EntradasDigitales\"; };\n        this.scope.EntradasAnalogicas = function() { return \"EntradasAnalogicas\"; };\n        this.scope.SalidasDigitales = function() { return \"SalidasDigitales\"; };\n        this.scope.SalidasAnalogicas = function() { return \"SalidasAnalogicas\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":960,"y":1860,"wires":[["2499f70f.806ab8"]]},{"id":"c1f7c147.2e2dd","type":"change","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"Entradas digitales","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-E_S-SWCPRO_Configuración_E.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.A.\",\t                \"Configuración-E_S-SWCPRO_Configuración_S.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.D.\",\t                \"Configuración-E_S-SWCPRO_Configuración_S.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.A.\"],\t       \"show\":[ \"Configuración-E_S-SWCPRO_Configuración_E.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.D.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1290,"y":1800,"wires":[["b0a2cd1a.ab273"]]},{"id":"98ed183e.8031b8","type":"change","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"Entradas analógicas","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-E_S-SWCPRO_Configuración_E.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.D.\",\t                \"Configuración-E_S-SWCPRO_Configuración_S.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.D.\",\t                \"Configuración-E_S-SWCPRO_Configuración_S.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.A.\"],\t       \"show\":[ \"Configuración-E_S-SWCPRO_Configuración_E.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.A.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1300,"y":1840,"wires":[["b0a2cd1a.ab273"]]},{"id":"950ebf98.9385d","type":"change","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"Salidas digitales","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-E_S-SWCPRO_Configuración_E.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.A.\",\t                \"Configuración-E_S-SWCPRO_Configuración_E.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.D.\",\t                \"Configuración-E_S-SWCPRO_Configuración_S.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.A.\"],\t       \"show\":[ \"Configuración-E_S-SWCPRO_Configuración_S.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.D.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1280,"y":1880,"wires":[["b0a2cd1a.ab273"]]},{"id":"8916af0a.61064","type":"change","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"Salidas analógicas","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-E_S-SWCPRO_Configuración_E.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.A.\",\t                \"Configuración-E_S-SWCPRO_Configuración_S.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.D.\",\t                \"Configuración-E_S-SWCPRO_Configuración_E.D.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_E.D.\"],\t       \"show\":[ \"Configuración-E_S-SWCPRO_Configuración_S.A.\",\t                \"Configuración-E_S-SWCPRO_Información_del_canal_S.A.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1290,"y":1920,"wires":[["b0a2cd1a.ab273"]]},{"id":"5a29608d.08d3","type":"switch","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Configuración-E_S-SWCPRO","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1120,"y":1800,"wires":[["c1f7c147.2e2dd"]]},{"id":"63f7b962.2c4718","type":"change","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","name":"Alarmas","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Eventos_Eventos\"\t       ],\t       \"show\":[ \"Eventos_Alarmas\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":1710,"wires":[["f7333c0a.a70d3"]]},{"id":"c01095f3.dc9138","type":"change","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","name":"Eventos","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Eventos_Alarmas\"\t       ],\t       \"show\":[ \"Eventos_Eventos\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":1670,"wires":[["f7333c0a.a70d3"]]},{"id":"a09fb407.50f2e8","type":"inject","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":1170,"y":1650,"wires":[["c01095f3.dc9138"]]},{"id":"6a981814.c37af8","type":"ui_template","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","group":"bc656da7.f93a9","name":"Menú Eventos/Alarmas","order":4,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-Eventos-tab\" data-toggle=\"tab\" href=\"#nav-Eventos\" role=\"tab\" aria-controls=\"nav-Eventos\" aria-selected=\"true\" ng-click=\"send({payload:Eventos()})\">Eventos</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Alarmas-tab\" data-toggle=\"tab\" href=\"#nav-Alarmas\" role=\"tab\" aria-controls=\"nav-Alarmas\" aria-selected=\"false\" ng-click=\"send({payload:Alarmas()})\">Alarmas</a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.Eventos = function() { return \"Eventos\"; };\n        this.scope.Alarmas = function() { return \"Alarmas\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":980,"y":1690,"wires":[["d1fe0838.218468"]]},{"id":"d1fe0838.218468","type":"switch","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Eventos","vt":"str"},{"t":"eq","v":"Alarmas","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1190,"y":1690,"wires":[["c01095f3.dc9138"],["63f7b962.2c4718"]]},{"id":"23826d32.a4beb2","type":"comment","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","name":"Menu Eventos/Alarmas","info":"","x":970,"y":1650,"wires":[]},{"id":"f7333c0a.a70d3","type":"link out","z":"5ef5b1ce.d3899","g":"f78dcb63.bde038","name":"Actualizar Eventos/Alarmas","links":["805762db.d27b7","ebf4df19.2cfb2","ffbe710d.b4cce"],"x":1445,"y":1710,"wires":[]},{"id":"2c748bf2.5eecc4","type":"change","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"C2S","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Main_Datos_de_fondo\",\t                \"Main_Comandos_C2S\",\t                \"Main_Referencia_de_velocidad\",\t                \"Main_Datos_eléctricos\",\t                \"Main_Estado\",\t                \"Main_Control\"\t       ],\t       \"show\":[\"Main_Datos_C2S\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1310,"y":150,"wires":[["99ae3bc8.746f48"]]},{"id":"7beb0f41.ddbf1","type":"change","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"Fondo","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Main_Datos_C2S\",\t                \"Main_Comandos_C2S\",\t                \"Main_Referencia_de_velocidad\",\t                \"Main_Datos_eléctricos\",\t                \"Main_Estado\",\t                \"Main_Control\"\t       ],\t       \"show\":[ \"Main_Datos_de_fondo\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1310,"y":110,"wires":[["99ae3bc8.746f48"]]},{"id":"f21ab34b.181da","type":"change","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"PQA","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Main_Datos_de_fondo\",\t                \"Main_Datos_C2S\",\t                \"Main_Comandos_C2S\",\t                \"Main_Referencia_de_velocidad\",\t                \"Main_Estado\",\t                \"Main_Control\"\t       ],\t       \"show\":[\"Main_Datos_eléctricos\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1310,"y":190,"wires":[["99ae3bc8.746f48"]]},{"id":"835a5415.d3ff58","type":"inject","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":1160,"y":270,"wires":[["7b211215.487a7c"]]},{"id":"7b211215.487a7c","type":"change","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"Comandos C2S","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"show\":[ \"Main_Comandos_C2S\",\t                \"Main_Referencia_de_velocidad\",\t                \"Main_Estado\",\t                \"Main_Control\"\t       ],\t       \"hide\":[ \"Main_Datos_C2S\",\t                \"Main_Datos_de_fondo\",\t                \"Main_Datos_eléctricos\"\t       ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1340,"y":230,"wires":[["99ae3bc8.746f48"]]},{"id":"18c9f1c2.4ccdce","type":"ui_template","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","group":"1115e53d.667bcb","name":"Menú Datos Operativos","order":1,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-ComandosC2S-tab\" data-toggle=\"tab\" href=\"#nav-ComandosC2S\" role=\"tab\" aria-controls=\"nav-ComandosC2S\" aria-selected=\"false\" ng-click=\"send({payload:ComandosC2S()})\">Comandos C2S</a>\n        <a class=\"nav-item nav-link\" id=\"nav-C2S-tab\" data-toggle=\"tab\" href=\"#nav-C2S\" role=\"tab\" aria-controls=\"nav-C2S\" aria-selected=\"false\" ng-click=\"send({payload:C2S()})\">Datos C2S</a>\n        <a class=\"nav-item nav-link\" id=\"nav-electricos-tab\" data-toggle=\"tab\" href=\"#nav-electricos\" role=\"tab\" aria-controls=\"nav-electricos\" aria-selected=\"false\" ng-click=\"send({payload:electricos()})\">Datos eléctricos</a>\n        <!--<a class=\"nav-item nav-link\" id=\"nav-fondo-tab\" data-toggle=\"tab\" href=\"#nav-fondo\" role=\"tab\" aria-controls=\"nav-fondo\" aria-selected=\"true\" ng-click=\"send({payload:fondo()})\">Datos de fondo</a>-->\n      </div>\n    </nav>\n\n    <script>\n        this.scope.fondo = function() { return \"Fondo\"; };\n        this.scope.C2S = function() { return \"C2S\"; };\n        this.scope.electricos = function() { return \"Eléctricos\"; };\n        this.scope.ComandosC2S = function() { return \"ComandosC2S\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":990,"y":170,"wires":[["876da3c9.83763"]]},{"id":"876da3c9.83763","type":"switch","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Fondo","vt":"str"},{"t":"eq","v":"C2S","vt":"str"},{"t":"eq","v":"Eléctricos","vt":"str"},{"t":"eq","v":"ComandosC2S","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":1170,"y":170,"wires":[["7beb0f41.ddbf1"],["2c748bf2.5eecc4"],["f21ab34b.181da"],["7b211215.487a7c"]]},{"id":"2f1c2d62.414502","type":"comment","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"Menu Datos operativos pantalla principal","info":"","x":1030,"y":80,"wires":[]},{"id":"e3c8b897.8efb58","type":"switch","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Main","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1180,"y":230,"wires":[["7b211215.487a7c"]]},{"id":"4db81f03.8c212","type":"change","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"Corriente","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Superficie_Tensión\",\t                \"Configuración-Protecciones-Superficie_Tensión_actual\"\t                ],\t       \"show\":[ \"Configuración-Protecciones-Superficie_Corriente\",\t                \"Configuración-Protecciones-Superficie_Corriente_actual\"\t       ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1260,"y":920,"wires":[["3296d851.080568"]]},{"id":"8392125c.4233b","type":"change","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"Tensión","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Superficie_Corriente\",\t                \"Configuración-Protecciones-Superficie_Corriente_actual\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Superficie_Tensión\",\t                \"Configuración-Protecciones-Superficie_Tensión_actual\"\t                ]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1260,"y":880,"wires":[["3296d851.080568"]]},{"id":"65d13d58.90dd34","type":"inject","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":1100,"y":860,"wires":[["8392125c.4233b"]]},{"id":"5b4e837a.c0700c","type":"ui_template","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","group":"9ae9c438.b36418","name":"Menú Protecciones","order":4,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-Tension-tab\" data-toggle=\"tab\" href=\"#nav-Tension\" role=\"tab\" aria-controls=\"nav-Tension\" aria-selected=\"true\" ng-click=\"send({payload:Tension()})\">Tensión</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Corriente-tab\" data-toggle=\"tab\" href=\"#nav-Corriente\" role=\"tab\" aria-controls=\"nav-Corriente\" aria-selected=\"false\" ng-click=\"send({payload:Corriente()})\">Torque</a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.Tension = function() { return \"Tension\"; };\n        this.scope.Corriente = function() { return \"Corriente\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":960,"y":900,"wires":[["146ca456.d19d9c"]]},{"id":"146ca456.d19d9c","type":"switch","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Tension","vt":"str"},{"t":"eq","v":"Corriente","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1120,"y":900,"wires":[["8392125c.4233b"],["4db81f03.8c212"]]},{"id":"1caa60a7.f415cf","type":"comment","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"Menu Protecciones Superficie","info":"","x":990,"y":820,"wires":[]},{"id":"95cc11.a58333f","type":"change","z":"5ef5b1ce.d3899","g":"f8e8eeb2.3f011","name":"Modbus RTU RS-485","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1410,"y":1520,"wires":[["d795f048.456e2"]]},{"id":"cc3d5da0.39c0b","type":"change","z":"5ef5b1ce.d3899","g":"f8e8eeb2.3f011","name":"Modbus TCP","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Presión_de_descarga\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1380,"y":1480,"wires":[["d795f048.456e2"]]},{"id":"c086da18.9bd4b8","type":"change","z":"5ef5b1ce.d3899","g":"f8e8eeb2.3f011","name":"Modbus RTU RS-232","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Protecciones-Fondo_Presión_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_entrada\",\t                \"Configuración-Protecciones-Fondo_Temperatura_de_descarga\"\t       ],\t       \"show\":[ \"Configuración-Protecciones-Fondo_Presión_de_descarga\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1410,"y":1560,"wires":[["d795f048.456e2"]]},{"id":"931b3d3f.ae5e9","type":"inject","z":"5ef5b1ce.d3899","g":"f8e8eeb2.3f011","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":1210,"y":1470,"wires":[["cc3d5da0.39c0b"]]},{"id":"d3df8b00.b0ac08","type":"ui_template","z":"5ef5b1ce.d3899","g":"f8e8eeb2.3f011","group":"ea9d6f8c.70bbe","name":"Menú Comunicaciones","order":4,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-TCP-tab\" data-toggle=\"tab\" href=\"#nav-TCP\" role=\"tab\" aria-controls=\"nav-TCP\" aria-selected=\"true\" ng-click=\"send({payload:TCP()})\">Modbus TCP</a>\n        <a class=\"nav-item nav-link\" id=\"nav-RS485-tab\" data-toggle=\"tab\" href=\"#nav-RS485\" role=\"tab\" aria-controls=\"nav-RS485\" aria-selected=\"false\" ng-click=\"send({payload:RS485()})\">Modbus RS-485</a>\n        <a class=\"nav-item nav-link\" id=\"nav-RS232-tab\" data-toggle=\"tab\" href=\"#nav-RS232\" role=\"tab\" aria-controls=\"nav-RS232\" aria-selected=\"false\" ng-click=\"send({payload:RS232()})\">Modbus RS-232</a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.TCP = function() { return \"TCP\"; };\n        this.scope.RS485 = function() { return \"RS485\"; };\n        this.scope.RS232 = function() { return \"RS232\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":980,"y":1520,"wires":[["78f40470.e8302c"]]},{"id":"78f40470.e8302c","type":"switch","z":"5ef5b1ce.d3899","g":"f8e8eeb2.3f011","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"TCP","vt":"str"},{"t":"eq","v":"RS485","vt":"str"},{"t":"eq","v":"RS232","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":1230,"y":1520,"wires":[["cc3d5da0.39c0b"],["95cc11.a58333f"],["c086da18.9bd4b8"]]},{"id":"1d5d736d.cff5ad","type":"comment","z":"5ef5b1ce.d3899","g":"f8e8eeb2.3f011","name":"Menu Comunicaciones PQA","info":"","x":990,"y":1470,"wires":[]},{"id":"9c82a3f2.bb49d","type":"change","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","name":"Placa de Motor","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Estándar-Variador_Voltios_Hertz\",\t                \"Configuración-Estándar-Variador_Ramps\",\t                \"Configuración-Estándar-Variador_Limits\",\t                \"Configuración-Estándar-Variador_Escribir_parámetro_C2S\",\t                \"Configuración-Estándar-Variador_Control_de_motor\"],\t                \t       \"show\":[ \"Configuración-Estándar-Variador_Placa_de_motor\"]\t       \t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":2030,"wires":[["fc7e2763.e00d48"]]},{"id":"8aeb1e16.de316","type":"change","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","name":"Ramps y Límites","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Estándar-Variador_Placa_de_motor\",\t                \"Configuración-Estándar-Variador_Voltios_Hertz\",\t                \"Configuración-Estándar-Variador_Escribir_parámetro_C2S\",\t                \"Configuración-Estándar-Variador_Control_de_motor\"],\t       \"show\":[ \"Configuración-Estándar-Variador_Ramps\",\t                \"Configuración-Estándar-Variador_Limits\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":2070,"wires":[["fc7e2763.e00d48"]]},{"id":"fb47c1da.61a69","type":"switch","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"PlacaMotor","vt":"str"},{"t":"eq","v":"RampsLimits","vt":"str"},{"t":"eq","v":"AjustesRefuerzo","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":1040,"y":2060,"wires":[["9c82a3f2.bb49d"],["8aeb1e16.de316"],["a57b470d.7af538"]]},{"id":"d8acaf52.27e43","type":"ui_template","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","group":"1d2ca82d.96c588","name":"Menú ","order":1,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-PlacaMotor-tab\" data-toggle=\"tab\" href=\"#nav-PlacaMotor\" role=\"tab\" aria-controls=\"nav-PlacaMotor\" aria-selected=\"true\" ng-click=\"send({payload:PlacaMotor()})\">Placa de motor</a>\n        <a class=\"nav-item nav-link\" id=\"nav-RampsLimits-tab\" data-toggle=\"tab\" href=\"#nav-RampsLimits\" role=\"tab\" aria-controls=\"nav-RampsLimits\" aria-selected=\"false\" ng-click=\"send({payload:RampsLimits()})\">Rampas y Límites</a>\n        <a class=\"nav-item nav-link\" id=\"nav-AjustesRefuerzo-tab\" data-toggle=\"tab\" href=\"#nav-AjustesRefuerzo\" role=\"tab\" aria-controls=\"nav-AjustesRefuerzo\" aria-selected=\"false\" ng-click=\"send({payload:AjustesRefuerzo()})\">Ajuste de Refuerzo</a>\n    \n      </div>\n    </nav>\n\n    <script>\n        this.scope.PlacaMotor = function() { return \"PlacaMotor\"; };\n        this.scope.RampsLimits = function() { return \"RampsLimits\"; };\n        this.scope.AjustesRefuerzo = function() { return \"AjustesRefuerzo\"; };\n        \n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":920,"y":2060,"wires":[["fb47c1da.61a69"]]},{"id":"a57b470d.7af538","type":"change","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","name":"Ajustes de Refuerzo","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Estándar-Variador_Ramps\",\t                \"Configuración-Estándar-Variador_Placa_de_motor\",\t                \"Configuración-Estándar-Variador_Limits\",\t                \"Configuración-Estándar-Variador_Escribir_parámetro_C2S\",\t                \"Configuración-Estándar-Variador_Control_de_motor\"],\t       \"show\":[ \"Configuración-Estándar-Variador_Voltios_Hertz\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1230,"y":2110,"wires":[["fc7e2763.e00d48"]]},{"id":"e95f6929.281ff8","type":"switch","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Configuración-Estándar-Variador","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1040,"y":2010,"wires":[["9c82a3f2.bb49d"]]},{"id":"ade861c3.eaeb3","type":"ui_template","z":"5ef5b1ce.d3899","g":"8c3082f9.73975","group":"8dad8fe5.e2a3f","name":"Menú ","order":1,"width":12,"height":1,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-ArranqueEscalonado-tab\" data-toggle=\"tab\" href=\"#nav-ArranqueEscalonado\" role=\"tab\" aria-controls=\"nav-ArranqueEscalonado\" aria-selected=\"true\" ng-click=\"send({payload:ArranqueEscalonado()})\">Arranque escalonado</a>\n        <a class=\"nav-item nav-link\" id=\"nav-ReArranque-tab\" data-toggle=\"tab\" href=\"#nav-ReArranque\" role=\"tab\" aria-controls=\"nav-ReArranque\" aria-selected=\"false\" ng-click=\"send({payload:ReArranque()})\">Re Arranque</a>\n        \n    \n      </div>\n    </nav>\n\n    <script>\n        this.scope.ArranqueEscalonado = function() { return \"ArranqueEscalonado\"; };\n        this.scope.ReArranque = function() { return \"ReArranque\"; };\n        \n        \n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":920,"y":2240,"wires":[["b5ae3cf9.8231b"]]},{"id":"64ddd641.711bd8","type":"switch","z":"5ef5b1ce.d3899","g":"8c3082f9.73975","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Configuración-Estándar-Tipo_de_arranque","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1050,"y":2200,"wires":[["30d8ddc4.25e6f2"]]},{"id":"b5ae3cf9.8231b","type":"switch","z":"5ef5b1ce.d3899","g":"8c3082f9.73975","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"ArranqueEscalonado","vt":"str"},{"t":"eq","v":"ReArranque","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1050,"y":2240,"wires":[["30d8ddc4.25e6f2"],["34cfab64.3d4224"]]},{"id":"30d8ddc4.25e6f2","type":"change","z":"5ef5b1ce.d3899","g":"8c3082f9.73975","name":"Arranque Escalonado","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Estándar-Tipo_de_arranque_Habilitar\",\t                \"Configuración-Estándar-Tipo_de_arranque_Rampas_de_Aceleración\",\t                \"Configuración-Estándar-Tipo_de_arranque_Tiempo_de_rearme\",\t                \"Configuración-Estándar-Tipo_de_arranque_No._de_Intentos\"],\t       \"show\":[ \"Configuración-Estándar-Tipo_de_arranque_Arranque_escalonado\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":2220,"wires":[["63ae6ad3.b07874"]]},{"id":"34cfab64.3d4224","type":"change","z":"5ef5b1ce.d3899","g":"8c3082f9.73975","name":"Re Arranque","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Configuración-Estándar-Tipo_de_arranque_Arranque_escalonado\"],\t       \"show\":[ \"Configuración-Estándar-Tipo_de_arranque_Habilitar\",\t                \"Configuración-Estándar-Tipo_de_arranque_Rampas_de_Aceleración\",\t                \"Configuración-Estándar-Tipo_de_arranque_Tiempo_de_rearme\",\t                \"Configuración-Estándar-Tipo_de_arranque_No._de_Intentos\"]\t            }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1220,"y":2260,"wires":[["63ae6ad3.b07874"]]},{"id":"b4e17f62.3736","type":"ui_switch","z":"5ef5b1ce.d3899","g":"215bed4c.7858c2","name":"","label":"°C","tooltip":"","group":"4ea55fc.6175ca","order":2,"width":"3","height":1,"passthru":true,"decouple":"false","topic":"C","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":920,"y":2350,"wires":[[]]},{"id":"e35436c7.11f1b8","type":"ui_switch","z":"5ef5b1ce.d3899","g":"215bed4c.7858c2","name":"","label":"°F","tooltip":"","group":"4ea55fc.6175ca","order":4,"width":"3","height":1,"passthru":true,"decouple":"false","topic":"F","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":920,"y":2390,"wires":[[]]},{"id":"2a671cfc.7a9654","type":"ui_switch","z":"5ef5b1ce.d3899","g":"215bed4c.7858c2","name":"","label":"Bar","tooltip":"","group":"c1488a8e.209f28","order":4,"width":"3","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"false","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"true","offvalueType":"bool","officon":"","offcolor":"","x":920,"y":2560,"wires":[[]]},{"id":"bc3bdaea.54eca8","type":"ui_switch","z":"5ef5b1ce.d3899","g":"215bed4c.7858c2","name":"","label":"psi","tooltip":"","group":"c1488a8e.209f28","order":2,"width":3,"height":1,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":920,"y":2520,"wires":[[]]},{"id":"d265d888.a04558","type":"ui_switch","z":"5ef5b1ce.d3899","g":"215bed4c.7858c2","name":"","label":"Nm","tooltip":"","group":"83526f56.6f63","order":2,"width":3,"height":1,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"false","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"true","offvalueType":"bool","officon":"","offcolor":"","x":920,"y":2480,"wires":[[]]},{"id":"5d9c013e.660f3","type":"ui_switch","z":"5ef5b1ce.d3899","g":"215bed4c.7858c2","name":"","label":"Lbft","tooltip":"","group":"83526f56.6f63","order":4,"width":3,"height":1,"passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":920,"y":2440,"wires":[[]]},{"id":"3dd23d60.3a9252","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"HH DT","label":"Delay [s]","tooltip":"","group":"e149ba57.923428","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":2100,"y":830,"wires":[["4a731ce4.a7a854"]]},{"id":"217a7e83.476b12","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"H DT","label":"Delay [s] ","tooltip":"","group":"e149ba57.923428","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":2100,"y":970,"wires":[["54781f62.2457e"]]},{"id":"5ba4a28e.be396c","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"L DT","label":"Delay [s]","tooltip":"","group":"e149ba57.923428","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":2100,"y":1110,"wires":[["3d5fce47.6c25d2"]]},{"id":"b636759a.1af358","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"54b245d3.9431dc","name":"LL DT","label":"Delay [s]","tooltip":"","group":"e149ba57.923428","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":2100,"y":1250,"wires":[["5798187e.286368"]]},{"id":"de936866.24ffb8","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"HH DT","label":"Delay [s]","tooltip":"","group":"32eaa726.76f2f8","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":2120,"y":1430,"wires":[["516c4379.8b3fdc"]]},{"id":"c3763f57.e2b75","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"H DT","label":"Delay [s] ","tooltip":"","group":"32eaa726.76f2f8","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":2120,"y":1570,"wires":[["92c3216b.2a08e"]]},{"id":"c7c53db4.79034","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"L DT","label":"Delay [s]","tooltip":"","group":"32eaa726.76f2f8","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":2120,"y":1710,"wires":[["696af8b.6cc2208"]]},{"id":"ada97752.874638","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"b7d3914a.2a17","name":"LL DT","label":"Delay [s]","tooltip":"","group":"32eaa726.76f2f8","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":2120,"y":1850,"wires":[["4ce429b2.16f6c8"]]},{"id":"49f4bc47.e792b4","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"HH DT","label":"Delay [s]","tooltip":"","group":"a1a44702.88ed68","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":4040,"y":230,"wires":[["1d496804.d2c2f8"]]},{"id":"b2bf10ae.1293f","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"H DT","label":"Delay [s] ","tooltip":"","group":"a1a44702.88ed68","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":4040,"y":370,"wires":[["4160bf9.173304"]]},{"id":"2a0281a3.689efe","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"L DT","label":"Delay [s]","tooltip":"","group":"a1a44702.88ed68","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":4040,"y":510,"wires":[["f9d899c1.161488"]]},{"id":"ea97a2e4.6a67d","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"888265d9.138288","name":"LL DT","label":"Delay [s]","tooltip":"","group":"a1a44702.88ed68","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":4040,"y":650,"wires":[["1e6715c8.358b2a"]]},{"id":"12d295a5.7cda8a","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"HH DT","label":"Delay [s]","tooltip":"","group":"38e9a87.c300958","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":3180,"y":830,"wires":[["7458a005.66f77"]]},{"id":"5eb0694e.8b93e8","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"H DT","label":"Delay [s] ","tooltip":"","group":"38e9a87.c300958","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":3180,"y":970,"wires":[["9bea7e46.26625"]]},{"id":"174a50b7.39ca9f","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"L DT","label":"Delay [s]","tooltip":"","group":"38e9a87.c300958","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":3180,"y":1110,"wires":[["3113c7be.11c838"]]},{"id":"86aeff9f.23163","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"58747709.2ffd98","name":"LL DT","label":"Delay [s]","tooltip":"","group":"38e9a87.c300958","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":3180,"y":1250,"wires":[["a6333e19.ef71e"]]},{"id":"8391ee25.6681c","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"HH DT","label":"Delay [s]","tooltip":"","group":"79bd9737.7bcf68","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":4320,"y":830,"wires":[["f6a753ca.d6306"]]},{"id":"612144c8.db8e4c","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"H DT","label":"Delay [s] ","tooltip":"","group":"79bd9737.7bcf68","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":4320,"y":970,"wires":[["49379c96.283dd4"]]},{"id":"ef41c61b.f2f998","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"L DT","label":"Delay [s]","tooltip":"","group":"79bd9737.7bcf68","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":4320,"y":1110,"wires":[["32f9531b.a08ddc"]]},{"id":"3368017a.de213e","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"4b571a8f.d70524","name":"LL DT","label":"Delay [s]","tooltip":"","group":"79bd9737.7bcf68","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":4320,"y":1250,"wires":[["6576783e.0b9e38"]]},{"id":"c261ae3c.cdacd","type":"switch","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Configuración-Protecciones-Fondo","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1150,"y":400,"wires":[["d4249aea.7ecbb8"]]},{"id":"46731d6f.af2214","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"HH DT","label":"Delay [s]","tooltip":"","group":"e5d6b12b.cf15","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":3220,"y":1430,"wires":[["5f37b60a.040e98"]]},{"id":"4b370d9f.00c294","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"H DT","label":"Delay [s] ","tooltip":"","group":"e5d6b12b.cf15","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":3220,"y":1570,"wires":[["c507c3c.4a6f44"]]},{"id":"dfebd1a5.7fa3f","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"L DT","label":"Delay [s]","tooltip":"","group":"e5d6b12b.cf15","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":3220,"y":1710,"wires":[["6f1ff079.8108"]]},{"id":"739b4fcf.1c18","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"a3b836be.d5cde8","name":"LL DT","label":"Delay [s]","tooltip":"","group":"e5d6b12b.cf15","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":3220,"y":1850,"wires":[["605ef006.c23d"]]},{"id":"b9eeec2b.8259d","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"HH DT","label":"Delay [s]","tooltip":"","group":"b32f8dd1.f3e86","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT ","x":4340,"y":1430,"wires":[["b8413d80.707c1"]]},{"id":"b116daf7.152128","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"H DT","label":"Delay [s] ","tooltip":"","group":"b32f8dd1.f3e86","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT ","x":4340,"y":1570,"wires":[["b3ff66ec.1baab8"]]},{"id":"6456f2d9.f929ac","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"L DT","label":"Delay [s]","tooltip":"","group":"b32f8dd1.f3e86","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":4340,"y":1710,"wires":[["f20f1ff3.7073b"]]},{"id":"4fe0e535.f16e5c","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"53806295.7831ac","name":"LL DT","label":"Delay [s]","tooltip":"","group":"b32f8dd1.f3e86","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":4340,"y":1850,"wires":[["ef36995d.9e4a68"]]},{"id":"da6f04d.143ddf8","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Protección Tensión","env":[{"name":"Topic","value":"0","type":"num"}],"x":350,"y":120,"wires":[["61a58376.7d0cec"],["3fe04302.c538cc"]]},{"id":"adffe9df.c5bb18","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Protección Sobrecarga","env":[{"name":"Topic","value":"1","type":"num"}],"x":360,"y":330,"wires":[["767cdd32.f3dfc4"],["3c6e6977.ced646"]]},{"id":"91957e64.06da6","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Protección Temperatura de entrada","env":[{"name":"Topic","value":"6","type":"num"}],"x":390,"y":840,"wires":[[],[]]},{"id":"8d456762.d29828","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Protección Presión de entrada","env":[{"name":"Topic","value":"4","type":"num"}],"x":380,"y":660,"wires":[[],[]]},{"id":"50f03a.017defc8","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Protección Presión de descarga","env":[{"name":"Topic","value":"5","type":"num"}],"x":380,"y":750,"wires":[[],[]]},{"id":"8c08f202.ae3eb","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Protección Temperatura de descarga","env":[{"name":"Topic","value":"8","type":"num"}],"x":400,"y":1020,"wires":[[],[]]},{"id":"6501d3d3.4e2dec","type":"link in","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Protección de tensión In","links":["2cd079.27675f88"],"x":205,"y":120,"wires":[["da6f04d.143ddf8"]]},{"id":"c47cc85b.26bd58","type":"link in","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Protección de sobrecarga In","links":["d54f3181.5d7ad"],"x":205,"y":330,"wires":[["adffe9df.c5bb18"]]},{"id":"23e61906.12bde6","type":"link in","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Protección de temperatura de entrada In","links":["4d839d32.72a8f4"],"x":205,"y":840,"wires":[["91957e64.06da6"]]},{"id":"fef78832.db5dc8","type":"link in","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Protección de presión de entrada In","links":["33575158.040bce"],"x":205,"y":660,"wires":[["8d456762.d29828"]]},{"id":"de8cd607.5bc628","type":"link in","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Protección Presión de descarga In","links":["fa27ee3.dd7941"],"x":205,"y":750,"wires":[["50f03a.017defc8"]]},{"id":"34e29829.fec988","type":"link in","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Protección temperatura de descarga In","links":["99ff714a.7a819"],"x":205,"y":1020,"wires":[["8c08f202.ae3eb"]]},{"id":"afd0928b.cd82a","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Protección Vibración general","env":[{"name":"Topic","value":"2","type":"num"}],"x":370,"y":480,"wires":[[],[]]},{"id":"ec206eee.38338","type":"link in","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Protección Vibración general In","links":["64688fe5.072df"],"x":205,"y":480,"wires":[["afd0928b.cd82a"]]},{"id":"89023996.5cc628","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Protección Temperatura de motor","env":[{"name":"Topic","value":"7","type":"num"}],"x":390,"y":930,"wires":[[],[]]},{"id":"e8e85d1b.ab894","type":"subflow:f4a6b35e.fd0a3","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Protección Corriente de fuga","env":[{"name":"Topic","value":"3","type":"num"}],"x":370,"y":570,"wires":[[],[]]},{"id":"ccacd35a.c0616","type":"link in","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Proteccion Temperatura de motor In","links":["3cab3ca5.8a90e4"],"x":205,"y":930,"wires":[["89023996.5cc628"]]},{"id":"d23baded.2c27c","type":"link in","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Protección Corriente de fuga In","links":["4d351b9.638afe4"],"x":205,"y":570,"wires":[["e8e85d1b.ab894"]]},{"id":"5fe10083.8d019","type":"function","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"Protecciones","func":"// Definiciones para 10 proteciones\nvar Protecciones = context.get(\"Protecciones\") || [false,false,false,false,false,false,false,false,false,false];\nvar Tiempo = context.get(\"Tiempos\")||[0,0,0,0,0,0,0,0,0,0];\nvar Estado = 0;\nvar flag = context.get(\"flag\");\n\n// Asignar valor de protección\nif(typeof msg.topic != 'undefined'){\n    Protecciones[msg.topic] = msg.payload;\n    Tiempo[msg.topic] = Date.now();\n}\n// Politica de retención protecciones activas (1 minuto)\nvar TiempoRef = Date.now();\nfor(var i=0; i<Tiempo.length; i++){\n    Protecciones[i] = TiempoRef - Tiempo[i] > 60000 ? false : Protecciones[i];\n}\n// Array2dec\nfor(var j=0; j < Protecciones.length; j++){\n    var Aux = Protecciones[j] === true ? 1:0;\n    Estado += Aux * Math.pow(2, j);\n}\n\n// Guardar valor activo de protecciones y tiempos de retención en el contexto\ncontext.set(\"Protecciones\",Protecciones);\ncontext.set(\"Tiempos\",Tiempo);\n\n// Protección activa si alguna posición del vector de protecciones es true\nmsg.payload = Estado !== 0 ? true:false;\n\n// Estado protección\nif(msg.payload === true){   \n    node.status({fill:\"red\",shape:\"ring\",text:msg.payload});\n    context.set(\"flag\",msg.payload);\n}\nelse{\n    node.status({fill:\"green\",shape:\"ring\",text:msg.payload}); \n    context.set(\"flag\",msg.payload);    \n}\n\n// Solo retorna mensajes cada vez que hay un cambio de estado en la protecciones\nif(flag != msg.payload){\n    return msg;    \n}\nelse{\n    return;\n}\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1199,"y":306,"wires":[["77ab26cf.b76908","ef649b1a.9ba458","56b2f98a.e8c598"]]},{"id":"a7cf2e54.83bc5","type":"inject","z":"6c7d2db7.37ef34","g":"3cf0ba38.d2e4f6","name":"","props":[{"p":"payload"},{"p":"topic","v":"9","vt":"num"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1010,"y":440,"wires":[["5fe10083.8d019"]]},{"id":"2f5679af.c10006","type":"inject","z":"6c7d2db7.37ef34","g":"3cf0ba38.d2e4f6","name":"","props":[{"p":"payload"},{"p":"topic","v":"9","vt":"num"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"false","payloadType":"bool","x":1010,"y":480,"wires":[["5fe10083.8d019"]]},{"id":"3f6add70.a832c2","type":"inject","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"","props":[{"p":"payload"}],"repeat":"15","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1009,"y":306,"wires":[["5fe10083.8d019"]]},{"id":"77ab26cf.b76908","type":"switch","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1339,"y":306,"wires":[["158a08bb.8224b7"]]},{"id":"158a08bb.8224b7","type":"link out","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"Protección Link Out","links":["e0c911fe.aaa9","40af526e.58f65c"],"x":1424,"y":306,"wires":[]},{"id":"ef649b1a.9ba458","type":"link out","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"Estado Protecciones Link Out","links":["8463a0cf.77c52"],"x":1304,"y":266,"wires":[]},{"id":"258395bf.b5730a","type":"change","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Torque","rules":[{"t":"set","p":"topic","pt":"msg","to":"value","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":310,"y":250,"wires":[["1baa28a3.faa137","7dc0ec11.9f6af4"]]},{"id":"3a8d51e1.99e71e","type":"link in","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Torque Link In","links":["319a9113.3c01be","d455204b.dd6d5"],"x":205,"y":250,"wires":[["258395bf.b5730a"]]},{"id":"a5fc5576.3f40e8","type":"change","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Tensión LN Prom","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Average_Line_Voltage","tot":"msg"},{"t":"set","p":"topic","pt":"msg","to":"value","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":70,"wires":[["da6f04d.143ddf8","8ab99b43.236ef8"]]},{"id":"991fe40d.443e28","type":"switch","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Filtro Null","property":"payload.Phase_1_Voltage","propertyType":"msg","rules":[{"t":"nnull"}],"checkall":"true","repair":false,"outputs":1,"x":310,"y":70,"wires":[["a5fc5576.3f40e8"]]},{"id":"eb7629af.3f96d8","type":"link in","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Datos PQA Link In","links":["f28712cf.12333"],"x":205,"y":70,"wires":[["991fe40d.443e28"]]},{"id":"c098b366.21f6e","type":"ui_level","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","group":"f545408b.4bb6f","order":2,"width":"4","height":"3","name":"","label":"Voltaje LN actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"V","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":800,"y":70,"wires":[]},{"id":"8ab99b43.236ef8","type":"function","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Limites","func":"var Voltage = global.get(\"Protections.Voltage\");\nmsg.control = {'min':Voltage.LL.Setpoint, 'max':Voltage.HH.Setpoint};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":670,"y":70,"wires":[["c098b366.21f6e"]]},{"id":"1baa28a3.faa137","type":"function","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Limites","func":"var Load = global.get(\"Protections.Load\");\nmsg.control = {'min':Load.LL.Setpoint, 'max':Load.HH.Setpoint};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":460,"y":250,"wires":[["e25384d8.73d5b8"]]},{"id":"15f0eae5.dcd0a5","type":"function","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Limites","func":"var Vibration = global.get(\"Protections.Vibration\");\nmsg.control = {'min':LoaVibration.General.d.LL.Setpoint, 'max':LoaVibration.General.d.HH.Setpoint};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":310,"y":440,"wires":[["f670f91d.3ad478"]]},{"id":"f670f91d.3ad478","type":"ui_level","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","group":"dcd8ce21.d354a","order":2,"width":"4","height":"3","name":"Vibración general","label":"Vibración actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"G","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":490,"y":440,"wires":[]},{"id":"c5e33e4d.00d55","type":"function","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Limites","func":"var Current = global.get(\"Protections.Current\");\nmsg.control = {'min':Current.Leakage.LL.Setpoint, 'max':Current.Leakage.HH.Setpoint};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":310,"y":530,"wires":[["d51b6dcd.3c4b5"]]},{"id":"d51b6dcd.3c4b5","type":"ui_level","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","group":"168d41c1.e88bfe","order":2,"width":"4","height":"3","name":"","label":"Corriente fuga actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"mA","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":450,"y":530,"wires":[]},{"id":"a987ab73.5659c8","type":"function","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Limites","func":"var InPressure = global.get(\"Protections.Intake.Pressure\");\nmsg.control = {'min':InPressure.LL.Setpoint, 'max':InPressure.HH.Setpoint};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":310,"y":620,"wires":[["3733b898.274cd8"]]},{"id":"3733b898.274cd8","type":"ui_level","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","group":"1afe1bac.d67314","order":2,"width":"4","height":"3","name":"","label":"Presión entrada actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"psi","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":450,"y":620,"wires":[]},{"id":"7dedf7c7.3568e8","type":"function","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Limites","func":"var OutPressure = global.get(\"Protections.Discharge.Pressure\");\nmsg.control = {'min':OutPressure.LL.Setpoint, 'max':OutPressure.HH.Setpoint};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":310,"y":710,"wires":[["8e3d778a.37fdd8"]]},{"id":"8e3d778a.37fdd8","type":"ui_level","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","group":"bfa870aa.dfbf3","order":2,"width":"4","height":"3","name":"","label":"Presión descarga actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"psi","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":450,"y":710,"wires":[]},{"id":"b79b0088.e0571","type":"function","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Limites","func":"var InTemp = global.get(\"Protections.Intake.Temperature\");\nmsg.control = {'min':InTemp.LL.Setpoint, 'max':InTemp.HH.Setpoint};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":310,"y":800,"wires":[["6c8ad0aa.ecebd"]]},{"id":"6c8ad0aa.ecebd","type":"ui_level","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","group":"947448dd.d984b8","order":2,"width":"4","height":"3","name":"","label":"Temp. entrada actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"°F","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":450,"y":800,"wires":[]},{"id":"39509b2.05d2f64","type":"function","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Limites","func":"var MotorTemp = global.get(\"Protections.Motor.Temperature\");\nmsg.control = {'min':MotorTemp.LL.Setpoint, 'max':MotorTemp.HH.Setpoint};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":310,"y":890,"wires":[["9c9ca5e7.69fa38"]]},{"id":"9c9ca5e7.69fa38","type":"ui_level","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","group":"2a2a7835.816ec8","order":2,"width":"4","height":"3","name":"","label":"Temp. motor actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"°F","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":450,"y":890,"wires":[]},{"id":"390f354c.d49e3a","type":"function","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Limites","func":"var OutTemp = global.get(\"Protections.Discharge.Temperature\");\nmsg.control = {'min':OutTemp.LL.Setpoint, 'max':OutTemp.HH.Setpoint};\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":310,"y":980,"wires":[["b777e226.10c8b"]]},{"id":"b777e226.10c8b","type":"ui_level","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","group":"92334174.4ca64","order":2,"width":"4","height":"3","name":"","label":"Temp. descarga actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"°F","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":450,"y":980,"wires":[]},{"id":"e25384d8.73d5b8","type":"ui_level","z":"6c7d2db7.37ef34","g":"aa324282.4f554","group":"cd288dd6.2e074","order":2,"width":"4","height":"3","name":"","label":"Torque Actual","colorHi":"#00b33c","colorWarn":"#00b33c","colorNormal":"#00b33c","colorOff":"#595959","min":0,"max":100,"segWarn":"","segHigh":"","unit":"Lbft","layout":"sv","channelA":"","channelB":"","decimals":"2","animations":"soft","shape":2,"colorschema":"valuedriven","textoptions":"custom","colorText":"#eeeeee","fontLabel":"0.9","fontValue":"3","fontSmall":"0.9","colorFromTheme":true,"textAnimations":false,"hideValue":false,"tickmode":"off","peakmode":false,"peaktime":3000,"x":600,"y":250,"wires":[]},{"id":"a210ddee.c7129","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"HH DT","label":"Delay [s]","tooltip":"","group":"5901c07f.97003","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":2050,"y":230,"wires":[["97925335.78553"]]},{"id":"6d73a85a.f42f18","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"H DT","label":"Delay [s] ","tooltip":"","group":"5901c07f.97003","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":2060,"y":370,"wires":[["8f90abd2.71ca98"]]},{"id":"f016e07e.fbcde","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"L DT","label":"Delay [s]","tooltip":"","group":"5901c07f.97003","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":2060,"y":510,"wires":[["471b8ebe.ebd96"]]},{"id":"cb0d324.9efa3d","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"51885913.764608","name":"LL DT","label":"Delay [s]","tooltip":"","group":"5901c07f.97003","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":2060,"y":650,"wires":[["5b1d2927.d1b308"]]},{"id":"15aef3d2.fbcebc","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"HH DT","label":"Delay [s]","tooltip":"","group":"6b5426f3.f658d8","order":5,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"HH DT","x":3020,"y":230,"wires":[["bd3ac661.673888"]]},{"id":"ca4807a6.e20fa8","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"H DT","label":"Delay [s] ","tooltip":"","group":"6b5426f3.f658d8","order":10,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"H DT","x":3020,"y":370,"wires":[["cd0132de.28ef2"]]},{"id":"527b631b.e975ec","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"L DT","label":"Delay [s]","tooltip":"","group":"6b5426f3.f658d8","order":15,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"L DT","x":3020,"y":510,"wires":[["9b498fd7.493cf"]]},{"id":"5bf3fb88.25b264","type":"ui_text_input","z":"6c7d2db7.37ef34","g":"35440cdc.e5d764","name":"LL DT","label":"Delay [s]","tooltip":"","group":"6b5426f3.f658d8","order":20,"width":"2","height":"1","passthru":true,"mode":"number","delay":"0","topic":"LL DT","x":3020,"y":650,"wires":[["2b999efc.767842"]]},{"id":"9b47db26.0346f8","type":"switch","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Tension","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1210,"y":820,"wires":[["8392125c.4233b"]]},{"id":"ee09985d.8da768","type":"function","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"MinLimit","func":"msg.payload = 0;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1420,"y":310,"wires":[["319a607a.54c89","9c75f1ec.0814b"]]},{"id":"7dc0ec11.9f6af4","type":"switch","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Variador activo ?","property":"#:(memoryOnly)::Drive_Status.Active","propertyType":"global","rules":[{"t":"eq","v":"1","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":350,"y":290,"wires":[["adffe9df.c5bb18"]]},{"id":"96de9397.2cea6","type":"change","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"U. Ref","rules":[{"t":"set","p":"payload","pt":"msg","to":"Ultima_Referencia","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":350,"wires":[["3cc764fd.7e58cc"]]},{"id":"d53d6da0.4e44f","type":"ui_toast","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","position":"top right","displayTime":"3","highlight":"","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1290,"y":70,"wires":[]},{"id":"4d6c53ee.a2fdec","type":"function","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"Evento de Tensión","func":"node.status({fill:\"red\",shape:\"ring\",text:msg.Mensaje});\n\nif(msg.Mensaje == \"Trigger by HH Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por Proteción de Tensión HH\";\n    delete msg.topic;\n    return msg;\n    \n}\nif(msg.Mensaje == \"Trigger by LL Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Tensión LL\";\n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by H Protection\"){\n    msg.payload = \"Alarma por Tensión H\";\n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by L Protection\"){\n    msg.payload = \"Alarma por Tensión L\";\n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Normal condition\"){\n    msg.payload = \"Condición normal\";\n    delete msg.topic;\n    return msg;\n}\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1050,"y":70,"wires":[["d53d6da0.4e44f","d3023171.a64c3"]]},{"id":"50e15d74.ddeaf4","type":"function","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"Evento de Torque","func":"node.status({fill:\"red\",shape:\"ring\",text:msg.Mensaje});\n\nif(msg.Mensaje == \"Trigger by HH Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Torque HH\";\n    delete msg.topic;\n    return msg;\n    \n}\nif(msg.Mensaje == \"Trigger by LL Protection\" && msg.payload === true){\n    msg.payload = \"Disparo por por Proteción de Torque LL\";\n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by H Protection\"){\n    msg.payload = \"Alarma por Torque H\";\n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Alarm by L Protection\"){\n    msg.payload = \"Alarma por Torque L\";\n    delete msg.topic;\n    return msg;\n}\nif(msg.Mensaje == \"Normal condition\"){\n    msg.payload = \"Condición normal\";\n    delete msg.topic;\n    return msg;\n}\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1050,"y":120,"wires":[["d53d6da0.4e44f","d3023171.a64c3"]]},{"id":"db1e9db0.6840e","type":"link out","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"","links":["59e817c2.295b38"],"x":1365,"y":110,"wires":[]},{"id":"767cdd32.f3dfc4","type":"link out","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Torque Eventos Link","links":["728a8a65.02a3c4"],"x":515,"y":310,"wires":[]},{"id":"61a58376.7d0cec","type":"link out","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Tensión Eventos Link","links":["2115be6e.78c1f2"],"x":515,"y":120,"wires":[]},{"id":"2115be6e.78c1f2","type":"link in","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"Evento Tensión Link In","links":["61a58376.7d0cec"],"x":925,"y":70,"wires":[["4d6c53ee.a2fdec"]]},{"id":"728a8a65.02a3c4","type":"link in","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"Evento Torque Link In","links":["767cdd32.f3dfc4"],"x":925,"y":120,"wires":[["50e15d74.ddeaf4"]]},{"id":"39e546d5.bad0ca","type":"comment","z":"6c7d2db7.37ef34","g":"f7a3cb7b.69e4d8","name":"Todos se conectan por salida dos","info":"","x":390,"y":1056,"wires":[]},{"id":"9209cfb3.3a43a","type":"link in","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"Actualización Protecciones Link In","links":["3fe04302.c538cc","3c6e6977.ced646"],"x":1044,"y":266,"wires":[["5fe10083.8d019"]]},{"id":"4aca35c3.0308ac","type":"exec","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","command":"","addpay":true,"append":"","useSpawn":"false","timer":"0.5","oldrc":false,"name":"","x":480,"y":230,"wires":[[],[],["bb03c26f.a7a22"]]},{"id":"1cb59f89.cf5d7","type":"change","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"Ping C2S","rules":[{"t":"set","p":"payload","pt":"msg","to":"ping -c 1 +++","tot":"str"},{"t":"change","p":"payload","pt":"msg","from":"+++","fromt":"str","to":"IP","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":350,"y":230,"wires":[["4aca35c3.0308ac"]]},{"id":"20920eee.ba8d22","type":"ui_text","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","group":"1925e2c.fd4e91d","order":6,"width":6,"height":1,"name":"","label":"Referencia actual:","format":"{{msg.payload}}Hz","layout":"row-left","x":4290,"y":710,"wires":[]},{"id":"bd579703.22d958","type":"switch","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"","property":"payload.message","propertyType":"msg","rules":[{"t":"cont","v":"Command failed:","vt":"str"},{"t":"else"}],"checkall":"true","repair":false,"outputs":2,"x":730,"y":230,"wires":[["1478ddff.860e02"],["98ca0b1c.cda4f8"]]},{"id":"ddd3ba80.4f0788","type":"ui_text_input","z":"5f404c88.fa75a4","g":"aa1ba550.cbd9d8","name":"Nombre del Pozo Main","label":"Nombre del pozo","tooltip":"","group":"57a005f9.8f8f9c","order":1,"width":0,"height":0,"passthru":true,"mode":"text","delay":300,"topic":"","x":1510,"y":50,"wires":[["2acca295.66b21e","8d4d7.c3fc3b29"]]},{"id":"2acca295.66b21e","type":"change","z":"5f404c88.fa75a4","g":"aa1ba550.cbd9d8","name":"","rules":[{"t":"set","p":"Nombre_Pozo","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1800,"y":50,"wires":[[]]},{"id":"41a6416e.309fb","type":"change","z":"5f404c88.fa75a4","g":"aa1ba550.cbd9d8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Nombre_Pozo","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1250,"y":50,"wires":[["ddd3ba80.4f0788","8d4d7.c3fc3b29"]]},{"id":"8d4d7.c3fc3b29","type":"ui_text_input","z":"5f404c88.fa75a4","g":"aa1ba550.cbd9d8","name":"Nombre del Pozo Menú","label":"Nombre del pozo","tooltip":"","group":"df8da47a.3b74d8","order":1,"width":0,"height":0,"passthru":true,"mode":"text","delay":300,"topic":"","x":1520,"y":90,"wires":[["ddd3ba80.4f0788","2acca295.66b21e"]]},{"id":"281ea19.4b8f45e","type":"link in","z":"43b51d90.0b47f4","g":"a7e99088.c8108","name":"Actualizar Max Limit Link In","links":["8912c72a.7dffc8"],"x":1265,"y":350,"wires":[["7116aa90.5b13a4"]]},{"id":"1478ddff.860e02","type":"change","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"Falla de comunicación","rules":[{"t":"set","p":"#:(memoryOnly)::Estado_Comunicacion_Drive","pt":"global","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":900,"y":210,"wires":[["b234b8c9.aaba78"]]},{"id":"98ca0b1c.cda4f8","type":"change","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"Comunicación Normal","rules":[{"t":"set","p":"#:(memoryOnly)::Estado_Comunicacion_Drive","pt":"global","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":900,"y":250,"wires":[[]]},{"id":"bb03c26f.a7a22","type":"rbe","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":610,"y":230,"wires":[["bd579703.22d958"]]},{"id":"c44c2bcf.479ab8","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal17","rules":[{"t":"set","p":"ES.ED.Canal17.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal17.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":1010,"wires":[[]]},{"id":"c8be3f70.1b147","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal18","rules":[{"t":"set","p":"ES.ED.Canal18.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal18.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":1050,"wires":[[]]},{"id":"90937545.972c78","type":"ui_text","z":"5ef5b1ce.d3899","g":"e0133d8.e6db5c","group":"7bcf8b9.016b774","order":1,"width":0,"height":0,"name":"Menu Clock","label":"","format":"{{msg.payload}}","layout":"row-spread","x":2160,"y":80,"wires":[]},{"id":"2409fb72.507894","type":"ui_text","z":"5ef5b1ce.d3899","g":"e0133d8.e6db5c","group":"f18bfe9b.24d66","order":1,"width":0,"height":0,"name":"Main Clock","label":"","format":"{{msg.payload}}","layout":"row-spread","x":2160,"y":120,"wires":[]},{"id":"a735dde2.fca15","type":"comment","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Arranque, Parada y Reset","info":"","x":280,"y":480,"wires":[]},{"id":"da35109a.abaf","type":"ui_button","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","group":"759fa4e7.01062c","order":2,"width":2,"height":1,"passthru":false,"label":"Arranque","tooltip":"","color":"","bgcolor":"green","icon":"","payload":"Start","payloadType":"str","topic":"Basic","x":500,"y":640,"wires":[["d4aceefa.55a6d","f7bbcee0.96201","f87a07cd.22b318"]]},{"id":"80767bfb.6c99e8","type":"ui_button","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","group":"759fa4e7.01062c","order":3,"width":2,"height":1,"passthru":false,"label":"Parada","tooltip":"","color":"","bgcolor":"red","icon":"","payload":"Stop","payloadType":"str","topic":"Basic","x":500,"y":700,"wires":[["223cb03e.57618","af75dc7c.5eaad","ca280181.090e2","26eb2018.cea02"]]},{"id":"f2b2eb51.f0a778","type":"ui_button","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","group":"759fa4e7.01062c","order":4,"width":2,"height":1,"passthru":false,"label":"Reinicio","tooltip":"","color":"","bgcolor":"grey","icon":"","payload":"Reset","payloadType":"str","topic":"Basic","x":500,"y":740,"wires":[["ca280181.090e2"]]},{"id":"1e5ace7.4024732","type":"ui_switch","z":"5f404c88.fa75a4","d":true,"g":"e503ca5.7ac8738","name":"","label":"","tooltip":"","group":"759fa4e7.01062c","order":8,"width":2,"height":1,"passthru":true,"decouple":"false","topic":"Direction","style":"","onvalue":"1","onvalueType":"num","onicon":"fa-undo","oncolor":"black","offvalue":"0","offvalueType":"num","officon":"fa-repeat","offcolor":"black","x":490,"y":760,"wires":[["41951c57.8e84c4"]]},{"id":"aa36a4b3.18fea8","type":"ui_toast","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","position":"top right","displayTime":"3","highlight":"","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":2340,"y":600,"wires":[]},{"id":"1fdf355.5b5f8cb","type":"link in","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reset Function","links":["24025e15.4ddaf2","38626d7c.ef07b2","fdc50122.eca2a","cf9a5b02.cc9d38"],"x":185,"y":520,"wires":[["a34d22bc.215c6"]]},{"id":"c581c8dc.d013e8","type":"link in","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Start Function","links":["38626d7c.ef07b2","399aa9e0.76e826","782235ec.980bfc","a6adbd4d.9a3c4","baa92aab.077738","fe53aea5.79aaf","f420430a.f9f0b8"],"x":185,"y":560,"wires":[["1377622f.f9616e"]]},{"id":"aefb683f.603ed8","type":"comment","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Eventos","info":"","x":2300,"y":560,"wires":[]},{"id":"516eb117.80341","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Direction","rules":[{"t":"set","p":"Direction","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":680,"y":720,"wires":[["ca280181.090e2"]]},{"id":"ed90d895.2dba38","type":"switch","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"eq","v":"1","vt":"num"}],"checkall":"true","repair":false,"outputs":2,"x":850,"y":760,"wires":[["8795b125.03836"],["e9296706.6f4db8"]]},{"id":"8795b125.03836","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Forward","rules":[{"t":"set","p":"payload","pt":"msg","to":"Forward","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":980,"y":740,"wires":[["edd86b06.db3c18"]]},{"id":"e9296706.6f4db8","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reverse","rules":[{"t":"set","p":"payload","pt":"msg","to":"Reverse","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":980,"y":780,"wires":[["edd86b06.db3c18"]]},{"id":"edd86b06.db3c18","type":"ui_text","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","group":"759fa4e7.01062c","order":7,"width":4,"height":1,"name":"Direction Field","label":"Sentido de giro: ","format":"{{msg.payload}}","layout":"row-spread","x":1160,"y":740,"wires":[]},{"id":"1377622f.f9616e","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Arranque Desde Función","rules":[{"t":"set","p":"payload","pt":"msg","to":"Start","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Basic","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":450,"y":560,"wires":[["ca280181.090e2","d4aceefa.55a6d","95e808a1.504948"]]},{"id":"a34d22bc.215c6","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reset Desde Función","rules":[{"t":"set","p":"payload","pt":"msg","to":"Reset","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Basic","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":460,"y":520,"wires":[["ca280181.090e2","95e808a1.504948"]]},{"id":"bf656c1e.ff84","type":"link in","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"No user In","links":["8edea7ae.674088","935ca480.525e98"],"x":185,"y":640,"wires":[["7d8faac3.d24504"]]},{"id":"7d8faac3.d24504","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Disabled","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":280,"y":640,"wires":[["da35109a.abaf","f2b2eb51.f0a778","1e5ace7.4024732","1c025a1f.5a68b6","7ce52484.84a5ec"]]},{"id":"3c2de1fe.525eae","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Enabled","rules":[{"t":"delete","p":"payload","pt":"msg"},{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":280,"y":680,"wires":[["da35109a.abaf","80767bfb.6c99e8","f2b2eb51.f0a778","1e5ace7.4024732","1c025a1f.5a68b6","7ce52484.84a5ec"]]},{"id":"ba3ec3f7.7f116","type":"link in","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"User loged","links":["33c5f16c.c8a5ae","42f85e00.83b314","1995f952.35b347"],"x":185,"y":680,"wires":[["3c2de1fe.525eae"]]},{"id":"b07f5c6d.27fb2","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Parada Desde Función","rules":[{"t":"set","p":"payload","pt":"msg","to":"Stop","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Basic","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":460,"y":600,"wires":[["ca280181.090e2","223cb03e.57618","af75dc7c.5eaad","95e808a1.504948"]]},{"id":"ca280181.090e2","type":"subflow:c8b77ff3.ab501","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","env":[],"x":860,"y":650,"wires":[["c5230fd2.9b1f7","512150a.24612b","f0e59da1.e1b2e","5da903f0.67311c"]]},{"id":"e0c911fe.aaa9","type":"link in","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Stop Function","links":["158a08bb.8224b7","38626d7c.ef07b2","782235ec.980bfc","9423bfa9.83933","a1197dc9.92f25","a3e811e4.91fd8"],"x":185,"y":600,"wires":[["b07f5c6d.27fb2"]]},{"id":"41951c57.8e84c4","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Rechazar mensaje","func":"if(typeof msg.enabled == 'undefined'){\n    return msg;\n}\nelse{\n    return;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":760,"wires":[["516eb117.80341","ed90d895.2dba38"]]},{"id":"e82c8fac.4cbb3","type":"link in","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Direction Function","links":["8d401b67.db1278"],"x":185,"y":760,"wires":[["1e5ace7.4024732"]]},{"id":"d4aceefa.55a6d","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"AR_Flag True","func":"global.set(\"AR_Flag\",true);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":870,"y":520,"wires":[[]]},{"id":"223cb03e.57618","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"AR_Flag False","func":"global.set(\"AR_Flag\",false);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":880,"y":480,"wires":[[]]},{"id":"b34e348c.08d3d8","type":"link out","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reset Funciones de control Link Out","links":["b38fe36.d8e9c2","ad366ac3.9c4708","bf6826f1.1eaf58"],"x":935,"y":700,"wires":[]},{"id":"af75dc7c.5eaad","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reset","rules":[{"t":"set","p":"topic","pt":"msg","to":"reset","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":850,"y":700,"wires":[["b34e348c.08d3d8"]]},{"id":"7ea30cf7.87bf74","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Eventos Arranque","func":"var Fuente = global.get(\"Source_for_events.Start\")||0;\nvar code = msg.code;\n\nnode.status({fill:\"green\",shape:\"dot\",text:\"Fuente: \"+Fuente+\" Code:\"+code});\ndelete msg.topic;\n\n// Eventos exitosos\nif(code === 0){\n    if(Fuente ==1){\n        msg.payload =\"Arranque local CILA2S exitoso\";\n        return msg;\n    }\n    else if(Fuente ==2){\n        msg.payload =\"Arranque Escalonado CILA2S exitoso\";\n        return msg;\n    }\n    else if(Fuente ==3){\n        msg.payload =\"Re Arranque automático CILA2S exitoso\";\n        return msg;\n    }\n    else if(Fuente ==4){\n        msg.payload =\"Arranque remoto CILA2S exitoso\";\n        return msg;\n    }\n    else if(Fuente ==5){\n        msg.payload =\"Arranque en duro local CILA2S exitoso\";\n        return msg;\n    }\n    else if(Fuente ==6){\n        msg.payload =\"Arranque en duro remoto CILA2S exitoso\";\n        return msg;\n    }\n}\n\n// Eventos fallidos\n\nif(code !== 0){\n    if(Fuente ==1){\n        msg.payload =\"Arranque local CILA2S fallido\";\n        return msg;\n    }\n    else if(Fuente ==2){\n        msg.payload =\"Arranque Escalonado CILA2S fallido\";\n        return msg;\n    }\n    else if(Fuente ==3){\n        msg.payload =\"Re Arranque automático CILA2S fallido\";\n        return msg;\n    }\n    else if(Fuente ==4){\n        msg.payload =\"Arranque remoto CILA2S fallido\";\n        return msg;\n    }\n    else if(Fuente ==5){\n        msg.payload =\"Arranque en duro local CILA2S fallido\";\n        return msg;\n    }\n    else if(Fuente ==6){\n        msg.payload =\"Arranque en duro remoto CILA2S fallido\";\n        return msg;\n    }\n}\nreturn;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2090,"y":650,"wires":[["aa36a4b3.18fea8","f99e70c8.70126"]]},{"id":"6c47cd85.078b04","type":"switch","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Arranque/Parada/Reset","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"Parada","vt":"str"},{"t":"cont","v":"Arranque","vt":"str"},{"t":"cont","v":"Reset","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":1850,"y":650,"wires":[["9045005a.2f943"],["7ea30cf7.87bf74"],["c0a7cbde.806148"]]},{"id":"9045005a.2f943","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Eventos Parada","func":"var Fuente = global.get(\"Source_for_events.Stop\")||0;\nvar code = msg.code;\n\nnode.status({fill:\"green\",shape:\"dot\",text:\"Fuente: \"+Fuente+\" Code:\"+code});\ndelete msg.topic;\n\n// Eventos exitosos\nif(code === 0){\n    if(Fuente == 1){\n        msg.payload = \"Parada Local CILA2S exitosa\";\n        return msg;\n    }\n    else if(Fuente == 2){\n        msg.payload = \"Parada remota CILA2S exitosa\";\n        return msg;\n    }\n\n}\n\n// Eventos fallidos\nif(code !== 0 ){\n    if(Fuente == 1){\n        msg.payload =\"Parada local CILA2S fallida\";\n        return msg;\n    }\n    else if(Fuente == 2){\n        msg.payload =\"Parada remota CILA2S fallida\";\n        return msg;\n    }\n}\nreturn;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2080,"y":600,"wires":[["aa36a4b3.18fea8","f99e70c8.70126"]]},{"id":"6aaa222d.543dfc","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Command Dir","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::Drive_Status.Command_dir","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":320,"y":830,"wires":[["8141640f.3598b8"]]},{"id":"8141640f.3598b8","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"NOT","func":"if(msg.payload === 0){\n    msg.payload = 1;\n}\nelse if(msg.payload == 1){\n    msg.payload = 0;\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":350,"y":790,"wires":[["1e5ace7.4024732","1c025a1f.5a68b6","7ce52484.84a5ec","41951c57.8e84c4"]]},{"id":"2842bb88.2ace24","type":"delay","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":340,"y":870,"wires":[["6aaa222d.543dfc"]]},{"id":"645af99b.4e8a38","type":"link in","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Actualizar sentido de giro Link In","links":["bd7043e3.12df9","ad87cee4.7dbb5","97407954.a004c8"],"x":185,"y":870,"wires":[["2842bb88.2ace24"]]},{"id":"f99e70c8.70126","type":"link out","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Arranque_Parada","links":["59e817c2.295b38","65189a34.958f54","504fb845.3276c8"],"x":2265,"y":650,"wires":[]},{"id":"b18e026.fe2e","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"7ddeb867.f441b8","order":3,"width":4,"height":2,"name":"","label":"Presión de entrada","format":"<font size = 8px> {{msg.payload}}","layout":"col-center","x":3690,"y":90,"wires":[]},{"id":"52556542.54c46c","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"7ddeb867.f441b8","order":9,"width":4,"height":2,"name":"","label":"Temperatura de descarga","format":"<font size = 8px> {{msg.payload}}","layout":"col-center","x":3710,"y":130,"wires":[]},{"id":"947b1f9a.d8f17","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"7ddeb867.f441b8","order":10,"width":4,"height":2,"name":"","label":"Presión de descarga","format":"<font size = 8px> {{msg.payload}}","layout":"col-center","x":3700,"y":170,"wires":[]},{"id":"a097facd.d32e48","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"7ddeb867.f441b8","order":4,"width":4,"height":2,"name":"","label":"Temperatura de entrada","format":"<font size = 8px> {{msg.payload}}","layout":"col-center","x":3710,"y":50,"wires":[]},{"id":"8197176b.7639a8","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"4f5c2b53.44a154","order":2,"width":4,"height":2,"name":"","label":"Frecuencia","format":"<font size = 8px> {{msg.payload}}Hz","layout":"col-center","x":3810,"y":220,"wires":[]},{"id":"8406554a.894a38","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"4f5c2b53.44a154","order":3,"width":4,"height":2,"name":"","label":"Tensión de fase prom","format":"<font size = 8px> {{msg.payload}}V","layout":"col-center","x":3840,"y":260,"wires":[]},{"id":"9e2b819.de0ee8","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"4f5c2b53.44a154","order":4,"width":4,"height":2,"name":"","label":"Tensión de línea prom","format":"<font size = 8px> {{msg.payload}}V","layout":"col-center","x":3840,"y":300,"wires":[]},{"id":"cbe5848c.3678c8","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"4f5c2b53.44a154","order":6,"width":4,"height":2,"name":"","label":"THD (V) Prom","format":"<font size = 8px> {{msg.payload}}%","layout":"col-center","x":3820,"y":340,"wires":[]},{"id":"11e153a8.ba3aac","type":"ui_text","z":"e86f0ca4.7feb5","g":"74789700.1df498","group":"4f5c2b53.44a154","order":7,"width":4,"height":2,"name":"","label":"THD (I) Prom","format":"<font size = 8px> {{msg.payload}}%","layout":"col-center","x":3810,"y":380,"wires":[]},{"id":"4ea7eb06.9f2174","type":"csv","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","sep":",","hdrin":false,"hdrout":"once","multi":"one","ret":"\\n","temp":"","skip":"0","strings":true,"include_empty_strings":false,"include_null_values":false,"x":1840,"y":150,"wires":[["4a152bf2.aedbf4"]]},{"id":"7e0625da.a5746c","type":"function","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Creación de archivo","func":"var PQA = global.get(\"PQA.Real_Time_Parameters\",'memoryOnly');\nvar C2S = global.get(\"C2S\",'memoryOnly');\n\nvar date    = new Date();\n\n// Date\nvar year    = date.getFullYear();\nvar month   = date.getMonth()+1;\nvar day     = date.getDate();\n\n//Time\nvar hours   = date.getHours();\nvar minutes = date.getMinutes();\nvar seconds = date.getSeconds();\n\nmsg.payload = {\n    'fecha_hora'            : year+'/'+month+'/'+day+\" \"+hours+':'+minutes+':'+seconds,\n    'Frecuencia'            : parseFloat(PQA.Frequency).toFixed(3),\n    'Phase_1_Voltage'       : parseFloat(PQA.Phase_1_Voltage).toFixed(3),\n    'Phase_2_Voltage'       : parseFloat(PQA.Phase_2_Voltage).toFixed(3),\n    'Phase_3_Voltage'       : parseFloat(PQA.Phase_3_Voltage).toFixed(3),\n    'Average_Phase_Voltage' : parseFloat(PQA.Average_Phase_Voltage).toFixed(3),\n    'Line_Voltage_1_2'      : parseFloat(PQA.Line_Voltage_1_2).toFixed(3),\n    'Line_Voltage_2_3'      : parseFloat(PQA.Line_Voltage_2_3).toFixed(3),\n    'Line_Voltage_3_1'      : parseFloat(PQA.Line_Voltage_3_1).toFixed(3),\n    'Average_Line_Voltage'  : parseFloat(PQA.Average_Line_Voltage).toFixed(3),\n    'Total_Phase_A_Current' : parseFloat(PQA.Total_Phase_A_Current).toFixed(3),\n    'Total_Phase_B_Current' : parseFloat(PQA.Total_Phase_B_Current).toFixed(3),\n    'Total_Phase_C_Current' : parseFloat(PQA.Total_Phase_C_Current).toFixed(3),\n    'Neutral_Current'       : parseFloat(PQA.Neutral_Current).toFixed(3),\n    'Phase_A_Power'         : parseFloat(PQA.Phase_A_Power).toFixed(3),\n    'Phase_B_Power'         : parseFloat(PQA.Phase_B_Power).toFixed(3),\n    'Phase_C_Power'         : parseFloat(PQA.Phase_C_Power).toFixed(3),\n    'Total_System_Power'    : parseFloat(PQA.Total_System_Power).toFixed(3),\n    'Phase_A_Reactive_Power': parseFloat(PQA.Phase_A_Reactive_Power).toFixed(3),\n    'Phase_B_Reactive_Power': parseFloat(PQA.Phase_B_Reactive_Power).toFixed(3),\n    'Phase_C_Reactive_Power': parseFloat(PQA.Phase_C_Reactive_Power).toFixed(3),\n    'Phase_A_Apparent_Power': parseFloat(PQA.Phase_A_Apparent_Power).toFixed(3),\n    'Phase_B_Apparent_Power': parseFloat(PQA.Phase_B_Apparent_Power).toFixed(3),\n    'Phase_C_Apparent_Power': parseFloat(PQA.Phase_C_Apparent_Power).toFixed(3),\n    'Output_Frecuency'      : parseFloat(C2S.Output_Frecuency).toFixed(3),\n    'Output_Current'        : parseFloat(C2S.Output_Current).toFixed(3),\n    'Output_Voltage'        : parseFloat(C2S.Output_Voltage).toFixed(3),\n    'Output_Power'          : parseFloat(C2S.Output_Power).toFixed(3),\n    'Power_Factor'          : parseFloat(C2S.Power_Factor).toFixed(3),\n    'Bus_DC_Volts'          : parseFloat(C2S.Bus_DC_Volts).toFixed(3),\n    'Drive_status_2'        : parseFloat(C2S.Drive_status_2).toFixed(3),\n    'Digital_In_Sts'        : parseFloat(C2S.Digital_In_Sts).toFixed(3),\n    'Mtr_Vel_Fdbk'          : parseFloat(C2S.Mtr_Vel_Fdbk).toFixed(3),\n    'Drive_Temp_C'          : parseFloat(C2S.Drive_Temp_C).toFixed(3),\n    'IGBT_Temp_C'           : parseFloat(C2S.IGBT_Temp_C).toFixed(3),\n    'Elapsed_Run_Time'      : parseFloat(C2S.Elapsed_Run_Time).toFixed(3),\n    'Maximum_Freq'          : parseFloat(C2S.Maximum_Freq).toFixed(3),\n    'Last_Fault_Code'       : parseFloat(C2S.Last_Fault_Code).toFixed(3),\n    'Elpsd_Mtr_kWHrs'       : parseFloat(C2S.Elpsd_Mtr_kWHrs).toFixed(3)\n}\n\n// Archivo\nmsg.columns = Object.keys(msg.payload).toString();\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1490,"y":150,"wires":[["ccef2ff8.d103a"]]},{"id":"ccef2ff8.d103a","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"filename","pt":"msg","to":"+++/Datalogger/***.csv","tot":"str"},{"t":"change","p":"filename","pt":"msg","from":"+++","fromt":"str","to":"/home/pi/node_modules","tot":"str"},{"t":"change","p":"filename","pt":"msg","from":"***","fromt":"str","to":"Nombre_Archivo_Datalogger","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1690,"y":150,"wires":[["4ea7eb06.9f2174"]]},{"id":"4a152bf2.aedbf4","type":"file","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","filename":"","appendNewline":false,"createDir":true,"overwriteFile":"false","encoding":"utf8","x":1960,"y":150,"wires":[[]]},{"id":"ac8dba55.436ca8","type":"ui_button","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Activar","group":"b006ff9.8805c","order":3,"width":"4","height":"1","passthru":false,"label":"Activar datalogger","tooltip":"","color":"","bgcolor":"","icon":"","payload":"true","payloadType":"bool","topic":"","x":200,"y":150,"wires":[["3b3e865c.e649aa","7e9f72bb.cc0ccc"]]},{"id":"b92820bf.a85cd","type":"ui_dropdown","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","label":"Unidad de tiempo","tooltip":"","place":"Seleccione","group":"a41af5be.52be18","order":5,"width":"6","height":"1","passthru":true,"multiple":false,"options":[{"label":"Segundos","value":"Segundos","type":"str"},{"label":"Minutos","value":"Minutos","type":"str"},{"label":"Horas","value":"Horas","type":"str"}],"payload":"","topic":"","x":610,"y":420,"wires":[["7409201c.daf43","458b1cd4.6b15f4"]]},{"id":"53de6e8d.a41ec","type":"ui_text_input","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","label":"Tasa de muestreo","tooltip":"","group":"a41af5be.52be18","order":3,"width":"3","height":"1","passthru":false,"mode":"number","delay":"0","topic":"","x":610,"y":310,"wires":[["793ef4d5.ef60dc","458b1cd4.6b15f4"]]},{"id":"7409201c.daf43","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"Datalogger.Units","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":420,"wires":[[]]},{"id":"793ef4d5.ef60dc","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"Datalogger.Magnitude","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":870,"y":310,"wires":[[]]},{"id":"556daeb1.5f8c4","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"Datalogger.Rate_Data","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":870,"y":370,"wires":[[]]},{"id":"458b1cd4.6b15f4","type":"function","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Calculate_Rate","func":"var Datalogger = global.get(\"Datalogger\");\n\nif (typeof Datalogger != 'undefined' && Datalogger.Units === 'Segundos')\n    {\n        msg.payload = Datalogger.Magnitude;\n    }\n\nelse if (typeof Datalogger != 'undefined' && Datalogger.Units === 'Minutos')\n    {\n        msg.payload = Datalogger.Magnitude*60;\n    }\n\nelse if (typeof Datalogger != 'undefined' && Datalogger.Units === 'Horas')\n    {\n        msg.payload = Datalogger.Magnitude*3600;\n    }\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":620,"y":370,"wires":[["556daeb1.5f8c4"]]},{"id":"c16175a3.4e3dc8","type":"inject","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":550,"y":100,"wires":[["6e2e57d6.1acb68"]]},{"id":"6e2e57d6.1acb68","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"Datalogger.Activated","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":760,"y":150,"wires":[["a88b1b0d.338558"]]},{"id":"c0a93ee0.0bece","type":"switch","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Datalogger Activo ?","property":"Datalogger.Activated","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":870,"y":240,"wires":[["a88b1b0d.338558"]]},{"id":"bb20b02b.93fbf","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"Datalogger.Flag","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":200,"wires":[["6e2e57d6.1acb68"]]},{"id":"87d327f9.2d5698","type":"inject","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":true,"onceDelay":"1","topic":"","payload":"true","payloadType":"bool","x":710,"y":240,"wires":[["c0a93ee0.0bece"]]},{"id":"a5965533.262318","type":"inject","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"false","payloadType":"bool","x":550,"y":240,"wires":[["bb20b02b.93fbf","bb20b02b.93fbf"]]},{"id":"8b735152.e0f1d","type":"switch","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Tomar muestra true","property":"payload.TakeSample","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1280,"y":150,"wires":[["7e0625da.a5746c"]]},{"id":"a88b1b0d.338558","type":"function","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Bandera tomar muestra","func":"// Leer varibables del contexto\nvar Rate = global.get(\"Datalogger.Rate_Data\");\nvar enable1 = global.get(\"Datalogger.Activated\");\nvar Bandera = flow.get(\"Datalogger.Flag\") || false;\nvar FechaFinal = context.get(\"FinalDate\") || \"\";\n\n// Definiciones\nvar TakeSample = false;\nvar CurrentDate = new Date();\n\nif (enable1 === true){\n    if (Bandera === false ){\n        var DateString = CurrentDate.toString();\n        FechaFinal = new Date(DateString);\n        FechaFinal.setSeconds( FechaFinal.getSeconds() + Rate);\n        context.set(\"FinalDate\",FechaFinal);\n        Bandera = true;   \n        TakeSample = false;\n    }\n    else {\n        if (CurrentDate >= FechaFinal){\n            TakeSample = true;\n            Bandera = false;\n        }\n    }\n    msg.payload = {\n        'Current'   : CurrentDate,\n        'Final'     : FechaFinal,\n        'TakeSample': TakeSample\n    }\n}\n\nflow.set(\"Datalogger.Flag\",Bandera);\nnode.status({fill:\"red\",shape:\"ring\",text:\"Bandera: \"+Bandera+\" Fecha: \"+FechaFinal});\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1060,"y":150,"wires":[["8b735152.e0f1d"]]},{"id":"1770e069.fa06e","type":"ui_button","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Desactivar","group":"b006ff9.8805c","order":6,"width":"4","height":"1","passthru":false,"label":"Desactivar datalogger","tooltip":"","color":"","bgcolor":"","icon":"","payload":"false","payloadType":"bool","topic":"","x":200,"y":190,"wires":[["c2a083b6.80ece","acd83647.191f48"]]},{"id":"a1296c3e.0467d","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Datalogger.Magnitude","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":310,"wires":[["53de6e8d.a41ec"]]},{"id":"7fcfdd93.ac45a4","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Datalogger.Units","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":420,"wires":[["b92820bf.a85cd"]]},{"id":"15d31797.55bf88","type":"inject","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Initial","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":"1","topic":"","payload":"","payloadType":"date","x":400,"y":360,"wires":[["a1296c3e.0467d","7fcfdd93.ac45a4"]]},{"id":"96675df9.60de8","type":"ui_ui_control","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","events":"change","x":110,"y":360,"wires":[["65c0afcd.8388"]]},{"id":"65c0afcd.8388","type":"switch","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Datalogger","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":240,"y":360,"wires":[["a1296c3e.0467d","7fcfdd93.ac45a4"]]},{"id":"70eee707.21eb08","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToTrue","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":100,"wires":[["89541385.7f5a6"]]},{"id":"3b3e865c.e649aa","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToFalse","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":200,"y":100,"wires":[["ac8dba55.436ca8","70eee707.21eb08"]]},{"id":"89541385.7f5a6","type":"link out","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"DescativarToTrue_Out","links":["bc74ae1c.8050f"],"x":445,"y":100,"wires":[]},{"id":"bc74ae1c.8050f","type":"link in","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"DescativarToTrue_In","links":["89541385.7f5a6","2ffd423b.f2a4ae"],"x":75,"y":190,"wires":[["1770e069.fa06e"]]},{"id":"7d3c0e90.bc175","type":"link out","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ActivateToTrue_Out","links":["64bd474c.8651a8","b498c216.d75a3","b7dd79e1.1a6908"],"x":445,"y":240,"wires":[]},{"id":"64bd474c.8651a8","type":"link in","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ActivateToTrue_In","links":["7d3c0e90.bc175","e3de11a.525d4f"],"x":75,"y":150,"wires":[["ac8dba55.436ca8"]]},{"id":"c2a083b6.80ece","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToFalse","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":200,"y":240,"wires":[["e19ab68f.2ca7d8","1770e069.fa06e"]]},{"id":"e19ab68f.2ca7d8","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToTrue","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":240,"wires":[["7d3c0e90.bc175"]]},{"id":"7e9f72bb.cc0ccc","type":"link out","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"StartDatalogger_Out","links":["f125f8dc.4fc0e8"],"x":345,"y":150,"wires":[]},{"id":"f125f8dc.4fc0e8","type":"link in","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"StartDatalogger_In","links":["7e9f72bb.cc0ccc"],"x":575,"y":150,"wires":[["6e2e57d6.1acb68"]]},{"id":"acd83647.191f48","type":"link out","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"StopDatalogger_Out","links":["ac947de3.26a6d"],"x":345,"y":190,"wires":[]},{"id":"ac947de3.26a6d","type":"link in","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"StopDatalogger_In","links":["acd83647.191f48"],"x":575,"y":200,"wires":[["bb20b02b.93fbf"]]},{"id":"1e92883e.9ef498","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"842bb1a0.451f4","name":"Navbar Datalogger","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":390,"y":1890,"wires":[[]]},{"id":"3300d502.d9f2da","type":"ui_dropdown","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","label":"Creación de Archivo","tooltip":"","place":"Seleccione","group":"a41af5be.52be18","order":9,"width":"6","height":"1","passthru":true,"multiple":false,"options":[{"label":"Diario","value":"Diario","type":"str"},{"label":"Semanal","value":"Semanal","type":"str"},{"label":"Mensual","value":"Mensual","type":"str"}],"payload":"","topic":"","x":1050,"y":100,"wires":[["669ee12e.3c9e4","4c30ceb7.d240a"]]},{"id":"ec92d582.14aa18","type":"inject","z":"5f404c88.fa75a4","g":"e2589faa.5b6d2","name":"Arranque de sistema","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":290,"y":1050,"wires":[["ad87cee4.7dbb5"]]},{"id":"ad87cee4.7dbb5","type":"link out","z":"5f404c88.fa75a4","g":"e2589faa.5b6d2","name":"Inicio Node-RED","links":["41414c01.67ae34","3af4cca.ce68834","ba8baeac.e028c","a72a1eba.19d99","fb44ddcd.cf816","f4208b50.a8abc8","fbd8c1e9.7d493","a146fd5d.dc194","63e65a73.8cb0e4","771cef6c.01352","2a2c1e7e.8315e2","faa1754f.28b418","9206f485.85e898","d1eb5972.c7ee38","e8213157.b1599","c1563df1.773bd","7b0660a5.67eab","47e5c17d.f308","9ff75bfd.245638","bedc0725.f22738","4e129740.b3ea78","273454d7.4d089c","c9269ec0.0b874","645af99b.4e8a38","d0a19b38.893ab8","366a2d5a.01dbf2","ca41ebf5.6cdf28","8ef5c8d6.524028","b8c12e8b.715b2","b7da3a44.60ff68","1f64b646.6359aa","a283dc1b.7c48f","938aa2d6.74dae","cf19cdf5.5c63b8","a7671f5c.c6f4a8"],"x":425,"y":1050,"wires":[]},{"id":"41414c01.67ae34","type":"link in","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"Referencia de velocidad","links":["ad87cee4.7dbb5"],"x":185,"y":350,"wires":[["96de9397.2cea6"]]},{"id":"a72a1eba.19d99","type":"link in","z":"6c7d2db7.37ef34","g":"dabbb1f4.9b65e","name":"","links":["ad87cee4.7dbb5"],"x":1675,"y":100,"wires":[["485a456c.532fdc"]]},{"id":"fb44ddcd.cf816","type":"link in","z":"43b51d90.0b47f4","name":"Configuración VSD","links":["ad87cee4.7dbb5"],"x":175,"y":880,"wires":[["2163239b.5a9bbc","e5c3bbc0.8b2998","e89aec53.9b1b1","d59b7b28.be0e68","a90890e0.f21c8","ed08c0de.3ee1e","e89df25d.18cdc","9355594d.0b5af8","fa5d0b5d.173c98","657a5d37.6d07c4","f7f5dc17.aa232","c1afba0d.22f5d8","64263ab2.3a9e04","370e9542.6d045a","d780aa82.2d5678","54c5e154.bb4ce"]]},{"id":"fbd8c1e9.7d493","type":"link in","z":"827787d0.ede678","g":"f3c2e7cf.5ed158","name":"Acciones de usuario","links":["ad87cee4.7dbb5"],"x":475,"y":590,"wires":[["ffad1340.f8a3b"]]},{"id":"a146fd5d.dc194","type":"link in","z":"827787d0.ede678","g":"eb91dac5.690838","name":"Acceso de usuario","links":["ad87cee4.7dbb5"],"x":205,"y":110,"wires":[["28cd79fb.3dcae6"]]},{"id":"23a2e534.c227ba","type":"function","z":"e86f0ca4.7feb5","g":"74789700.1df498","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3660,"y":220,"wires":[["8197176b.7639a8"]]},{"id":"47e5c17d.f308","type":"link in","z":"5f404c88.fa75a4","g":"aa1ba550.cbd9d8","name":"Nombre del pozo","links":["ad87cee4.7dbb5"],"x":1115,"y":50,"wires":[["41a6416e.309fb"]]},{"id":"7abe043b.fb14fc","type":"ui_ui_control","z":"5f404c88.fa75a4","g":"e9e93a2c.deeb18","name":"","events":"all","x":280,"y":960,"wires":[["97407954.a004c8"]]},{"id":"97407954.a004c8","type":"link out","z":"5f404c88.fa75a4","g":"e9e93a2c.deeb18","name":"UI-Control Out","links":["1660e38d.24cefc","938193ac.02d98","8166c609.8e8328","441e9860.ad6ed8","2099abe.2850a54","a0e88921.4ebe88","fd328934.0ddd18","f65a5bee.378fe8","23b2730.9c7eb8e","645af99b.4e8a38","476a789d.6fd428","97494ae0.a13ca8","4482dc9f.5ee144","2b47642.2404d9c"],"x":375,"y":960,"wires":[]},{"id":"805762db.d27b7","type":"link in","z":"5f404c88.fa75a4","g":"e9e93a2c.deeb18","name":"UI-Control In","links":["502a7e8f.2ab2d","9eea6118.7b917","99ae3bc8.746f48","1882018b.4d179e","3296d851.080568","1981cd18.e62913","ea1ac6a6.fda178","d795f048.456e2","f7333c0a.a70d3","b0a2cd1a.ab273","fc7e2763.e00d48","63ae6ad3.b07874","e6e875a0.3f91d8"],"x":185,"y":960,"wires":[["7abe043b.fb14fc"]]},{"id":"1660e38d.24cefc","type":"link in","z":"8528a254.70837","g":"11f55817.139c18","name":"Eventos UI-Control","links":["97407954.a004c8"],"x":165,"y":120,"wires":[["75851744.fc50c8"]]},{"id":"938193ac.02d98","type":"link in","z":"8528a254.70837","g":"cf57802e.7d258","name":"","links":["97407954.a004c8"],"x":1075,"y":120,"wires":[["d9101c40.6e85a"]]},{"id":"8166c609.8e8328","type":"link in","z":"43b51d90.0b47f4","g":"8a04702.34fd29","name":"Acceso a pantalla de configuración drive C2S","links":["97407954.a004c8"],"x":2105,"y":190,"wires":[["6817551.a1c08ac"]]},{"id":"99ae3bc8.746f48","type":"link out","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"Menú Datos operativos pantalla principal","links":["805762db.d27b7"],"x":1615,"y":230,"wires":[]},{"id":"441e9860.ad6ed8","type":"link in","z":"5ef5b1ce.d3899","g":"90ebdbed.1907a8","name":"Menú Datos operativos pantalla principal","links":["97407954.a004c8"],"x":1095,"y":230,"wires":[["e3c8b897.8efb58"]]},{"id":"1882018b.4d179e","type":"link out","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Menú Protecciones Fondo","links":["805762db.d27b7"],"x":1665,"y":570,"wires":[]},{"id":"2099abe.2850a54","type":"link in","z":"5ef5b1ce.d3899","g":"25d1d69b.64e0ca","name":"Menú Protecciones Fondo","links":["97407954.a004c8"],"x":1065,"y":400,"wires":[["c261ae3c.cdacd"]]},{"id":"3296d851.080568","type":"link out","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"Menú Protecciones Superficie","links":["805762db.d27b7"],"x":1375,"y":920,"wires":[]},{"id":"a0e88921.4ebe88","type":"link in","z":"5ef5b1ce.d3899","g":"311890ad.cc4ed","name":"Menú Protecciones Superficie","links":["97407954.a004c8"],"x":1125,"y":820,"wires":[["9b47db26.0346f8"]]},{"id":"1981cd18.e62913","type":"link out","z":"5ef5b1ce.d3899","g":"5073e01d.10857","name":"Menu Comunicaciones SCADA","links":["805762db.d27b7"],"x":1525,"y":1070,"wires":[]},{"id":"ea1ac6a6.fda178","type":"link out","z":"5ef5b1ce.d3899","g":"d7658545.b7ac78","name":"Menú Comunicaciones Sensor de fondo","links":["805762db.d27b7"],"x":1525,"y":1340,"wires":[]},{"id":"d795f048.456e2","type":"link out","z":"5ef5b1ce.d3899","g":"f8e8eeb2.3f011","name":"Menú Comunicaciones PQA","links":["805762db.d27b7"],"x":1585,"y":1480,"wires":[]},{"id":"b0a2cd1a.ab273","type":"link out","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"Menú Entradas/Salidas SWCPRO","links":["805762db.d27b7"],"x":1465,"y":1880,"wires":[]},{"id":"fd328934.0ddd18","type":"link in","z":"5ef5b1ce.d3899","g":"9132da2c.b8c6b8","name":"Menú Entradas/Salidas SWCPRO","links":["97407954.a004c8"],"x":1035,"y":1800,"wires":[["5a29608d.08d3"]]},{"id":"fc7e2763.e00d48","type":"link out","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","name":"","links":["805762db.d27b7"],"x":1375,"y":2070,"wires":[]},{"id":"f65a5bee.378fe8","type":"link in","z":"5ef5b1ce.d3899","g":"8a7f783.a732b88","name":"","links":["97407954.a004c8"],"x":955,"y":2010,"wires":[["e95f6929.281ff8"]]},{"id":"63ae6ad3.b07874","type":"link out","z":"5ef5b1ce.d3899","g":"8c3082f9.73975","name":"","links":["805762db.d27b7"],"x":1405,"y":2260,"wires":[]},{"id":"23b2730.9c7eb8e","type":"link in","z":"5ef5b1ce.d3899","g":"8c3082f9.73975","name":"","links":["97407954.a004c8"],"x":965,"y":2200,"wires":[["64ddd641.711bd8"]]},{"id":"9ff75bfd.245638","type":"link in","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","name":"Navigation bar","links":["ad87cee4.7dbb5"],"x":215,"y":380,"wires":[["49fc1b59.51f164"]]},{"id":"619de7f9.420de8","type":"template","z":"5ef5b1ce.d3899","name":"Boostrap","field":"payload","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <div>\n        {{{payload}}}\n    </div>\n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS \n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script> -->\n  </body>\n</html>","output":"str","x":174,"y":464,"wires":[["3bd2923f.2169ae","ec6f0468.330258","a94086ae.ab4a78","1e92883e.9ef498","e3b242da.1cd29","1a3e4532.22ef5b","7a336fa4.b80d3","335b3a95.f258c6","33924ef6.c0eca2","fecfa2a0.5ca25","452c5a8c.8530a4","b5c23987.426b28","30237182.6ab22e","73b9407c.4ce98","adc3a650.9795a8","1e55d9a.1ad3926","d192f60a.894e68","f6e8fbe4.4a94e8","587cd4fe.b5184c","3fc54723.62b978","da157b1a.e8eb88","117295c5.1ff4ea","2976c32b.5e795c","13c95730.dc8459","4b3ceae3.bb8a84","9dbe0a3.53061f8","9a43c9b1.af8138","814db426.2a5bf8","1f443c09.755434","7bb293cb.faf72c","2c5a7e92.2d6be2","ae3517f4.0d6d88","2db6a760.856798","ad56625d.fdd01","2563434b.e228dc","2665915.a411c6e","eef48f93.f418","f5a2b632.6a8ac8","d971ff84.76256","a1c4871a.8ded58","f4f581a.cfeba8"]]},{"id":"a94086ae.ab4a78","type":"ui_template","z":"5ef5b1ce.d3899","group":"ec084c75.e7ad7","name":"Users Navbar","order":0,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":380,"y":450,"wires":[[]]},{"id":"669ee12e.3c9e4","type":"function","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Diario, semanal, mensual","func":"var date    = new Date();\n// Date\nvar year    = date.getFullYear();\nvar month   = date.getMonth()+1;\nvar day     = date.getDate();\n\n//Time\nvar hours   = date.getHours();\nvar minutes = date.getMinutes();\nvar seconds = date.getSeconds();\n\n// Asignar nombre de archivo\nif(msg.payload == 'Diario'){\n    msg.filename = day+'-'+month+'-'+year;\n}\nelse if(msg.payload == 'Semanal'){\n    var week;\n    if(day<=8){week=1;}\n    else if(day<=16){week=2;}\n    else if(day<=24){week=3;}\n    else {week=4;}\n    msg.filename = 'Semana_'+week+'-'+month+'-'+year;\n}\nelse if(msg.payload == 'Mensual'){\n    msg.filename = month+'-'+year;\n}\nflow.set(\"Nombre_Archivo_Datalogger\",msg.filename);\ndelete msg.payload;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1280,"y":100,"wires":[[]]},{"id":"a0c6716e.ee639","type":"function","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"INT to BIN Buffer","func":"var buffer = [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];\nvar temp = msg.payload;\nvar i = buffer.length\n\nwhile(temp > 0){\n    if(temp % 2 === 0){\n        buffer[i] = 0;\n    }\n    else{\n        buffer[i] = 1;\n    }\n    \n    i--;\n    temp = Math.floor(temp / 2);\n}\nmsg.payload = buffer.reverse();\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3740,"y":510,"wires":[["99df3090.72701"]]},{"id":"99df3090.72701","type":"function","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Drive_Status","func":"msg.payload={\n    \"Run_Ready\"         :msg.payload[0],\n    \"Active\"            :msg.payload[1],\n    \"Command_dir\"       :msg.payload[2],\n    \"Actual_dir\"        :msg.payload[3],\n    \"Accel\"             :msg.payload[4],\n    \"Decel\"             :msg.payload[5],\n    \"Alarm\"             :msg.payload[6],\n    \"Fault\"             :msg.payload[7]\n}\nglobal.set(\"Drive_Status\",msg.payload, 'memoryOnly');\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3920,"y":510,"wires":[["43a49cf6.37dea4"]]},{"id":"43a49cf6.37dea4","type":"function","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Status Function","func":"//Calling global variables\nvar Active  = global.get(\"Drive_Status.Active\",'memoryOnly') ||0;\nvar Alarm   = global.get(\"Drive_Status.Alarm\",'memoryOnly')  ||0;\nvar Fault   = global.get(\"Drive_Status.Fault\",'memoryOnly')||0;\nvar Accel   = global.get(\"Drive_Status.Accel\",'memoryOnly')  ||0;\nvar Decel   = global.get(\"Drive_Status.Decel\",'memoryOnly')  ||0;\nvar Comm    = global.get(\"Estado_Comunicacion_Drive\",'memoryOnly');\nvar Prot    = global.get(\"Protections.RFlag\",'memoryOnly');\nvar status = 5;\n\nif(Prot || Fault){\n    msg.payload = \"FALLA!\";\n    status = 3;\n}\nelse if(!Comm){\n    msg.payload = \"Falla de comunicación\";\n    status = 4;\n}\nelse if (Alarm){\n    msg.payload = \"ALARMA!\";\n    status = 2;\n}\nelse if(Active){\n    status = 0;\n    if(Accel){\n        msg.payload = \"ACTIVO Acelerando\"; \n        \n    }\n    else if(Decel){\n        msg.payload = \"ACTIVO Desacelerando\";\n    }\n    else{\n        msg.payload = \"ACTIVO\";\n    }\n}\nelse {\n    msg.payload = \"DETENIDO\";\n    status = 1;\n}\nnode.status({fill:\"green\",shape:\"dot\",text:Fault});\nglobal.set('StatusVSDModbus',status,'memoryOnly');\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":4090,"y":510,"wires":[["3fab3ca.466a0c4","d12d799d.788c68"]]},{"id":"bdd8a6cf.88f658","type":"change","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Obtener Status","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Status_Word","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3550,"y":510,"wires":[["a0c6716e.ee639"]]},{"id":"790e7d0f.6b61c4","type":"ui_text","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","group":"2666f936.6d0ee6","order":2,"width":4,"height":1,"name":"","label":"VELOCIDAD: ","format":"{{msg.payload}}Hz","layout":"row-left","x":4270,"y":790,"wires":[]},{"id":"8883c499.227688","type":"ui_text","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","group":"536af8e6.0e6808","order":2,"width":"4","height":"1","name":"","label":"VELOCIDAD: ","format":"{{msg.payload}}Hz","layout":"row-left","x":4270,"y":830,"wires":[]},{"id":"7fcc88de.059de8","type":"pccc in","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","endpoint":"71e1cbbe.7b7d94","mode":"all","variable":"","diff":false,"name":"VSD Read","x":3140,"y":530,"wires":[["6c4bef3c.23187","748b6ce4.924ee4"]]},{"id":"db0d9bc5.676758","type":"ui_text","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","group":"8370e95f.f0a918","order":1,"width":4,"height":2,"name":"","label":"Velocidad","format":"<font size = 8px> {{msg.payload}}Hz","layout":"col-center","x":4260,"y":750,"wires":[]},{"id":"6f1ee100.541c7","type":"ui_text","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","group":"8370e95f.f0a918","order":4,"width":4,"height":2,"name":"","label":"Corriente","format":"<font size = 8px> {{msg.payload}}A","layout":"col-center","x":4260,"y":550,"wires":[]},{"id":"183a217a.94c03f","type":"ui_text","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","group":"8370e95f.f0a918","order":5,"width":4,"height":2,"name":"","label":"Bus DC","format":"<font size = 8px> {{msg.payload}}V","layout":"col-center","x":4260,"y":670,"wires":[]},{"id":"641a9a27.18a5c4","type":"ui_text","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","group":"8370e95f.f0a918","order":6,"width":4,"height":2,"name":"","label":"Potencia","format":"<font size = 8px> {{msg.payload}}W","layout":"col-center","x":4260,"y":630,"wires":[]},{"id":"274b5eb7.b06c62","type":"ui_text","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","group":"8370e95f.f0a918","order":8,"width":4,"height":2,"name":"","label":"Tensión Salida","format":"<font size = 8px> {{msg.payload}}V","layout":"col-center","x":4280,"y":590,"wires":[]},{"id":"bf069ee7.c5381","type":"change","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Lectura Datos C2S","rules":[{"t":"set","p":"#:(memoryOnly)::C2S","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3560,"y":550,"wires":[["678aaa66.9fc4c4","a9e602e3.2ace7","f6615470.24d678","d9b8890c.a62838","f5bc19b4.d5ea08","e44936b0.4aa868","af8f0cf.570f3f"]]},{"id":"678aaa66.9fc4c4","type":"change","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Corriente de salida","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Output_Current","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3840,"y":550,"wires":[["6f1ee100.541c7"]]},{"id":"a9e602e3.2ace7","type":"change","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Tensión de salida","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Output_Voltage","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3840,"y":590,"wires":[["274b5eb7.b06c62"]]},{"id":"f6615470.24d678","type":"change","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Potencia de salida","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Output_Power","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3840,"y":630,"wires":[["641a9a27.18a5c4"]]},{"id":"d9b8890c.a62838","type":"change","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Bus DC","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Bus_DC_Volts","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3810,"y":670,"wires":[["183a217a.94c03f"]]},{"id":"f5bc19b4.d5ea08","type":"change","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Referencia actual","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Commanded_SpdRef","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3840,"y":710,"wires":[["20920eee.ba8d22"]]},{"id":"bedc0725.f22738","type":"link in","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Datalogger","links":["ad87cee4.7dbb5"],"x":1025,"y":260,"wires":[["b9ed60ab.26f43"]]},{"id":"3c51eaef.2751d6","type":"switch","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","property":"Datalogger.Activated","propertyType":"global","rules":[{"t":"true"},{"t":"false"}],"checkall":"true","repair":false,"outputs":2,"x":1230,"y":260,"wires":[["6b7af496.0913bc"],["4cb76011.15326"]]},{"id":"e3de11a.525d4f","type":"link out","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Datalogger Activated","links":["64bd474c.8651a8"],"x":1515,"y":200,"wires":[]},{"id":"2ffd423b.f2a4ae","type":"link out","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Datalogger deactivate","links":["bc74ae1c.8050f"],"x":1515,"y":320,"wires":[]},{"id":"6b7af496.0913bc","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToFalse","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1410,"y":200,"wires":[["e3de11a.525d4f","b59d2d9c.bc7c8"]]},{"id":"4cb76011.15326","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToFalse","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1410,"y":320,"wires":[["2ffd423b.f2a4ae","a222d060.87b67"]]},{"id":"5c0f44f8.2977bc","type":"inject","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1210,"y":200,"wires":[["6b7af496.0913bc"]]},{"id":"27ab586e.ff3e28","type":"inject","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1210,"y":320,"wires":[["4cb76011.15326"]]},{"id":"b59d2d9c.bc7c8","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToTrue","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1400,"y":240,"wires":[["2ffd423b.f2a4ae"]]},{"id":"a222d060.87b67","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"ToTrue","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1400,"y":280,"wires":[["e3de11a.525d4f"]]},{"id":"4c30ceb7.d240a","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"Datalogger.Archive","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1290,"y":60,"wires":[[]]},{"id":"4e129740.b3ea78","type":"link in","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Datalogger","links":["ad87cee4.7dbb5"],"x":735,"y":100,"wires":[["a28ff141.b8c37"]]},{"id":"a28ff141.b8c37","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Datalogger.Archive","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":850,"y":100,"wires":[["3300d502.d9f2da"]]},{"id":"b9ed60ab.26f43","type":"change","z":"d35c32b9.6419b","g":"1dd5b051.a95e6","name":"Flag","rules":[{"t":"set","p":"Datalogger.Flag","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":260,"wires":[["3c51eaef.2751d6"]]},{"id":"58cdfd92.f6f8f4","type":"inject","z":"d35c32b9.6419b","g":"b509ce91.c5418","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":true,"onceDelay":"10","topic":"","payload":"true","payloadType":"bool","x":690,"y":1470,"wires":[["bef62d1e.d88b3"]]},{"id":"697008fb.202388","type":"comment","z":"d35c32b9.6419b","g":"b509ce91.c5418","name":"INSERT to specific measurement","info":"","x":750,"y":1430,"wires":[]},{"id":"bef62d1e.d88b3","type":"function","z":"d35c32b9.6419b","g":"b509ce91.c5418","name":"multiple measurement points","func":"var PQA_Data = global.get(\"PQA\", \"memoryOnly\") || null;\nvar C2S_Data = global.get(\"C2S\", \"memoryOnly\") || null;\n\nif(C2S_Data != null && PQA_Data != null){\n    msg.payload = [\n        {\n            measurement: \"Input_Data\",\n            fields: {\n                V_L1N:      parseFloat(PQA_Data.Real_Time_Parameters.Phase_1_Voltage.toFixed(3)),\n                V_L2N:      parseFloat(PQA_Data.Real_Time_Parameters.Phase_2_Voltage.toFixed(3)),\n                V_L3N:      parseFloat(PQA_Data.Real_Time_Parameters.Phase_3_Voltage.toFixed(3)),\n                VLNAvg:     parseFloat(PQA_Data.Real_Time_Parameters.Average_Phase_Voltage.toFixed(3)),\n                V_L1L2:     parseFloat(PQA_Data.Real_Time_Parameters.Line_Voltage_1_2.toFixed(3)),\n                V_L1L3:     parseFloat(PQA_Data.Real_Time_Parameters.Line_Voltage_3_1.toFixed(3)),\n                V_L2L3:     parseFloat(PQA_Data.Real_Time_Parameters.Line_Voltage_2_3.toFixed(3)),\n                V_LLAvg:    parseFloat(PQA_Data.Real_Time_Parameters.Average_Phase_Voltage.toFixed(3)),\n                I_L1:       parseFloat(PQA_Data.Real_Time_Parameters.Total_Phase_A_Current.toFixed(3)),\n                I_L2:       parseFloat(PQA_Data.Real_Time_Parameters.Total_Phase_B_Current.toFixed(3)),\n                I_L3:       parseFloat(PQA_Data.Real_Time_Parameters.Total_Phase_C_Current.toFixed(3)),\n                I_Avg:      parseFloat(PQA_Data.Real_Time_Parameters.Average_Phase_Current.toFixed(3)),\n                P_Act:      parseFloat(PQA_Data.Real_Time_Parameters.Total_System_Power.toFixed(3)),\n                P_Rct:      parseFloat(PQA_Data.Real_Time_Parameters.Total_Reactive_Power.toFixed(3)),\n                P_Apa:      parseFloat(PQA_Data.Real_Time_Parameters.Total_Apparent_Power.toFixed(3)),\n            }\n        },\n        {\n            measurement: \"Operative_Data\",\n            fields: {\n                Voltage:        parseFloat(C2S_Data.Output_Voltage), \n                Current_VFD:    parseFloat(C2S_Data.Output_Current),\n                Current_Mtr:    parseFloat(C2S_Data.Output_Current),\n                Power_KW:       parseFloat(C2S_Data.Output_Power),\n                VBusDC:         parseFloat(C2S_Data.Bus_DC_Volts),\n                Reference:      parseFloat(C2S_Data.Commanded_SpdRef),\n                Feedback_Speed: parseFloat(C2S_Data.Mtr_Vel_Fdbk),\n                Voltage_Mtr:    parseFloat(C2S_Data.Output_Voltage),\n                THP:            0,\n                CHP:            0,\n                THT:            0,\n                CHT:            0,\n            }\n        },\n        {\n            measurement: \"Downhole_Data\",\n            fields: {\n                PIn:            0,\n                POut:           0,\n                PDiff:          0,\n                T_In:           0,\n                T_Out:          0,\n            }\n        }\n    ];\n    return msg;\n}\nreturn;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":880,"y":1470,"wires":[["af5bc0f2.0bc23","a25809c.5d92ff8"]]},{"id":"af5bc0f2.0bc23","type":"influxdb batch","z":"d35c32b9.6419b","g":"b509ce91.c5418","influxdb":"be84226.2d60ee","precision":"s","retentionPolicy":"","name":"","x":1140,"y":1490,"wires":[]},{"id":"d0735f18.f858d","type":"function","z":"d35c32b9.6419b","g":"da3ae781.998328","name":"","func":"var CurrentTab              = flow.get(\"Current-Tab\",\"memoryOnly\") || \"\";\nvar CurrentMeasurement      = flow.get(\"Query\",\"memoryOnly\") || {'Measurement': \"\"};\nvar ArrayDB                 = flow.get(\"Trend\",\"memoryOnly\");\nvar PQA_Data                = global.get(\"PQA\", \"memoryOnly\") || \"\";\nvar C2S_Data                = global.get(\"C2S\", \"memoryOnly\") || \"\";\n\nvar i = 0;\nvar Current_OperativeData     = { \n                                'Time'              :Date.now(), \n                                'Current_Mtr'       :C2S_Data.Output_Current, \n                                'Current_VFD'       :C2S_Data.Output_Current, \n                                'Power_KW'          :C2S_Data.Output_Power,\n                                'Reference'         :C2S_Data.Commanded_SpdRef, \n                                'VBusDC'            :C2S_Data.Bus_DC_Volts,\n                                'Voltage_Out'       :C2S_Data.Output_Voltage,\n                                'Feedback_Speed'    :C2S_Data.Mtr_Vel_Fdbk, \n                                'Voltage_Mtr'       :C2S_Data.Output_Voltage, \n                                'CHP'               :0, \n                                'THP'               :0, \n                                'CHT'               :0, \n                                'THT'               :0, \n                                //'Torque'            :0,\n                                };\nCurrent_InputData             = { \n                                'Time'              :Date.now(),\n                                'V_L1N'             :parseFloat(PQA_Data.Real_Time_Parameters.Phase_1_Voltage.toFixed(3)),\n                                'V_L2N'             :parseFloat(PQA_Data.Real_Time_Parameters.Phase_2_Voltage.toFixed(3)),\n                                'V_L3N'             :parseFloat(PQA_Data.Real_Time_Parameters.Phase_3_Voltage.toFixed(3)),\n                                'V_L1L2'            :parseFloat(PQA_Data.Real_Time_Parameters.Line_Voltage_1_2.toFixed(3)),\n                                'V_L1L3'            :parseFloat(PQA_Data.Real_Time_Parameters.Line_Voltage_3_1.toFixed(3)),\n                                'V_L2L3'            :parseFloat(PQA_Data.Real_Time_Parameters.Line_Voltage_2_3.toFixed(3)),\n                                'I_L1'              :parseFloat(PQA_Data.Real_Time_Parameters.Total_Phase_A_Current.toFixed(3)),\n                                'I_L2'              :parseFloat(PQA_Data.Real_Time_Parameters.Total_Phase_B_Current.toFixed(3)),\n                                'I_L3'              :parseFloat(PQA_Data.Real_Time_Parameters.Total_Phase_C_Current.toFixed(3)),\n                                'P_Act'             :parseFloat(PQA_Data.Real_Time_Parameters.Total_System_Power.toFixed(3)),\n                                'P_Rct'             :parseFloat(PQA_Data.Real_Time_Parameters.Total_Reactive_Power.toFixed(3)),\n                                'P_Apa'             :parseFloat(PQA_Data.Real_Time_Parameters.Total_Apparent_Power.toFixed(3)),\n                                }; \n                                \nCurrent_DownholeData          = { \n                                'Time'              :Date.now(),\n                                'PIn'               :[],\n                                'POut'              :[],\n                                'PDiff'             :[],\n                                'T_In'              :[],\n                                'T_Out'             :[],\n                                }; \n                \n//------------------------------------------ Tendencias Datos Operativos ------------------------------------------\n\nif (CurrentMeasurement.Measurement == \"Operative_Data\")\n    {\n            //------------------------------------------------------ Velocidad ------------------------------------------------------------\n            if (CurrentTab == \"VelocidadActual\")\n                {   \n                    ArrayDB.Time.unshift(Current_OperativeData.Time);        \n                    ArrayDB.Reference.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Reference});\n                    ArrayDB.Feedback_Speed.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Feedback_Speed}); \n                    \n                    ArrayDB.Time.pop();\n                    ArrayDB.Reference.pop();\n                    ArrayDB.Feedback_Speed.pop();\n                            \n                    msg.payload = [ArrayDB.Reference, ArrayDB.Feedback_Speed];\n                    msg.series  = [\"Referencia de Velocidad\", \"Velocidad Actal\"];\n                    msg.label   = \"Velocidad vs Feedback\";\n                }\n             //------------------------------------------------------ Tensión ------------------------------------------------------------ \n            else if (CurrentTab == \"Voltaje\")\n                {\n                    ArrayDB.Time.unshift(Current_OperativeData.Time);\n                    ArrayDB.Voltage_Out.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Voltage_Out});\n                    ArrayDB.VBusDC.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.VBusDC});\n                    ArrayDB.Voltage_Mtr.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Voltage_Mtr});\n                    \n                    ArrayDB.Time.pop();\n                    ArrayDB.Voltage_Out.pop();\n                    ArrayDB.VBusDC.pop();\n                    ArrayDB.Voltage_Mtr.pop();            \n                \n                    msg.payload = [ArrayDB.Voltage_Out,ArrayDB.VBusDC, ArrayDB.Voltage_Mtr];\n                    msg.series  = [\"Voltaje VFD\", \"Voltaje BusDC\", \"Voltaje de Motor\"];\n                    msg.label   = \"Niveles de Tensión del sistema\";     \n                }\n            //------------------------------------------------------ Carga ------------------------------------------------------------    \n            else if (CurrentTab == \"Carga\")\n                {\n                    ArrayDB.Time.unshift(Current_OperativeData.Time);    \n                    ArrayDB.Current_VFD.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Current_Mtr});\n                    ArrayDB.Current_Mtr.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Current_Mtr});\n                    //ArrayDB.Torque.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Torque});\n                    \n                    ArrayDB.Time.pop();\n                    ArrayDB.Current_VFD.pop();\n                    ArrayDB.Current_Mtr.pop();\n                    //ArrayDB.Torque.pop();\n                    \n                    //msg.payload = [ArrayDB.Current_VFD,ArrayDB.Current_Mtr, ArrayDB.Torque];\n                    msg.payload = [ArrayDB.Current_VFD,ArrayDB.Current_Mtr];\n                    msg.series  = [\"Corriente VFD\", \"Corriente de Motor\"]; \n                    msg.label   = \"Carga del sistema\";   \n                }\n            //------------------------------------------------------ Potencia ------------------------------------------------------------\n            else if (CurrentTab == \"Potencia\")\n                {\n                    ArrayDB.Time.unshift(Current_OperativeData.Time);\n    \n                    ArrayDB.Power_KW.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Power_KW});\n                    //ArrayDB.Power_KVAR.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Power_KVAR});\n                    //ArrayDB.Power_KVA.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Power_KVA});\n                    \n                    ArrayDB.Time.pop();\n                    ArrayDB.Power_KW.pop();\n                    //ArrayDB.Power_KVAR.pop();\n                    //ArrayDB.Power_KVA.pop();\n                    \n                    //msg.payload = [ArrayDB.Power_KW,ArrayDB.Power_KVAR, ArrayDB.Power_KVA];\n                    msg.payload = [ArrayDB.Power_KW];\n                    //msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                    msg.series  = [\"Potencia activa\"];\n                    msg.label   = \"Potencia del sistema\";     \n                }\n            //------------------------------------------------------ Temperatura ------------------------------------------------------------        \n            else if (CurrentTab == \"Temperatura\")\n                {\n                    ArrayDB.Time.unshift(Current_OperativeData.Time);\n                    ArrayDB.CHT.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.CHT});\n                    ArrayDB.THT.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.THT});\n                    \n                    ArrayDB.Time.pop();\n                    ArrayDB.CHT.pop();\n                    ArrayDB.THT.pop();\n                    \n                    msg.payload = [ArrayDB.CHT,ArrayDB.THT];\n                    msg.series  = [\"CHT\", \"THT\"];\n                    msg.label   = \"Temperatura del sistema\";\n                }\n            //------------------------------------------------------ Presión ------------------------------------------------------------        \n            else if (CurrentTab == \"Presion\")\n                {\n                    ArrayDB.Time.unshift(Current_OperativeData.Time);\n                    ArrayDB.CHP.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.CHP});\n                    ArrayDB.THP.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.THP});\n                    \n                    ArrayDB.Time.pop();\n                    ArrayDB.CHP.pop();\n                    ArrayDB.THP.pop();\n                    \n                    msg.payload = [ArrayDB.CHP, ArrayDB.THP];\n                    msg.series  = [\"CHP\", \"THP\"];\n                    msg.label   = \"Presión del sistema\";    \n                }        \n    }\n/* ------------------------------------------ Tendencias Datos Eléctricos ------------------------------------------ */\nelse if (CurrentMeasurement.Measurement == \"Input_Data\")\n    {\n        //------------------------------------------------------ Voltaje de Entrada ------------------------------------------------------------\n        if(CurrentTab == \"Voltaje\")\n            {\n                ArrayDB.Time.unshift(Current_InputData.Time);\n                ArrayDB.V_L1N.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.V_L1N});\n                ArrayDB.V_L2N.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.V_L2N});\n                ArrayDB.V_L3N.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.V_L3N});\n                ArrayDB.V_L1L2.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.V_L1L2}); \n                ArrayDB.V_L1L3.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.V_L1L2}); \n                ArrayDB.V_L2L3.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.V_L1L2});   \n                \n                ArrayDB.Time.pop();\n                ArrayDB.V_L1N.pop();\n                ArrayDB.V_L2N.pop();\n                ArrayDB.V_L3N.pop();\n                ArrayDB.V_L1L2.pop();\n                ArrayDB.V_L1L3.pop();\n                ArrayDB.V_L2L3.pop();\n                \n                msg.payload =   [   \n                                    ArrayDB.V_L1N,ArrayDB.V_L2N,ArrayDB.V_L3N,ArrayDB.V_L1L2,\n                                    ArrayDB.V_L1L3,ArrayDB.V_L2L3\n                                ];\n                msg.series  = [\"L1-N\",\"L2-N\",\"L3-N\",\"L1-L2\",\"L1-L3\",\"L2L3\"];\n                msg.label   = \"Tensión de entrada del sistema\";   \n            }\n        //------------------------------------------------------ Corriente de Entrada ------------------------------------------------------------   \n        else if (CurrentTab == \"Corriente\")\n            {\n                ArrayDB.Time.unshift(Current_InputData.Time);\n                ArrayDB.I_L1.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.I_L1});\n                ArrayDB.I_L2.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.I_L2});\n                ArrayDB.I_L3.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.I_L3});\n                \n                ArrayDB.Time.pop();\n                ArrayDB.I_L1.pop();\n                ArrayDB.I_L2.pop();\n                ArrayDB.I_L3.pop();\n                \n                msg.payload = [ArrayDB.I_L1, ArrayDB.I_L2,ArrayDB.I_L3];\n                msg.series  = [\"L1\", \"L2\", \"L3\"];\n                msg.label   = \"Corriente de entrada del sistema\";\n            }\n        //------------------------------------------------------ Potencia de Entrada ------------------------------------------------------------\n        else if (CurrentTab == \"Potencia\")\n            {\n                ArrayDB.Time.unshift(Current_InputData.Time);\n                ArrayDB.P_Act.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.P_Act});\n                ArrayDB.P_Rct.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.P_Rct});\n                ArrayDB.P_Apa.unshift({\"x\":Current_InputData.Time,\"y\":Current_InputData.P_Apa});\n                \n                ArrayDB.Time.pop();\n                ArrayDB.P_Act.pop();\n                ArrayDB.P_Rct.pop();\n                ArrayDB.P_Apa.pop();\n                        \n                msg.payload = [ArrayDB.P_Act,ArrayDB.P_Rct,ArrayDB.P_Apa];\n                msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                msg.label   = \"Potencia de entrada del sistema\";        \n            }    \n    } \n/*------------------------------------------ Tendencias Datos de Fondo ------------------------------------------*/    \nelse if (CurrentMeasurement.Measurement == \"Downhole_Data\")\n    {\n        //------------------------------------------------------ Presión de fondo ------------------------------------------------------------\n        if (CurrentTab == \"Presión\")\n           {\n                ArrayDB.Time.unshift(Current_DownholeData.Time);\n                ArrayDB.PIn.unshift({\"x\":Current_DownholeData.Time,\"y\":Current_DownholeData.PIn});\n                ArrayDB.POut.unshift({\"x\":Current_DownholeData.Time,\"y\":Current_DownholeData.POut});\n                ArrayDB.PDiff.unshift({\"x\":Current_DownholeData.Time,\"y\":Current_DownholeData.PDiff});\n                \n                ArrayDB.Time.pop();\n                ArrayDB.P_Act.pop();\n                ArrayDB.P_Rct.pop();\n                ArrayDB.P_Apa.pop();\n                \n                msg.payload = [Array_DownholeData.PIn,Array_DownholeData.POut,Array_DownholeData.PDiff];\n                msg.series  = [\"Presión de entrada\",\"Presión de Salida\",\"Presión diferencial\"];\n                msg.label   = \"Presión de entrada del sistema\";\n            }\n            \n        //------------------------------------------------------ Temperatura de fondo ------------------------------------------------------------\n        else if (CurrentTab == \"Temperatura\")\n           {\n                ArrayDB.Time.unshift(Current_DownholeData.Time);\n                ArrayDB.T_In.unshift({\"x\":Current_DownholeData.Time,\"y\":Current_DownholeData.T_In});\n                ArrayDB.T_Out.unshift({\"x\":Current_DownholeData.Time,\"y\":Current_DownholeData.T_Out});\n                \n                ArrayDB.Time.pop();\n                ArrayDB.P_Act.pop();\n                ArrayDB.P_Rct.pop();\n                ArrayDB.P_Apa.pop();\n                \n                msg.payload = [Array_DownholeData.T_In,Array_DownholeData.T_Out];\n                msg.series  = [\"Temperatura de entrada\",\"Temperatura de Salida\"];\n                msg.label   = \"Presión de entrada del sistema\";\n                      \n            }\n    }\nflow.set(\"Trend\", ArrayDB,\"memoryOnly\");\nreturn msg;        \n\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":680,"y":750,"wires":[["d1ec13b9.2d54a"]]},{"id":"d49cbbef.71a878","type":"inject","z":"d35c32b9.6419b","g":"da3ae781.998328","name":"Update 2 samples","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":190,"y":750,"wires":[["42196f55.8e867"]]},{"id":"ad8181d.652538","type":"influxdb in","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","influxdb":"29eec29e.f8e8ce","name":"Read","query":"","rawOutput":false,"precision":"s","retentionPolicy":"","x":870,"y":1260,"wires":[["5110e71f.5746a8","80b34dd.dbd91b"]]},{"id":"5110e71f.5746a8","type":"function","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"DateHandle","func":"//------------------------------------------ Declaración de variables ------------------------------------------\nvar CurrentTab              = flow.get(\"Current-Tab\",\"memoryOnly\") || \"VelocidadActual\";\nvar CurrentMeasurement      = flow.get(\"Query\",\"memoryOnly\") || {'Measurement': \"\"};\nvar Array_OperativeData     = { 'Time'              :[], \n                                'Current_Mtr'       :[], \n                                'Current_VFD'       :[], \n                                'Power_KVA'         :[], \n                                'Power_KVAR'        :[], \n                                'Power_KW'          :[],\n                                'Reference'         :[], \n                                'VBusDC'            :[],\n                                'Voltage_Out'       :[],\n                                'Feedback_Speed'    :[], \n                                'Voltage_Mtr'       :[], \n                                'CHP'               :[], \n                                'THP'               :[], \n                                'CHT'               :[], \n                                'THT'               :[], \n                                //'Torque'            :[],\n                                'Flag'              : 0};\n\nArray_InputData             = { 'Time'              :[],\n                                'V_L1N'             :[],\n                                'V_L2N'             :[],\n                                'V_L3N'             :[],\n                                'V_L1L2'            :[],\n                                'V_L1L3'            :[],\n                                'V_L2L3'            :[],\n                                'I_L1'              :[],\n                                'I_L2'              :[],\n                                'I_L3'              :[],\n                                'P_Act'             :[],\n                                'P_Rct'             :[],\n                                'P_Apa'             :[],\n                                'Flag'              : 0}; \n                                \nArray_DownholeData          = { 'Time'              :[],\n                                'PIn'               :[],\n                                'POut'              :[],\n                                'PDiff'             :[],\n                                'T_In'              :[],\n                                'T_Out'             :[],\n                                'Flag'              : 0}; \nvar i = 0;\n\n\n//------------------------------------------ Tendencias Datos Operativos ------------------------------------------\n\n// Selección tendencias Datos Operativos\nif (CurrentMeasurement.Measurement == \"Operative_Data\")\n    {\n        //------------------------------------------------------ Velocidad ------------------------------------------------------------\n        if (CurrentTab == \"VelocidadActual\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.push(msg.payload[i].time);\n                        Array_OperativeData.Reference.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Reference});\n                        Array_OperativeData.Feedback_Speed.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Feedback_Speed});\n                        \n                    }\n                msg.payload = [Array_OperativeData.Reference,Array_OperativeData.Feedback_Speed];\n                msg.series  = [\"Referencia de Velocidad\", \"Velocidad Actual\"];\n                msg.label   = \"Velocidad del sistema\";\n            }\n        //------------------------------------------------------ Tensión ------------------------------------------------------------\n        else if (CurrentTab == \"Voltaje\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        \n                        Array_OperativeData.Time.push(msg.payload[i].time);\n                        Array_OperativeData.Voltage_Out.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage});\n                        Array_OperativeData.VBusDC.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].VBusDC});\n                        Array_OperativeData.Voltage_Mtr.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage_Mtr});\n                    }\n                msg.payload = [Array_OperativeData.Voltage_Out,Array_OperativeData.VBusDC, Array_OperativeData.Voltage_Mtr];\n                msg.series  = [\"Voltaje VFD\", \"Voltaje BusDC\", \"Voltaje de Motor\"];\n                msg.label   = \"Niveles de Tensión del sistema\";    \n            }\n        \n        //------------------------------------------------------ Carga ------------------------------------------------------------\n        else if (CurrentTab == \"Carga\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.push(msg.payload[i].time);\n                        Array_OperativeData.Current_VFD.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_VFD});\n                        Array_OperativeData.Current_Mtr.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_Mtr});\n                        //Array_OperativeData.Torque.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Torque});\n                    }\n                //msg.payload = [Array_OperativeData.Current_VFD,Array_OperativeData.Current_Mtr, Array_OperativeData.Torque];\n                msg.payload = [Array_OperativeData.Current_VFD,Array_OperativeData.Current_Mtr];\n                //msg.series  = [\"Corriente VFD\", \"Corriente de Motor\", \"Torque actual\"];\n                msg.series  = [\"Corriente VFD\", \"Corriente de Motor\"];\n                msg.label   = \"Carga del sistema\";    \n            }  \n        //------------------------------------------------------ Potencia ------------------------------------------------------------\n        else if (CurrentTab == \"Potencia\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.push(msg.payload[i].time);\n                        Array_OperativeData.Power_KW.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KW});\n                        //Array_OperativeData.Power_KVAR.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVAR});\n                        //Array_OperativeData.Power_KVA.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVA});\n                    }\n                //msg.payload = [Array_OperativeData.Power_KW,Array_OperativeData.Power_KVAR, Array_OperativeData.Power_KVA];\n                msg.payload = [Array_OperativeData.Power_KW];\n                //msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                msg.series  = [\"Potencia activa\"];\n                msg.label   = \"Potencia del sistema\";    \n            }\n        //------------------------------------------------------ Temperatura ------------------------------------------------------------    \n        else if (CurrentTab == \"Temperatura\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.push(msg.payload[i].time);\n                        Array_OperativeData.CHT.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHT});\n                        Array_OperativeData.THT.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THT});\n                    }\n                msg.payload = [Array_OperativeData.CHT,Array_OperativeData.THT];\n                msg.series  = [\"CHT\", \"THT\"];\n                msg.label   = \"Temperatura del sistema\";    \n            }\n        //------------------------------------------------------ Presión ------------------------------------------------------------    \n        else if (CurrentTab == \"Presion\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.push(msg.payload[i].time);\n                        Array_OperativeData.CHP.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHP});\n                        Array_OperativeData.THP.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THP});\n                    }\n                msg.payload = [Array_OperativeData.CHP, Array_OperativeData.THP];\n                msg.series  = [\"CHP\", \"THP\"];\n                msg.label   = \"Presión del sistema\";    \n            }\n    Array_OperativeData.Flag = 0;    \n    flow.set(\"Trend\", Array_OperativeData,\"memoryOnly\");                \n    }\n    \n//------------------------------------------ Tendencias Datos Eléctricos de Entrada ------------------------------------------\n\n// Selección tendencias Datos eléctricos de entrada\nelse if (CurrentMeasurement.Measurement == \"Input_Data\")\n    {\n            //------------------------------------------------------ Voltaje de Entrada ------------------------------------------------------------\n            if (CurrentTab == \"Voltaje\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            Array_InputData.Time.push(msg.payload[i].time);\n                            Array_InputData.V_L1N.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1N});\n                            Array_InputData.V_L2N.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L2N});\n                            Array_InputData.V_L3N.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L3N});\n                            Array_InputData.V_L1L2.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                            Array_InputData.V_L1L3.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                            Array_InputData.V_L2L3.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                            \n                        }\n                    msg.payload =   [   \n                                        Array_InputData.V_L1N,Array_InputData.V_L2N,Array_InputData.V_L3N,Array_InputData.V_L1L2,\n                                        Array_InputData.V_L1L3,Array_InputData.V_L2L3\n                                    ];\n                    msg.series  = [\"L1-N\",\"L2-N\",\"L3-N\",\"L1-L2\",\"L1-L3\",\"L2L3\"];\n                    msg.label   = \"Tensión de entrada del sistema\";    \n                }\n            //------------------------------------------------------ Corriente de Entrada ------------------------------------------------------------\n            else if (CurrentTab == \"Corriente\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            Array_InputData.Time.push(msg.payload[i].time);\n                            Array_InputData.I_L1.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L1});\n                            Array_InputData.I_L2.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L2});\n                            Array_InputData.I_L3.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L3});\n                        }\n                    msg.payload = [Array_InputData.I_L1, Array_InputData.I_L2,Array_InputData.I_L3];\n                    msg.series  = [\"L1\", \"L2\", \"L3\"];\n                    msg.label   = \"Corriente de entrada del sistema\";\n                }\n            //------------------------------------------------------ Potencia de Entrada ------------------------------------------------------------\n            else if (CurrentTab == \"Potencia\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            Array_InputData.Time.push(msg.payload[i].time);\n                            Array_InputData.P_Act.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Act});\n                            Array_InputData.P_Rct.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Rct});\n                            Array_InputData.P_Apa.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Apa});\n                        }\n                    msg.payload = [Array_InputData.P_Act,Array_InputData.P_Rct,Array_InputData.P_Apa];\n                    msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                    msg.label   = \"Potencia de entrada del sistema\";\n                }\n            \n        Array_InputData.Flag = 0;    \n        flow.set(\"Trend\", Array_InputData,\"memoryOnly\");\n    }\n/*------------------------------------------ Tendencias Datos de Fondo ------------------------------------------*/\nelse if (CurrentMeasurement.Measurement == \"Downhole_Data\")\n{\n            //------------------------------------------------------ Presión de fondo ------------------------------------------------------------\n            if (CurrentTab == \"Presión\")\n               {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            Array_DownholeData.Time.push(msg.payload[i].time);\n                            Array_DownholeData.PIn.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PIn});\n                            Array_DownholeData.POut.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].POut});\n                            Array_DownholeData.PDiff.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PDiff});\n                        }\n                    msg.payload = [Array_DownholeData.PIn,Array_DownholeData.POut,Array_DownholeData.PDiff];\n                    msg.series  = [\"Presión de entrada\",\"Presión de Salida\",\"Presión diferencial\"];\n                    msg.label   = \"Presión de entrada del sistema\";\n                }\n                \n            //------------------------------------------------------ Temperatura de fondo ------------------------------------------------------------\n            else if (CurrentTab == \"Temperatura\")\n               {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            Array_DownholeData.Time.push(msg.payload[i].time);\n                            Array_DownholeData.T_In.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_In});\n                            Array_DownholeData.T_Out.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_Out});\n                        }\n                    msg.payload = [Array_DownholeData.T_In,Array_DownholeData.T_Out];\n                    msg.series  = [\"Temperatura de entrada\",\"Temperatura de Salida\"];\n                    msg.label   = \"Presión de entrada del sistema\";\n                }\n        Array_DownholeData.Flag = 0;    \n        flow.set(\"Trend\", Array_DownholeData,\"memoryOnly\");\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1030,"y":1260,"wires":[["d1ec13b9.2d54a","6a9bae72.3bb93"]]},{"id":"bc3827d0.25b248","type":"comment","z":"d35c32b9.6419b","g":"da3ae781.998328","name":"Tendencia en tiempo real","info":"","x":190,"y":710,"wires":[]},{"id":"9f65b6e4.fa9b58","type":"change","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"","rules":[{"t":"delete","p":"#:(memoryOnly)::Trend","pt":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":490,"y":1260,"wires":[["e23d1e5c.76f6a"]]},{"id":"89b96b56.401e78","type":"function","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"","func":"var LastSample = flow.get(\"Trend.Time[29]\",\"memoryOnly\");\nvar Flag = flow.get(\"Trend.Flag\",\"memoryOnly\"); \nvar Sample = (new Date(LastSample)).toISOString();\nvar Consult = flow.get(\"Query\",\"memoryOnly\");\n\n/*\nSe evalua:\n    - Que no se haya presionado en el instante anterior el botón, de \n      muestra más antigua.\n    - Si se presiona repetidamente el botón \"Atrás\", aguardará a que \n    termine de trazar la gráfica para volver a cargarla.\n*/\nif ((Flag != 2) && (Flag != 4))\n{\n    Flag = 2;\n    msg.query = \"SELECT * FROM \" + Consult.Measurement + \" WHERE time < \" + \"'\" + Sample +\"'\"+ \" ORDER BY DESC LIMIT 1\"; \n    flow.set(\"Trend.Flag\",Flag,\"memoryOnly\");\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":430,"y":880,"wires":[["1a80eeb1.999511"]]},{"id":"cb63afbb.b38ed","type":"comment","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"Tendencia 2 muestra hacia atrás","info":"","x":500,"y":840,"wires":[]},{"id":"1a80eeb1.999511","type":"influxdb in","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","influxdb":"29eec29e.f8e8ce","name":"Read","query":"","rawOutput":false,"precision":"s","retentionPolicy":"","x":560,"y":880,"wires":[["ac5a3eb4.6c60d","9d2ef708.6a7618"]]},{"id":"7893f953.690d58","type":"function","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"","func":"var CurrentTab              = flow.get(\"Current-Tab\",\"memoryOnly\") || \"\";\nvar CurrentMeasurement      = flow.get(\"Query\",\"memoryOnly\") || {'Measurement': \"\"};\nvar ArrayDB                 = flow.get(\"Trend\",\"memoryOnly\");\n\n//------------------------------------------ Tendencias Datos Operativos ------------------------------------------\n\n    if (CurrentMeasurement.Measurement == \"Operative_Data\")\n        {\n            //------------------------------------------------------ Velocidad ------------------------------------------------------------\n            if (CurrentTab == \"VelocidadActual\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.Reference.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Reference});\n                            ArrayDB.Feedback_Speed.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Feedback_Speed}); \n                            \n                            //Elimina muestras del final\n                            ArrayDB.Time.pop();\n                            ArrayDB.Reference.pop();\n                            ArrayDB.Feedback_Speed.pop();\n                        }\n                    msg.payload = [ArrayDB.Reference, ArrayDB.Feedback_Speed];\n                    msg.series  = [\"Referencia de Velocidad\", \"Velocidad Actal\"];\n                    msg.label   = \"Velocidad vs Feedback\";\n                }\n            //------------------------------------------------------ Tensión ------------------------------------------------------------\n            else if (CurrentTab == \"Voltaje\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.Voltage_Out.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage});\n                            ArrayDB.VBusDC.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].VBusDC});\n                            ArrayDB.Voltage_Mtr.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage_Mtr});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.Voltage_Out.pop();\n                            ArrayDB.VBusDC.pop();\n                            ArrayDB.Voltage_Mtr.pop();\n                            \n                            \n                        }\n                    msg.payload = [ArrayDB.Voltage_Out, ArrayDB.VBusDC, ArrayDB.Voltage_Mtr];\n                    msg.series  = [\"Voltaje VFD\", \"Voltaje BusDC\", \"Voltaje de Motor\"];\n                    msg.label   = \"Niveles de Tensión del sistema\";      \n                }\n            //------------------------------------------------------ Carga ------------------------------------------------------------\n            else if (CurrentTab == \"Carga\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.Current_VFD.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_VFD});\n                            ArrayDB.Current_Mtr.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_Mtr});\n                            //ArrayDB.Torque.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Torque});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.Current_VFD.pop();\n                            ArrayDB.Current_Mtr.pop();\n                            //ArrayDB.Torque.pop();\n                            \n                        }\n                    //msg.payload = [ArrayDB.Current_VFD, ArrayDB.Current_Mtr, ArrayDB.Torque];\n                    msg.payload = [ArrayDB.Current_VFD, ArrayDB.Current_Mtr];\n                    //msg.series  = [\"Corriente VFD\", \"Corriente de Motor\", \"Torque actual\"];\n                    msg.series  = [\"Corriente VFD\", \"Corriente de Motor\"];\n                    msg.label   = \"Carga del sistema\";    \n                }\n            //------------------------------------------------------ Potencia ------------------------------------------------------------\n            else if (CurrentTab == \"Potencia\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.Power_KW.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KW});\n                            //ArrayDB.Power_KVAR.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVAR});\n                            //ArrayDB.Power_KVA.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVA});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.Power_KW.pop();\n                            //ArrayDB.Power_KVAR.pop();\n                            //ArrayDB.Power_KVA.pop();\n                            \n                        }\n                    //msg.payload = [ArrayDB.Power_KW,ArrayDB.Power_KVAR, ArrayDB.Power_KVA];\n                    msg.payload = [ArrayDB.Power_KW];\n                    //msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                    msg.series  = [\"Potencia activa\"];\n                    msg.label   = \"Potencia del sistema\";    \n                }\n            //------------------------------------------------------ Temperatura ------------------------------------------------------------    \n            else if (CurrentTab == \"Temperatura\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.CHT.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHT});\n                            ArrayDB.THT.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THT});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.CHT.pop();\n                            ArrayDB.THT.pop();\n                            \n                        }\n                    msg.payload = [ArrayDB.CHT,ArrayDB.THT];\n                    msg.series  = [\"CHT\", \"THT\"];\n                    msg.label   = \"Temperatura del sistema\";    \n                }\n                //------------------------------------------------------ Presión ------------------------------------------------------------    \n            else if (CurrentTab == \"Presion\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.CHP.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHP});\n                            ArrayDB.THP.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THP});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.CHP.pop();\n                            ArrayDB.THP.pop();\n                        }\n                    msg.payload = [ArrayDB.CHP, ArrayDB.THP];\n                    msg.series  = [\"CHP\", \"THP\"];\n                    msg.label   = \"Presión del sistema\";    \n                }\n        }\n/* ------------------------------------------ Tendencias Datos Eléctricos ------------------------------------------ */\n    else if (CurrentMeasurement.Measurement == \"Input_Data\")\n        {\n            //------------------------------------------------------ Voltaje de Entrada ------------------------------------------------------------\n            if(CurrentTab == \"Voltaje\")\n                {\n                    if (msg.payload[0].time == ArrayDB.Time[0]){i = 1} else {i=0}\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.V_L1N.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1N});\n                            ArrayDB.V_L2N.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L2N});\n                            ArrayDB.V_L3N.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L3N});\n                            ArrayDB.V_L1L2.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                            ArrayDB.V_L1L3.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                            ArrayDB.V_L2L3.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2});   \n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.V_L1N.pop();\n                            ArrayDB.V_L2N.pop();\n                            ArrayDB.V_L3N.pop();\n                            ArrayDB.V_L1L2.pop();\n                            ArrayDB.V_L1L3.pop();\n                            ArrayDB.V_L2L3.pop();  \n                        }\n                    msg.payload =   [   \n                                        ArrayDB.V_L1N,ArrayDB.V_L2N,ArrayDB.V_L3N,ArrayDB.V_L1L2,\n                                        ArrayDB.V_L1L3,ArrayDB.V_L2L3\n                                    ];\n                    msg.series  = [\"L1-N\",\"L2-N\",\"L3-N\",\"L1-L2\",\"L1-L3\",\"L2L3\"];\n                    msg.label   = \"Tensión de entrada del sistema\";      \n                }\n            \n            //------------------------------------------------------ Corriente de Entrada ------------------------------------------------------------\n            else if (CurrentTab == \"Corriente\")\n                {\n                    for(i = 0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.I_L1.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L1});\n                            ArrayDB.I_L2.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L2});\n                            ArrayDB.I_L3.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L3});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.I_L1.pop();\n                            ArrayDB.I_L2.pop();\n                            ArrayDB.I_L3.pop();\n                        }\n                    msg.payload = [ArrayDB.I_L1, ArrayDB.I_L2,ArrayDB.I_L3];\n                    msg.series  = [\"L1\", \"L2\", \"L3\"];\n                    msg.label   = \"Corriente de entrada del sistema\";\n                }\n            //------------------------------------------------------ Potencia de Entrada ------------------------------------------------------------    \n            else if (CurrentTab == \"Potencia\")\n                {\n                    for(i = 0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.P_Act.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Act});\n                            ArrayDB.P_Rct.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Rct});\n                            ArrayDB.P_Apa.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Apa});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.P_Act.pop();\n                            ArrayDB.P_Rct.pop();\n                            ArrayDB.P_Apa.pop();\n                        }\n                    \n                    msg.payload = [ArrayDB.P_Act,ArrayDB.P_Rct,ArrayDB.P_Apa];\n                    msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                    msg.label   = \"Potencia de entrada del sistema\";\n                }    \n        } \n/*------------------------------------------ Tendencias Datos de Fondo ------------------------------------------*/    \n    else if (CurrentMeasurement.Measurement == \"Downhole_Data\")\n        {\n            //------------------------------------------------------ Presión de fondo ------------------------------------------------------------\n            if (CurrentTab == \"Presión\")\n               {\n                    for(i = 0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.PIn.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PIn});\n                            ArrayDB.POut.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].POut});\n                            ArrayDB.PDiff.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PDiff});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.PIn.pop();\n                            ArrayDB.POut.pop();\n                            ArrayDB.PDiff.pop();\n                        }\n                    msg.payload = [ArrayDB.PIn,ArrayDB.POut,ArrayDB.PDiff];\n                    msg.series  = [\"Presión de entrada\",\"Presión de Salida\",\"Presión diferencial\"];\n                    msg.label   = \"Presión de entrada del sistema\";\n                        \n                }\n            //------------------------------------------------------ Temperatura de fondo ------------------------------------------------------------    \n            else if (CurrentTab == \"Temperatura\")\n               {\n                    for(i = 0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.unshift(msg.payload[i].time);\n                            ArrayDB.T_In.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_In});\n                            ArrayDB.T_Out.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_Out});\n                            \n                            ArrayDB.Time.pop();\n                            ArrayDB.T_In.pop();\n                            ArrayDB.T_Out.pop();\n                            \n                        }\n                    msg.payload = [ArrayDB.T_In,ArrayDB.T_Out];\n                    msg.series  = [\"Temperatura de entrada\",\"Temperatura de Salida\"];\n                    msg.label   = \"Presión de entrada del sistema\";    \n                }\n        }\n\nflow.set(\"Trend\", ArrayDB,\"memoryOnly\");\n\nreturn msg;\n\n\n\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":830,"y":1070,"wires":[["d1ec13b9.2d54a"]]},{"id":"e6513f08.9de2b","type":"influxdb in","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","influxdb":"29eec29e.f8e8ce","name":"Read","query":"","rawOutput":false,"precision":"s","retentionPolicy":"","x":580,"y":1050,"wires":[["103b42c0.753efd"]]},{"id":"1007271e.7b5509","type":"function","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"","func":"var Flag        = flow.get(\"Trend.Flag\",\"memoryOnly\");\nvar LastSample  = flow.get(\"Trend.Time[0]\",\"memoryOnly\"); \nvar Sample      = (new Date(LastSample)).toISOString();\nvar Consult     = flow.get(\"Query\",\"memoryOnly\") || {'Measurement': \"\"};\n\n\n/*\nSe evalua:\n    - Que no se haya presionado en el instante anterior el botón, de \n      muestras en tiempo real\n    - Si se presiona repetidamente el botón \"Adelante\", aguardará a que \n    termine de trazar la gráfica para volver a cargarla.\n*/\nif ((Flag != 1) && (Flag != 3) )\n{\n    msg.query = \"SELECT * FROM \" + Consult.Measurement +  \" WHERE time > \" +\"'\"+Sample+\"'\"+ \" LIMIT 1\";\n    Flag = 1;\n    flow.set(\"Trend.Flag\",Flag,\"memoryOnly\");\n    return msg;\n}\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":450,"y":1050,"wires":[["e6513f08.9de2b"]]},{"id":"ac5a3eb4.6c60d","type":"function","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"","func":"var CurrentTab              = flow.get(\"Current-Tab\",\"memoryOnly\") || \"\";\nvar CurrentMeasurement      = flow.get(\"Query\",\"memoryOnly\") || {'Measurement': \"\"};\nvar ArrayDB                 = flow.get(\"Trend\",\"memoryOnly\");\n\n/* ------------------------------------------ Tendencias Datos Operativos ------------------------------------------ */\n\n// Selección tendencias Datos Operativos\n    if (CurrentMeasurement.Measurement == \"Operative_Data\")\n        {\n            //------------------------------------------------------ Velocidad ------------------------------------------------------------\n            if (CurrentTab == \"VelocidadActual\")\n                {\n                    for(i = 0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.push(msg.payload[i].time);\n                            ArrayDB.Reference.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Reference});\n                            ArrayDB.Feedback_Speed.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Feedback_Speed}); \n                        \n                            ArrayDB.Time.shift();\n                            ArrayDB.Reference.shift();\n                            ArrayDB.Feedback_Speed.shift();   \n                        }\n                    msg.payload = [ArrayDB.Reference, ArrayDB.Feedback_Speed];\n                    msg.series  = [\"Referencia de Velocidad\", \"Velocidad Actal\"];\n                    msg.label   = \"Velocidad vs Feedback\";\n                }\n            //------------------------------------------------------ Tensión ------------------------------------------------------------ \n            else if (CurrentTab == \"Voltaje\")\n                {\n                    for(i = 0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.push(msg.payload[i].time);\n                            ArrayDB.Voltage_Out.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage});\n                            ArrayDB.VBusDC.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].VBusDC});\n                            ArrayDB.Voltage_Mtr.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage_Mtr});\n                            \n                            ArrayDB.Time.shift();\n                            ArrayDB.Voltage_Out.shift();\n                            ArrayDB.VBusDC.shift();\n                            ArrayDB.Voltage_Mtr.shift();\n                        }\n                    msg.payload = [ArrayDB.Voltage_Out,ArrayDB.VBusDC, ArrayDB.Voltage_Mtr];\n                    msg.series  = [\"Voltaje VFD\", \"Voltaje BusDC\", \"Voltaje de Motor\"];\n                    msg.label   = \"Niveles de Tensión del sistema\";\n                }\n            //------------------------------------------------------ Carga ------------------------------------------------------------    \n            else if (CurrentTab == \"Carga\")\n            {\n                for(i = 0; i < msg.payload.length; i++)\n                    {\n                        ArrayDB.Time.push(msg.payload[i].time);\n                        ArrayDB.Current_VFD.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_VFD});\n                        ArrayDB.Current_Mtr.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_Mtr});\n                        //ArrayDB.Torque.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Torque});\n                        \n                        ArrayDB.Time.shift();\n                        ArrayDB.Current_VFD.shift();\n                        ArrayDB.Current_Mtr.shift();\n                        //ArrayDB.Torque.shift();\n                        \n                    }\n                //msg.payload = [ArrayDB.Current_VFD,ArrayDB.Current_Mtr, ArrayDB.Torque];\n                msg.payload = [ArrayDB.Current_VFD,ArrayDB.Current_Mtr];\n                //msg.series  = [\"Corriente VFD\", \"Corriente de Motor\", \"Torque actual\"];\n                msg.series  = [\"Corriente VFD\", \"Corriente de Motor\"];\n                msg.label   = \"Carga del sistema\";\n                \n            }\n        //------------------------------------------------------ Potencia ------------------------------------------------------------\n        else if (CurrentTab == \"Potencia\")\n            {\n                for(i = 0; i < msg.payload.length; i++)\n                    {\n                        ArrayDB.Time.push(msg.payload[i].time);\n                        ArrayDB.Power_KW.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KW});\n                        //ArrayDB.Power_KVAR.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVAR});\n                        //ArrayDB.Power_KVA.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVA});\n                        \n                        ArrayDB.Time.shift();\n                        ArrayDB.Power_KW.shift();\n                        //ArrayDB.Power_KVAR.shift();\n                        //ArrayDB.Power_KVA.shift();\n                    }\n                //msg.payload = [ArrayDB.Power_KW,ArrayDB.Power_KVAR, ArrayDB.Power_KVA];\n                msg.payload = [ArrayDB.Power_KW];\n                //msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                msg.series  = [\"Potencia activa\"];\n                msg.label   = \"Potencia del sistema\";    \n            }\n        //------------------------------------------------------ Temperatura ------------------------------------------------------------     \n        else if (CurrentTab == \"Temperatura\")\n            {\n                for(i = 0; i < msg.payload.length; i++)\n                    {\n                        ArrayDB.Time.push(msg.payload[i].time);\n                        ArrayDB.CHT.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHT});\n                        ArrayDB.THT.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THT});\n                        \n                        ArrayDB.Time.shift();\n                        ArrayDB.CHT.shift();\n                        ArrayDB.THT.shift();\n                    }\n                msg.payload = [ArrayDB.CHT,ArrayDB.THT];\n                msg.series  = [\"CHT\", \"THT\"];\n                msg.label   = \"Temperatura del sistema\";    \n            }\n        //------------------------------------------------------ Presión ------------------------------------------------------------    \n        else if (CurrentTab == \"Presion\")\n            {\n                for(i = 0; i < msg.payload.length; i++)\n                    {\n                        ArrayDB.Time.push(msg.payload[i].time);\n                        ArrayDB.CHP.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHP});\n                        ArrayDB.THP.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THP});\n                    \n                        ArrayDB.Time.shift();\n                        ArrayDB.CHP.shift();\n                        ArrayDB.THP.shift();\n                    }\n                msg.payload = [ArrayDB.CHP,ArrayDB.THP];\n                msg.series  = [\"CHP\", \"THP\"];\n                msg.label   = \"Presión del sistema\";\n                msg.contador = 666;\n            }\n            \n        }\n/* ------------------------------------------ Tendencias Datos Eléctricos ------------------------------------------ */\n    else if (CurrentMeasurement.Measurement == \"Input_Data\")\n        {\n            if(CurrentTab == \"Voltaje\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.push(msg.payload[i].time);\n                            ArrayDB.V_L1N.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1N});\n                            ArrayDB.V_L2N.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L2N});\n                            ArrayDB.V_L3N.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L3N});\n                            ArrayDB.V_L1L2.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                            ArrayDB.V_L1L3.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                            ArrayDB.V_L2L3.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2});   \n                            \n                            ArrayDB.Time.shift();\n                            ArrayDB.V_L1N.shift();\n                            ArrayDB.V_L2N.shift();\n                            ArrayDB.V_L3N.shift();\n                            ArrayDB.V_L1L2.shift();\n                            ArrayDB.V_L1L3.shift();\n                            ArrayDB.V_L2L3.shift();\n                            \n                        }\n                    msg.payload =   [   \n                                        ArrayDB.V_L1N,ArrayDB.V_L2N,ArrayDB.V_L3N,ArrayDB.V_L1L2,\n                                        ArrayDB.V_L1L3,ArrayDB.V_L2L3\n                                    ];\n                    msg.series  = [\"L1-N\",\"L2-N\",\"L3-N\",\"L1-L2\",\"L1-L3\",\"L2L3\"];\n                    msg.label   = \"Tensión de entrada del sistema\";    \n                }\n            //------------------------------------------------------ Corriente de Entrada ------------------------------------------------------------\n            else if (CurrentTab == \"Corriente\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.push(msg.payload[i].time);\n                            ArrayDB.I_L1.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L1});\n                            ArrayDB.I_L2.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L2});\n                            ArrayDB.I_L3.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L3});\n                            \n                            ArrayDB.Time.shift();\n                            ArrayDB.I_L1.shift();\n                            ArrayDB.I_L2.shift();\n                            ArrayDB.I_L3.shift();\n                        }\n                    msg.payload = [ArrayDB.I_L1, ArrayDB.I_L2,ArrayDB.I_L3];\n                    msg.series  = [\"L1\", \"L2\", \"L3\"];\n                    msg.label   = \"Corriente de entrada del sistema\";\n                }\n            //------------------------------------------------------ Potencia de Entrada ------------------------------------------------------------\n            else if (CurrentTab == \"Potencia\")\n                {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.push(msg.payload[i].time);\n                            ArrayDB.P_Act.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Act});\n                            ArrayDB.P_Rct.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Rct});\n                            ArrayDB.P_Apa.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Apa});\n                            \n                            ArrayDB.Time.shift();\n                            ArrayDB.P_Act.shift();\n                            ArrayDB.P_Rct.shift();\n                            ArrayDB.P_Apa.shift();\n                        }\n                    msg.payload = [ArrayDB.P_Act,ArrayDB.P_Rct,ArrayDB.P_Apa];\n                    msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                    msg.label   = \"Potencia de entrada del sistema\";     \n                }    \n        } \n/*------------------------------------------ Tendencias Datos de Fondo ------------------------------------------*/    \n    else if (CurrentMeasurement.Measurement == \"Downhole_Data\")\n        {\n            //------------------------------------------------------ Presión de fondo ------------------------------------------------------------\n            if (CurrentTab == \"Presión\")\n               {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.push(msg.payload[i].time);\n                            ArrayDB.PIn.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PIn});\n                            ArrayDB.POut.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].POut});\n                            ArrayDB.PDiff.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PDiff});\n                            \n                            ArrayDB.Time.shift();\n                            ArrayDB.P_Act.shift();\n                            ArrayDB.P_Rct.shift();\n                            ArrayDB.P_Apa.shift();\n                        }\n                    msg.payload = [ArrayDB.PIn,ArrayDB.POut,ArrayDB.PDiff];\n                    msg.series  = [\"Presión de entrada\",\"Presión de Salida\",\"Presión diferencial\"];\n                    msg.label   = \"Presión de entrada del sistema\";\n                }\n            //------------------------------------------------------ Temperatura de fondo ------------------------------------------------------------      \n            else if (CurrentTab == \"Temperatura\")\n               {\n                    for(i=0; i < msg.payload.length; i++)\n                        {\n                            ArrayDB.Time.push(msg.payload[i].time);\n                            ArrayDB.T_In.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_In});\n                            ArrayDB.T_Out.push({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_Out});\n                            \n                            ArrayDB.Time.shift();\n                            ArrayDB.P_Act.shift();\n                            ArrayDB.P_Rct.shift();\n                            ArrayDB.P_Apa.shift();\n                        }\n                    msg.payload = [ArrayDB.T_In,ArrayDB.T_Out];\n                    msg.series  = [\"Temperatura de entrada\",\"Temperatura de Salida\"];\n                    msg.label   = \"Presión de entrada del sistema\";\n                }\n        }            \n\nflow.set(\"Trend\", ArrayDB,\"memoryOnly\");\n\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":750,"y":880,"wires":[["d1ec13b9.2d54a","fb5402e7.72322"]]},{"id":"cd5498e2.4669f8","type":"comment","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"Tendencia 2 muestra hacia adelante","info":"","x":530,"y":1010,"wires":[]},{"id":"bc863fbb.54cc7","type":"comment","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"Tendencia valores actuales","info":"","x":490,"y":1220,"wires":[]},{"id":"a3d8c9a4.70d3a8","type":"ui_button","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"Back 2 Samples Input Data","group":"309a2895.5230c8","order":3,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-left","payload":"","payloadType":"str","topic":"","x":220,"y":840,"wires":[["89b96b56.401e78"]]},{"id":"e98639ed.c7faa8","type":"ui_button","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"Forward 2 Samples Operative Data","group":"419728a7.c16f68","order":4,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-right","payload":"","payloadType":"str","topic":"","x":220,"y":1050,"wires":[["1007271e.7b5509"]]},{"id":"c8301305.155ca","type":"ui_button","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"Current Operative Data","group":"419728a7.c16f68","order":5,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-double-right","payload":"","payloadType":"str","topic":"","x":220,"y":1260,"wires":[["9f65b6e4.fa9b58"]]},{"id":"8c2fe53.e0c5a18","type":"ui_button","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"Oldest Operative Data","group":"419728a7.c16f68","order":2,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-double-left","payload":"","payloadType":"str","topic":"","x":180,"y":580,"wires":[["5953427.341fdbc"]]},{"id":"1e4b1bbe.54e204","type":"influxdb in","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","influxdb":"29eec29e.f8e8ce","name":"Read Influx","query":"","rawOutput":false,"precision":"s","retentionPolicy":"","x":730,"y":580,"wires":[["fe3cf8d4.9ecf68"]]},{"id":"5953427.341fdbc","type":"change","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"","rules":[{"t":"delete","p":"#:(memoryOnly)::Trend","pt":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":410,"y":580,"wires":[["164dac78.253234"]]},{"id":"c984d5a4.ec6ac8","type":"comment","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"Tendencia valores más antiguos","info":"","x":450,"y":540,"wires":[]},{"id":"e23d1e5c.76f6a","type":"function","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"Get_LastestSamples","func":"var Consult = flow.get(\"Query\",\"memoryOnly\") || {'Measurement': \"\"};\n\nmsg.query = \"SELECT * FROM \" + Consult.Measurement + \" ORDER BY DESC LIMIT 30\";\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":700,"y":1260,"wires":[["ad8181d.652538"]]},{"id":"4b56d4c2.92bedc","type":"change","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Current-Tab","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":230,"y":1300,"wires":[["9f65b6e4.fa9b58"]]},{"id":"371bd93d.a97226","type":"ui_button","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"Current Input Data","group":"309a2895.5230c8","order":5,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-double-right","payload":"","payloadType":"str","topic":"","x":240,"y":1220,"wires":[["9f65b6e4.fa9b58"]]},{"id":"2514f0b3.8e71d","type":"ui_button","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"Back 2 Samples Operative Data","group":"419728a7.c16f68","order":3,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-left","payload":"","payloadType":"str","topic":"","x":210,"y":880,"wires":[["89b96b56.401e78"]]},{"id":"78fe1ad6.697684","type":"switch","z":"d35c32b9.6419b","g":"da3ae781.998328","name":"Flag Filter","property":"#:(memoryOnly)::Trend.Flag","propertyType":"flow","rules":[{"t":"eq","v":"3","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":540,"y":750,"wires":[["d0735f18.f858d"]]},{"id":"afef9de4.5ac33","type":"ui_button","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"Forward 2 Samples Input Data","group":"309a2895.5230c8","order":4,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-right","payload":"","payloadType":"str","topic":"","x":230,"y":1010,"wires":[["1007271e.7b5509"]]},{"id":"823f98aa.daa8d8","type":"ui_button","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"Oldest Input Data","group":"309a2895.5230c8","order":2,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-double-left","payload":"","payloadType":"str","topic":"","x":190,"y":620,"wires":[["5953427.341fdbc"]]},{"id":"164dac78.253234","type":"function","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"","func":"var Consult = flow.get(\"Query\",\"memoryOnly\");\n\nmsg.query = \"SELECT * FROM \" + Consult.Measurement +  \" ORDER BY ASC LIMIT 30\";\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":580,"y":580,"wires":[["1e4b1bbe.54e204"]]},{"id":"fe3cf8d4.9ecf68","type":"function","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"DateHandle","func":"//------------------------------------------ Declaración de variables ------------------------------------------\nvar CurrentTab              = flow.get(\"Current-Tab\",\"memoryOnly\");\nvar CurrentMeasurement      = flow.get(\"Query\",\"memoryOnly\");\nvar Array_OperativeData     = { 'Time'              :[], \n                                'Current_Mtr'       :[], \n                                'Current_VFD'       :[], \n                                //'Power_KVA'         :[], \n                                //'Power_KVAR'        :[], \n                                'Power_KW'          :[],\n                                'Reference'         :[], \n                                'VBusDC'            :[],\n                                'Voltage_Out'       :[],\n                                'Feedback_Speed'    :[], \n                                'Voltage_Mtr'       :[], \n                                'CHP'               :[], \n                                'THP'               :[], \n                                'CHT'               :[], \n                                'THT'               :[], \n                                //'Torque'            :[],\n                                'Flag'              : 0};\n                                \nvar Array_InputData         =   {\n                                'Time'              :[],\n                                'V_L1N'             :[],\n                                'V_L2N'             :[],\n                                'V_L3N'             :[],\n                                'V_L1L2'            :[],\n                                'V_L1L3'            :[],\n                                'V_L2L3'            :[],\n                                'I_L1'              :[],\n                                'I_L2'              :[],\n                                'I_L3'              :[],\n                                'P_Act'             :[],\n                                'P_Rct'             :[],\n                                'P_Apa'             :[],\n                                'Flag'              : 0\n                                }; \n                                \nvar Array_DownholeData      =   {\n                                'Time'              :[],\n                                'PIn'               :[],\n                                'POut'              :[],\n                                'PDiff'             :[],\n                                'T_In'              :[],\n                                'T_Out'             :[],\n                                'Flag'              : 0\n                                }; \n\nvar i = 0;\n\n//------------------------------------------ Tendencias Datos Operativos ------------------------------------------\n\n// Selección tendencias Datos Operativos\nif (CurrentMeasurement.Measurement == \"Operative_Data\")\n    {\n        //------------------------------------------------------ Velocidad ------------------------------------------------------------\n        if (CurrentTab == \"VelocidadActual\")\n            {\n                for(i = 0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.unshift(msg.payload[i].time);\n                        Array_OperativeData.Reference.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Reference});\n                        Array_OperativeData.Feedback_Speed.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Feedback_Speed}); \n                    }\n                    \n                    msg.payload = [Array_OperativeData.Reference,Array_OperativeData.Feedback_Speed];\n                    msg.series  = [\"Referencia de Velocidad\", \"Velocidad Actual\"];\n                    msg.label   = \"Velocidad vs Feedback\";\n            }\n        //------------------------------------------------------ Tensión ------------------------------------------------------------\n        else if (CurrentTab == \"Voltaje\")\n            {\n                for(i = 0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.unshift(msg.payload[i].time);\n                        Array_OperativeData.Voltage_Out.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage});\n                        Array_OperativeData.VBusDC.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].VBusDC});\n                        Array_OperativeData.Voltage_Mtr.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Voltage_Mtr});\n                    }\n                msg.payload = [Array_OperativeData.Voltage_Out,Array_OperativeData.VBusDC, Array_OperativeData.Voltage_Mtr];\n                msg.series  = [\"Voltaje VFD\", \"Voltaje BusDC\", \"Voltaje de Motor\"];\n                msg.label   = \"Niveles de Tensión del sistema\";  \n            }\n        //------------------------------------------------------ Carga ------------------------------------------------------------            \n        else if (CurrentTab == \"Carga\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.unshift(msg.payload[i].time);\n                        Array_OperativeData.Current_VFD.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_VFD});\n                        Array_OperativeData.Current_Mtr.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Current_Mtr});\n                        //Array_OperativeData.Torque.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Torque});\n                    }\n                //msg.payload = [Array_OperativeData.Current_VFD,Array_OperativeData.Current_Mtr, Array_OperativeData.Torque];\n                msg.payload = [Array_OperativeData.Current_VFD,Array_OperativeData.Current_Mtr];\n                //msg.series  = [\"Corriente VFD\", \"Corriente de Motor\", \"Torque actual\"];\n                msg.series  = [\"Corriente VFD\", \"Corriente de Motor\"];\n                msg.label   = \"Carga del sistema\";      \n            }\n        //------------------------------------------------------ Potencia ------------------------------------------------------------    \n        else if (CurrentTab == \"Potencia\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.unshift(msg.payload[i].time);\n                        Array_OperativeData.Power_KW.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KW});\n                        //Array_OperativeData.Power_KVAR.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVAR});\n                        //Array_OperativeData.Power_KVA.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].Power_KVA});\n                    }\n                //msg.payload = [Array_OperativeData.Power_KW,Array_OperativeData.Power_KVAR, Array_OperativeData.Power_KVA];\n                msg.payload = [Array_OperativeData.Power_KW];\n                //msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                msg.series  = [\"Potencia activa\"];\n                msg.label   = \"Potencia del sistema\";     \n            }\n        //------------------------------------------------------ Temperatura ------------------------------------------------------------    \n        else if (CurrentTab == \"Temperatura\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.unshift(msg.payload[i].time);\n                        Array_OperativeData.CHT.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHT});\n                        Array_OperativeData.THT.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THT});\n                    }\n                msg.payload = [Array_OperativeData.CHT,Array_OperativeData.THT];\n                msg.series  = [\"CHT\", \"THT\"];\n                msg.label   = \"Temperatura del sistema\"; \n            }\n        //------------------------------------------------------ Presión ------------------------------------------------------------        \n        else if (CurrentTab == \"Presion\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_OperativeData.Time.unshift(msg.payload[i].time);\n                        Array_OperativeData.CHP.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].CHP});\n                        Array_OperativeData.THP.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].THP});\n                    }\n                msg.payload = [Array_OperativeData.CHP, Array_OperativeData.THP];\n                msg.series  = [\"CHP\", \"THP\"];\n                msg.label   = \"Presión del sistema\";      \n            }\n        Array_OperativeData.Flag = 4;    \n        flow.set(\"Trend\", Array_OperativeData,\"memoryOnly\");\n    }\n//------------------------------------------ Tendencias Datos Eléctricos de Entrada ------------------------------------------\n\n// Selección tendencias Datos eléctricos de entrada\nelse if (CurrentMeasurement.Measurement == \"Input_Data\")\n    {\n        //------------------------------------------------------ Voltaje de Entrada ------------------------------------------------------------\n        if (CurrentTab == \"Voltaje\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_InputData.Time.unshift(msg.payload[i].time);\n                        Array_InputData.V_L1N.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1N});\n                        Array_InputData.V_L2N.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L2N});\n                        Array_InputData.V_L3N.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L3N});\n                        Array_InputData.V_L1L2.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                        Array_InputData.V_L1L3.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2}); \n                        Array_InputData.V_L2L3.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].V_L1L2});\n                    }\n                msg.payload =   [   \n                                    Array_InputData.V_L1N,Array_InputData.V_L2N,Array_InputData.V_L3N,Array_InputData.V_L1L2,\n                                    Array_InputData.V_L1L3,Array_InputData.V_L2L3\n                                ];\n                msg.series  = [\"L1-N\",\"L2-N\",\"L3-N\",\"L1-L2\",\"L1-L3\",\"L2L3\"];\n                msg.label   = \"Tensión de entrada del sistema\"; \n            }\n        //------------------------------------------------------ Corriente de Entrada ------------------------------------------------------------   \n        else if (CurrentTab == \"Corriente\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_InputData.Time.unshift(msg.payload[i].time);\n                        Array_InputData.I_L1.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L1});\n                        Array_InputData.I_L2.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L2});\n                        Array_InputData.I_L3.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].I_L3});\n                    }\n                msg.payload = [Array_InputData.I_L1, Array_InputData.I_L2,Array_InputData.I_L3];\n                msg.series  = [\"L1\", \"L2\", \"L3\"];\n                msg.label   = \"Corriente de entrada del sistema\";\n            }\n        //------------------------------------------------------ Potencia de Entrada ------------------------------------------------------------    \n        else if (CurrentTab == \"Potencia\")\n            {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_InputData.Time.unshift(msg.payload[i].time);\n                        Array_InputData.P_Act.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Act});\n                        Array_InputData.P_Rct.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Rct});\n                        Array_InputData.P_Apa.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].P_Apa});\n                    }\n                msg.payload = [Array_InputData.P_Act,Array_InputData.P_Rct,Array_InputData.P_Apa];\n                msg.series  = [\"Potencia activa\", \"Potencia reactiva\", \"Potencia aparente\"];\n                msg.label   = \"Potencia de entrada del sistema\";\n            }\n            \n        Array_InputData.Flag = 4;    \n        flow.set(\"Trend\", Array_InputData,\"memoryOnly\");\n    }\n/*------------------------------------------ Tendencias Datos de Fondo ------------------------------------------*/\nelse if (CurrentMeasurement.Measurement == \"Downhole_Data\")\n    {\n        //------------------------------------------------------ Presión de fondo ------------------------------------------------------------\n        if (CurrentTab == \"Presión\")\n           {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_DownholeData.Time.unshift(msg.payload[i].time);\n                        Array_DownholeData.PIn.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PIn});\n                        Array_DownholeData.POut.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].POut});\n                        Array_DownholeData.PDiff.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].PDiff});\n                    }\n                msg.payload = [Array_DownholeData.PIn,Array_DownholeData.POut,Array_DownholeData.PDiff];\n                msg.series  = [\"Presión de entrada\",\"Presión de Salida\",\"Presión diferencial\"];\n                msg.label   = \"Presión de entrada del sistema\";\n            }\n            \n        //------------------------------------------------------ Temperatura de fondo ------------------------------------------------------------ \n        else if (CurrentTab == \"Temperatura\")\n           {\n                for(i=0; i < msg.payload.length; i++)\n                    {\n                        Array_DownholeData.Time.unshift(msg.payload[i].time);\n                        Array_DownholeData.T_In.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_In});\n                        Array_DownholeData.T_Out.unshift({\"x\":msg.payload[i].time,\"y\":msg.payload[i].T_Out});\n                    }\n                msg.payload = [Array_DownholeData.T_In,Array_DownholeData.T_Out];\n                msg.series  = [\"Temperatura de entrada\",\"Temperatura de Salida\"];\n                msg.label   = \"Presión de entrada del sistema\";\n            }\n        Array_DownholeData.Flag = 4;    \n        flow.set(\"Trend\", Array_DownholeData,\"memoryOnly\");\n    }\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":890,"y":580,"wires":[["d1ec13b9.2d54a","e2792bcf.8bea78"]]},{"id":"42196f55.8e867","type":"switch","z":"d35c32b9.6419b","g":"da3ae781.998328","name":"Trend Prompted","property":"#:(memoryOnly)::Query.Trend_Prompted","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":750,"wires":[["78fe1ad6.697684"]]},{"id":"2f01cd27.190772","type":"comment","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","name":"Navbar by Screens","info":"","x":170,"y":1430,"wires":[]},{"id":"cda1db41.a4fd88","type":"ui_template","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","group":"a832170e.124748","name":"Operative Data Navbar","order":1,"width":12,"height":1,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-VelocidadActual-tab\" data-toggle=\"tab\" href=\"#nav-VelocidadActual\" role=\"tab\" aria-controls=\"nav-VelocidadActual\" aria-selected=\"true\" ng-click=\"send({payload:VelocidadActual()})\">Velocidad Actual</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Voltaje-tab\" data-toggle=\"tab\" href=\"#nav-Voltaje\" role=\"tab\" aria-controls=\"nav-Voltaje\" aria-selected=\"false\" ng-click=\"send({payload:Voltaje()})\">Voltaje</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Carga-tab\" data-toggle=\"tab\" href=\"#nav-Carga\" role=\"tab\" aria-controls=\"nav-Carga\" aria-selected=\"false\" ng-click=\"send({payload:Carga()})\">Carga</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Potencia-tab\" data-toggle=\"tab\" href=\"#nav-Potencia\" role=\"tab\" aria-controls=\"nav-Potencia\" aria-selected=\"false\" ng-click=\"send({payload:Potencia()})\">Potencia</a>\n        <!-- <a class=\"nav-item nav-link\" id=\"nav-Temperatura-tab\" data-toggle=\"tab\" href=\"#nav-Temperatura\" role=\"tab\" aria-controls=\"nav-Temperatura\" aria-selected=\"false\" ng-click=\"send({payload:Temperatura()})\">Temperatura</a>-->\n        <!--<a class=\"nav-item nav-link\" id=\"nav-Presion-tab\" data-toggle=\"tab\" href=\"#nav-Presion\" role=\"tab\" aria-controls=\"nav-Presion\" aria-selected=\"false\" ng-click=\"send({payload:Presion()})\">Presión</a>-->\n        <!--\n        <a class=\"nav-item nav-link\" id=\"nav-Menu2\" data-toggle=\"tab\" href=\"nav-Menu2\" role=\"tab\" aria-controls=\"nav-Menu2\" aria-selected=\"false\" ng-click=\"send({payload:Menu2()})\">\n            <img src=\"http://localhost:1880/bootstrap-icons/icons/caret-right-square.svg\" alt=\"\" width=\"20\" height=\"20\"> \n        </a>\n        -->\n      </div>\n    </nav>\n\n    <script>\n        this.scope.VelocidadActual = function() { return \"VelocidadActual\"; };\n        this.scope.Voltaje = function() { return \"Voltaje\"; };\n        this.scope.Carga = function() { return \"Carga\"; };\n        this.scope.Potencia = function() { return \"Potencia\"; };\n        this.scope.Temperatura = function() { return \"Temperatura\"; };\n        this.scope.Presion = function() { return \"Presion\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":390,"y":1510,"wires":[["5b8bc10c.bbb33"]]},{"id":"d0a81664.403aa8","type":"ui_template","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","group":"52f8d217.2f360c","name":"Input Data Navbar","order":1,"width":12,"height":1,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n    \n        <a class=\"nav-item nav-link active\" id=\"nav-Voltaje-tab\" data-toggle=\"tab\" href=\"#nav-Voltaje\" role=\"tab\" aria-controls=\"nav-Voltaje\" aria-selected=\"false\" ng-click=\"send({payload:Voltaje()})\">Voltaje</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Corriente-tab\" data-toggle=\"tab\" href=\"#nav-Corriente\" role=\"tab\" aria-controls=\"nav-Corriente\" aria-selected=\"false\" ng-click=\"send({payload:Corriente()})\">Corriente</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Potencia-tab\" data-toggle=\"tab\" href=\"#nav-Potencia\" role=\"tab\" aria-controls=\"nav-Potencia\" aria-selected=\"false\" ng-click=\"send({payload:Potencia()})\">Potencia</a>\n    \n      </div>\n    </nav>\n\n    <script>\n        this.scope.Voltaje = function() { return \"Voltaje\"; };\n        this.scope.Corriente = function() { return \"Corriente\"; };\n        this.scope.Potencia = function() { return \"Potencia\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":400,"y":1550,"wires":[["5b8bc10c.bbb33"]]},{"id":"6ea29ae7.e81044","type":"ui_template","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","group":"5708535c.2ece0c","name":"Downhole Data Navbar","order":1,"width":12,"height":1,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-Presion-tab\" data-toggle=\"tab\" href=\"#nav-Presion\" role=\"tab\" aria-controls=\"nav-Presion\" aria-selected=\"true\" ng-click=\"send({payload:Presion()})\">Presión</a>\n        <a class=\"nav-item nav-link\" id=\"nav-Temperatura-tab\" data-toggle=\"tab\" href=\"#nav-Temperatura\" role=\"tab\" aria-controls=\"nav-Temperatura\" aria-selected=\"false\" ng-click=\"send({payload:Temperatura()})\">Temperatura</a>\n      </div>\n    </nav>\n\n    <script>\n        this.scope.Presion = function() { return \"Presion\"; };\n        this.scope.Temperatura = function() { return \"Temperatura\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":380,"y":1470,"wires":[["5b8bc10c.bbb33"]]},{"id":"671c4fb2.c61c","type":"comment","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","name":"Trend to consult detection","info":"","x":190,"y":1590,"wires":[]},{"id":"ef56b9cd.e179f8","type":"function","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","name":"Measurement Assignment","func":"var Consulta    = flow.get(\"Query\",\"memoryOnly\") || {'Measurement': \"\", 'Trend_Prompted': false};\nvar Current_Tab = flow.get(\"Current-Tab\",\"memoryOnly\") || \"\";\n\nif (msg.name == \"Tendencias-Superficie-Datos_operativos\")\n    {\n        Consulta.Measurement = \"Operative_Data\";\n        Consulta.Trend_Prompted = true;\n        Current_Tab = \"VelocidadActual\";\n        \n    }\nelse if (msg.name == \"Tendencias-Superficie-Datos_eléctricos_de_entrada\")\n    {\n        Consulta.Measurement = \"Input_Data\";\n        Consulta.Trend_Prompted = true;\n        Current_Tab = \"Voltaje\";\n        \n    }\nelse if (msg.name == \"Tendencias-Fondo-Sensor_de_fondo\")\n    {\n        Consulta.Measurement = \"Downhole_Data\";\n        Consulta.Trend_Prompted = true;\n        Current_Tab = \"Presion\";\n        \n    }\nelse if (msg.name == \"Tendencias-Fondo-Sensor_Less\")\n    {\n        Consulta.Measurement = \"Sensorless_Data\";\n        Consulta.Trend_Prompted = true;\n        \n    }\nelse {\n        Consulta.Measurement = \"\";\n        Consulta.Trend_Prompted = false;\n        return ;\n    }\nflow.set(\"Query\", Consulta,\"memoryOnly\");\nflow.set(\"Current-Tab\", Current_Tab,\"memoryOnly\");\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":330,"y":1630,"wires":[["148d0d1.2a0f4f3"]]},{"id":"32d68976.059f96","type":"ui_ui_control","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","name":"","events":"change","x":140,"y":1630,"wires":[["ef56b9cd.e179f8"]]},{"id":"5b8bc10c.bbb33","type":"link out","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","name":"Navbar by Screen","links":["8fe15b1a.8efeb8"],"x":545,"y":1510,"wires":[]},{"id":"148d0d1.2a0f4f3","type":"link out","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","name":"AccessToScreen","links":["be845e9a.07b99"],"x":475,"y":1630,"wires":[]},{"id":"3a6fab3.c7e5154","type":"inject","z":"d35c32b9.6419b","g":"5ff12c29.d4cc64","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":180,"y":1510,"wires":[["cda1db41.a4fd88","d0a81664.403aa8","6ea29ae7.e81044"]]},{"id":"8fe15b1a.8efeb8","type":"link in","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"","links":["5b8bc10c.bbb33"],"x":95,"y":1300,"wires":[["4b56d4c2.92bedc"]]},{"id":"f24850fc.2d265","type":"ui_button","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"Current Downhole Data","group":"60a3a013.03c5e","order":5,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-double-right","payload":"","payloadType":"str","topic":"","x":220,"y":1180,"wires":[["9f65b6e4.fa9b58"]]},{"id":"d225d3dc.95f5d","type":"ui_button","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"Oldest Downhole Data","group":"60a3a013.03c5e","order":2,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-double-left","payload":"","payloadType":"str","topic":"","x":180,"y":540,"wires":[["5953427.341fdbc"]]},{"id":"30a20927.0852c6","type":"ui_button","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"Forward 2 Samples Downhole Data","group":"60a3a013.03c5e","order":4,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-right","payload":"","payloadType":"str","topic":"","x":220,"y":1090,"wires":[["1007271e.7b5509"]]},{"id":"c2c53040.c272b","type":"ui_button","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"Back 2 Samples Downhole Data","group":"60a3a013.03c5e","order":3,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"#000000","bgcolor":"#dbd5d5","icon":"fa-angle-left","payload":"","payloadType":"str","topic":"","x":210,"y":920,"wires":[["89b96b56.401e78"]]},{"id":"be845e9a.07b99","type":"link in","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"","links":["148d0d1.2a0f4f3"],"x":315,"y":1340,"wires":[["9f65b6e4.fa9b58"]]},{"id":"b317eb9e.fa5ea8","type":"ui_chart","z":"d35c32b9.6419b","g":"9e9a162d.d4b0a8","name":"","group":"3a102a42.7f8df6","order":1,"width":"12","height":"6","label":"{{msg.label}}","chartType":"line","legend":"true","xformat":"auto","interpolate":"linear","nodata":"No Data","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#61a037","#ec5555","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1310,"y":860,"wires":[["9e15cbfa.3def58","ae4e1e77.28e04"]]},{"id":"d1ec13b9.2d54a","type":"function","z":"d35c32b9.6419b","g":"9e9a162d.d4b0a8","name":"","func":"var chart = \n    [{\n\"series\": msg.series,\n\"data\": msg.payload,\n\"labels\": [\"\"]\n\n}];\nmsg.payload = chart;\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1050,"y":900,"wires":[["190757f3.f04c38"]]},{"id":"9e15cbfa.3def58","type":"function","z":"d35c32b9.6419b","g":"9e9a162d.d4b0a8","name":"","func":"var Flag = flow.get(\"Trend.Flag\",\"memoryOnly\");\n\nif (Flag === 0)\n    {\n        Flag = 3;\n    }\nelse if (Flag == 1 || Flag == 2)\n    {\n        Flag = 5;\n    }\nnode.status({fill:\"red\",shape:\"ring\",text:Flag});\nflow.set(\"Trend.Flag\",Flag,\"memoryOnly\");\nreturn ;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1460,"y":900,"wires":[[]]},{"id":"103b42c0.753efd","type":"switch","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"","property":"payload","propertyType":"msg","rules":[{"t":"empty"},{"t":"nempty"}],"checkall":"true","repair":false,"outputs":2,"x":700,"y":1050,"wires":[["f0b8ccfd.3b4c8"],["7893f953.690d58"]]},{"id":"f0b8ccfd.3b4c8","type":"change","z":"d35c32b9.6419b","g":"b19ef7d3.42ea68","name":"To real time","rules":[{"t":"set","p":"Trend.Flag","pt":"flow","to":"3","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":840,"y":1030,"wires":[[]]},{"id":"190757f3.f04c38","type":"switch","z":"d35c32b9.6419b","g":"9e9a162d.d4b0a8","name":"","property":"#:(memoryOnly)::Query.Measurement","propertyType":"flow","rules":[{"t":"eq","v":"Operative_Data","vt":"str"},{"t":"eq","v":"Input_Data","vt":"str"},{"t":"eq","v":"Sensorless_Data","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":1180,"y":900,"wires":[["b317eb9e.fa5ea8"],["3d1d1baa.08cbd4"],["6f55b697.307bd8"]]},{"id":"3d1d1baa.08cbd4","type":"ui_chart","z":"d35c32b9.6419b","g":"9e9a162d.d4b0a8","name":"","group":"e6616ee7.07ad2","order":1,"width":"12","height":"6","label":"{{msg.label}}","chartType":"line","legend":"true","xformat":"auto","interpolate":"linear","nodata":"No Data","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#61a037","#ec5555","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1310,"y":900,"wires":[["9e15cbfa.3def58"]]},{"id":"6f55b697.307bd8","type":"ui_chart","z":"d35c32b9.6419b","g":"9e9a162d.d4b0a8","name":"","group":"f0246745.e75b18","order":1,"width":"0","height":"0","label":"{{msg.label}}","chartType":"line","legend":"true","xformat":"auto","interpolate":"linear","nodata":"No Data","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#61a037","#ec5555","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1310,"y":940,"wires":[["9e15cbfa.3def58"]]},{"id":"6a9bae72.3bb93","type":"debug","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1200,"y":1260,"wires":[]},{"id":"e2792bcf.8bea78","type":"debug","z":"d35c32b9.6419b","g":"4eb2e67c.e57628","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":1080,"y":580,"wires":[]},{"id":"fb5402e7.72322","type":"debug","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":760,"y":920,"wires":[]},{"id":"9d2ef708.6a7618","type":"debug","z":"d35c32b9.6419b","g":"e60e8bfd.7a3248","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":580,"y":920,"wires":[]},{"id":"80b34dd.dbd91b","type":"debug","z":"d35c32b9.6419b","g":"9dbc79d1.85ede8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":890,"y":1300,"wires":[]},{"id":"ae4e1e77.28e04","type":"debug","z":"d35c32b9.6419b","g":"9e9a162d.d4b0a8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":1470,"y":860,"wires":[]},{"id":"7e7c77b0.f39fa8","type":"inject","z":"e86f0ca4.7feb5","g":"7e616dc8.62be14","name":"","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":3180,"y":1060,"wires":[["dcbfe619.3f0fc8"]]},{"id":"dcbfe619.3f0fc8","type":"function","z":"e86f0ca4.7feb5","g":"7e616dc8.62be14","name":"Mapa Modbus","func":"C2S = global.get('C2S','memoryOnly')||null;\n\nvar dim = 2;\nvar Uint16  = new Uint16Array(dim);\nvar Uint8   = new Uint8Array(dim*2);\n\nif(C2S != null){\n    if(typeof C2S != 'undefined'){\n        \n        Uint16[0]   = C2S.Bus_DC_Volts*10;\n        Uint16[1]   = C2S.Drive_Temp_C*100;\n        \n        for(var i=0; i<dim*2; i+=2){\n            Uint8[i]    = Uint16[parseInt(i/2)]>>8; \n            Uint8[i+1]  = Uint16[parseInt(i/2)]; \n        }\n        \n        msg.payload = { 'value': Uint8,\n                        'register': 'holding', \n                        'address': 0\n        };\n        node.send(msg);\n\n    }\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3340,"y":1060,"wires":[["2d831abd.d82226"]]},{"id":"ad6faa1f.ab6618","type":"function","z":"f4a6b35e.fd0a3","name":"TON Alrm","func":"var Act = msg.alrm;\nvar Ant = context.get(\"Anterior\")||false;\nvar Output = { payload: false };\n\n//Flanco de subida\nif(Act === true && Ant === false){\n    context.set(\"RefTime\", Date.now());\n}\n\nelse if(Act === true && Ant === true){\n    if(Date.now() - context.get(\"RefTime\") >= msg.delay){\n        Output.payload = true;\n        Output.Mensaje = msg.message; \n    }\n}\nelse{\n    Output.payload = false;\n}\n\ncontext.set(\"Anterior\", Act);\n\nreturn Output;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":450,"wires":[[]]},{"id":"e44936b0.4aa868","type":"change","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Velocidad","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Mtr_Vel_Fdbk","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3810,"y":750,"wires":[["db0d9bc5.676758","790e7d0f.6b61c4","8883c499.227688","f806451.5598fb8"]]},{"id":"273454d7.4d089c","type":"link in","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"Navigation bar","links":["ad87cee4.7dbb5"],"x":205,"y":120,"wires":[["4feb0a11.ed3ed4"]]},{"id":"ad35e08b.93dd","type":"function","z":"e86f0ca4.7feb5","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3660,"y":260,"wires":[["8406554a.894a38"]]},{"id":"b5f98fab.54e65","type":"function","z":"e86f0ca4.7feb5","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3660,"y":300,"wires":[["9e2b819.de0ee8"]]},{"id":"767c6edd.e99ef","type":"function","z":"e86f0ca4.7feb5","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3660,"y":340,"wires":[["cbe5848c.3678c8"]]},{"id":"61519ed8.7e8ec","type":"function","z":"e86f0ca4.7feb5","name":"toFixed(2)","func":"if(typeof msg.payload != 'undefined'){\n    msg.payload = (msg.payload).toFixed(2);\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3660,"y":380,"wires":[["11e153a8.ba3aac"]]},{"id":"6ba29ec9.ca738","type":"ui_text_input","z":"ef673f81.6ec95","g":"58f712f1.3e5eec","name":"","label":"IP :","tooltip":"","group":"907f5ff7.25cd8","order":2,"width":"6","height":"1","passthru":true,"mode":"text","delay":"0","topic":"IP","x":760,"y":530,"wires":[["e5d62358.6f646"]]},{"id":"225e0422.f4c54c","type":"inject","z":"ef673f81.6ec95","g":"58f712f1.3e5eec","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":true,"onceDelay":0.1,"topic":"","payload":"IP","payloadType":"global","x":630,"y":530,"wires":[["6ba29ec9.ca738"]]},{"id":"e5d62358.6f646","type":"change","z":"ef673f81.6ec95","g":"58f712f1.3e5eec","name":"","rules":[{"t":"set","p":"IP","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":900,"y":530,"wires":[[]]},{"id":"2429edc8.1f2892","type":"comment","z":"ef673f81.6ec95","g":"58f712f1.3e5eec","name":"Fijar dirección IP del Drive","info":"","x":650,"y":490,"wires":[]},{"id":"ea20c75e.326798","type":"function","z":"f4a6b35e.fd0a3","name":"TON Disp","func":"var Act = msg.disp;\nvar Ant = context.get(\"Anterior\")||false;\nvar Output = { \n    payload: false,\n    Mensaje: msg.message\n};\n\n// Actualizar el contexto\ncontext.set(\"Anterior\", Act);\n\n//Flanco de subida\nif(Act === true && Ant === false){\n    context.set(\"RefTime\", Date.now());\n}\nelse if(Act === true && Ant === true){\n    if(Date.now() - context.get(\"RefTime\") >= msg.delay){\n        Output.payload = true;\n    }\n}\nreturn Output;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":540,"wires":[["b71d6bf5.e7b948","99413ec8.d0ac9"]]},{"id":"8f669088.6ce6","type":"function","z":"f4a6b35e.fd0a3","name":"TON Alrm","func":"var Act = msg.alrm;\nvar Ant = context.get(\"Anterior\")||false;\nvar Output = { \n    payload: false,\n    Mensaje: msg.message\n};\n\n// Actualizar el contexto\ncontext.set(\"Anterior\", Act);\n\n//Flanco de subida\nif(Act === true && Ant === false){\n    context.set(\"RefTime\", Date.now());\n}\nelse if(Act === true && Ant === true){\n    if(Date.now() - context.get(\"RefTime\") >= msg.delay){\n        Output.payload = true;\n    }\n}\nreturn Output;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":820,"y":590,"wires":[["85be8781.2bbf48"]]},{"id":"85be8781.2bbf48","type":"rbe","z":"f4a6b35e.fd0a3","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":950,"y":590,"wires":[["32df09df.1438a6"]]},{"id":"32df09df.1438a6","type":"switch","z":"f4a6b35e.fd0a3","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1070,"y":590,"wires":[[]]},{"id":"b71d6bf5.e7b948","type":"rbe","z":"f4a6b35e.fd0a3","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":950,"y":540,"wires":[["f2e977d8.049be8"]]},{"id":"f2e977d8.049be8","type":"switch","z":"f4a6b35e.fd0a3","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1070,"y":540,"wires":[[]]},{"id":"d3023171.a64c3","type":"switch","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"Disparo","vt":"str"},{"t":"cont","v":"Alarma","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1280,"y":130,"wires":[["db1e9db0.6840e"],["4e8f42ac.3431ac"]]},{"id":"4e8f42ac.3431ac","type":"link out","z":"6c7d2db7.37ef34","g":"f981eb1b.025a78","name":"","links":["33f2aa3c.6c08f6"],"x":1365,"y":150,"wires":[]},{"id":"ffbe710d.b4cce","type":"link in","z":"8528a254.70837","g":"cf57802e.7d258","name":"Actualizar Alarmas In","links":["f7333c0a.a70d3"],"x":1075,"y":160,"wires":[["d9101c40.6e85a"]]},{"id":"99413ec8.d0ac9","type":"change","z":"f4a6b35e.fd0a3","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Topic","tot":"env"}],"action":"","property":"","from":"","to":"","reg":false,"x":980,"y":500,"wires":[[]]},{"id":"3fe04302.c538cc","type":"link out","z":"6c7d2db7.37ef34","g":"bf91bfd8.84eda","name":"Tensión Estado Link","links":["9209cfb3.3a43a"],"x":515,"y":160,"wires":[]},{"id":"3c6e6977.ced646","type":"link out","z":"6c7d2db7.37ef34","g":"aa324282.4f554","name":"Torque Estado Link","links":["9209cfb3.3a43a"],"x":515,"y":350,"wires":[]},{"id":"26eb2018.cea02","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Parada local","rules":[{"t":"set","p":"Source_for_events.Stop","pt":"global","to":"1","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":870,"y":600,"wires":[[]]},{"id":"50cba2d0.099dec","type":"pccc out","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","endpoint":"bdf717d2.f19ae8","variable":"Speed_Reference","name":"Referencia de velocidad","x":980,"y":300,"wires":[]},{"id":"179175a2.e04cba","type":"function","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"Referencia","func":"if(msg.topic == 'Ref'){\n    context.set('Reference',msg.payload,'file');\n}\nelse if(msg.topic == 'Send'){\n    msg.payload = parseInt(context.get('Reference','file') * 10000);\n    node.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n    return msg;\n}\nreturn;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":780,"y":300,"wires":[["50cba2d0.099dec"]]},{"id":"c71bd817.dd5968","type":"status","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Status Drive","scope":["7fcc88de.059de8"],"x":3150,"y":590,"wires":[["6975ae72.b6958"]]},{"id":"6975ae72.b6958","type":"function","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Arranque del Drive","func":"if(msg.status.text == 'online' && context.get('status','memoryOnly') == false ){\n    context.set('status',true,'memoryOnly');\n    msg.payload = 10;\n    return msg;\n}\nelse if(msg.status.text != 'online'){\n    context.set('status',false,'memoryOnly');\n}\nreturn;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3350,"y":590,"wires":[["8102f7e.140f008"]]},{"id":"8102f7e.140f008","type":"pccc out","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","endpoint":"bdf717d2.f19ae8","variable":"TimeOut","name":"Timeout","x":3530,"y":590,"wires":[]},{"id":"6c4bef3c.23187","type":"function","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Interpretar comunicación","func":"var Uint16  =   new Uint16Array(28);\n\nUint16[0]   =   msg.payload.Logic_Status_1;     Uint16[1]   =   msg.payload.Logic_Status_2;\nUint16[2]   =   msg.payload.Output_Frequency_1; Uint16[3]   =   msg.payload.Output_Frequency_2;\nUint16[4]   =   msg.payload.Commanded_SpdRef_1; Uint16[5]   =   msg.payload.Commanded_SpdRef_2;\nUint16[6]   =   msg.payload.Mtr_Vel_Fdbk_1;     Uint16[7]   =   msg.payload.Mtr_Vel_Fdbk_2;\nUint16[8]   =   msg.payload.Output_Current_1;   Uint16[9]   =   msg.payload.Output_Current_2;\nUint16[10]  =   msg.payload.Output_Voltage_1;   Uint16[11]  =   msg.payload.Output_Voltage_2;\nUint16[12]  =   msg.payload.Output_Power_1;     Uint16[13]  =   msg.payload.Output_Power_2;\nUint16[14]  =   msg.payload.Output_Powr_Fctr_1; Uint16[15]  =   msg.payload.Output_Powr_Fctr_2;\nUint16[16]  =   msg.payload.DC_Bus_Volts_1;     Uint16[17]  =   msg.payload.DC_Bus_Volts_2;\nUint16[18]  =   msg.payload.Elapsed_Run_Time_1; Uint16[19]  =   msg.payload.Elapsed_Run_Time_2;\nUint16[20]  =   msg.payload.Elpsd_Mtr_kWHrs_1;  Uint16[21]  =   msg.payload.Elpsd_Mtr_kWHrs_2;\nUint16[22]  =   msg.payload.IGBT_Temp_C_1;      Uint16[23]  =   msg.payload.IGBT_Temp_C_2;\nUint16[24]  =   msg.payload.Drive_Temp_C_1;     Uint16[25]  =   msg.payload.Drive_Temp_C_2;\nUint16[26]  =   msg.payload.Last_Fault_Code_1;  Uint16[27]  =   msg.payload.Last_Fault_Code_2;\n\nSts                 = [Uint16[0],Uint16[1]];\nOutput_Frequency    = [Uint16[2],Uint16[3]];\nCommanded_SpdRef    = [Uint16[4],Uint16[5]];\nMtr_Vel_Fdbk        = [Uint16[6],Uint16[7]];\nOutput_Current      = [Uint16[8],Uint16[9]];\nOutput_Voltage      = [Uint16[10],Uint16[11]];\nOutput_Power        = [Uint16[12],Uint16[13]];\nOutput_Powr_Fctr    = [Uint16[14],Uint16[13]];\nDC_Bus_Volts        = [Uint16[16],Uint16[17]];\nElapsed_Run_Time    = [Uint16[18],Uint16[19]];\nElpsd_Mtr_kWHrs     = [Uint16[20],Uint16[21]];\nIGBT_Temp_C         = [Uint16[22],Uint16[23]];\nDrive_Temp_C        = [Uint16[24],Uint16[25]];\nLast_Fault_Code     = [Uint16[26],Uint16[27]];\n\nmsg.payload =   {\n    'Status_Word'       : Sts[0],\n    'Output_Frecuency'  : parseFloat(Int2Float32(array16to32(Output_Frequency))).toFixed(3),\n    'Commanded_SpdRef'  : parseFloat(Int2Float32(array16to32(Commanded_SpdRef))).toFixed(3),\n    'Mtr_Vel_Fdbk'      : parseFloat(Int2Float32(array16to32(Mtr_Vel_Fdbk))).toFixed(3),\n    'Output_Current'    : parseFloat(Int2Float32(array16to32(Output_Current))).toFixed(3),\n    'Output_Voltage'    : parseFloat(Int2Float32(array16to32(Output_Voltage))).toFixed(3),\n    'Output_Power'      : parseFloat(Int2Float32(array16to32(Output_Power))).toFixed(3),\n    'Power_Factor'      : parseFloat(Int2Float32(array16to32(Output_Powr_Fctr))).toFixed(3),\n    'Bus_DC_Volts'      : parseFloat(Int2Float32(array16to32(DC_Bus_Volts))).toFixed(3),\n    'Elapsed_Run_Time'  : parseFloat(Int2Float32(array16to32(Elapsed_Run_Time))).toFixed(3),\n    'Elpsd_Mtr_kWHrs'   : parseFloat(Int2Float32(array16to32(Elpsd_Mtr_kWHrs))).toFixed(3),\n    'IGBT_Temp_C'       : parseFloat(Int2Float32(array16to32(IGBT_Temp_C))).toFixed(3),\n    'Drive_Temp_C'      : parseFloat(Int2Float32(array16to32(Drive_Temp_C))).toFixed(3),\n    'Last_Fault_Code'   : parseInt(array16to32(Last_Fault_Code))\n}\nreturn msg;\n\n// Combinar dos arrays de 16 bits en uno 32 bits\nfunction array16to32(array){\n    var intvalue = [];\n    for(var i=0; i<array.length; i++){\n        array[i] = array[i] << 16*i;\n        intvalue = intvalue | array[i];\n    }\n    return intvalue;\n}\n// IEC 754 to Float Function\nfunction Int2Float32(bytes) {\n    var sign = (bytes & 0x80000000) ? -1 : 1;\n    var exponent = ((bytes >> 23) & 0xFF) - 127;\n    var significand = (bytes & ~(-1 << 23));\n\n    if (exponent == 128) \n        return sign * ((significand) ? Number.NaN : Number.POSITIVE_INFINITY);\n\n    if (exponent == -127) {\n        if (significand === 0) return sign * 0.0;\n        exponent = -126;\n        significand /= (1 << 22);\n    } else significand = (significand | (1 << 23)) / (1 << 23);\n\n    return sign * significand * Math.pow(2, exponent);\n}\n// Créditos: https://flows.nodered.org/flow/359ead34237b7ab6ec0465ee85a34b62","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3330,"y":530,"wires":[["bdd8a6cf.88f658","bf069ee7.c5381"]]},{"id":"c5230fd2.9b1f7","type":"pccc out","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","endpoint":"bdf717d2.f19ae8","variable":"CommandWord","name":"Command Word","x":1080,"y":650,"wires":[]},{"id":"512150a.24612b","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Drive_Command","pt":"flow","to":"command","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":700,"wires":[[]]},{"id":"2c3479fe.689196","type":"status","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","scope":["c5230fd2.9b1f7"],"x":1230,"y":650,"wires":[["4b8f3906.dd4198"]]},{"id":"fea9bef5.a9067","type":"function","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Status de escritura","func":"var Comm = context.get('CommOK','memoryOnly')||0;\n\nif(typeof msg.payload != 'undefined'){\n    context.set('CommOK',msg.payload,'memoryOnly');\n}\n\nif(Comm == 1 && typeof msg.status != 'undefined'){\n    var Status = {payload: flow.get('Drive_Command','memoryOnly')} \n    Status.code = msg.status.fill == 'green' ? 0:1;\n}\nnode.status({fill:\"green\",shape:\"dot\",text:Comm});\nreturn Status;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1620,"y":650,"wires":[["6c47cd85.078b04"]]},{"id":"3d596fc2.3c084","type":"status","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","scope":["50cba2d0.099dec"],"x":1160,"y":300,"wires":[["2edc6015.2c551"]]},{"id":"1ab4ef0d.3e8111","type":"function","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"Status de escritura","func":"var Comm = context.get('CommOK','memoryOnly')||0;\n\nif(typeof msg.payload != 'undefined'){\n    context.set('CommOK',msg.payload,'memoryOnly');\n}\nif(Comm == 1 && typeof msg.status != 'undefined'){\n    msg.code = msg.status.fill == 'green' ? 0:1;\n    return msg;\n}\nelse{\n    return;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1200,"y":350,"wires":[["1c5b5d3c.1c9023"]]},{"id":"1c7f798e.cabbe6","type":"function","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"Delta Hz","func":"// Definitions\nvar PRef    = flow.get(\"Prolonged_Reference\");\nvar Hz      = PRef.Hz;\nvar Time    = PRef.Time;\n\n// Horas a Segundos\nTime        = Time*3600;\nPRef.dHz    = Hz/Time;\n\nnode.status({fill:\"green\",shape:\"dot\",text:\"Delta Hz : \"+ Hz/Time});\nflow.set(\"Prolonged_Reference\",PRef);\n\nmsg.payload = PRef.dHz;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":710,"y":70,"wires":[[]]},{"id":"bec0e16.9c3212","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"","label":"Hz Increment","tooltip":"","group":"1c1f6ab9.b77ba5","order":1,"width":"3","height":"1","passthru":false,"mode":"number","delay":"100","topic":"","x":510,"y":120,"wires":[["26359185.e1f66e","1c7f798e.cabbe6"]]},{"id":"ef5dfbf1.adb148","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"","label":"Time (H)","tooltip":"","group":"1c1f6ab9.b77ba5","order":2,"width":"3","height":"1","passthru":false,"mode":"number","delay":"100","topic":"","x":520,"y":160,"wires":[["460c1f1f.82178","1c7f798e.cabbe6"]]},{"id":"26359185.e1f66e","type":"change","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"","rules":[{"t":"set","p":"Prolonged_Reference.Hz","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":790,"y":120,"wires":[[]]},{"id":"460c1f1f.82178","type":"change","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"","rules":[{"t":"set","p":"Prolonged_Reference.Time","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":790,"y":160,"wires":[[]]},{"id":"e3ec1f07.c757","type":"change","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"RPM","rules":[{"t":"set","p":"payload","pt":"msg","to":"Prolonged_Reference.RPM","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":120,"wires":[["bec0e16.9c3212"]]},{"id":"2813951c.bf7bfa","type":"change","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"Time","rules":[{"t":"set","p":"payload","pt":"msg","to":"Prolonged_Reference.Time","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":160,"wires":[["ef5dfbf1.adb148"]]},{"id":"74d5017e.e1082","type":"comment","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"Incremento prolongado","info":"","x":180,"y":80,"wires":[]},{"id":"9353759f.984b88","type":"change","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"","rules":[{"t":"set","p":"Prolonged_Reference.Reference","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":200,"wires":[[]]},{"id":"618e490c.af0dc8","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"","label":"Reference","tooltip":"","group":"1c1f6ab9.b77ba5","order":3,"width":"3","height":"1","passthru":true,"mode":"number","delay":300,"topic":"Start","x":510,"y":200,"wires":[["9353759f.984b88"]]},{"id":"e8893434.c05a68","type":"change","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"Reference","rules":[{"t":"set","p":"payload","pt":"msg","to":"Prolonged_Reference.Reference","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":350,"y":200,"wires":[["618e490c.af0dc8"]]},{"id":"c7e5009d.fc8d3","type":"link out","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"Prolonged Reference","links":["51d6f5bd.7b3bac"],"x":965,"y":240,"wires":[]},{"id":"7b28052.b5946fc","type":"change","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"Reference","rules":[{"t":"set","p":"payload","pt":"msg","to":"Prolonged_Reference.Reference","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":240,"wires":[["c7e5009d.fc8d3"]]},{"id":"4b3fd317.85280c","type":"ui_button","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"","group":"1c1f6ab9.b77ba5","order":4,"width":"3","height":"1","passthru":false,"label":"Confirm","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"Start","x":710,"y":240,"wires":[["7b28052.b5946fc"]]},{"id":"d0a19b38.893ab8","type":"link in","z":"3df4c8d9.0bdc38","g":"1d477816.993308","name":"Incremento prolongado","links":["ad87cee4.7dbb5"],"x":235,"y":160,"wires":[["e3ec1f07.c757","2813951c.bf7bfa","e8893434.c05a68"]]},{"id":"51d6f5bd.7b3bac","type":"link in","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Prolonged Reference Update Status","links":["6bb7cd2e.159434","8b72bbb3.5d5a38","32fbf901.3d4836"],"x":205,"y":330,"wires":[["406ea535.518d9c"]]},{"id":"23428c25.4cefe4","type":"inject","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"","props":[{"p":"payload","v":"reset","vt":"str"},{"p":"topic","v":"reset","vt":"string"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"reset","payload":"reset","payloadType":"str","x":160,"y":370,"wires":[["406ea535.518d9c"]]},{"id":"7984b34.194704c","type":"link in","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Staggered Start State Input","links":["cfde9e34.955e5"],"x":205,"y":410,"wires":[["67f2d064.1098c"]]},{"id":"406ea535.518d9c","type":"finite-state-machine","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Prolonged Reference","fsmDefinition":"{\"state\":{\"status\":\"E0\"},\"transitions\":{\"E0\":{\"Start\":\"E1\"},\"E1\":{\"Ref Done\":\"E2\",\"Error\":\"E1\"},\"E2\":{\"Ref Reached\":\"E0\",\"Ref Not Reached yet\":\"E1\"}}}","sendInitialState":false,"sendStateWithoutChange":true,"showTransitionErrors":false,"x":350,"y":350,"wires":[["cfde9e34.955e5"]]},{"id":"67f2d064.1098c","type":"switch","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"","property":"payload.status","propertyType":"msg","rules":[{"t":"eq","v":"E0","vt":"str"},{"t":"eq","v":"E1","vt":"str"},{"t":"eq","v":"E2","vt":"str"}],"checkall":"true","repair":false,"outputs":3,"x":300,"y":410,"wires":[[],["825a8d81.e5826"],["39b139ed.19f7a6"]]},{"id":"825a8d81.e5826","type":"delay","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":440,"y":390,"wires":[["76e5042d.a8799c"]]},{"id":"39b139ed.19f7a6","type":"function","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"VSD_Ref","func":"// Definitions\nvar PR          = flow.get(\"Prolonged_Reference\")||null;\nvar Mtr_Speed   = global.get('C2S.Mtr_Vel_Fdbk','memoryOnly');\n\nif(PR.Reference == Mtr_Speed){\n    msg.topic = \"Ref Reached\";\n    node.status({fill:\"green\",shape:\"dot\",text:Mtr_Speed});\n}\nelse{\n    msg.topic = \"Ref Not Reached yet\";\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":440,"y":430,"wires":[["8b72bbb3.5d5a38"]]},{"id":"76e5042d.a8799c","type":"function","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"VSD_Ref","func":"// Definitions\nvar PR          = flow.get(\"Prolonged_Reference\")||null;\nvar Mtr_Speed   = global.get('C2S.Mtr_Vel_Fdbk','memoryOnly')||null;\n\nif(PR.Reference < Mtr_Speed){\n    msg.payload = parseFloat(Mtr_Speed) - PR.dHz;\n    node.status({fill:\"green\",shape:\"dot\",text: Mtr_Speed+ \" - \"+PR.dHz+\" = \"+msg.payload});\n}\nelse if(PR.Reference > Mtr_Speed){\n    msg.payload = parseFloat(Mtr_Speed) + PR.dHz;\n    node.status({fill:\"green\",shape:\"dot\",text: Mtr_Speed+ \" + \"+PR.dHz+\" = \"+msg.payload});\n}\nelse{\n    msg.payload = Mtr_Speed;\n}\n\nmsg.payload = msg.payload * 10000;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":580,"y":390,"wires":[["4d54b2ab.9b58bc","e6356da9.60663"]]},{"id":"4d54b2ab.9b58bc","type":"switch","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"","property":"payload.code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":660,"y":460,"wires":[["595852e0.7df8ec"],["a42f4760.a32ab8"]]},{"id":"595852e0.7df8ec","type":"change","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Ref Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"Ref Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":820,"y":440,"wires":[["6bb7cd2e.159434"]]},{"id":"a42f4760.a32ab8","type":"change","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":480,"wires":[["6bb7cd2e.159434"]]},{"id":"cfde9e34.955e5","type":"link out","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Prolonged Reference New State","links":["7984b34.194704c"],"x":485,"y":350,"wires":[]},{"id":"6bb7cd2e.159434","type":"link out","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Prolonged Reference E1","links":["51d6f5bd.7b3bac"],"x":945,"y":480,"wires":[]},{"id":"8b72bbb3.5d5a38","type":"link out","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","name":"Prolonged Reference E2","links":["51d6f5bd.7b3bac"],"x":535,"y":430,"wires":[]},{"id":"e6356da9.60663","type":"pccc out","z":"3df4c8d9.0bdc38","g":"9bdf522.eba6db","endpoint":"bdf717d2.f19ae8","variable":"Speed_Reference","name":"Referencia de velocidad","x":870,"y":390,"wires":[]},{"id":"2cc21db0.31ad62","type":"comment","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Maquina de estados arranque escalonado","info":"","x":240,"y":930,"wires":[]},{"id":"fceee294.75f2a","type":"finite-state-machine","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered start","fsmDefinition":"{\"state\":{\"status\":\"E0\"},\"transitions\":{\"E0\":{\"Start\":\"E1\"},\"E1\":{\"AcT1 Done\":\"E2\",\"Error\":\"E1\"},\"E2\":{\"Ref V1 Done\":\"E3\",\"Error\":\"E2\"},\"E3\":{\"Start Done\":\"E4\",\"Error\":\"E3\"},\"E4\":{\"Ref V1 Reached\":\"E5\",\"Ref V1 Not reached yet\":\"E4\"},\"E5\":{\"T2 Done\":\"E6\"},\"E6\":{\"AcT2 Done\":\"E7\",\"Error\":\"E6\"},\"E7\":{\"Ref V2 Done\":\"E8\",\"Error\":\"E7\"},\"E8\":{\"Ref V2 Reached\":\"E9\",\"Ref V2 Not reached yet\":\"E8\"},\"E9\":{\"Accel Done\":\"E0\",\"Error\":\"E9\"}}}","sendInitialState":true,"sendStateWithoutChange":false,"showTransitionErrors":false,"x":700,"y":990,"wires":[["c8e55399.c9ba1"]]},{"id":"2da6eab8.1a0d46","type":"link in","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start Update Status","links":["a238dee5.dce89","933dddee.7aa6b","1693e576.9b12ab","19987e51.456892","95c850f6.36643","1d20ae55.84ce82","97085297.91fc4","1a666499.a2effb","402cd950.ce2c18"],"x":545,"y":1050,"wires":[["fceee294.75f2a"]]},{"id":"df0f741c.af19a8","type":"switch","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","property":"payload.status","propertyType":"msg","rules":[{"t":"eq","v":"E0","vt":"str"},{"t":"eq","v":"E1","vt":"str"},{"t":"eq","v":"E2","vt":"str"},{"t":"eq","v":"E3","vt":"str"},{"t":"eq","v":"E4","vt":"str"},{"t":"eq","v":"E5","vt":"str"},{"t":"eq","v":"E6","vt":"str"},{"t":"eq","v":"E7","vt":"str"},{"t":"eq","v":"E8","vt":"str"},{"t":"eq","v":"E9","vt":"str"}],"checkall":"true","repair":false,"outputs":10,"x":200,"y":1340,"wires":[[],["4fa4f9ba.bbe438"],["457f5e6e.ca6a6"],["399aa9e0.76e826"],["5a332056.69647"],["b3caef3.352311"],["9582cf9f.08cd2"],["94a055d5.0c9b78"],["8342ff02.52b06"],["b577a0f5.21f92"]]},{"id":"f2d35fb.fa772a","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Start","rules":[{"t":"set","p":"topic","pt":"msg","to":"Start","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":1010,"wires":[["101b1cf1.8df2b3"]]},{"id":"8fb0b4bf.9589d8","type":"inject","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","props":[{"p":"payload","v":"","vt":"num"},{"p":"topic","v":"reset","vt":"string"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"reset","payload":"","payloadType":"num","x":510,"y":970,"wires":[["fceee294.75f2a"]]},{"id":"d49b2738.582fc8","type":"switch","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","property":"payload.code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":630,"y":1120,"wires":[["29c7a23.727065e"],["d21b5c08.66b8c"]]},{"id":"29c7a23.727065e","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"AcT1 Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"AcT1 Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":1100,"wires":[["a238dee5.dce89"]]},{"id":"d21b5c08.66b8c","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":760,"y":1140,"wires":[["a238dee5.dce89"]]},{"id":"a238dee5.dce89","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start E1","links":["2da6eab8.1a0d46"],"x":895,"y":1140,"wires":[]},{"id":"5a87edb6.8c3394","type":"switch","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"","property":"code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1290,"y":980,"wires":[["857e53fb.e5dae"],["e1454e7d.97fa8"]]},{"id":"857e53fb.e5dae","type":"change","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Ref V1 Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"Ref V1 Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1440,"y":960,"wires":[["933dddee.7aa6b"]]},{"id":"e1454e7d.97fa8","type":"change","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1420,"y":1000,"wires":[["933dddee.7aa6b"]]},{"id":"933dddee.7aa6b","type":"link out","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Staggered Start E2","links":["2da6eab8.1a0d46"],"x":1555,"y":1000,"wires":[]},{"id":"457f5e6e.ca6a6","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"V1","rules":[{"t":"set","p":"payload","pt":"msg","to":"Staggered_start.Reference_1","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":1180,"wires":[["4383a027.ff80a"]]},{"id":"399aa9e0.76e826","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start","links":["c581c8dc.d013e8"],"x":355,"y":1220,"wires":[]},{"id":"65189a34.958f54","type":"link in","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"VSD Command Data Link Arranque escalonado","links":["f99e70c8.70126"],"x":405,"y":1250,"wires":[["3024e2c5.a2abce"]]},{"id":"ed48b163.a810f","type":"switch","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","property":"code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":630,"y":1250,"wires":[["ca0a5684.ea6928"],["66413682.a144a8"]]},{"id":"ca0a5684.ea6928","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Start Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"Start Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":1230,"wires":[["1693e576.9b12ab"]]},{"id":"66413682.a144a8","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":760,"y":1270,"wires":[["1693e576.9b12ab"]]},{"id":"1693e576.9b12ab","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start E3","links":["2da6eab8.1a0d46"],"x":895,"y":1270,"wires":[]},{"id":"5a332056.69647","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"E4","func":"var Motor_Speed = global.get(\"C2S.Mtr_Vel_Fdbk\",'memoryOnly')||0;\nvar Reference1  = flow.get(\"Staggered_start\").Reference_1||0;\n\nif(Motor_Speed == Reference1){\n    msg.topic = \"Ref V1 Reached\";\n}\nelse{\n    msg.topic = \"Ref V1 Not reached yet\";\n}\nnode.status({fill:\"green\",shape:\"dot\",text:\"Reference : \"+Reference1+\", \"+\"Motor Speed : \"+ Motor_Speed});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":390,"y":1310,"wires":[["6b84c64e.dcc588"]]},{"id":"6b84c64e.dcc588","type":"delay","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","pauseType":"delay","timeout":"100","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":740,"y":1310,"wires":[["19987e51.456892"]]},{"id":"19987e51.456892","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start E4","links":["2da6eab8.1a0d46"],"x":895,"y":1310,"wires":[]},{"id":"b3caef3.352311","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"T2","rules":[{"t":"set","p":"delay","pt":"msg","to":"Staggered_start.Time_2","tot":"flow"},{"t":"set","p":"topic","pt":"msg","to":"T2 Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":1360,"wires":[["1f018e5b.62ca82"]]},{"id":"e4129fed.88799","type":"delay","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","pauseType":"delayv","timeout":"60","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":750,"y":1360,"wires":[["95c850f6.36643"]]},{"id":"95c850f6.36643","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start E5","links":["2da6eab8.1a0d46"],"x":895,"y":1360,"wires":[]},{"id":"66a490ba.d5e37","type":"switch","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","property":"payload.code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":630,"y":1420,"wires":[["b22288f6.37a878"],["8552caa4.241e38"]]},{"id":"b22288f6.37a878","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"AcT2 Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"AcT2 Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":1400,"wires":[["1d20ae55.84ce82"]]},{"id":"8552caa4.241e38","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":760,"y":1440,"wires":[["1d20ae55.84ce82"]]},{"id":"1d20ae55.84ce82","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start E6","links":["2da6eab8.1a0d46"],"x":895,"y":1440,"wires":[]},{"id":"2451ed0d.81d282","type":"switch","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"","property":"code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1290,"y":1060,"wires":[["35641b5c.fa1334"],["e9f8a5f1.b0bdb8"]]},{"id":"35641b5c.fa1334","type":"change","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Ref V2 Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"Ref V2 Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1440,"y":1040,"wires":[["97085297.91fc4"]]},{"id":"e9f8a5f1.b0bdb8","type":"change","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1420,"y":1080,"wires":[["97085297.91fc4"]]},{"id":"97085297.91fc4","type":"link out","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Staggered Start E7","links":["2da6eab8.1a0d46"],"x":1555,"y":1080,"wires":[]},{"id":"94a055d5.0c9b78","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"V2","rules":[{"t":"set","p":"payload","pt":"msg","to":"Staggered_start.Reference_2","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":1480,"wires":[["d7c6bd69.7a7ef"]]},{"id":"8342ff02.52b06","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"E8","func":"var Motor_Speed = global.get(\"C2S.Mtr_Vel_Fdbk\",'memoryOnly')||0;\nvar Reference2  = flow.get(\"Staggered_start\").Reference_2||0;\n\nif(Motor_Speed == Reference2){\n    msg.topic = \"Ref V2 Reached\";\n}\nelse{\n    msg.topic = \"Ref V2 Not reached yet\"\n}\nnode.status({fill:\"green\",shape:\"dot\",text:\"Reference : \"+Reference2+\", \"+\"Motor Speed : \"+ Motor_Speed});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":390,"y":1520,"wires":[["d57a1b85.5bfae8"]]},{"id":"d57a1b85.5bfae8","type":"delay","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","pauseType":"delay","timeout":"100","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":740,"y":1520,"wires":[["1a666499.a2effb"]]},{"id":"1a666499.a2effb","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start E8","links":["2da6eab8.1a0d46"],"x":895,"y":1520,"wires":[]},{"id":"b577a0f5.21f92","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Accel","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.Accel","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":1580,"wires":[["8f53cc8f.84257"]]},{"id":"54744e61.1040a","type":"switch","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","property":"payload.code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":630,"y":1580,"wires":[["ac2b4653.316da8"],["4400c779.7b65c8"]]},{"id":"ac2b4653.316da8","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Accel Done","rules":[{"t":"set","p":"topic","pt":"msg","to":"Accel Done","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":1560,"wires":[["402cd950.ce2c18"]]},{"id":"4400c779.7b65c8","type":"change","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":760,"y":1600,"wires":[["402cd950.ce2c18"]]},{"id":"402cd950.ce2c18","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start E9","links":["2da6eab8.1a0d46"],"x":895,"y":1600,"wires":[]},{"id":"c8e55399.c9ba1","type":"link out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start New State","links":["f27260f5.84ea7"],"x":895,"y":990,"wires":[]},{"id":"f27260f5.84ea7","type":"link in","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Staggered Start State Input","links":["c8e55399.c9ba1"],"x":115,"y":1340,"wires":[["df0f741c.af19a8"]]},{"id":"4fa4f9ba.bbe438","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"AcT1","func":"var Motor_Hz    = global.get(\"Motor_Control.Nameplate.Hertz\")||0;\nvar SS          = flow.get(\"Staggered_start\")||null;\n\nmsg.payload     = Motor_Hz*SS.Time_1/SS.Reference_1\nnode.status({fill:\"green\",shape:\"dot\",text:\"Accel Time : \"+msg.payload});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":390,"y":1120,"wires":[["16d2de82.3f9bd1"]]},{"id":"9582cf9f.08cd2","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"AcT2","func":"var Motor_Hz    = global.get(\"Motor_Control.Nameplate.Hertz\")||0;\nvar SS          = flow.get(\"Staggered_start\")||null;\n\nmsg.payload     = Motor_Hz*SS.Time_3/(SS.Reference_2 - SS.Reference_1);\nnode.status({fill:\"green\",shape:\"dot\",text:\"Accel Time : \"+msg.payload});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":390,"y":1420,"wires":[["eb1fb4ef.aeeb68"]]},{"id":"1f018e5b.62ca82","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"msg.delay ms2sec","func":"msg.delay = msg.delay * 1000;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":1360,"wires":[["e4129fed.88799"]]},{"id":"5a992b9e.0fe264","type":"link in","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Arranque Escalonado Link In","links":["8565c38.316b44"],"x":215,"y":1010,"wires":[["f2d35fb.fa772a"]]},{"id":"bf6826f1.1eaf58","type":"link in","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Reset Funciones de control Link In","links":["b34e348c.08d3d8"],"x":545,"y":930,"wires":[["fceee294.75f2a"]]},{"id":"101b1cf1.8df2b3","type":"switch","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Variador Active?","property":"Drive_Status.Active","propertyType":"global","rules":[{"t":"neq","v":"1","vt":"num"}],"checkall":"true","repair":false,"outputs":1,"x":480,"y":1010,"wires":[["fceee294.75f2a"]]},{"id":"3024e2c5.a2abce","type":"switch","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Arranque","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"Arranque","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":500,"y":1250,"wires":[["ed48b163.a810f"]]},{"id":"16d2de82.3f9bd1","type":"subflow:1ae6c379.02ea3d","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"AcT1","env":[{"name":"Parameter","value":"535","type":"num"}],"x":510,"y":1120,"wires":[["d49b2738.582fc8"]]},{"id":"19a2b155.ff424f","type":"pccc out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","endpoint":"bdf717d2.f19ae8","variable":"Speed_Reference","name":"Referencia de velocidad","x":710,"y":1180,"wires":[]},{"id":"eb1fb4ef.aeeb68","type":"subflow:1ae6c379.02ea3d","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"AcT2","env":[{"name":"Parameter","value":"535","type":"num"}],"x":510,"y":1420,"wires":[["66a490ba.d5e37"]]},{"id":"a9bbfe07.11d31","type":"pccc out","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","endpoint":"bdf717d2.f19ae8","variable":"Speed_Reference","name":"Referencia de velocidad","x":710,"y":1480,"wires":[]},{"id":"8f53cc8f.84257","type":"subflow:1ae6c379.02ea3d","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Accel","env":[{"name":"Parameter","value":"535","type":"num"}],"x":510,"y":1580,"wires":[["54744e61.1040a"]]},{"id":"686f05a3.dd6cfc","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","label":"Referencia Inicial","tooltip":"","group":"a2cdbb78.31d778","order":1,"width":"6","height":1,"passthru":false,"mode":"number","delay":300,"topic":"","x":530,"y":680,"wires":[["f74cea60.fcb698"]]},{"id":"92726765.16d7f8","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","label":"Referencia Final","tooltip":"","group":"a2cdbb78.31d778","order":2,"width":"6","height":1,"passthru":false,"mode":"number","delay":300,"topic":"","x":520,"y":720,"wires":[["fb3c6926.732028","e2832ff4.8c486"]]},{"id":"5cb3e34e.01455c","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","label":"T1","tooltip":"","group":"a2cdbb78.31d778","order":3,"width":"4","height":1,"passthru":false,"mode":"number","delay":300,"topic":"","x":490,"y":760,"wires":[["fb0cb7ee.fd5898"]]},{"id":"5871112e.0973d","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","label":"T2","tooltip":"","group":"a2cdbb78.31d778","order":4,"width":"4","height":1,"passthru":false,"mode":"number","delay":300,"topic":"","x":490,"y":800,"wires":[["bd09ef7a.b5593"]]},{"id":"9f479937.6b8aa8","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","label":"T3","tooltip":"","group":"a2cdbb78.31d778","order":5,"width":"4","height":1,"passthru":false,"mode":"number","delay":300,"topic":"","x":490,"y":840,"wires":[["deff6b32.1521a8"]]},{"id":"f74cea60.fcb698","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","rules":[{"t":"set","p":"Staggered_start.Reference_1","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":790,"y":680,"wires":[[]]},{"id":"fb3c6926.732028","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","rules":[{"t":"set","p":"Staggered_start.Reference_2","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":790,"y":720,"wires":[[]]},{"id":"fb0cb7ee.fd5898","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","rules":[{"t":"set","p":"Staggered_start.Time_1","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":690,"y":760,"wires":[[]]},{"id":"bd09ef7a.b5593","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","rules":[{"t":"set","p":"Staggered_start.Time_2","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":693,"y":800,"wires":[[]]},{"id":"deff6b32.1521a8","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","rules":[{"t":"set","p":"Staggered_start.Time_3","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":690,"y":840,"wires":[[]]},{"id":"7157d825.d18368","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"V1","rules":[{"t":"set","p":"payload","pt":"msg","to":"Staggered_start.Reference_1","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":370,"y":680,"wires":[["686f05a3.dd6cfc"]]},{"id":"44c815d7.7d19fc","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"V2","rules":[{"t":"set","p":"payload","pt":"msg","to":"Staggered_start.Reference_2","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":370,"y":720,"wires":[["92726765.16d7f8"]]},{"id":"133426a.57f73d9","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"T1","rules":[{"t":"set","p":"payload","pt":"msg","to":"Staggered_start.Time_1","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":370,"y":760,"wires":[["5cb3e34e.01455c"]]},{"id":"a8a729db.101208","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"T2","rules":[{"t":"set","p":"payload","pt":"msg","to":"Staggered_start.Time_2","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":370,"y":800,"wires":[["5871112e.0973d"]]},{"id":"9408742.a02f988","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"T3","rules":[{"t":"set","p":"payload","pt":"msg","to":"Staggered_start.Time_3","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":370,"y":840,"wires":[["9f479937.6b8aa8"]]},{"id":"f22dd0a7.a22fc","type":"comment","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"Arranque Escalonado","info":"","x":180,"y":630,"wires":[]},{"id":"3386205f.8c40b","type":"ui_switch","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","label":"Habilitar arranqe escalonado","tooltip":"","group":"a2cdbb78.31d778","order":6,"width":"0","height":"0","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":620,"y":630,"wires":[["dd6ad91b.f07958"]]},{"id":"dd6ad91b.f07958","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","rules":[{"t":"set","p":"A_Escalonado","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":870,"y":630,"wires":[["5358ecac.f54924"]]},{"id":"a677d25a.ded2f","type":"change","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"A. Escalonado","rules":[{"t":"set","p":"payload","pt":"msg","to":"A_Escalonado","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":630,"wires":[["3386205f.8c40b"]]},{"id":"366a2d5a.01dbf2","type":"link in","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"Arrnanque escalonado","links":["ad87cee4.7dbb5"],"x":225,"y":748,"wires":[["7157d825.d18368","44c815d7.7d19fc","133426a.57f73d9","a8a729db.101208","9408742.a02f988","a677d25a.ded2f"]]},{"id":"4383a027.ff80a","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Escalar","func":"msg.payload = msg.payload * 10000;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":520,"y":1180,"wires":[["19a2b155.ff424f"]]},{"id":"d7c6bd69.7a7ef","type":"function","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"Escalar","func":"msg.payload = msg.payload * 10000;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":520,"y":1480,"wires":[["a9bbfe07.11d31"]]},{"id":"a032476a.407a38","type":"inject","z":"3df4c8d9.0bdc38","g":"fbbdc4b7.95b5c8","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":330,"y":1050,"wires":[["f2d35fb.fa772a"]]},{"id":"7eae3e0f.631e6","type":"function","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Status de escritura","func":"msg.code = msg.status.fill == 'green' ? 0:1;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1080,"y":1030,"wires":[["5a87edb6.8c3394","2451ed0d.81d282"]]},{"id":"ac35b5d7.c82f98","type":"status","z":"3df4c8d9.0bdc38","g":"272ed76d.7cce68","name":"Estado escritura referencia","scope":["19a2b155.ff424f","a9bbfe07.11d31"],"x":1060,"y":990,"wires":[["7eae3e0f.631e6"]]},{"id":"b55e7290.1631b","type":"inject","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":190,"y":710,"wires":[["a677d25a.ded2f","7157d825.d18368","44c815d7.7d19fc","133426a.57f73d9","a8a729db.101208","9408742.a02f988"]]},{"id":"f7bbcee0.96201","type":"switch","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"A. Escalonado/Normal","property":"A_Escalonado","propertyType":"global","rules":[{"t":"true"},{"t":"false"}],"checkall":"true","repair":false,"outputs":2,"x":900,"y":560,"wires":[["eac4a50a.98c358"],["560532dc.951a7c"]]},{"id":"560532dc.951a7c","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Arranque local","rules":[{"t":"set","p":"Source_for_events.Start","pt":"global","to":"1","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":1100,"y":590,"wires":[["ca280181.090e2","236f8473.849bac"]]},{"id":"eac4a50a.98c358","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Escalonado local","rules":[{"t":"set","p":"Source_for_events.Start","pt":"global","to":"2","tot":"num"},{"t":"set","p":"payload","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1110,"y":550,"wires":[["8565c38.316b44"]]},{"id":"8565c38.316b44","type":"link out","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Arranque Escalonado Link Out","links":["5a992b9e.0fe264"],"x":1235,"y":550,"wires":[]},{"id":"c0305bdc.676a28","type":"finite-state-machine","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart","fsmDefinition":"{\"state\":{\"status\":\"E0\"},\"transitions\":{\"E0\":{\"RA_ON\":\"E1\",\"RA_OFF\":\"E0\"},\"E1\":{\"Clear Failure\":\"E2\",\"Error\":\"E1\"},\"E2\":{\"Attempt in Range\":\"E3\",\"End of Attempts\":\"E4\"},\"E3\":{\"Restart Time elapsed\":\"E5\"},\"E4\":{\"Automatic Restart, Status Updated\":\"E1\"},\"E5\":{\"Reset executed\":\"E6\",\"Error\":\"E5\"},\"E6\":{\"Start executed\":\"E7\",\"Error\":\"E6\"},\"E7\":{\"Restored Accel\":\"E1\",\"Error or Busy\":\"E7\"}}}","sendInitialState":true,"sendStateWithoutChange":true,"showTransitionErrors":false,"x":760,"y":2152,"wires":[["3c6bdbde.b87f34","853cd9a2.d77cf8"]]},{"id":"3781fe66.587af2","type":"inject","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"reset","payload":"","payloadType":"num","x":360,"y":2152,"wires":[["c0305bdc.676a28"]]},{"id":"2e7249b4.58bd66","type":"function","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"E2","func":"// Definitions\nvar AR = flow.get(\"Automatic_Restart\")||0;\nvar Current_Attempt = AR.Attempts.Current_Attempt||0;\n\nCurrent_Attempt++;\nAR.Attempts.Current_Attempt = Current_Attempt;\nflow.set(\"Automatic_Restart\",AR);\n\n// Transitions\nif( Current_Attempt <= AR.Attempts.Max ){\n    msg.topic = \"Attempt in Range\";\n}\nelse{\n    msg.topic = \"End of Attempts\";\n}\nreturn msg;","outputs":1,"noerr":0,"x":580,"y":2322,"wires":[["c325ce5a.11ef9"]]},{"id":"32c8b0ee.45f27","type":"function","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"E3","func":"// Definitions\nvar AR              = flow.get(\"Automatic_Restart\")||null;\nvar Attempt         = AR.Attempts.Current_Attempt || 0;\nvar max_index       = 0;\n\nvar Attempt_Array   = [ AR.Ramps.Accel1, AR.Ramps.Accel2, AR.Ramps.Accel3, AR.Ramps.Accel4 ];\nvar Restart_Array   = [ AR.Restart.Time1*60000, AR.Restart.Time2*60000, AR.Restart.Time3*60000, AR.Restart.Time4*60000];\n\nif(AR.Ramps.Enable_Accel4     === true){    max_index = 3; }\nelse if(AR.Ramps.Enable_Accel3 === true){   max_index = 2; }\nelse if(AR.Ramps.Enable_Accel2 === true){   max_index = 1; }\nelse if(AR.Ramps.Enable_Accel1 === true){   max_index = 0; }\n\n// Code Excecution\nif(Attempt - 1 <= max_index ){  msg.payload = Attempt_Array[Attempt - 1]; \n                                msg.delay   = Restart_Array[Attempt - 1];\n}\nelse{                           msg.payload = Attempt_Array[max_index];\n                                msg.delay   = Restart_Array[max_index];\n}\n// Transition\nmsg.topic = \"Restart Time elapsed\";\nreturn msg;\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":580,"y":2362,"wires":[["383d0d61.1e6de2","c1723a65.a620c8"]]},{"id":"66ec00f0.b69ff","type":"function","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"E4","func":"// Definitions\nvar AR = flow.get(\"Automatic_Restart\");\nAR.Attempts.Current_Attempt = AR.Attempts.Max;\nmsg.payload = \"End of Attemps reached!\";\n// Transition\nmsg.topic = \"Automatic Restart, Status Updated\";\nreturn msg;\n\n","outputs":1,"noerr":0,"x":580,"y":2402,"wires":[["60c61f62.f5c34","8aebe900.f1cdd8"]]},{"id":"b47dc7c0.fe3dd8","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","rules":[{"t":"set","p":"Automatic_Restart.Enable","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":670,"y":2082,"wires":[[]]},{"id":"3c6bdbde.b87f34","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","rules":[{"t":"set","p":"Automatic_Restart.Status","pt":"flow","to":"payload.status","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1040,"y":2112,"wires":[[]]},{"id":"383d0d61.1e6de2","type":"delay","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Restart Time","pauseType":"delayv","timeout":"60","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":720,"y":2362,"wires":[["12c8fd79.9681e3"]]},{"id":"fdc50122.eca2a","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"AR Reset","links":["1fdf355.5b5f8cb"],"x":725,"y":2480,"wires":[]},{"id":"14c9d205.a3aa7e","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart Update State","links":["8276f23c.bfc3f","364f96f4.f46f0a","587d6709.b2cc68","c325ce5a.11ef9","7c8924eb.60c91c","60c61f62.f5c34","12c8fd79.9681e3"],"x":615,"y":2192,"wires":[["c0305bdc.676a28"]]},{"id":"40db7d54.6eda64","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart State Input","links":["853cd9a2.d77cf8"],"x":305,"y":2362,"wires":[["e603fb56.c7b328"]]},{"id":"853cd9a2.d77cf8","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart New State","links":["40db7d54.6eda64"],"x":915,"y":2152,"wires":[]},{"id":"e603fb56.c7b328","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","property":"payload.status","propertyType":"msg","rules":[{"t":"eq","v":"E0","vt":"str"},{"t":"eq","v":"E2","vt":"str"},{"t":"eq","v":"E3","vt":"str"},{"t":"eq","v":"E4","vt":"str"},{"t":"eq","v":"E5","vt":"str"},{"t":"eq","v":"E6","vt":"str"},{"t":"eq","v":"E7","vt":"str"}],"checkall":"true","repair":false,"outputs":7,"x":390,"y":2362,"wires":[["58e6dd7.174e024"],["2e7249b4.58bd66"],["32c8b0ee.45f27"],["66ec00f0.b69ff"],["37db10ec.6a6f7","9423bfa9.83933"],["baa92aab.077738"],["ac728c7b.ad488"]]},{"id":"7a545a2b.6f6b74","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"E0","rules":[{"t":"set","p":"topic","pt":"msg","to":"RA_ON","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":750,"y":2262,"wires":[["8276f23c.bfc3f"]]},{"id":"8276f23c.bfc3f","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart E0","links":["14c9d205.a3aa7e"],"x":835,"y":2262,"wires":[]},{"id":"6db9c12b.c8705","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"E1","rules":[{"t":"set","p":"topic","pt":"msg","to":"Clear Failure","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":2190,"wires":[["c0305bdc.676a28"]]},{"id":"c325ce5a.11ef9","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart E2","links":["14c9d205.a3aa7e"],"x":825,"y":2322,"wires":[]},{"id":"12c8fd79.9681e3","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart E3","links":["14c9d205.a3aa7e","1be77946.3d6847","bc0c7c1c.40245"],"x":825,"y":2362,"wires":[]},{"id":"60c61f62.f5c34","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart E4","links":["14c9d205.a3aa7e"],"x":825,"y":2402,"wires":[]},{"id":"504fb845.3276c8","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"VSD Command Data Link Re arranque automático","links":["f99e70c8.70126"],"x":1055,"y":2560,"wires":[["b3d1cf2a.f818c"]]},{"id":"34c4f209.65d5fe","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","property":"code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1280,"y":2480,"wires":[["cb35c95f.b22ce8"],["876f26f1.b555a8"]]},{"id":"cb35c95f.b22ce8","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Reset executed","rules":[{"t":"set","p":"topic","pt":"msg","to":"Reset executed","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":2460,"wires":[["364f96f4.f46f0a"]]},{"id":"876f26f1.b555a8","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1400,"y":2500,"wires":[["364f96f4.f46f0a"]]},{"id":"364f96f4.f46f0a","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart E5","links":["14c9d205.a3aa7e"],"x":1555,"y":2500,"wires":[]},{"id":"baa92aab.077738","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"AR Start","links":["c581c8dc.d013e8"],"x":565,"y":2560,"wires":[]},{"id":"17a116b7.129529","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","property":"code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1280,"y":2560,"wires":[["a6252416.b477e8"],["7add8997.38ea28"]]},{"id":"a6252416.b477e8","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Start executed","rules":[{"t":"set","p":"topic","pt":"msg","to":"Start executed","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1430,"y":2540,"wires":[["587d6709.b2cc68"]]},{"id":"7add8997.38ea28","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1400,"y":2580,"wires":[["587d6709.b2cc68"]]},{"id":"587d6709.b2cc68","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart E6","links":["14c9d205.a3aa7e"],"x":1555,"y":2580,"wires":[]},{"id":"1efee279.9d3c5e","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Accel","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speed_Control.Accel","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":920,"y":2620,"wires":[["ee2f7708.642508"]]},{"id":"24b7cec5.441a12","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","property":"payload.code","propertyType":"msg","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1200,"y":2620,"wires":[["9beed943.b3e2c8"],["9209505b.0e275"]]},{"id":"9beed943.b3e2c8","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Restored Accel","rules":[{"t":"set","p":"topic","pt":"msg","to":"Restored Accel","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":2620,"wires":[["7c8924eb.60c91c"]]},{"id":"9209505b.0e275","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Error","rules":[{"t":"set","p":"topic","pt":"msg","to":"Error or Busy","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":920,"y":2670,"wires":[["7c8924eb.60c91c"]]},{"id":"7c8924eb.60c91c","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart E7","links":["14c9d205.a3aa7e"],"x":1495,"y":2670,"wires":[]},{"id":"58e6dd7.174e024","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Enable True","property":"Automatic_Restart.Enable","propertyType":"flow","rules":[{"t":"true"},{"t":"false"}],"checkall":"true","repair":false,"outputs":2,"x":600,"y":2282,"wires":[["7a545a2b.6f6b74"],["ff0d6d6.216379"]]},{"id":"36e990a0.a6e0b","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Accel Done?","property":"#:(memoryOnly)::Drive_Status.Accel","propertyType":"global","rules":[{"t":"eq","v":"0","vt":"num"},{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":750,"y":2660,"wires":[["1efee279.9d3c5e"],["9209505b.0e275"]]},{"id":"3c3c201f.7b4db","type":"delay","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","pauseType":"delay","timeout":"10","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":600,"y":2660,"wires":[["36e990a0.a6e0b"]]},{"id":"8aebe900.f1cdd8","type":"ui_toast","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","position":"top right","displayTime":"10","highlight":"orange","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":750,"y":2442,"wires":[]},{"id":"633be9f8.688fd8","type":"comment","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Re Arranque Automático","info":"","x":190,"y":2052,"wires":[]},{"id":"55b87356.a4664c","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Automatic Restart enable In","links":["be37bc8e.b3c0e"],"x":475,"y":2082,"wires":[["b47dc7c0.fe3dd8","c0449741.019748"]]},{"id":"ff0d6d6.216379","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"E0","rules":[{"t":"set","p":"Automatic_Restart.Attempts.Current_Attempt","pt":"flow","to":"0","tot":"num"},{"t":"set","p":"topic","pt":"msg","to":"RA_OFF","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":750,"y":2302,"wires":[["8276f23c.bfc3f"]]},{"id":"c0449741.019748","type":"function","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Reset","func":"if(msg.payload === false){\n    msg.topic = \"reset\";  \n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":580,"y":2122,"wires":[["c0305bdc.676a28"]]},{"id":"ac728c7b.ad488","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Fuente: Re arranque","rules":[{"t":"set","p":"Source_for_events.Start","pt":"global","to":"3","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":640,"y":2620,"wires":[["3c3c201f.7b4db"]]},{"id":"aafdc29a.6cbc","type":"ui_toast","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"Permitir","cancel":"Cancelar","raw":false,"topic":"","name":"","x":1130,"y":2302,"wires":[["66285a83.0c7794"]]},{"id":"14170dd0.bdfb02","type":"function","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Start_Stop","func":"var Start_Stop = global.get(\"AR_Flag\");\n\nif(Start_Stop){\n    node.status({fill:\"green\",shape:\"dot\",text:\"Started\"});\n    return msg;\n}\nelse{\n    node.status({fill:\"yellow\",shape:\"dot\",text:\"Stoped\"});\n    return;\n}\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":340,"y":2190,"wires":[["6db9c12b.c8705"]]},{"id":"66285a83.0c7794","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Cancelar","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Cancelar","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1140,"y":2342,"wires":[["cf38473a.357f48"]]},{"id":"cf38473a.357f48","type":"change","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"reset","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1350,"y":2262,"wires":[["c0305bdc.676a28"]]},{"id":"46402130.f1178","type":"complete","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","scope":["32c8b0ee.45f27"],"uncaught":false,"x":930,"y":2262,"wires":[["98d021b5.4ab52"]]},{"id":"98d021b5.4ab52","type":"function","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Alerta Re-Arranque","func":"msg.topic = \"Alerta de arranque automático\";\nmsg.payload = \"ALERTA! El equipo arrancará automáticamente en \"+ msg.delay/1000+\" s\";\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1110,"y":2262,"wires":[["aafdc29a.6cbc"]]},{"id":"c5765955.018718","type":"comment","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Re Arranque Automático","info":"","x":190,"y":1742,"wires":[]},{"id":"497412a1.c5deec","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 1 [seg]","tooltip":"","group":"78b8f22f.a47d4c","order":1,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":550,"y":1802,"wires":[["ea37e9ba.aa7508"]]},{"id":"5df27476.8a476c","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 2 [seg]","tooltip":"","group":"78b8f22f.a47d4c","order":2,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":550,"y":1842,"wires":[["52a8c629.843998"]]},{"id":"bf9f3756.731868","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 4 [seg]","tooltip":"","group":"78b8f22f.a47d4c","order":4,"width":0,"height":0,"passthru":true,"mode":"number","delay":"400","topic":"","x":550,"y":1922,"wires":[["a56dfe8e.9d817"]]},{"id":"4e9cdd5a.9541e4","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 3 [seg]","tooltip":"","group":"78b8f22f.a47d4c","order":3,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":550,"y":1882,"wires":[["b0e43e11.45b77"]]},{"id":"874c5aed.184488","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 1 [min]","tooltip":"","group":"edf097a9.5fb028","order":1,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":2230,"y":1812,"wires":[["97729306.5f405"]]},{"id":"cb991004.c84de","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 2 [min]","tooltip":"","group":"edf097a9.5fb028","order":2,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":2230,"y":1852,"wires":[["d8da080.181c0f8"]]},{"id":"9b89d9af.1de058","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 3 [min]","tooltip":"","group":"edf097a9.5fb028","order":3,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":2230,"y":1892,"wires":[["8be14622.b08ef8"]]},{"id":"acf47dfa.1c447","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Intento No. 4 [min]","tooltip":"","group":"edf097a9.5fb028","order":4,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":2230,"y":1932,"wires":[["b91731c.f01b2d"]]},{"id":"ea37e9ba.aa7508","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Accel1","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":820,"y":1802,"wires":[[]]},{"id":"52a8c629.843998","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Accel2","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":820,"y":1842,"wires":[[]]},{"id":"b0e43e11.45b77","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Accel3","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":820,"y":1882,"wires":[[]]},{"id":"a56dfe8e.9d817","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Accel4","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":820,"y":1922,"wires":[[]]},{"id":"97729306.5f405","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Restart.Time1","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2500,"y":1812,"wires":[[]]},{"id":"d8da080.181c0f8","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Restart.Time2","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2500,"y":1852,"wires":[[]]},{"id":"8be14622.b08ef8","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Restart.Time3","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2500,"y":1892,"wires":[[]]},{"id":"b91731c.f01b2d","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Restart.Time4","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2500,"y":1932,"wires":[[]]},{"id":"685eb5d0.f522ec","type":"ui_text_input","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Intentos","label":"Max. Intentos","tooltip":"","group":"e72670e4.f5998","order":1,"width":0,"height":0,"passthru":true,"mode":"number","delay":"100","topic":"","x":580,"y":1762,"wires":[["2c2a7aa0.9ef0d6"]]},{"id":"2c2a7aa0.9ef0d6","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"Automatic_Restart.Attempts.Max","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":820,"y":1762,"wires":[[]]},{"id":"28d953db.54529c","type":"ui_switch","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"","tooltip":"","group":"20076456.83052c","order":2,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":1470,"y":1802,"wires":[["4e0a3fc7.922b2"]]},{"id":"45809fd1.8506","type":"ui_switch","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"","tooltip":"","group":"20076456.83052c","order":3,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":1470,"y":1852,"wires":[["20949174.cb72ee"]]},{"id":"7a12922f.1cbe9c","type":"ui_switch","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"","tooltip":"","group":"20076456.83052c","order":4,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":1470,"y":1902,"wires":[["ab740524.1ae268"]]},{"id":"d768e1d2.1e7f1","type":"ui_switch","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"","tooltip":"","group":"20076456.83052c","order":5,"width":"1","height":"1","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":1470,"y":1952,"wires":[["f486135b.0c2e3"]]},{"id":"4e0a3fc7.922b2","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable_Accel_1","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Enable_Accel1","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1630,"y":1802,"wires":[[]]},{"id":"20949174.cb72ee","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable_Accel_2","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Enable_Accel2","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1630,"y":1852,"wires":[[]]},{"id":"ab740524.1ae268","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable_Accel_3","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Enable_Accel3","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1630,"y":1902,"wires":[[]]},{"id":"f486135b.0c2e3","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable_Accel_4","rules":[{"t":"set","p":"Automatic_Restart.Ramps.Enable_Accel4","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1630,"y":1952,"wires":[[]]},{"id":"b2b71204.5d357","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Accel1","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Accel1","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":1802,"wires":[["497412a1.c5deec"]]},{"id":"891ddd2d.407f3","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Accel2","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Accel2","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":1842,"wires":[["5df27476.8a476c"]]},{"id":"1e43264c.b5a5fa","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Accel3","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Accel3","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":1882,"wires":[["4e9cdd5a.9541e4"]]},{"id":"61109ded.3b49a4","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Accel4","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Accel4","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":1922,"wires":[["bf9f3756.731868"]]},{"id":"a877cbae.a027a8","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable Accel1","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Enable_Accel1","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1310,"y":1802,"wires":[["28d953db.54529c"]]},{"id":"39c71fe2.06935","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable Accel2","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Enable_Accel2","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1310,"y":1852,"wires":[["45809fd1.8506"]]},{"id":"449e7bab.192fe4","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable Accel3","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Enable_Accel3","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1310,"y":1902,"wires":[["7a12922f.1cbe9c"]]},{"id":"6ae46230.0f8d4c","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Enable Accel4","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Ramps.Enable_Accel4","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1310,"y":1952,"wires":[["d768e1d2.1e7f1"]]},{"id":"fbbc75ab.913998","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Restart Time 1","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Restart.Time1","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2040,"y":1812,"wires":[["874c5aed.184488"]]},{"id":"6e4597fe.cd4c38","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Restart Time 2","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Restart.Time2","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2040,"y":1852,"wires":[["cb991004.c84de"]]},{"id":"1da40511.9db73b","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Restart Time 3","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Restart.Time3","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2040,"y":1892,"wires":[["9b89d9af.1de058"]]},{"id":"2cde88bf.5168b8","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Restart Time 4","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Restart.Time4","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":2040,"y":1932,"wires":[["acf47dfa.1c447"]]},{"id":"be37bc8e.b3c0e","type":"link out","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Automatic Restart Enable Out","links":["55b87356.a4664c"],"x":1745,"y":1789,"wires":[]},{"id":"dff7a91d.077a48","type":"ui_button","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","group":"e72670e4.f5998","order":3,"width":0,"height":0,"passthru":false,"label":"Limpiar intentos","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":810,"y":1962,"wires":[["49e64ca4.8b1944"]]},{"id":"49e64ca4.8b1944","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Clear","rules":[{"t":"set","p":"Automatic_Restart.Attempts.Current_Attempt","pt":"flow","to":"0","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":960,"y":1962,"wires":[["c1723a65.a620c8"]]},{"id":"a4e7e30d.3de15","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Intentos","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Attempts.Max","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":1762,"wires":[["685eb5d0.f522ec"]]},{"id":"f213a859.b29578","type":"ui_text","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","group":"e72670e4.f5998","order":2,"width":0,"height":0,"name":"Mostrar Intento actual","label":"","format":"Intento actual: {{msg.payload}}","layout":"col-center","x":620,"y":1962,"wires":[]},{"id":"c1723a65.a620c8","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Cargar intentos","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Attempts.Current_Attempt","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":420,"y":1962,"wires":[["f213a859.b29578"]]},{"id":"f7cadbb7.6024f8","type":"ui_switch","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","label":"Habilitar arranque automático","tooltip":"","group":"cf893b29.8b0a68","order":1,"width":"0","height":"0","passthru":true,"decouple":"false","topic":"","style":"","onvalue":"true","onvalueType":"bool","onicon":"","oncolor":"","offvalue":"false","offvalueType":"bool","officon":"","offcolor":"","x":1550,"y":1752,"wires":[["be37bc8e.b3c0e","46118838.4c1a28"]]},{"id":"462b05a4.8eaf6c","type":"change","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Automatic_Restart.Enable","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1310,"y":1752,"wires":[["f7cadbb7.6024f8"]]},{"id":"46118838.4c1a28","type":"function","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Color","func":"if(msg.payload){\n    msg.payload = \"green\";\n    node.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n}\nelse{\n    msg.payload = \"grey\";\n    node.status({fill:\"grey\",shape:\"dot\",text:msg.payload});\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1810,"y":1750,"wires":[["6e2ca5fe.49ebfc"]]},{"id":"ca41ebf5.6cdf28","type":"link in","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Re Arranque Automático","links":["ad87cee4.7dbb5"],"x":245,"y":1862,"wires":[["a4e7e30d.3de15","b2b71204.5d357","891ddd2d.407f3","1e43264c.b5a5fa","61109ded.3b49a4","c1723a65.a620c8"]]},{"id":"8ef5c8d6.524028","type":"link in","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Re Arranque Automático","links":["ad87cee4.7dbb5"],"x":1135,"y":1852,"wires":[["462b05a4.8eaf6c","a877cbae.a027a8","39c71fe2.06935","449e7bab.192fe4","6ae46230.0f8d4c"]]},{"id":"b8c12e8b.715b2","type":"link in","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","name":"Re Arranque Automático","links":["ad87cee4.7dbb5"],"x":1885,"y":1872,"wires":[["fbbc75ab.913998","6e4597fe.cd4c38","1da40511.9db73b","2cde88bf.5168b8"]]},{"id":"ee2f7708.642508","type":"subflow:1ae6c379.02ea3d","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Accel Time","env":[{"name":"Parameter","value":"535","type":"num"}],"x":1060,"y":2620,"wires":[["24b7cec5.441a12"]]},{"id":"c0a7cbde.806148","type":"link out","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reset","links":["203c8b78.5472b4"],"x":2015,"y":700,"wires":[]},{"id":"b3d1cf2a.f818c","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Arranque","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"Arranque","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1150,"y":2560,"wires":[["17a116b7.129529"]]},{"id":"13163876.95eea8","type":"switch","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Reset","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"Reset","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1140,"y":2480,"wires":[["34c4f209.65d5fe"]]},{"id":"203c8b78.5472b4","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","links":["c0a7cbde.806148"],"x":1055,"y":2480,"wires":[["13163876.95eea8"]]},{"id":"b7da3a44.60ff68","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Re Arranque Automático","links":["ad87cee4.7dbb5"],"x":95,"y":2190,"wires":[["f1031a6d.683328"]]},{"id":"6e5aa94d.e5afd8","type":"inject","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":360,"y":2240,"wires":[["6db9c12b.c8705"]]},{"id":"5358ecac.f54924","type":"function","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"Color","func":"if(msg.payload){\n    msg.payload = \"green\";\n    node.status({fill:\"green\",shape:\"dot\",text:msg.payload});\n}\nelse{\n    msg.payload = \"grey\";\n    node.status({fill:\"grey\",shape:\"dot\",text:msg.payload});\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1050,"y":630,"wires":[["c71dcc99.95d37"]]},{"id":"c71dcc99.95d37","type":"ui_text","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","group":"45237b74.b00cc4","order":2,"width":0,"height":0,"name":"Indicador arranque escalonado","label":"<font color= {{msg.payload}}><font size=3><font = bold>Arranque","format":"<font color= {{msg.payload}}><font size=3>Escalonado","layout":"col-center","x":1250,"y":630,"wires":[]},{"id":"316f57da.0f2fc8","type":"exec","z":"ef673f81.6ec95","g":"a163450f.bc4438","command":"sudo systemctl start kiosk.service","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":1000,"y":390,"wires":[[],[],[]]},{"id":"3002d943.5f48c6","type":"comment","z":"ef673f81.6ec95","g":"a163450f.bc4438","name":"Iniciar el servicio kiosk desde Node-Red","info":"","x":700,"y":340,"wires":[]},{"id":"f4208b50.a8abc8","type":"link in","z":"ef673f81.6ec95","g":"a163450f.bc4438","name":"Lanzar Kiosk","links":["ad87cee4.7dbb5"],"x":685,"y":390,"wires":[["5f07f1b.ac4631"]]},{"id":"5f07f1b.ac4631","type":"delay","z":"ef673f81.6ec95","g":"a163450f.bc4438","name":"","pauseType":"delay","timeout":"20","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":780,"y":390,"wires":[["316f57da.0f2fc8"]]},{"id":"4d5c72d.3ef098c","type":"trigger","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"Esperar Confirmación","op1":"1","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"overrideDelay":false,"units":"s","reset":"","bytopic":"all","topic":"topic","outputs":1,"x":970,"y":350,"wires":[["1ab4ef0d.3e8111"]]},{"id":"2edc6015.2c551","type":"delay","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","pauseType":"delay","timeout":"2.5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1310,"y":300,"wires":[["1ab4ef0d.3e8111","2623f9cb.362ad6"]]},{"id":"2623f9cb.362ad6","type":"debug","z":"5f404c88.fa75a4","g":"7b165c8f.b14834","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1360,"y":390,"wires":[]},{"id":"a25809c.5d92ff8","type":"debug","z":"d35c32b9.6419b","g":"b509ce91.c5418","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1080,"y":1450,"wires":[]},{"id":"6e2ca5fe.49ebfc","type":"ui_text","z":"3df4c8d9.0bdc38","g":"7aad629d.de652c","group":"45237b74.b00cc4","order":4,"width":0,"height":0,"name":"Indicador Arranque Automático","label":"<font color= {{msg.payload}}><font size=3><font = bold>Arranque","format":"<font color= {{msg.payload}}><font size=3>Automático","layout":"col-center","x":2010,"y":1750,"wires":[]},{"id":"2813ded5.10a312","type":"modbus-flex-getter","z":"e86f0ca4.7feb5","g":"15ca143a.56aa5c","name":"Leer Cubloc RS-232","showStatusActivities":false,"showErrors":true,"logIOActivities":false,"server":"f630cb55.8d18e8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1940,"y":1620,"wires":[[],["eb6058e.d5d31a8"]]},{"id":"a95021da.6a8c1","type":"function","z":"e86f0ca4.7feb5","g":"15ca143a.56aa5c","name":"Entradas Digitales","func":"msg.topic = 'Entradas Digitales';\nmsg.payload = { \n    value: msg.payload, \n    'fc': 2, \n    'unitid': 1, \n    'address': 8, \n    'quantity':20   \n} \nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1700,"y":1680,"wires":[["2813ded5.10a312"]]},{"id":"e733e0b4.8726a","type":"function","z":"e86f0ca4.7feb5","g":"15ca143a.56aa5c","name":"Salidas Digitales","func":"msg.topic = 'Salidas Digitales';\nmsg.payload = { \n    value: msg.payload, \n    'fc': 2, \n    'unitid': 1, \n    'address': 32, \n    'quantity':12   \n} \nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1700,"y":1720,"wires":[["2813ded5.10a312"]]},{"id":"41b78365.d9c2dc","type":"inject","z":"e86f0ca4.7feb5","g":"15ca143a.56aa5c","name":"","props":[{"p":"payload"}],"repeat":"2","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1460,"y":1620,"wires":[["b2d57d3c.2471d"]]},{"id":"eb6058e.d5d31a8","type":"function","z":"e86f0ca4.7feb5","g":"15ca143a.56aa5c","name":"Interpretar lectura CUBLOC","func":"if(msg.topic == 'Salidas Digitales'){\n    msg.payload ={\n        \"32\" : msg.payload.data[0],\n        \"33\" : msg.payload.data[1],\n        \"34\" : msg.payload.data[2],\n        \"35\" : msg.payload.data[3],\n        \"36\" : msg.payload.data[4],\n        \"37\" : msg.payload.data[5],\n        \"38\" : msg.payload.data[6],\n        \"39\" : msg.payload.data[7],\n        \"40\" : msg.payload.data[8],\n        \"41\" : msg.payload.data[9],\n        \"42\" : msg.payload.data[10],\n        \"43\" : msg.payload.data[11]\n    }\n    global.set('IO.DO', msg.payload, 'memoryOnly');\n}\nelse if(msg.topic == 'Entradas Digitales'){\n    msg.payload = {\n        \"8\"  : msg.payload.data[0],\n        \"9\"  : msg.payload.data[1],\n        \"10\" : msg.payload.data[2],\n        \"11\" : msg.payload.data[3],\n        \"12\" : msg.payload.data[4],\n        \"13\" : msg.payload.data[5],\n        \"14\" : msg.payload.data[6],\n        \"15\" : msg.payload.data[7],\n        \"16\" : msg.payload.data[8],\n        \"17\" : msg.payload.data[9],\n        \"18\" : msg.payload.data[10],\n        \"19\" : msg.payload.data[11],\n        \"20\" : msg.payload.data[12],\n        \"21\" : msg.payload.data[13],\n        \"22\" : msg.payload.data[14],\n        \"23\" : msg.payload.data[15],\n        \"24\" : msg.payload.data[16],\n        \"25\" : msg.payload.data[17],\n        \"26\" : msg.payload.data[18],\n        \"27\" : msg.payload.data[19]\n    }\n    global.set('IO.DI', msg.payload, 'memoryOnly');\n}\nelse if(msg.topic == \"Entradas Analogicas\"){\n    msg.payload ={\n        \"0\" : msg.payload.data[0],\n        \"1\" : msg.payload.data[1],\n        \"2\" : msg.payload.data[2],\n        \"3\" : msg.payload.data[3],\n        \"4\" : msg.payload.data[4],\n        \"5\" : msg.payload.data[5],\n        \"6\" : msg.payload.data[6],\n        \"7\" : msg.payload.data[7]\n    }\n    global.set('IO.AI', msg.payload, 'memoryOnly');\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2180,"y":1620,"wires":[["39217f0f.71278"]]},{"id":"c9b9512f.10fa","type":"function","z":"51296ca5.0c0cb4","name":"DI","func":"var DI      = env.get(\"Channel\");\nvar Req     = 'IO.DI.'+DI;\nmsg.payload = global.get(Req,'memoryOnly');\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":240,"y":70,"wires":[[]]},{"id":"ba40b293.69fa9","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 19","env":[{"name":"Channel","value":"19","type":"num"}],"x":970,"y":1690,"wires":[["eeee6a7d.5b1c18"]]},{"id":"eeee6a7d.5b1c18","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal19","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal19","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1130,"y":1690,"wires":[["d5af92d1.30c4d"]]},{"id":"c19731de.9f7ce","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 20","env":[{"name":"Channel","value":"20","type":"num"}],"x":170,"y":1750,"wires":[["b4f9d47a.daf3d8"]]},{"id":"b4f9d47a.daf3d8","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal20","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal20","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":1750,"wires":[["b8115e69.2fa69"]]},{"id":"123256cf.a6e189","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 21","env":[{"name":"Channel","value":"21","type":"num"}],"x":170,"y":1800,"wires":[["1ea25171.b45eef"]]},{"id":"1ea25171.b45eef","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal21","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal21","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":1800,"wires":[["b8115e69.2fa69"]]},{"id":"13a2af85.2e896","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 22","env":[{"name":"Channel","value":"22","type":"num"}],"x":170,"y":1850,"wires":[["a8055038.008e3"]]},{"id":"a8055038.008e3","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal22","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal22","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":1850,"wires":[["b8115e69.2fa69"]]},{"id":"3effc50b.71ceba","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 23","env":[{"name":"Channel","value":"23","type":"num"}],"x":170,"y":1900,"wires":[["58071b9e.a38484"]]},{"id":"58071b9e.a38484","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal23","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal23","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":330,"y":1900,"wires":[["b8115e69.2fa69"]]},{"id":"c06df558.df5ee8","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 24","env":[{"name":"Channel","value":"24","type":"num"}],"x":570,"y":1750,"wires":[["4dc9efde.bc6cb"]]},{"id":"4573a9d3.6416f8","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 25","env":[{"name":"Channel","value":"25","type":"num"}],"x":570,"y":1800,"wires":[["be019981.2941f8"]]},{"id":"fd80d16.7c4df3","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 26","env":[{"name":"Channel","value":"26","type":"num"}],"x":570,"y":1850,"wires":[["42dfe362.ecf9fc"]]},{"id":"584af226.6a9c6c","type":"subflow:51296ca5.0c0cb4","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"Canal 27","env":[{"name":"Channel","value":"27","type":"num"}],"x":570,"y":1900,"wires":[["b62e9296.2afd8"]]},{"id":"4dc9efde.bc6cb","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal24","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal16","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":1750,"wires":[["2b33cbc0.5a4c64"]]},{"id":"be019981.2941f8","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal25","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal25","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":1800,"wires":[["2b33cbc0.5a4c64"]]},{"id":"42dfe362.ecf9fc","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal26","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal26","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":1850,"wires":[["2b33cbc0.5a4c64"]]},{"id":"b62e9296.2afd8","type":"change","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Canal27","tot":"str"},{"t":"set","p":"Config","pt":"msg","to":"ES.ED.Canal27","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":1900,"wires":[["2b33cbc0.5a4c64"]]},{"id":"2b33cbc0.5a4c64","type":"link out","z":"e86f0ca4.7feb5","g":"c05026cc.2a6048","name":"DI5","links":["59cc6269.8b63dc"],"x":885,"y":1830,"wires":[]},{"id":"f682cea0.507b9","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal19","rules":[{"t":"set","p":"ES.ED.Canal19.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal19.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":1090,"wires":[[]]},{"id":"dba1ea5a.227608","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal20","rules":[{"t":"set","p":"ES.ED.Canal20.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal20.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":1130,"wires":[[]]},{"id":"bf79e240.5ab82","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal21","rules":[{"t":"set","p":"ES.ED.Canal21.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal21.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":1170,"wires":[[]]},{"id":"c971dc53.ca862","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal22","rules":[{"t":"set","p":"ES.ED.Canal22.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal23.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":1210,"wires":[[]]},{"id":"92923f3a.deb0e","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal23","rules":[{"t":"set","p":"ES.ED.Canal23.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal23.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":1250,"wires":[[]]},{"id":"dabf45d6.c9a6b8","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal24","rules":[{"t":"set","p":"ES.ED.Canal24.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal24.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":1290,"wires":[[]]},{"id":"1b8abdf6.3dcb22","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal25","rules":[{"t":"set","p":"ES.ED.Canal25.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal25.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":1330,"wires":[[]]},{"id":"adc1722f.13e2","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal26","rules":[{"t":"set","p":"ES.ED.Canal26.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal26.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":1370,"wires":[[]]},{"id":"ba03cbde.df6f78","type":"change","z":"e86f0ca4.7feb5","g":"62757ffc.dca08","name":"Canal27","rules":[{"t":"set","p":"ES.ED.Canal27.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.ED.Canal27.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1240,"y":1410,"wires":[[]]},{"id":"2cf175fc.6aae8a","type":"inject","z":"5ef5b1ce.d3899","g":"c9848ab6.981718","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":370,"y":120,"wires":[["4feb0a11.ed3ed4"]]},{"id":"b2d57d3c.2471d","type":"function","z":"e86f0ca4.7feb5","g":"15ca143a.56aa5c","name":"Entradas Analógicas","func":"msg.topic = 'Entradas Analogicas';\nmsg.payload = { \n    value: msg.payload, \n    'fc': 4, \n    'unitid': 1, \n    'address': 10, \n    'quantity':8   \n} \nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1680,"y":1620,"wires":[["2813ded5.10a312","4a10466c.0f815"]]},{"id":"3d932183.a9966e","type":"function","z":"4973034f.ff5fac","name":"AI","func":"var AI      = env.get(\"Channel\");\nvar Req     = 'IO.AI.'+AI;\nmsg.payload = global.get(Req,'memoryOnly');\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":230,"y":30,"wires":[[]]},{"id":"cde14508.520038","type":"inject","z":"4973034f.ff5fac","name":"500 ms","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"Channel","payloadType":"env","x":100,"y":30,"wires":[["3d932183.a9966e"]]},{"id":"1252dc55.783c04","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN4","env":[{"name":"Channel","value":"4","type":"num"}],"x":1460,"y":1350,"wires":[["a65ddf0c.e44da"]]},{"id":"7c61da60.31add4","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN5","env":[{"name":"Channel","value":"5","type":"num"}],"x":1460,"y":1400,"wires":[["f4655786.614248"]]},{"id":"462f214a.e5fd","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN6","env":[{"name":"Channel","value":"6","type":"num"}],"x":1460,"y":1450,"wires":[["8a8d5c74.6c919"]]},{"id":"fa18228c.8181c","type":"subflow:4973034f.ff5fac","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN7","env":[{"name":"Channel","value":"7","type":"num"}],"x":1460,"y":1500,"wires":[["3c9fecb8.51c404"]]},{"id":"a65ddf0c.e44da","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN4","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN4","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN4.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1580,"y":1350,"wires":[["835e4ff1.50739"]]},{"id":"f4655786.614248","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN5","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN5","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN5.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1580,"y":1400,"wires":[["29f2664c.10cf1a"]]},{"id":"8a8d5c74.6c919","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN6","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN6","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN6.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1580,"y":1450,"wires":[["511841f8.1761e"]]},{"id":"3c9fecb8.51c404","type":"change","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"AN7","rules":[{"t":"set","p":"topic","pt":"msg","to":"AN7","tot":"str"},{"t":"set","p":"function","pt":"msg","to":"ES.EA.AN7.Funcion","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1580,"y":1500,"wires":[["c1ca7972.7efad8"]]},{"id":"afd9656e.c67a18","type":"debug","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1980,"y":1150,"wires":[]},{"id":"e3fc54b9.c1b108","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN0","rules":[{"t":"set","p":"ES.EA.AN0.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN0.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN0.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2590,"y":740,"wires":[[]]},{"id":"a2be0fbd.31585","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN5","rules":[{"t":"set","p":"ES.EA.AN5.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN5.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN5.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2590,"y":940,"wires":[[]]},{"id":"4a02b457.a1fecc","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN6","rules":[{"t":"set","p":"ES.EA.AN6.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN6.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN6.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2590,"y":980,"wires":[[]]},{"id":"ffda9256.dc79c","type":"change","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"AN7","rules":[{"t":"set","p":"ES.EA.AN7.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.EA.AN7.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.EA.AN7.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2590,"y":1020,"wires":[[]]},{"id":"924f3cdb.96bbe","type":"debug","z":"e86f0ca4.7feb5","g":"2d061227.66d7ce","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":2590,"y":700,"wires":[]},{"id":"d1695de0.41452","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear [0,5] señal eléctrica.\nvar a = [0,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    // Asignar payload\n    msg.payload = parseFloat(t.toFixed(3));\n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:b});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1750,"y":1200,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"f406d5d7.37bf18","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear [0,5] señal eléctrica.\nvar a = [0,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    // Asignar payload\n    msg.payload = parseFloat(t.toFixed(3));\n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:b});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1750,"y":1250,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"8f314f6c.0c944","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear [0,5] señal eléctrica.\nvar a = [0,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    // Asignar payload\n    msg.payload = parseFloat(t.toFixed(3));\n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:b});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1750,"y":1300,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"835e4ff1.50739","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear [0,5] señal eléctrica.\nvar a = [0,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    // Asignar payload\n    msg.payload = parseFloat(t.toFixed(3));\n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:b});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1750,"y":1350,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"29f2664c.10cf1a","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear [0,5] señal eléctrica.\nvar a = [0,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    // Asignar payload\n    msg.payload = parseFloat(t.toFixed(3));\n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:b});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1750,"y":1400,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"511841f8.1761e","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear [0,5] señal eléctrica.\nvar a = [0,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    // Asignar payload\n    msg.payload = parseFloat(t.toFixed(3));\n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:b});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1750,"y":1450,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"c1ca7972.7efad8","type":"function","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Normalizar/Escalizar","func":"var EA = flow.get('ES').EA || null;\nvar canal = msg.topic;\nvar b = null;\nvar min = null;\nvar max = null;\n\nif(typeof EA[canal] !== 'undefined'){\n    if(typeof EA[canal].Rango_Min !== 'undefined' && EA[canal].Rango_Min !== null){\n        min = parseFloat(EA[canal].Rango_Min);\n    }\n    if(typeof EA[canal].Rango_Max !== \"undefined\" && EA[canal].Rango_Max !== null){\n        max = parseFloat(EA[canal].Rango_Max);\n    }\n    if(min !== null && max !== null){\n        b = [min,max];\n    } \n}\n\n// Valor a mapear\n//var value = Object.values(msg.payload)[0];\nvar value = msg.payload\n// Rango del valor a mapear [0,5] señal eléctrica.\nvar a = [0,1023];\n\n// Mapeo\nif(b !== null ){\n    var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n    // Saturación\n    if(t > b[1]){    t = b[1];}\n    else if(t < b[0]){ t = b[0];}\n    // Asignar payload\n    msg.payload = parseFloat(t.toFixed(3));\n}\nelse{\n    // Asignar payload\n    msg.payload = 0;\n}\n// Estado del nodo\nnode.status({fill:\"green\",shape:\"dot\",text:b});\nreturn msg;\n\n//Fuente: https://rosettacode.org/wiki/Map_range","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1750,"y":1500,"wires":[["afd9656e.c67a18","95efa56e.233d78"]]},{"id":"95efa56e.233d78","type":"switch","z":"e86f0ca4.7feb5","g":"5c3a9c15.3a4554","name":"Ruteo de señales","property":"function","propertyType":"msg","rules":[{"t":"eq","v":"PRESION_INTAKE","vt":"str"},{"t":"eq","v":"PRESION_DISCHARGE","vt":"str"},{"t":"eq","v":"PRESION_CASING","vt":"str"},{"t":"eq","v":"PRESION_CABEZA_THP","vt":"str"},{"t":"eq","v":"TEMPERATURA_CABEZA_THT","vt":"str"},{"t":"eq","v":"TEMPERATURA_INTAKE","vt":"str"},{"t":"eq","v":"TEMPERATURA_DISCHARGE","vt":"str"},{"t":"eq","v":"TEMPERATURA_MOTOR","vt":"str"},{"t":"eq","v":"REFERENCIA_REMOTA","vt":"str"},{"t":"eq","v":"CT_TRANSFORMADOR_ELEVADOR","vt":"str"},{"t":"else"}],"checkall":"true","repair":false,"outputs":11,"x":2020,"y":1320,"wires":[[],[],[],[],[],[],[],[],[],[],[]]},{"id":"2067d6cd.3e46ca","type":"switch","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"True","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":590,"y":1990,"wires":[["fe53aea5.79aaf"]]},{"id":"9a2d670b.656248","type":"switch","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"True","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":590,"y":2040,"wires":[["782235ec.980bfc"]]},{"id":"45b32200.ade75","type":"switch","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"True","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":590,"y":2090,"wires":[["38626d7c.ef07b2"]]},{"id":"4b7a8d2a.7dcd74","type":"rbe","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":470,"y":2090,"wires":[["45b32200.ade75"]]},{"id":"9670bb31.dbb068","type":"rbe","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":470,"y":2040,"wires":[["9a2d670b.656248"]]},{"id":"7a84d54f.a2970c","type":"rbe","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload","x":470,"y":1990,"wires":[["2067d6cd.3e46ca"]]},{"id":"5e0e5966.967498","type":"function","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"Start","func":"msg.payload = flow.get('ActFunctions','memoryOnly');\n\nif(msg.payload != 'undefined' && msg.payload.length > 0){\n    for(var i=0; i< msg.payload.length; i++ ){\n        if(msg.payload[i].Funcion == \"Start\" && (msg.payload[4].Funcion == \"Remoto\" && msg.payload[4].Estado == false)){\n            node.status({fill:\"green\",shape:\"dot\",text:msg.payload[i].Estado});\n            msg.payload = msg.payload[i].Estado;\n            return msg;\n        }\n    }\n}\nelse{\n    node.status({fill:\"grey\",shape:\"dot\",text:\"None\"});\n    return;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":350,"y":1990,"wires":[["7a84d54f.a2970c"]]},{"id":"ce7147d6.294208","type":"function","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"Stop","func":"msg.payload = flow.get('ActFunctions','memoryOnly');\n//var RemotoSelector = flow.get('ActFunctions[4].Estado')||false;\nvar entrada = global.get('IO.DI','memoryOnly')||-1;\ncontext.set(\"entrada\",entrada,'memoryOnly');\n\n\nif(msg.payload != 'undefined' && msg.payload.length > 0){\n    for(var i=0; i< msg.payload.length; i++ ){\n        if(msg.payload[i].Funcion == \"Stop\"){\n            node.status({fill:\"green\",shape:\"dot\",text:msg.payload[i].Estado});\n            msg.payload = msg.payload[i].Estado;\n            return msg;\n        }\n    }\n}\nelse{\n    node.status({fill:\"grey\",shape:\"dot\",text:\"None\"});\n    return;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":350,"y":2040,"wires":[["9670bb31.dbb068"]]},{"id":"5ccfc99a.046e78","type":"function","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"Reset","func":"msg.payload = flow.get('ActFunctions','memoryOnly');\n\nif(msg.payload != 'undefined' && msg.payload.length > 0){\n    for(var i=0; i< msg.payload.length; i++ ){\n        if(msg.payload[i].Funcion == \"Reset\"){\n            node.status({fill:\"green\",shape:\"dot\",text:msg.payload[i].Estado});\n            msg.payload = msg.payload[i].Estado;\n            return msg;\n        }\n    }\n}\nelse{\n    node.status({fill:\"grey\",shape:\"dot\",text:\"None\"});\n    return;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":350,"y":2090,"wires":[["4b7a8d2a.7dcd74"]]},{"id":"55d7f98f.7ca518","type":"inject","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":180,"y":1990,"wires":[["5e0e5966.967498","ce7147d6.294208","5ccfc99a.046e78"]]},{"id":"fe53aea5.79aaf","type":"link out","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"Start_IO","links":["c581c8dc.d013e8"],"x":675,"y":1990,"wires":[]},{"id":"782235ec.980bfc","type":"link out","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"Stop_IO","links":["c581c8dc.d013e8","e0c911fe.aaa9"],"x":675,"y":2040,"wires":[]},{"id":"38626d7c.ef07b2","type":"link out","z":"e86f0ca4.7feb5","g":"5d1065e2.7b952c","name":"Reset_IO","links":["1fdf355.5b5f8cb","c581c8dc.d013e8","e0c911fe.aaa9"],"x":675,"y":2090,"wires":[]},{"id":"8e67a2d0.14549","type":"change","z":"e86f0ca4.7feb5","g":"1b19a252.cfe16e","name":"Canal43","rules":[{"t":"set","p":"ES.SD.Canal43.Tipo","pt":"flow","to":"payload.TipoInstrumento","tot":"msg"},{"t":"set","p":"ES.SD.Canal43.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1230,"y":2730,"wires":[[]]},{"id":"144c878a.5a55c8","type":"inject","z":"e86f0ca4.7feb5","g":"b974d4b3.9e3f78","name":"","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":true,"onceDelay":"20","topic":"","payload":"true","payloadType":"bool","x":1430,"y":2330,"wires":[["f5cf8d1a.deec8","e396b64.3472f48","e1426513.b6ead8"]]},{"id":"d2ef2515.318b48","type":"modbus-flex-write","z":"e86f0ca4.7feb5","g":"b974d4b3.9e3f78","name":"Escribir Cubloc RS-232","showStatusActivities":false,"showErrors":false,"server":"f630cb55.8d18e8","emptyMsgOnFail":false,"keepMsgProperties":false,"x":1860,"y":2380,"wires":[[],["bdb55a97.ef79d8"]]},{"id":"b234b8c9.aaba78","type":"link out","z":"ef673f81.6ec95","g":"3383e29e.9b29fe","name":"Falla de comunicación","links":["18a1edf5.590c02"],"x":1035,"y":210,"wires":[]},{"id":"18a1edf5.590c02","type":"link in","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Falla de comunicación Link In","links":["b234b8c9.aaba78"],"x":3965,"y":470,"wires":[["43a49cf6.37dea4"]]},{"id":"f0e59da1.e1b2e","type":"trigger","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Esperar Confirmación","op1":"1","op2":"0","op1type":"num","op2type":"num","duration":"5","extend":false,"overrideDelay":false,"units":"s","reset":"","bytopic":"all","topic":"topic","outputs":1,"x":1390,"y":610,"wires":[["fea9bef5.a9067"]]},{"id":"236f8473.849bac","type":"debug","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1350,"y":570,"wires":[]},{"id":"4b8f3906.dd4198","type":"delay","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1370,"y":650,"wires":[["fea9bef5.a9067"]]},{"id":"1c025a1f.5a68b6","type":"ui_button","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Forward","group":"759fa4e7.01062c","order":9,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"","bgcolor":"","icon":"fa-repeat","payload":"¿Desea cambiar el sentido de giro a Forward?","payloadType":"str","topic":"Cambio de giro","x":540,"y":820,"wires":[["fe0231d7.12171"]]},{"id":"7ce52484.84a5ec","type":"ui_button","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reverse","group":"759fa4e7.01062c","order":10,"width":1,"height":1,"passthru":false,"label":"","tooltip":"","color":"","bgcolor":"","icon":"fa-undo","payload":"¿Desea cambiar el sentido de giro a Reverse?","payloadType":"str","topic":"Cambio de giro","x":540,"y":860,"wires":[["9881e750.db2aa8"]]},{"id":"fe0231d7.12171","type":"ui_toast","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"Aceptar","cancel":"Cancelar","raw":false,"topic":"","name":"","x":690,"y":820,"wires":[["56429c56.7dd754"]]},{"id":"9881e750.db2aa8","type":"ui_toast","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"Aceptar","cancel":"Cancelar","raw":false,"topic":"","name":"","x":690,"y":860,"wires":[["464e0e1.78c22f"]]},{"id":"56429c56.7dd754","type":"switch","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Aceptar","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Aceptar","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":840,"y":820,"wires":[["4bc9b58e.7b883c"]]},{"id":"464e0e1.78c22f","type":"switch","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Aceptar","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Aceptar","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":840,"y":860,"wires":[["7721aa62.486c74"]]},{"id":"4bc9b58e.7b883c","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Forward","rules":[{"t":"set","p":"payload","pt":"msg","to":"0","tot":"num"},{"t":"set","p":"topic","pt":"msg","to":"Direction","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":980,"y":820,"wires":[["41951c57.8e84c4"]]},{"id":"7721aa62.486c74","type":"change","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Reverse","rules":[{"t":"set","p":"payload","pt":"msg","to":"1","tot":"num"},{"t":"set","p":"topic","pt":"msg","to":"Direction","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":980,"y":860,"wires":[["41951c57.8e84c4"]]},{"id":"37db10ec.6a6f7","type":"delay","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","pauseType":"delay","timeout":"0.5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":620,"y":2480,"wires":[["fdc50122.eca2a"]]},{"id":"9423bfa9.83933","type":"link out","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"AR_Stop","links":["e0c911fe.aaa9"],"x":565,"y":2520,"wires":[]},{"id":"f1031a6d.683328","type":"delay","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"","pauseType":"delay","timeout":"20","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":190,"y":2190,"wires":[["14170dd0.bdfb02"]]},{"id":"eb7c6393.8c838","type":"pccc out","z":"3df4c8d9.0bdc38","endpoint":"bdf717d2.f19ae8","variable":"Speed_Reference","name":"Referencia de velocidad","x":920,"y":2560,"wires":[]},{"id":"5237e183.b1e0e","type":"function","z":"3df4c8d9.0bdc38","name":"Referencia","func":"Ref = global.get(\"Ultima_Referencia\",'file');\nRef = Ref*10000;\nmsg.payload = Ref;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":720,"y":2560,"wires":[["eb7c6393.8c838"]]},{"id":"bc0c7c1c.40245","type":"link in","z":"3df4c8d9.0bdc38","g":"dad84feb.d4773","name":"Actualizar Referencia","links":["12c8fd79.9681e3"],"x":775,"y":2520,"wires":[["5237e183.b1e0e"]]},{"id":"c1b971d5.d569b","type":"switch","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"EntradasDigitales","vt":"str"},{"t":"eq","v":"EntradasAnalogicas","vt":"str"},{"t":"eq","v":"SalidasDigitales","vt":"str"},{"t":"eq","v":"SalidasAnalogicas","vt":"str"}],"checkall":"true","repair":false,"outputs":4,"x":1090,"y":2740,"wires":[["1b4be866.c708e8","b4f36c30.74091"],["ad513f4.2f74fc","b4f36c30.74091"],["503b4883.fb3c68","b4f36c30.74091"],["b4f36c30.74091"]]},{"id":"e803a739.db17f8","type":"ui_template","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","group":"51710525.9fc4ac","name":"Menú ES SWCPRO","order":4,"width":0,"height":0,"format":"<!doctype html>\n<html lang=\"en\">\n  <head>\n    <!-- Required meta tags -->\n    <meta charset=\"utf-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\">\n\n    <!-- Bootstrap CSS -->\n    <link rel=\"stylesheet\" href=\"http://localhost:1880/bootstrap/dist/css/bootstrap.min.css\">\n    \n  </head>\n  <body>\n    <!-- Navigation bar -->\n    <nav>\n      <div class=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n        <a class=\"nav-item nav-link active\" id=\"nav-EntradasDigitales-tab\" data-toggle=\"tab\" href=\"#nav-EntradasDigitales\" role=\"tab\" aria-controls=\"nav-EntradasDigitales\" aria-selected=\"true\" ng-click=\"send({payload:EntradasDigitales()})\">Entradas digitales</a>\n        <a class=\"nav-item nav-link\" id=\"nav-EntradasAnalogicas-tab\" data-toggle=\"tab\" href=\"#nav-EntradasAnalogicas\" role=\"tab\" aria-controls=\"nav-EntradasAnalogicas\" aria-selected=\"false\" ng-click=\"send({payload:EntradasAnalogicas()})\">Entradas analógicas</a>\n        <a class=\"nav-item nav-link\" id=\"nav-SalidasDigitales-tab\" data-toggle=\"tab\" href=\"#nav-SalidasDigitales\" role=\"tab\" aria-controls=\"nav-SalidasDigitales\" aria-selected=\"false\" ng-click=\"send({payload:SalidasDigitales()})\">Salidas digitales</a>\n        <!--<a class=\"nav-item nav-link\" id=\"nav-SalidasAnalogicas-tab\" data-toggle=\"tab\" href=\"#nav-SalidasAnalogicas\" role=\"tab\" aria-controls=\"nav-SalidasAnalogicas\" aria-selected=\"false\" ng-click=\"send({payload:SalidasAnalogicas()})\">Salidas analógicas</a>-->\n      </div>\n    </nav>\n\n    <script>\n        this.scope.EntradasDigitales = function() { return \"EntradasDigitales\"; };\n        this.scope.EntradasAnalogicas = function() { return \"EntradasAnalogicas\"; };\n        this.scope.SalidasDigitales = function() { return \"SalidasDigitales\"; };\n        this.scope.SalidasAnalogicas = function() { return \"SalidasAnalogicas\"; };\n    </script>\n    \n    <!-- Optional JavaScript -->\n    <!-- jQuery first, then Popper.js, then Bootstrap JS -->\n    <script src=\"http://localhost:1880/jquery/jquery.min.js\"></script>\n    <script src=\"http://localhost:1880/popper.js/dist/popper.min.js\"></script>\n    <script src=\"http://localhost:1880/bootstrap/dist/js/bootstrap.min.js\"></script>\n  </body>\n</html>\n","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":930,"y":2740,"wires":[["c1b971d5.d569b"]]},{"id":"1b4be866.c708e8","type":"change","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"Entradas digitales","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Monitoreo_ES_CILA2S_Monitoreo_E.A.\",\t                \"Monitoreo_ES_CILA2S_Monitoreo_S.D.\"],\t       \"show\":[ \"Monitoreo_ES_CILA2S_Monitoreo_E.D.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1340,"y":2680,"wires":[["e6e875a0.3f91d8","53875927.5a9b18"]]},{"id":"ad513f4.2f74fc","type":"change","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"Entradas analógicas","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Monitoreo_ES_CILA2S_Monitoreo_E.D.\",\t                \"Monitoreo_ES_CILA2S_Monitoreo_S.D.\"],\t       \"show\":[ \"Monitoreo_ES_CILA2S_Monitoreo_E.A.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1350,"y":2720,"wires":[["e6e875a0.3f91d8"]]},{"id":"503b4883.fb3c68","type":"change","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"Salidas digitales","rules":[{"t":"set","p":"payload","pt":"msg","to":"{\t   \"group\":{\t       \"hide\":[ \"Monitoreo_ES_CILA2S_Monitoreo_E.D.\",\t                \"Monitoreo_ES_CILA2S_Monitoreo_E.A.\"],\t       \"show\":[ \"Monitoreo_ES_CILA2S_Monitoreo_S.D.\"]\t   }\t}","tot":"jsonata"}],"action":"","property":"","from":"","to":"","reg":false,"x":1330,"y":2760,"wires":[["e6e875a0.3f91d8"]]},{"id":"efd996cd.90e648","type":"switch","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Monitoreo_ES_CILA2S","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1090,"y":2680,"wires":[["1b4be866.c708e8"]]},{"id":"e6e875a0.3f91d8","type":"link out","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"Menú Entradas/Salidas SWCPRO","links":["805762db.d27b7"],"x":1545,"y":2760,"wires":[]},{"id":"476a789d.6fd428","type":"link in","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"Menú Entradas/Salidas SWCPRO","links":["97407954.a004c8"],"x":1005,"y":2680,"wires":[["efd996cd.90e648"]]},{"id":"b4f36c30.74091","type":"link out","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"Selección Monitoreo ES Link Out","links":["87b3cc18.eed9f"],"x":1265,"y":2800,"wires":[]},{"id":"eeb1651a.36a6c8","type":"link in","z":"68deacdf.9a36f4","g":"17c31216.1aa6ce","name":"Consulta IO Link In","links":["8779966a.f672e8"],"x":895,"y":1130,"wires":[["a8a1cb28.4cb2d8"]]},{"id":"e39916f8.4609d8","type":"link in","z":"68deacdf.9a36f4","g":"52cef377.daab5c","name":"Consulta IO Link In","links":["8779966a.f672e8"],"x":145,"y":1220,"wires":[["20bcc378.2c882c"]]},{"id":"43c29f1e.c217f","type":"link in","z":"68deacdf.9a36f4","g":"9560ef4.a49141","name":"Consulta IO Link In","links":["8779966a.f672e8"],"x":145,"y":1130,"wires":[["685e27da.9ce058"]]},{"id":"8779966a.f672e8","type":"link out","z":"68deacdf.9a36f4","g":"f185a628.7c4598","name":"Consulta IO Link Out","links":["43c29f1e.c217f","eeb1651a.36a6c8","e39916f8.4609d8"],"x":1045,"y":1220,"wires":[]},{"id":"d73d6d43.ab8f4","type":"inject","z":"68deacdf.9a36f4","g":"f185a628.7c4598","name":"","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":true,"onceDelay":"0.5","topic":"","payload":"true","payloadType":"bool","x":950,"y":1220,"wires":[["8779966a.f672e8"]]},{"id":"87b3cc18.eed9f","type":"link in","z":"68deacdf.9a36f4","g":"b5305a67.80d008","name":"Selección Monitoreo ES Link In","links":["b4f36c30.74091"],"x":1135,"y":1260,"wires":[["fa4bb7a.8739c48"]]},{"id":"fa4bb7a.8739c48","type":"change","z":"68deacdf.9a36f4","g":"b5305a67.80d008","name":"","rules":[{"t":"set","p":"Monitoreo_ES_Sel","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1300,"y":1260,"wires":[[]]},{"id":"a8a1cb28.4cb2d8","type":"switch","z":"68deacdf.9a36f4","g":"17c31216.1aa6ce","name":"AD","property":"Monitoreo_ES_Sel","propertyType":"flow","rules":[{"t":"eq","v":"EntradasAnalogicas","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":980,"y":1130,"wires":[["953df5ed.5a47e8"]]},{"id":"20bcc378.2c882c","type":"switch","z":"68deacdf.9a36f4","g":"52cef377.daab5c","name":"DO","property":"Monitoreo_ES_Sel","propertyType":"flow","rules":[{"t":"eq","v":"SalidasDigitales","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":1220,"wires":[["fff9ff1f.be459"]]},{"id":"685e27da.9ce058","type":"switch","z":"68deacdf.9a36f4","g":"9560ef4.a49141","name":"DI","property":"Monitoreo_ES_Sel","propertyType":"flow","rules":[{"t":"eq","v":"EntradasDigitales","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":1130,"wires":[["cc4394ab.fc4558"]]},{"id":"53875927.5a9b18","type":"change","z":"5ef5b1ce.d3899","g":"b55b6178.ef377","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"EntradasDigitales","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1560,"y":2680,"wires":[["b4f36c30.74091"]]},{"id":"cb16cea3.9311e","type":"change","z":"e86f0ca4.7feb5","g":"2fc65bf7.d30fb4","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"ES","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":2880,"wires":[["56b9f9c.38c5208"]]},{"id":"56b9f9c.38c5208","type":"link out","z":"e86f0ca4.7feb5","g":"2fc65bf7.d30fb4","name":"Configuración IOs Link Out","links":["a842573a.e6e518"],"x":515,"y":2880,"wires":[]},{"id":"5039e78a.ed1d88","type":"complete","z":"e86f0ca4.7feb5","g":"2fc65bf7.d30fb4","name":"Configuración IOs","scope":["5612c7d7.dfac98","9946d95c.306678","8d5d3cd1.75de5","d3888470.828598","ce1dc649.cc5748","15368445.fbcc8c","c19d1216.bf754","4968d3dd.74a03c","c1725583.cfc348","4526b0f7.fa6a6","f67e70e4.5f30e","bb68e810.a57a38","ce5f1106.c4ff9","85590fb.bc50ef","dbf2523c.156f3","23cf0be1.ad7274","ab7a7e6.0a4ca8","1a41c067.58aff","4b7792b7.b882fc","8e749bbe.f74f28","8e67a2d0.14549"],"uncaught":false,"x":150,"y":2880,"wires":[["cb16cea3.9311e"]]},{"id":"a842573a.e6e518","type":"link in","z":"68deacdf.9a36f4","g":"b5305a67.80d008","name":"Configuración IOs Link In","links":["56b9f9c.38c5208"],"x":1245,"y":1220,"wires":[["476b5c3e.4e4d44"]]},{"id":"476b5c3e.4e4d44","type":"change","z":"68deacdf.9a36f4","g":"b5305a67.80d008","name":"","rules":[{"t":"set","p":"ES","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1350,"y":1220,"wires":[[]]},{"id":"72bc0ef0.eb795","type":"function","z":"68deacdf.9a36f4","g":"9560ef4.a49141","name":"ED","func":"Canal   = flow.get('ES');\nIO      = global.get('IO','memoryOnly');\n\nvar Funciones   = [];\nvar TipoIO      = [];\nvar Values      = [];\n\n// Entradas Digitales\nvar str = \"Canal\"+8;\nvar otro = Object.keys(IO.DI);\n\nfor(var i = 0; i<otro.length; i++){\n    var index= 'Canal'+otro[i];\n    if(typeof Canal.ED[index] != 'undefined'){\n        Funciones.push(Canal.ED[index].Funcion);\n        TipoIO.push(Canal.ED[index].Tipo);\n        Values.push(Canal.ED[index].Tipo == 'NC' ? !IO.DI[otro[i]]:IO.DI[otro[i]]);\n        \n    }\n    else{\n        Funciones.push('Ninguno');\n        TipoIO.push('--');\n        Values.push('--');\n    }\n}\nmsg.payload = {\n    'Canales': otro, \n    'Funciones':Funciones,\n    'Tipo': TipoIO,\n    'Values': Values\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":490,"y":1130,"wires":[["864b03bd.9ce3c"]]},{"id":"43ded433.bb53cc","type":"ui_template","z":"68deacdf.9a36f4","g":"9560ef4.a49141","group":"8966e791.7e5758","name":"","order":1,"width":"0","height":"0","format":"","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":760,"y":1130,"wires":[[]]},{"id":"c4d4160a.bd9958","type":"function","z":"68deacdf.9a36f4","g":"52cef377.daab5c","name":"DO","func":"Canal   = flow.get('ES');\nIO      = global.get('IO','memoryOnly');\n\nvar Funciones   = [];\nvar TipoIO      = [];\nvar Values      = [];\n\n// Entradas Digitales\nvar str = \"Canal\"+8;\nvar otro = Object.keys(IO.DO);\n\nfor(var i = 0; i<otro.length; i++){\n    var index= 'Canal'+otro[i];\n    if(typeof Canal.SD[index] != 'undefined'){\n        Funciones.push(Canal.SD[index].Funcion);\n        TipoIO.push(Canal.SD[index].Tipo);\n        Values.push(IO.DO[otro[i]]);\n        \n    }\n    else{\n        Funciones.push('Ninguno');\n        TipoIO.push('--');\n        Values.push('--');\n    }\n}\nmsg.payload = {\n    'Canales': otro, \n    'Funciones':Funciones,\n    'Tipo': TipoIO,\n    'Values': Values\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":490,"y":1220,"wires":[["b4b08522.2499f8"]]},{"id":"273246a6.a5d34a","type":"ui_template","z":"68deacdf.9a36f4","g":"52cef377.daab5c","group":"bf3ce100.cbf08","name":"","order":1,"width":"0","height":"0","format":"","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":760,"y":1220,"wires":[[]]},{"id":"f894367d.626e58","type":"function","z":"68deacdf.9a36f4","g":"17c31216.1aa6ce","name":"AD","func":"Canal   = flow.get('ES');\nIO      = global.get('IO','memoryOnly');\n\nvar Funciones   = [];\nvar TipoIO      = [];\nvar Values      = [];\n\n// Entradas Digitales\nvar str = \"Canal\"+8;\nvar otro = Object.keys(IO.AI);\n\nfor(var i = 0; i<otro.length; i++){\n    var index= 'AN'+otro[i];\n    if(typeof Canal.EA[index] != 'undefined'){\n        Funciones.push(Canal.EA[index].Funcion);\n        Values.push(Escalizar([Canal.EA[index].Rango_Min,Canal.EA[index].Rango_Max],IO.AI[otro[i]]));\n    }\n    else{\n        Funciones.push('Ninguno');\n        Values.push('--');\n    }\n}\nmsg.payload = {\n    'Canales': otro, \n    'Funciones':Funciones,\n    'Tipo': TipoIO,\n    'Values': Values\n}\n\nfunction Escalizar(b,value){\n    a = [0,1023];\n    // Mapeo\n    if(b !== null && typeof b[0] == 'number' && typeof b[1] == 'number' ){\n        var t = b[0] + ((value - a[0])*(b[1] - b[0])) / (a[1]-a[0])*1.1;\n        // Saturación\n        if(t > b[1]){    \n            t = b[1];\n        }\n        else if(t < b[0]){ \n            t = b[0];\n        }\n        // Asignar payload\n        return parseFloat(t.toFixed(3));\n    }\n    else {\n        // Asignar payload\n        return 0;\n    }\n}\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1240,"y":1130,"wires":[["6db11539.a3447c","270c7aa7.598c26"]]},{"id":"dfd4edc3.552ee","type":"ui_template","z":"68deacdf.9a36f4","g":"17c31216.1aa6ce","group":"4a35385f.d514b8","name":"","order":1,"width":"0","height":"0","format":"","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":1510,"y":1130,"wires":[[]]},{"id":"6db11539.a3447c","type":"template","z":"68deacdf.9a36f4","g":"17c31216.1aa6ce","name":"","field":"template","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!DOCTYPE html>\n<html>\n    <head>\n        <style>\n            table {\n                font-family: arial, sans-serif;\n                border-collapse: collapse;\n                font-size:14px;\n                margin-left: auto;\n                margin-right: auto;\n                margin-top:10px;\n            }\n            tr{\n                widtd:20px;\n            }\n            td,tr,th {\n              border: 2px solid #000000;\n              text-align: center;\n              padding: 4px;\n            }\n            th{\n                color: #fcfeff;\n                background-color: #77797a;\n            }\n        </style>\n    </head>\n        <table class=\"TextBox\">\n            <tr>\n                <th>Canal</th>\n                <th>Función</th>\n                <th>Valor escalizado</th>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.0}}}</td>\n                <td>{{payload.Funciones.0}}</td>\n                <td>{{payload.Values.0}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.1}}}</td>\n                <td>{{payload.Funciones.1}}</td>\n                <td>{{payload.Values.1}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.2}}}</td>\n                <td>{{payload.Funciones.2}}</td>\n                <td>{{payload.Values.2}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.3}}}</td>\n                <td>{{payload.Funciones.3}}</td>\n                <td>{{payload.Values.3}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.4}}}</td>\n                <td>{{payload.Funciones.4}}</td>\n                <td>{{payload.Values.4}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.5}}}</td>\n                <td>{{payload.Funciones.5}}</td>\n                <td>{{payload.Values.5}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.6}}}</td>\n                <td>{{payload.Funciones.6}}</td>\n                <td>{{payload.Values.6}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.7}}}</td>\n                <td>{{payload.Funciones.7}}</td>\n                <td>{{payload.Values.7}}</td>\n            </tr>\n        </table>\n </body>\n\n</html>           \n        ","output":"str","x":1370,"y":1130,"wires":[["dfd4edc3.552ee"]]},{"id":"864b03bd.9ce3c","type":"template","z":"68deacdf.9a36f4","g":"9560ef4.a49141","name":"","field":"template","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!DOCTYPE html>\n<html>\n    <head>\n        <style>\n            table {\n                font-family: arial, sans-serif;\n                border-collapse: collapse;\n                font-size: 14px;\n                margin-left: auto;\n                margin-right: auto;\n                margin-top:10px;\n            }\n            tr{\n                widtd:20px;\n            }\n            td,tr,th {\n              border: 2px solid #000000;\n              text-align: center;\n              padding: 4px;\n            }\n            th{\n                color: #fcfeff;\n                background-color: #77797a;\n            }\n            \n        </style>\n    </head>\n    <table class=\"TextBox\">\n        <tr>\n            <th>Canal</th>\n            <th>Función</th>\n            <th>Tipo</th>\n            <th>Estado</th>\n            <th>   </th>\n            <th>Canal</th>\n            <th>Función</th>\n            <th>Tipo</th>\n            <th>Estado</th>\n        </tr>\n        <tr>\n            <td>{{{payload.Canales.0}}}</td> <!--8-->\n            <td>{{payload.Funciones.0}}</td>\n            <td>{{payload.Tipo.0}}</td>\n            <td>{{payload.Values.0}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.8}}}</td><!--16-->\n            <td>{{payload.Funciones.8}}</td>\n            <td>{{payload.Tipo.8}}</td>\n            <td>{{payload.Values.8}}</td>\n            \n        </tr>\n        <tr>\n            <td>{{{payload.Canales.1}}}</td><!--9-->\n            <td>{{payload.Funciones.1}}</td>\n            <td>{{payload.Tipo.1}}</td>\n            <td>{{payload.Values.1}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.9}}}</td><!--17-->\n            <td>{{payload.Funciones.9}}</td>\n            <td>{{payload.Tipo.9}}</td>\n            <td>{{payload.Values.9}}</td>\n            \n        </tr>\n        <tr>\n            <td>{{{payload.Canales.2}}}</td><!--10-->\n            <td>{{payload.Funciones.2}}</td>\n            <td>{{payload.Tipo.2}}</td>\n            <td>{{payload.Values.2}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.10}}}</td><!--18-->\n            <td>{{payload.Funciones.10}}</td>\n            <td>{{payload.Tipo.10}}</td>\n            <td>{{payload.Values.10}}</td>\n            \n        </tr>\n        <tr>\n            <td>{{{payload.Canales.3}}}</td><!--11-->\n            <td>{{payload.Funciones.3}}</td>\n            <td>{{payload.Tipo.3}}</td>\n            <td>{{payload.Values.3}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.11}}}</td><!--19-->\n            <td>{{payload.Funciones.11}}</td>\n            <td>{{payload.Tipo.11}}</td>\n            <td>{{payload.Values.11}}</td>\n        </tr>\n        <tr>\n            <td>{{{payload.Canales.4}}}</td><!--12-->\n            <td>{{payload.Funciones.4}}</td>\n            <td>{{payload.Tipo.4}}</td>\n            <td>{{payload.Values.4}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.12}}}</td><!--20-->\n            <td>{{payload.Funciones.12}}</td>\n            <td>{{payload.Tipo.12}}</td>\n            <td>{{payload.Values.12}}</td>\n            \n        </tr>\n        <tr>\n            <td>{{{payload.Canales.5}}}</td><!--13-->\n            <td>{{payload.Funciones.5}}</td>\n            <td>{{payload.Tipo.5}}</td>\n            <td>{{payload.Values.5}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.13}}}</td><!--21-->\n            <td>{{payload.Funciones.13}}</td>\n            <td>{{payload.Tipo.13}}</td>\n            <td>{{payload.Values.13}}</td>\n            \n        </tr>\n        <tr>\n            <td>{{{payload.Canales.6}}}</td><!--14-->\n            <td>{{payload.Funciones.6}}</td>\n            <td>{{payload.Tipo.6}}</td>\n            <td>{{payload.Values.6}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.14}}}</td><!--22-->\n            <td>{{payload.Funciones.14}}</td>\n            <td>{{payload.Tipo.14}}</td>\n            <td>{{payload.Values.14}}</td>\n        </tr>\n        <tr>\n            <td>{{{payload.Canales.7}}}</td><!--15-->\n            <td>{{payload.Funciones.7}}</td>\n            <td>{{payload.Tipo.7}}</td>\n            <td>{{payload.Values.7}}</td>\n            \n            <td style=\"background-color: #77797a;\">   </td>\n            \n            <td>{{{payload.Canales.15}}}</td><!--23-->\n            <td>{{payload.Funciones.15}}</td>\n            <td>{{payload.Tipo.15}}</td>\n            <td>{{payload.Values.15}}</td>\n        </tr>\n        \n    </table>\n </body>\n\n</html>           \n        ","output":"str","x":620,"y":1130,"wires":[["43ded433.bb53cc"]]},{"id":"b4b08522.2499f8","type":"template","z":"68deacdf.9a36f4","g":"52cef377.daab5c","name":"","field":"template","fieldType":"msg","format":"handlebars","syntax":"mustache","template":"<!DOCTYPE html>\n<html>\n    <head>\n        <style>\n            table {\n                font-family: arial, sans-serif;\n                border-collapse: collapse;\n                font-size:14px;\n                margin-left: auto;\n                margin-right: auto;\n                margin-top:10px;\n            }\n            tr{\n                widtd:20px;\n            }\n            td,tr,th {\n              border: 2px solid #000000;\n              text-align: center;\n              padding: 4px;\n            }\n            th{\n                color: #fcfeff;\n                background-color: #77797a;\n            }\n        </style>\n    </head>\n        <table class=\"TextBox\">\n            <tr>\n                <th>Canal</th>\n                <th>Función</th>\n                <th>Tipo</th>\n                <th>Estado</th>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.0}}}</td>\n                <td>{{payload.Funciones.0}}</td>\n                <td>{{payload.Tipo.0}}</td>\n                <td>{{payload.Values.0}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.1}}}</td>\n                <td>{{payload.Funciones.1}}</td>\n                <td>{{payload.Tipo.1}}</td>\n                <td>{{payload.Values.1}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.2}}}</td>\n                <td>{{payload.Funciones.2}}</td>\n                <td>{{payload.Tipo.2}}</td>\n                <td>{{payload.Values.2}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.3}}}</td>\n                <td>{{payload.Funciones.3}}</td>\n                <td>{{payload.Tipo.3}}</td>\n                <td>{{payload.Values.3}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.4}}}</td>\n                <td>{{payload.Funciones.4}}</td>\n                <td>{{payload.Tipo.4}}</td>\n                <td>{{payload.Values.4}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.5}}}</td>\n                <td>{{payload.Funciones.5}}</td>\n                <td>{{payload.Tipo.5}}</td>\n                <td>{{payload.Values.5}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.6}}}</td>\n                <td>{{payload.Funciones.6}}</td>\n                <td>{{payload.Tipo.6}}</td>\n                <td>{{payload.Values.6}}</td>\n            </tr>\n            <tr>\n                <td>{{{payload.Canales.7}}}</td>\n                <td>{{payload.Funciones.7}}</td>\n                <td>{{payload.Tipo.7}}</td>\n                <td>{{payload.Values.7}}</td>\n            </tr>\n            \n        </table>\n </body>\n\n</html>           \n        ","output":"str","x":620,"y":1220,"wires":[["273246a6.a5d34a"]]},{"id":"6c99e683.c84c68","type":"debug","z":"5f404c88.fa75a4","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":540,"y":960,"wires":[]},{"id":"97494ae0.a13ca8","type":"link in","z":"5f404c88.fa75a4","name":"","links":["97407954.a004c8"],"x":455,"y":960,"wires":[["6c99e683.c84c68"]]},{"id":"1be701e.c661bfe","type":"change","z":"68deacdf.9a36f4","g":"b5305a67.80d008","name":"","rules":[{"t":"set","p":"Pestaña","pt":"flow","to":"name","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1350,"y":1300,"wires":[[]]},{"id":"4482dc9f.5ee144","type":"link in","z":"68deacdf.9a36f4","g":"b5305a67.80d008","name":"","links":["97407954.a004c8"],"x":1225,"y":1300,"wires":[["1be701e.c661bfe","8207386.0661fc8"]]},{"id":"8207386.0661fc8","type":"debug","z":"68deacdf.9a36f4","g":"b5305a67.80d008","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"name","targetType":"msg","statusVal":"","statusType":"auto","x":1350,"y":1340,"wires":[]},{"id":"fff9ff1f.be459","type":"switch","z":"68deacdf.9a36f4","g":"52cef377.daab5c","name":"Pestaña","property":"Pestaña","propertyType":"flow","rules":[{"t":"eq","v":"Monitoreo_ES_CILA2S","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":360,"y":1220,"wires":[["c4d4160a.bd9958"]]},{"id":"cc4394ab.fc4558","type":"switch","z":"68deacdf.9a36f4","g":"9560ef4.a49141","name":"Pestaña","property":"Pestaña","propertyType":"flow","rules":[{"t":"eq","v":"Monitoreo_ES_CILA2S","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":360,"y":1130,"wires":[["72bc0ef0.eb795"]]},{"id":"953df5ed.5a47e8","type":"switch","z":"68deacdf.9a36f4","g":"17c31216.1aa6ce","name":"Pestaña","property":"Pestaña","propertyType":"flow","rules":[{"t":"eq","v":"Monitoreo_ES_CILA2S","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1110,"y":1130,"wires":[["f894367d.626e58"]]},{"id":"95837cd7.bf6c2","type":"modbus-read","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"SWCPRO","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"1","dataType":"HoldingRegister","adr":"0","quantity":"10","rate":"500","rateUnit":"ms","delayOnStart":false,"startDelayTime":"","server":"a3437404.7bf348","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"x":3160,"y":1220,"wires":[["21fd4ac4.46c936"],[]]},{"id":"2941139c.7c7b0c","type":"switch","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"","property":"payload[2]","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"num"},{"t":"eq","v":"2","vt":"num"},{"t":"eq","v":"4","vt":"num"}],"checkall":"true","repair":false,"outputs":3,"x":3410,"y":1220,"wires":[["6e311205.1a499c"],["eb2a9f36.96637"],["24025e15.4ddaf2"]]},{"id":"a6adbd4d.9a3c4","type":"link out","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Remote Start","links":["c581c8dc.d013e8"],"x":3705,"y":1180,"wires":[]},{"id":"a1197dc9.92f25","type":"link out","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Remote Stop","links":["e0c911fe.aaa9"],"x":3705,"y":1220,"wires":[]},{"id":"24025e15.4ddaf2","type":"link out","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Remote Reset","links":["1fdf355.5b5f8cb"],"x":3505,"y":1260,"wires":[]},{"id":"95e808a1.504948","type":"debug","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":670,"y":480,"wires":[]},{"id":"21fd4ac4.46c936","type":"rbe","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload[2]","x":3290,"y":1220,"wires":[["2941139c.7c7b0c"]]},{"id":"6e311205.1a499c","type":"change","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Arranque Remoto","rules":[{"t":"set","p":"Source_for_events.Start","pt":"global","to":"4","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":3580,"y":1180,"wires":[["a6adbd4d.9a3c4"]]},{"id":"eb2a9f36.96637","type":"change","z":"e86f0ca4.7feb5","g":"70d8d562.df63ac","name":"Parada remota","rules":[{"t":"set","p":"Source_for_events.Stop","pt":"global","to":"2","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":3570,"y":1220,"wires":[["a1197dc9.92f25"]]},{"id":"748b6ce4.924ee4","type":"debug","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"","active":false,"tosidebar":true,"console":true,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":3270,"y":480,"wires":[]},{"id":"bb5a0d77.27396","type":"inject","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"20","payloadType":"num","x":3160,"y":640,"wires":[["8102f7e.140f008"]]},{"id":"56b2f98a.e8c598","type":"change","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"Protections","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.Status","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1350,"y":340,"wires":[[]]},{"id":"eb2d9138.c0a31","type":"change","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"RFlag","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.RFlag","pt":"global","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1450,"y":420,"wires":[[]]},{"id":"5e84b7c.af1d848","type":"switch","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"","property":"payload","propertyType":"msg","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":1330,"y":420,"wires":[["eb2d9138.c0a31"]]},{"id":"5da903f0.67311c","type":"switch","z":"5f404c88.fa75a4","name":"Reset Protec","property":"command","propertyType":"msg","rules":[{"t":"cont","v":"Reset","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1160,"y":780,"wires":[["dc0e9251.31ef4"]]},{"id":"dc0e9251.31ef4","type":"change","z":"5f404c88.fa75a4","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Protections.RFlag","pt":"global","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":1380,"y":780,"wires":[[]]},{"id":"cd467bf8.39af48","type":"change","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"#:(memoryOnly)::Protections.Status","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1360,"y":380,"wires":[["5e84b7c.af1d848"]]},{"id":"5805c268.31f02c","type":"inject","z":"6c7d2db7.37ef34","g":"779bed65.1819b4","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1210,"y":380,"wires":[["cd467bf8.39af48"]]},{"id":"8849a3f7.9bc5c","type":"inject","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Update 2 samples","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":170,"y":1940,"wires":[["d7f76c0e.485b3"]]},{"id":"55ada7e8.48e908","type":"switch","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Trend Generating","property":"#:(memoryOnly)::Staggered_Start.Running","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":590,"y":1940,"wires":[["da1755b1.3969a8"]]},{"id":"da1755b1.3969a8","type":"function","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Data Handle-StaggeredStart","func":"var C2S_Data                = global.get(\"C2S\", \"memoryOnly\") || \"\";\nvar Data_Points             = flow.get(\"Staggered_Start.Data_Points\",\"memoryOnly\") ||[];\nvar Final_Reference         = flow.get(\"Staggered_Start.Final_Reference\",\"memoryOnly\") || 30; \nvar Staggered_Start_Run     = flow.get(\"Staggered_Start.Running\",\"memoryOnly\") || false; \nvar Current_OperativeData   = { \n                                'Time'              :Date.now(), \n                                'Feedback_Speed'    :C2S_Data.Mtr_Vel_Fdbk, \n                                };\n\nif (C2S_Data.Mtr_Vel_Fdbk != Final_Reference)\n    {   \n        Data_Points.unshift({\"x\":Current_OperativeData.Time,\"y\":Current_OperativeData.Feedback_Speed}); \n\n        msg.payload = [Data_Points];\n        //msg.series  = [\"Velocidad Feedbak\"];\n        //msg.label   = \"Arranque Escalonado\";\n    }\nelse {\n        \n      Staggered_Start_Run = false;\n    } \n    \nnode.status({fill:\"green\",shape:\"dot\",text:C2S_Data.Mtr_Vel_Fdbk+''+Final_Reference});\n\nflow.set(\"Staggered_Start.Running\",Staggered_Start_Run,\"memoryOnly\");\nflow.set(\"Staggered_Start.Data_Points\", Data_Points,\"memoryOnly\");\nreturn msg; \n       \n\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":800,"y":1940,"wires":[["87c65176.454a3"]]},{"id":"87c65176.454a3","type":"function","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Chart generation","func":"var chart = \n    [{\n\"series\": msg.series,\n\"data\": msg.payload,\n\"labels\": [\"\"]\n\n}];\nmsg.payload = chart;\n\nreturn msg;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1010,"y":1940,"wires":[["8dc70b63.8db398","55be084e.2ad3b8"]]},{"id":"8dc70b63.8db398","type":"ui_chart","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"","group":"a2cdbb78.31d778","order":7,"width":"12","height":"4","label":"{{msg.label}}","chartType":"line","legend":"false","xformat":"auto","interpolate":"linear","nodata":"No Data","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#0d09dc","#ec5555","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":1150,"y":1860,"wires":[[]]},{"id":"6cb6e6d5.480798","type":"change","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Start-Flag-assignament ","rules":[{"t":"set","p":"#:(memoryOnly)::Staggered_Start.Running","pt":"flow","to":"true","tot":"bool"},{"t":"delete","p":"#:(memoryOnly)::Staggered_Start.Data_Points","pt":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":530,"y":1800,"wires":[[]]},{"id":"d1fecbd.301b138","type":"link in","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Start Pushed - Link In","links":["dda94060.94b98","f87a07cd.22b318"],"x":235,"y":1800,"wires":[["5bacb488.41284c"]]},{"id":"946eb79c.0d04e8","type":"comment","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Trend Staggered Start","info":"","x":170,"y":1750,"wires":[]},{"id":"cea13bfe.739068","type":"link in","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Final Refence Keyboard Change - Link In","links":["e2832ff4.8c486"],"x":235,"y":1840,"wires":[["ed0df9a.c740c08"]]},{"id":"ed0df9a.c740c08","type":"change","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Final Reference from keyboard","rules":[{"t":"set","p":"#:(memoryOnly)::Staggered_Start.Final_Reference","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":420,"y":1840,"wires":[[]]},{"id":"f6342c49.36019","type":"link in","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"","links":["ba5f4e4b.e55a2"],"x":235,"y":1880,"wires":[["a561eba3.47a5f8"]]},{"id":"a561eba3.47a5f8","type":"change","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Final Reference from file","rules":[{"t":"set","p":"#:(memoryOnly)::Staggered_Start.Final_Reference","pt":"flow","to":"payload.Reference_2","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":400,"y":1880,"wires":[[]]},{"id":"d7f76c0e.485b3","type":"switch","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"Staggered Start Activated ? ","property":"A_Escalonado","propertyType":"global","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":380,"y":1940,"wires":[["55ada7e8.48e908"]]},{"id":"f87a07cd.22b318","type":"link out","z":"5f404c88.fa75a4","g":"e503ca5.7ac8738","name":"Start Pushed - Link Out","links":["d1fecbd.301b138"],"x":595,"y":660,"wires":[]},{"id":"a283dc1b.7c48f","type":"link in","z":"3df4c8d9.0bdc38","g":"440775ff.2a92fc","name":"","links":["ad87cee4.7dbb5"],"x":935,"y":800,"wires":[["d7a20d07.4ac76"]]},{"id":"d7a20d07.4ac76","type":"change","z":"3df4c8d9.0bdc38","g":"440775ff.2a92fc","name":"","rules":[{"t":"set","p":"payload.Reference_2","pt":"msg","to":"Staggered_start.Reference_2","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":1100,"y":800,"wires":[["ba5f4e4b.e55a2"]]},{"id":"ba5f4e4b.e55a2","type":"link out","z":"3df4c8d9.0bdc38","g":"440775ff.2a92fc","name":"Staggered Start File - Link Out","links":["f6342c49.36019"],"x":1245,"y":800,"wires":[]},{"id":"5bacb488.41284c","type":"switch","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"Start","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":330,"y":1800,"wires":[["6cb6e6d5.480798"]]},{"id":"55be084e.2ad3b8","type":"debug","z":"d35c32b9.6419b","g":"96c06653.552da8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1170,"y":1960,"wires":[]},{"id":"e2832ff4.8c486","type":"link out","z":"3df4c8d9.0bdc38","g":"84c9494b.d4dbe8","name":"Final reference from Keyboard","links":["cea13bfe.739068"],"x":565,"y":740,"wires":[]},{"id":"bdb55a97.ef79d8","type":"debug","z":"e86f0ca4.7feb5","g":"d22a2793.24a988","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1790,"y":2420,"wires":[]},{"id":"270c7aa7.598c26","type":"debug","z":"68deacdf.9a36f4","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":1240,"y":1040,"wires":[]},{"id":"3c83aebf.54ee92","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"O3","rules":[{"t":"set","p":"ES.SA.AO3.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.SA.AO3.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.SA.AO3.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3210,"y":2460,"wires":[[]]},{"id":"85f12e7a.2e726","type":"change","z":"e86f0ca4.7feb5","g":"38ea9e35.6d66c2","name":"O4","rules":[{"t":"set","p":"ES.SA.AO4.Funcion","pt":"flow","to":"payload.Funcion","tot":"msg"},{"t":"set","p":"ES.SA.AO4.Rango_Min","pt":"flow","to":"payload.Rango_Min","tot":"msg"},{"t":"set","p":"ES.SA.AO4.Rango_Max","pt":"flow","to":"payload.Rango_Max","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3210,"y":2500,"wires":[[]]},{"id":"ac67f4df.445778","type":"debug","z":"e86f0ca4.7feb5","g":"c17de691.f363c8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":3130,"y":2580,"wires":[]},{"id":"6855880.225cc78","type":"pccc out","z":"e86f0ca4.7feb5","g":"5fcf6e49.52a8b","endpoint":"bdf717d2.f19ae8","variable":"AO1","name":"","x":3490,"y":1360,"wires":[]},{"id":"fecbef60.baa39","type":"pccc out","z":"e86f0ca4.7feb5","g":"5fcf6e49.52a8b","endpoint":"bdf717d2.f19ae8","variable":"AO3","name":"","x":3490,"y":1480,"wires":[]},{"id":"6f6405f1.a0975c","type":"pccc out","z":"e86f0ca4.7feb5","g":"5fcf6e49.52a8b","endpoint":"bdf717d2.f19ae8","variable":"AO2","name":"","x":3490,"y":1420,"wires":[]},{"id":"f8658e50.62059","type":"pccc out","z":"e86f0ca4.7feb5","g":"5fcf6e49.52a8b","endpoint":"bdf717d2.f19ae8","variable":"AO4","name":"","x":3490,"y":1540,"wires":[]},{"id":"341dd8ed.248cd8","type":"function","z":"e86f0ca4.7feb5","g":"5fcf6e49.52a8b","name":"AO1","func":"var AO = flow.get('ES.SA.AO1')||null;\nvar C2S = global.get('C2S','memoryOnly')||null;\n\n//Objeto con las funciones del CILA2S\nvar FuncionC2S = {\n    \"Frecuencia de salida C2S\":     C2S != null ? C2S.Output_Frecuency:0,\n    \"Corriente de salida\":          C2S != null ? C2S.Output_Current:0, \n    \"Tensión de salida\":            C2S != null ? C2S.Output_Voltage:0,\n    \"Potencia de salida\":           C2S != null ? C2S.Output_Power:0\n}\nif(typeof AO!= 'undefined' && AO!= null){\n    msg.payload = parseInt(Escalizar([AO.Rango_Min,AO.Rango_Max],FuncionC2S[AO.Funcion])*10000);\n    node.status({fill:\"green\",shape:\"dot\",text:[AO.Rango_Min,AO.Rango_Max]+\" \"+FuncionC2S[AO.Funcion] +\" \"+msg.payload});\n}\nelse{\n    node.status({fill:\"gray\",shape:\"dot\",text:\"--\"});\n    msg.payload = 0;\n\n}\nreturn msg;\n\nfunction Escalizar(a,value){\n    b = [0,100];\n    // Mapeo\n    if(b !== null && typeof a[0] == 'number' && typeof a[1] == 'number' ){\n        var t = b[0] + ((Math.abs(value) - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n        // Saturación\n        if(t > b[1]){    \n            t = b[1];\n        }\n        else if(t < b[0]){ \n            t = b[0];\n        }\n        // Asignar payload\n        return parseInt(t);\n    }\n    else {\n        // Asignar payload\n        return 0;\n    }\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3330,"y":1360,"wires":[["6855880.225cc78"]],"inputLabels":["Activar función"],"outputLabels":["Canal32"]},{"id":"71a84c4e.854104","type":"inject","z":"e86f0ca4.7feb5","d":true,"g":"5fcf6e49.52a8b","name":"","props":[{"p":"payload"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":3150,"y":1360,"wires":[["341dd8ed.248cd8","7300d09e.16c8b","20554d73.230c02","684e6a1e.f61f44"]]},{"id":"7300d09e.16c8b","type":"function","z":"e86f0ca4.7feb5","g":"5fcf6e49.52a8b","name":"AO2","func":"var AO = flow.get('ES.SA.AO2')||null;\nvar C2S = global.get('C2S','memoryOnly')||null;\n\n//Objeto con las funciones del CILA2S\nvar FuncionC2S = {\n    \"Frecuencia de salida C2S\":     C2S != null ? C2S.Output_Frecuency:0,\n    \"Corriente de salida\":          C2S != null ? C2S.Output_Current:0, \n    \"Tensión de salida\":            C2S != null ? C2S.Output_Voltage:0,\n    \"Potencia de salida\":           C2S != null ? C2S.Output_Power:0\n}\nif(typeof AO!= 'undefined' && AO!= null){\n    msg.payload = parseInt(Escalizar([AO.Rango_Min,AO.Rango_Max],FuncionC2S[AO.Funcion])*10000);\n    node.status({fill:\"green\",shape:\"dot\",text:[AO.Rango_Min,AO.Rango_Max]+\" \"+FuncionC2S[AO.Funcion] +\" \"+msg.payload});\n    return msg;\n}\nelse{\n    return;\n}\n\nfunction Escalizar(a,value){\n    b = [0,100];\n    // Mapeo\n    if(b !== null && typeof a[0] == 'number' && typeof a[1] == 'number' ){\n        var t = b[0] + ((Math.abs(value) - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n        // Saturación\n        if(t > b[1]){    \n            t = b[1];\n        }\n        else if(t < b[0]){ \n            t = b[0];\n        }\n        // Asignar payload\n        return parseInt(t);\n    }\n    else {\n        // Asignar payload\n        return 0;\n    }\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3330,"y":1420,"wires":[["6f6405f1.a0975c"]],"inputLabels":["Activar función"],"outputLabels":["Canal32"]},{"id":"20554d73.230c02","type":"function","z":"e86f0ca4.7feb5","g":"5fcf6e49.52a8b","name":"AO2","func":"var AO = flow.get('ES.SA.AO3')||null;\nvar C2S = global.get('C2S','memoryOnly')||null;\n\n//Objeto con las funciones del CILA2S\nvar FuncionC2S = {\n    \"Frecuencia de salida C2S\":     C2S != null ? C2S.Output_Frecuency:0,\n    \"Corriente de salida\":          C2S != null ? C2S.Output_Current:0, \n    \"Tensión de salida\":            C2S != null ? C2S.Output_Voltage:0,\n    \"Potencia de salida\":           C2S != null ? C2S.Output_Power:0\n}\nif(typeof AO!= 'undefined' && AO!= null){\n    msg.payload = parseInt(Escalizar([AO.Rango_Min,AO.Rango_Max],FuncionC2S[AO.Funcion])*10000);\n    node.status({fill:\"green\",shape:\"dot\",text:[AO.Rango_Min,AO.Rango_Max]+\" \"+FuncionC2S[AO.Funcion] +\" \"+msg.payload});\n    return msg;\n}\nelse{\n    return;\n}\n\nfunction Escalizar(a,value){\n    b = [0,100];\n    // Mapeo\n    if(b !== null && typeof a[0] == 'number' && typeof a[1] == 'number' ){\n        var t = b[0] + ((Math.abs(value) - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n        // Saturación\n        if(t > b[1]){    \n            t = b[1];\n        }\n        else if(t < b[0]){ \n            t = b[0];\n        }\n        // Asignar payload\n        return parseInt(t);\n    }\n    else {\n        // Asignar payload\n        return 0;\n    }\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3330,"y":1480,"wires":[["fecbef60.baa39"]],"inputLabels":["Activar función"],"outputLabels":["Canal32"]},{"id":"684e6a1e.f61f44","type":"function","z":"e86f0ca4.7feb5","g":"5fcf6e49.52a8b","name":"AO2","func":"var AO = flow.get('ES.SA.AO4')||null;\nvar C2S = global.get('C2S','memoryOnly')||null;\n\n//Objeto con las funciones del CILA2S\nvar FuncionC2S = {\n    \"Frecuencia de salida C2S\":     C2S != null ? C2S.Output_Frecuency:0,\n    \"Corriente de salida\":          C2S != null ? C2S.Output_Current:0, \n    \"Tensión de salida\":            C2S != null ? C2S.Output_Voltage:0,\n    \"Potencia de salida\":           C2S != null ? C2S.Output_Power:0\n}\nif(typeof AO!= 'undefined' && AO!= null){\n    msg.payload = parseInt(Escalizar([AO.Rango_Min,AO.Rango_Max],FuncionC2S[AO.Funcion])*10000);\n    node.status({fill:\"green\",shape:\"dot\",text:[AO.Rango_Min,AO.Rango_Max]+\" \"+FuncionC2S[AO.Funcion] +\" \"+msg.payload});\n    return msg;\n}\nelse{\n    return;\n}\n\nfunction Escalizar(a,value){\n    b = [0,100];\n    // Mapeo\n    if(b !== null && typeof a[0] == 'number' && typeof a[1] == 'number' ){\n        var t = b[0] + ((Math.abs(value) - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n        // Saturación\n        if(t > b[1]){    \n            t = b[1];\n        }\n        else if(t < b[0]){ \n            t = b[0];\n        }\n        // Asignar payload\n        return parseInt(t);\n    }\n    else {\n        // Asignar payload\n        return 0;\n    }\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":3330,"y":1540,"wires":[["f8658e50.62059"]],"inputLabels":["Activar función"],"outputLabels":["Canal32"]},{"id":"e8f94bbe.3aff78","type":"ui_text","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","group":"8370e95f.f0a918","order":2,"width":4,"height":2,"name":"","label":"Porcentaje de Velocidad","format":"<font size = 8px> {{msg.payload}}%","layout":"col-center","x":4310,"y":880,"wires":[]},{"id":"f806451.5598fb8","type":"function","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Normalizar Escalizar","func":"var Limites = global.get('Speed_Control');\nmsg.payload = Escalizar([Limites.MinLimit,Limites.MaxLimit],msg.payload);\n\nfunction Escalizar(a,value){\n    b = [0,100];\n    // Mapeo\n    if(b !== null && typeof a[0] == 'number' && typeof a[1] == 'number' ){\n        var t = b[0] + ((Math.abs(value) - a[0])*(b[1] - b[0])) / (a[1]-a[0]);\n        // Saturación\n        if(t > b[1]){    \n            t = b[1];\n        }\n        else if(t < b[0]){ \n            t = b[0];\n        }\n        // Asignar payload\n        return parseInt(t);\n    }\n    else {\n        // Asignar payload\n        return 0;\n    }\n}\nnode.status({fill:\"green\",shape:\"dot\",text:Limites.MaxLimit});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":4080,"y":880,"wires":[["e8f94bbe.3aff78"]]},{"id":"b2bd9fa0.2dd28","type":"ui_text","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","group":"8370e95f.f0a918","order":3,"width":4,"height":2,"name":"","label":"Runtime","format":"<font size = 8px> {{msg.payload}}H","layout":"col-center","x":4260,"y":920,"wires":[]},{"id":"af8f0cf.570f3f","type":"change","z":"e86f0ca4.7feb5","g":"c26a00d.7295a","name":"Runtime","rules":[{"t":"set","p":"payload","pt":"msg","to":"payload.Elapsed_Run_Time","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":3820,"y":920,"wires":[["b2bd9fa0.2dd28"]]},{"id":"9dfbc830.a03298","type":"modbus-flex-getter","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"PQA Modbus TCP","showStatusActivities":false,"showErrors":false,"logIOActivities":false,"server":"ae58460d.12c698","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":1630,"y":320,"wires":[["7c9484af.5ac80c"],[]]},{"id":"fe356255.fc99","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Lectura PQA","func":"var count = context.get(\"Count\")||0;\n\n// Real Time Parameters\nif(count === 0){\n    msg.topic = \"Real Time Parameters\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16384, \n                    'quantity': 39*2 \n    }\n    count ++;\n}\n\n// Energy Parameters\nelse if (count == 1){\n    msg.topic = \"Energy Parameters\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16456, \n                    'quantity': 24*2 \n    }\n    count ++;\n}\n\n// Harmonics - Power Quality\nelse if (count == 2){\n    msg.topic = \"Power Quality\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16474, \n                    'quantity': 8 \n    }\n    count ++;\n}\n\n// Phase Angles\nelse if (count == 3){\n    msg.topic = \"Phase Angles\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 17056, \n                    'quantity': 5 \n    }\n    count ++;\n}\nelse if (count == 4){\n    msg.topic = \"Harmonics_V1(V12)\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16482, \n                    'quantity': 12 \n    }\n    count ++;\n}\nelse if (count == 5){\n    msg.topic = \"Harmonics_V2(V31)\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16516, \n                    'quantity': 12 \n    }\n    count ++;\n}\nelse if (count == 6){\n    msg.topic = \"Harmonics_V3(V23)\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16550, \n                    'quantity': 12 \n    }\n    count ++;\n}\nelse if (count == 7){\n    msg.topic = \"Harmonics_I1\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16584, \n                    'quantity': 12 \n    }\n    count ++;\n}\nelse if (count == 8){\n    msg.topic = \"Harmonics_I2\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16617, \n                    'quantity': 12 \n    }\n    count ++;\n}\nelse if (count == 9){\n    msg.topic = \"Harmonics_I3\";\n    msg.payload = { 'fc': 3, \n                    'unitid': 5, \n                    'address': 16650, \n                    'quantity': 12 \n    }\n    count ++;\n}\n\n// Error\nelse {\n    msg.topic = msg.payload;\n    msg.payload = \"Function Error!\";\n}\n\n// Count Reset\nif(count > 9){count = 0;}\n\n// Context update\ncontext.set(\"Count\",count);\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1450,"y":320,"wires":[["9dfbc830.a03298"]]},{"id":"3b57e8b1.f78e28","type":"inject","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","props":[{"p":"payload"}],"repeat":"0.2","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":1310,"y":320,"wires":[["fe356255.fc99"]]},{"id":"10a8d7ac.83d708","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Real Time Parameters IEC754 to Float ","func":"/* Converts from an number, string, buffer or array representing an IEEE-754 value\n * to a javascript float.\n * The following may be given in msg.payload:\n *      A string representing a number, which may be hex or binary\n *        examples, \"1735\"  \"0x02045789\"  0b01000000010010010000111111011011\n *      An integer value\n *      A four element array or buffer of 8 bit values, most significant byte first.\n*/ \n// first make a number from the given payload if necessary\n\n\n// Convert 2 registers of 16 bits in one of 32 bits\nvar Frequency               = ((msg.payload[0] << 16) + msg.payload[1]); Frequency                  = Int2Float32(Frequency);\nvar Phase_1_Voltage\t        = ((msg.payload[2] << 16) + msg.payload[3]); Phase_1_Voltage            = Int2Float32(Phase_1_Voltage);\nvar Phase_2_Voltage         = ((msg.payload[4] << 16) + msg.payload[5]); Phase_2_Voltage            = Int2Float32(Phase_2_Voltage);\nvar Phase_3_Voltage         = ((msg.payload[6] << 16) + msg.payload[7]); Phase_3_Voltage            = Int2Float32(Phase_3_Voltage);\nvar Average_Phase_Voltage\t= ((msg.payload[8] << 16) + msg.payload[9]); Average_Phase_Voltage      = Int2Float32(Average_Phase_Voltage);\n\nvar Line_Voltage_1_2        = ((msg.payload[10] << 16) + msg.payload[11]); Line_Voltage_1_2         = Int2Float32(Line_Voltage_1_2);\nvar Line_Voltage_2_3        = ((msg.payload[12] << 16) + msg.payload[13]); Line_Voltage_2_3         = Int2Float32(Line_Voltage_2_3);\nvar Line_Voltage_3_1        = ((msg.payload[14] << 16) + msg.payload[15]); Line_Voltage_3_1         = Int2Float32(Line_Voltage_3_1);\nvar Average_Line_Voltage\t= ((msg.payload[16] << 16) + msg.payload[17]); Average_Line_Voltage     = Int2Float32(Average_Line_Voltage);\n\nvar Total_Phase_A_Current   = ((msg.payload[18] << 16) + msg.payload[19]); Total_Phase_A_Current    = Int2Float32(Total_Phase_A_Current);\nvar Total_Phase_B_Current\t= ((msg.payload[20] << 16) + msg.payload[21]); Total_Phase_B_Current    = Int2Float32(Total_Phase_B_Current);\nvar Total_Phase_C_Current   = ((msg.payload[22] << 16) + msg.payload[23]); Total_Phase_C_Current    = Int2Float32(Total_Phase_C_Current);\nvar Average_Phase_Current\t= ((msg.payload[24] << 16) + msg.payload[25]); Average_Phase_Current    = Int2Float32(Average_Phase_Current);\nvar Neutral_Current         = ((msg.payload[26] << 16) + msg.payload[27]); Neutral_Current          = Int2Float32(Neutral_Current);\n\nvar Phase_A_Power           = ((msg.payload[28] << 16) + msg.payload[29]); Phase_A_Power            = Int2Float32(Phase_A_Power);\nvar Phase_B_Power\t        = ((msg.payload[30] << 16) + msg.payload[31]); Phase_B_Power            = Int2Float32(Phase_B_Power);\nvar Phase_C_Power           = ((msg.payload[32] << 16) + msg.payload[33]); Phase_C_Power\t        = Int2Float32(Phase_C_Power);\nvar Total_System_Power      = ((msg.payload[34] << 16) + msg.payload[35]); Total_System_Power       = Int2Float32(Total_System_Power);\n\nvar Phase_A_Reactive_Power  = ((msg.payload[36] << 16) + msg.payload[37]); Phase_A_Reactive_Power   = Int2Float32(Phase_A_Reactive_Power);\nvar Phase_B_Reactive_Power\t= ((msg.payload[38] << 16) + msg.payload[39]); Phase_B_Reactive_Power   = Int2Float32(Phase_B_Reactive_Power);\nvar Phase_C_Reactive_Power\t= ((msg.payload[40] << 16) + msg.payload[41]); Phase_C_Reactive_Power   = Int2Float32(Phase_C_Reactive_Power);\nvar Total_Reactive_Power    = ((msg.payload[42] << 16) + msg.payload[43]); Total_Reactive_Power     = Int2Float32(Phase_C_Reactive_Power);\n\nvar Phase_A_Apparent_Power\t= ((msg.payload[44] << 16) + msg.payload[45]); Phase_A_Apparent_Power   = Int2Float32(Phase_A_Apparent_Power);\nvar Phase_B_Apparent_Power\t= ((msg.payload[46] << 16) + msg.payload[47]); Phase_B_Apparent_Power   = Int2Float32(Phase_B_Apparent_Power);\nvar Phase_C_Apparent_Power\t= ((msg.payload[48] << 16) + msg.payload[49]); Phase_C_Apparent_Power   = Int2Float32(Phase_C_Apparent_Power);\nvar Total_Apparent_Power\t= ((msg.payload[50] << 16) + msg.payload[51]); Total_Apparent_Power     = Int2Float32(Total_Apparent_Power);\n\nvar Phase_A_Power_Factor\t= ((msg.payload[52] << 16) + msg.payload[53]); Phase_A_Power_Factor     = Int2Float32(Phase_A_Power_Factor);\nvar Phase_B_Power_Factor    = ((msg.payload[54] << 16) + msg.payload[55]); Phase_B_Power_Factor     = Int2Float32(Phase_B_Power_Factor);\nvar Phase_C_Power_Factor    = ((msg.payload[56] << 16) + msg.payload[57]); Phase_C_Power_Factor     = Int2Float32(Phase_C_Power_Factor);\nvar Total_Power_Factor\t    = ((msg.payload[58] << 16) + msg.payload[59]); Total_Power_Factor       = Int2Float32(Total_Power_Factor);\n\n// Output Message\nmsg.payload = {\n    \"Frequency\"                 : Frequency,\n    \"Phase_1_Voltage\"           : Phase_1_Voltage,\n    \"Phase_2_Voltage\"           : Phase_2_Voltage,\n    \"Phase_3_Voltage\"           : Phase_3_Voltage,\n    \"Average_Phase_Voltage\"     : Average_Phase_Voltage,\n    \"Line_Voltage_1_2\"          : Line_Voltage_1_2,\n    \"Line_Voltage_2_3\"          : Line_Voltage_2_3,\n    \"Line_Voltage_3_1\"          : Line_Voltage_3_1,\n    \"Average_Line_Voltage\"      : Average_Line_Voltage,\n    \"Total_Phase_A_Current\"     : Total_Phase_A_Current,\n    \"Total_Phase_B_Current\"     : Total_Phase_B_Current,\n    \"Total_Phase_C_Current\"     : Total_Phase_C_Current,\n    \"Average_Phase_Current\"     : Average_Phase_Current,\n    \"Neutral_Current\"           : Neutral_Current,\n    \"Phase_A_Power\"             : Phase_A_Power,\n    \"Phase_B_Power\"             : Phase_B_Power,\n    \"Phase_C_Power\"             : Phase_C_Power,\n    \"Total_System_Power\"        : Total_System_Power,\n    \"Phase_A_Reactive_Power\"    : Phase_A_Reactive_Power,\n    \"Phase_B_Reactive_Power\"    : Phase_B_Reactive_Power,\n    \"Phase_C_Reactive_Power\"    : Phase_C_Reactive_Power,\n    \"Total_Reactive_Power\"      : Total_Reactive_Power,\n    \"Phase_A_Apparent_Power\"    : Phase_A_Apparent_Power,\n    \"Phase_B_Apparent_Power\"    : Phase_B_Apparent_Power,\n    \"Phase_C_Apparent_Power\"    : Phase_C_Apparent_Power,\n    \"Total_Apparent_Power\"      : Total_Apparent_Power,\n    \"Phase_A_Power_Factor\"      : Phase_A_Power_Factor,\n    \"Phase_B_Power_Factor\"      : Phase_B_Power_Factor,\n    \"Phase_C_Power_Factor\"      : Phase_C_Power_Factor,\n    \"Total_Power_Factor\"        : Total_Power_Factor\n}\n\nreturn msg;\n\n// IEC 754 to Float Function\nfunction Int2Float32(bytes) {\n    var sign = (bytes & 0x80000000) ? -1 : 1;\n    var exponent = ((bytes >> 23) & 0xFF) - 127;\n    var significand = (bytes & ~(-1 << 23));\n\n    if (exponent == 128) \n        return sign * ((significand) ? Number.NaN : Number.POSITIVE_INFINITY);\n\n    if (exponent == -127) {\n        if (significand === 0) return sign * 0.0;\n        exponent = -126;\n        significand /= (1 << 22);\n    } else significand = (significand | (1 << 23)) / (1 << 23);\n\n    return sign * significand * Math.pow(2, exponent);\n}\n\n// Créditos: https://flows.nodered.org/flow/359ead34237b7ab6ec0465ee85a34b62","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2070,"y":140,"wires":[["f28712cf.12333","2c9537b.8dbd1c8"]]},{"id":"7c9484af.5ac80c","type":"switch","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","property":"topic","propertyType":"msg","rules":[{"t":"eq","v":"Real Time Parameters","vt":"str"},{"t":"eq","v":"Energy Parameters","vt":"str"},{"t":"eq","v":"Power Quality","vt":"str"},{"t":"eq","v":"Phase Angles","vt":"str"},{"t":"eq","v":"Harmonics_V1(V12)","vt":"str"},{"t":"eq","v":"Harmonics_V2(V31)","vt":"str"},{"t":"eq","v":"Harmonics_V3(V23)","vt":"str"},{"t":"eq","v":"Harmonics_I1","vt":"str"},{"t":"eq","v":"Harmonics_I2","vt":"str"},{"t":"eq","v":"Harmonics_I3","vt":"str"}],"checkall":"false","repair":false,"outputs":10,"x":1790,"y":320,"wires":[["10a8d7ac.83d708"],["4d065d75.805514"],["2f63d344.dc84dc"],["d803580d.4bff08"],["34a60198.0d6f0e"],["b4701456.7bb958"],["ce6e0060.94917"],["d9579473.d8da18"],["7bdf0458.df1dcc"],["bb3305d0.ffb338"]]},{"id":"f1f2e53b.ab0d88","type":"comment","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Lectura de datos eléctricos PQA","info":"","x":1350,"y":140,"wires":[]},{"id":"2f63d344.dc84dc","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Harmonics - Power Quality","func":"msg.payload = {\n    \"THD_V1(V12)\"   : msg.payload[0]/100,\n    \"THD_V2(V31)\"   : msg.payload[1]/100,\n    \"THD_V3(V23)\"   : msg.payload[2]/100,\n    \"THD_avg\"       : msg.payload[3]/100,\n    \"THD_I1\"        : msg.payload[4]/100,\n    \"THD_I2\"        : msg.payload[5]/100,\n    \"THD_I3\"        : msg.payload[6]/100,\n    \"THD_Iavg\"      : msg.payload[7]/100\n}\nreturn msg;","outputs":1,"noerr":0,"x":2040,"y":220,"wires":[["f28712cf.12333","4c713c15.0ad934"]]},{"id":"d803580d.4bff08","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Phase Angles","func":"msg.payload = {\n    \"Phase_Angle_of_V2_to_V1\"   : msg.payload[0]/10,\n    \"Phase_Angle_of_V3_to_V1\"   : msg.payload[1]/10,\n    \"Phase_Angle_of_I1_to_V1\"   : msg.payload[2]/10,\n    \"Phase_Angle_of_I2_to_V1\"   : msg.payload[3]/10,\n    \"Phase_Angle_of_I3_to_V1\"   : msg.payload[4]/10\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2000,"y":260,"wires":[["f28712cf.12333","552444bc.3806fc"]]},{"id":"4d065d75.805514","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Energy Parameters IEC754 to Float ","func":"/* Converts from an number, string, buffer or array representing an IEEE-754 value\n * to a javascript float.\n * The following may be given in msg.payload:\n *      A string representing a number, which may be hex or binary\n *        examples, \"1735\"  \"0x02045789\"  0b01000000010010010000111111011011\n *      An integer value\n *      A four element array or buffer of 8 bit values, most significant byte first.\n*/ \n// first make a number from the given payload if necessary\n\n\n// Convert 2 registers of 16 bits in one of 32 bits\nvar Consumed_Energy\t            = ((msg.payload[0] << 16) + msg.payload[1]); Consumed_Energy            = Int2Float32(Consumed_Energy);\nvar Generated_Energy\t\t    = ((msg.payload[2] << 16) + msg.payload[3]); Generated_Energy           = Int2Float32(Generated_Energy);\nvar Consumed_Reactive_Energy    = ((msg.payload[4] << 16) + msg.payload[5]); Consumed_Reactive_Energy   = Int2Float32(Consumed_Reactive_Energy);\nvar Generated_Reactive_Energy   = ((msg.payload[6] << 16) + msg.payload[7]); Generated_Reactive_Energy  = Int2Float32(Generated_Reactive_Energy);\nvar Total_Energy\t\t        = ((msg.payload[8] << 16) + msg.payload[9]); Total_Energy               = Int2Float32(Total_Energy);\n\n// Output Message\nmsg.payload = {\n    \"Consumed_Energy\"           : Consumed_Energy,\n    \"Generated_Energy\"          : Generated_Energy,\n    \"Consumed_Reactive_Energy\"  : Consumed_Reactive_Energy,\n    \"Generated_Reactive_Energy\" : Generated_Energy,\n    \"Total_Energy\"              : Total_Energy\n}\n\nreturn msg;\n\n// IEC 754 to Float Function\nfunction Int2Float32(bytes) {\n    var sign = (bytes & 0x80000000) ? -1 : 1;\n    var exponent = ((bytes >> 23) & 0xFF) - 127;\n    var significand = (bytes & ~(-1 << 23));\n\n    if (exponent == 128) \n        return sign * ((significand) ? Number.NaN : Number.POSITIVE_INFINITY);\n\n    if (exponent == -127) {\n        if (significand === 0) return sign * 0.0;\n        exponent = -126;\n        significand /= (1 << 22);\n    } else significand = (significand | (1 << 23)) / (1 << 23);\n\n    return sign * significand * Math.pow(2, exponent);\n}\n\n// Créditos: https://flows.nodered.org/flow/359ead34237b7ab6ec0465ee85a34b62","outputs":1,"noerr":0,"x":2060,"y":180,"wires":[["f28712cf.12333","4493e96a.770e08"]]},{"id":"f28712cf.12333","type":"link out","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Datos PQA","links":["58926891.1f2dd8","eb7629af.3f96d8","2a5a7292.85414e","9a4415f9.400998"],"x":2275,"y":60,"wires":[]},{"id":"2c9537b.8dbd1c8","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Real_Time_Parameters","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2410,"y":140,"wires":[["590f8124.4bf8e"]]},{"id":"4493e96a.770e08","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Energy_Parameters","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2400,"y":180,"wires":[[]]},{"id":"4c713c15.0ad934","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Harmonics.Power_Quality","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2420,"y":220,"wires":[[]]},{"id":"552444bc.3806fc","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Phase_Angles","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2390,"y":260,"wires":[[]]},{"id":"590f8124.4bf8e","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"MQTT JSON","func":"msg.payload = {\n    'variables' : msg.payload\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2650,"y":140,"wires":[["75ddfb5a.787d34"]]},{"id":"75ddfb5a.787d34","type":"mqtt out","z":"e86f0ca4.7feb5","d":true,"g":"7f0ad68d.a88dc8","name":"","topic":"/topic/test/SWCPRO1/variables","qos":"","retain":"","broker":"6e41db33.43af54","x":2870,"y":140,"wires":[]},{"id":"34a60198.0d6f0e","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Harmonics - V1(V12)","func":"msg.payload = {\n    \"THD_V1(V12)_3o\"    : msg.payload[1]/100,\n    \"THD_V1(V12)_5o\"    : msg.payload[3]/100,\n    \"THD_V1(V12)_7o\"    : msg.payload[5]/100,\n    \"THD_V1(V12)_9o\"    : msg.payload[7]/100,\n    \"THD_V1(V12)_11o\"   : msg.payload[9]/100,\n    \"THD_V1(V12)_13o\"   : msg.payload[11]/100,\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2020,"y":300,"wires":[["c404fb6a.ab0d48"]]},{"id":"c404fb6a.ab0d48","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Harmonics.V1_V12","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2400,"y":300,"wires":[[]]},{"id":"ce6e0060.94917","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Harmonics_V3(V23)","func":"msg.payload = {\n    \"THD_V3(V23)_3o\"    : msg.payload[1]/100,\n    \"THD_V3(V23)_5o\"    : msg.payload[3]/100,\n    \"THD_V3(V23)_7o\"    : msg.payload[5]/100,\n    \"THD_V3(V23)_9o\"    : msg.payload[7]/100,\n    \"THD_V3(V23)_11o\"   : msg.payload[9]/100,\n    \"THD_V3(V23)_13o\"   : msg.payload[11]/100,\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2020,"y":380,"wires":[["908d15a.2c73de8"]]},{"id":"908d15a.2c73de8","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Harmonics.V3_V23","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2400,"y":380,"wires":[[]]},{"id":"d2ffdd1e.e26f5","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Harmonics.V2_V31","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2400,"y":340,"wires":[[]]},{"id":"d9579473.d8da18","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Harmonics_I1","func":"msg.payload = {\n    \"THD_I1_3o\"    : msg.payload[1]/100,\n    \"THD_I1_5o\"    : msg.payload[3]/100,\n    \"THD_I1_7o\"    : msg.payload[5]/100,\n    \"THD_I1_9o\"    : msg.payload[7]/100,\n    \"THD_I1_11o\"   : msg.payload[9]/100,\n    \"THD_I1_13o\"   : msg.payload[11]/100,\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2000,"y":420,"wires":[["2249a8a.5b30458"]]},{"id":"7bdf0458.df1dcc","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Harmonics_I2","func":"msg.payload = {\n    \"THD_I2_3o\"    : msg.payload[1]/100,\n    \"THD_I2_5o\"    : msg.payload[3]/100,\n    \"THD_I2_7o\"    : msg.payload[5]/100,\n    \"THD_I2_9o\"    : msg.payload[7]/100,\n    \"THD_I2_11o\"   : msg.payload[9]/100,\n    \"THD_I2_13o\"   : msg.payload[11]/100,\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2000,"y":460,"wires":[["ff32f894.ee0898"]]},{"id":"bb3305d0.ffb338","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Harmonics_I3","func":"msg.payload = {\n    \"THD_I3_3o\"    : msg.payload[1]/100,\n    \"THD_I3_5o\"    : msg.payload[3]/100,\n    \"THD_I3_7o\"    : msg.payload[5]/100,\n    \"THD_I3_9o\"    : msg.payload[7]/100,\n    \"THD_I3_11o\"   : msg.payload[9]/100,\n    \"THD_I3_13o\"   : msg.payload[11]/100,\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2000,"y":500,"wires":[["b9b8eb03.7d72f8"]]},{"id":"b4701456.7bb958","type":"function","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"Harmonics_V2(V31)","func":"msg.payload = {\n    \"THD_V2(V31)_3o\"    : msg.payload[1]/100,\n    \"THD_V2(V31)_5o\"    : msg.payload[3]/100,\n    \"THD_V2(V31)_7o\"    : msg.payload[5]/100,\n    \"THD_V2(V31)_9o\"    : msg.payload[7]/100,\n    \"THD_V2(V31)_11o\"   : msg.payload[9]/100,\n    \"THD_V2(V31)_13o\"   : msg.payload[11]/100,\n}\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":2020,"y":340,"wires":[["d2ffdd1e.e26f5"]]},{"id":"b9b8eb03.7d72f8","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Harmonics.I3","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":500,"wires":[[]]},{"id":"ff32f894.ee0898","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Harmonics.I2","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":460,"wires":[[]]},{"id":"2249a8a.5b30458","type":"change","z":"e86f0ca4.7feb5","g":"7f0ad68d.a88dc8","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::PQA.Harmonics.I1","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2380,"y":420,"wires":[[]]},{"id":"5b529f4c.7ffeb","type":"ui_chart","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","group":"760e85bd.1f3e7c","order":2,"width":0,"height":0,"label":"{{msg.label}}","chartType":"bar","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"useUTC":false,"colors":["#f20707","#033e8c","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"outputs":1,"x":970,"y":2120,"wires":[[]]},{"id":"6c9ed5d3.e7799c","type":"function","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"Harmonics chart generation","func":"var chart = \n[{\n    \"series\": [\"THD-V\", \"THD-I\"],\n    \"data\": msg.payload,\n    \"labels\": [ \"1o\", \"3o\",\"5o\",\"7o\",\"9o\",\"11o\",\"13o\"]\n}];\n\nmsg.payload = chart;\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":800,"y":2120,"wires":[["5b529f4c.7ffeb"]]},{"id":"76a74813.5dd3f8","type":"inject","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","props":[{"p":"payload"}],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":150,"y":2120,"wires":[["c8aa3a95.12b518"]]},{"id":"23815ef1.931a32","type":"ui_dropdown","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","label":"Seleccione ","tooltip":"","place":"Select option","group":"760e85bd.1f3e7c","order":1,"width":0,"height":0,"passthru":true,"multiple":false,"options":[{"label":"Línea 1 ","value":"Linea1","type":"str"},{"label":"Línea 2","value":"Linea2","type":"str"},{"label":"Línea 3 ","value":"Linea3","type":"str"},{"label":"Promedio","value":"LineaP","type":"str"}],"payload":"","topic":"","x":350,"y":2060,"wires":[["20b8681c.81fd48"]]},{"id":"2b47642.2404d9c","type":"link in","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","links":["97407954.a004c8"],"x":135,"y":2200,"wires":[["eddefb96.175bf8","ec03441d.979088"]]},{"id":"eddefb96.175bf8","type":"switch","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"User in harmonics Screen ?","property":"name","propertyType":"msg","rules":[{"t":"eq","v":"Monitoreo-Datos_Operativos-Superficie_y_Fondo","vt":"str"},{"t":"neq","v":"Monitoreo-Datos_Operativos-Superficie_y_Fondo","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":300,"y":2200,"wires":[["a5c181ee.2efe1"],["b54a4559.022378"]]},{"id":"a5c181ee.2efe1","type":"change","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Harmonics_Chart.Prompt","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":2180,"wires":[[]]},{"id":"b54a4559.022378","type":"change","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Harmonics_Chart.Prompt","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":2220,"wires":[[]]},{"id":"3ea5879e.bf0588","type":"function","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"Data Handle harmonics chart","func":"var PQA_Data                = global.get(\"PQA.Harmonics\", \"memoryOnly\") || \"[]\";\nvar Chart_Selection         = flow.get(\"Harmonics_Chart.Selection\", \"memoryOnly\") || \"\";\n\nvar Linea1_V = Object.values(PQA_Data.V1_V12);\nvar Linea1_I = Object.values(PQA_Data.I1);\n\nvar Linea2_V = Object.values(PQA_Data.V2_V31);\nvar Linea2_I = Object.values(PQA_Data.I2);\n\n\nvar Linea3_V = Object.values(PQA_Data.V3_V23);\nvar Linea3_I = Object.values(PQA_Data.I3);\n\nvar LineaP_V = [\n                    ((Linea1_V[0]+Linea2_V[0]+Linea3_V[0])/3).toFixed(2),\n                    ((Linea1_V[1]+Linea2_V[1]+Linea3_V[1])/3).toFixed(2),\n                    ((Linea1_V[2]+Linea2_V[0]+Linea3_V[2])/3).toFixed(2),\n                    ((Linea1_V[3]+Linea2_V[0]+Linea3_V[3])/3).toFixed(2),\n                    ((Linea1_V[4]+Linea2_V[0]+Linea3_V[4])/3).toFixed(2),\n                    ((Linea1_V[5]+Linea2_V[0]+Linea3_V[5])/3).toFixed(2)\n                ];\nvar LineaP_I = [\n                    ((Linea1_I[0]+Linea2_I[0]+Linea3_I[0])/3).toFixed(2),\n                    ((Linea1_I[1]+Linea2_I[1]+Linea3_I[1])/3).toFixed(2),\n                    ((Linea1_I[2]+Linea2_I[0]+Linea3_I[2])/3).toFixed(2),\n                    ((Linea1_I[3]+Linea2_I[0]+Linea3_I[3])/3).toFixed(2),\n                    ((Linea1_I[4]+Linea2_I[0]+Linea3_I[4])/3).toFixed(2),\n                    ((Linea1_I[5]+Linea2_I[0]+Linea3_I[5])/3).toFixed(2),\n                ];\n\nif(Chart_Selection == \"Linea1\")\n    {\n        msg.payload =  [ Linea1_V , Linea1_I];\n        msg.label   = \"Porcentaje Armónico Línea 1\";\n    }\nelse if(Chart_Selection == \"Linea2\")\n    {\n        msg.payload =  [ Linea2_V , Linea2_I];\n        msg.label   = \"Porcentaje Armónico Línea 2\";\n    }\nelse if(Chart_Selection == \"Linea3\")\n    {\n        msg.payload =  [ Linea3_V , Linea3_I];\n        msg.label   = \"Porcentaje Armónico Línea 3\";\n    }\nelse if(Chart_Selection == \"LineaP\")\n    {\n        {\n        msg.payload =  [ LineaP_V , LineaP_I];\n        msg.label   = \"Porcentaje Armónico Promedio\";\n    }\n    }\nreturn msg; \n\n\n\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":560,"y":2120,"wires":[["6c9ed5d3.e7799c"]]},{"id":"c8aa3a95.12b518","type":"switch","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"Harmonics Chart Prompted? ","property":"#:(memoryOnly)::Harmonics_Chart.Prompt","propertyType":"flow","rules":[{"t":"true"}],"checkall":"true","repair":false,"outputs":1,"x":320,"y":2120,"wires":[["3ea5879e.bf0588"]]},{"id":"20b8681c.81fd48","type":"change","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Harmonics_Chart.Selection","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":560,"y":2060,"wires":[[]]},{"id":"16f68bea.684694","type":"comment","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"Trend Harmonics","info":"","x":140,"y":2060,"wires":[]},{"id":"ec03441d.979088","type":"debug","z":"d35c32b9.6419b","g":"aafad2ba.dcc8b","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","targetType":"full","statusVal":"","statusType":"auto","x":230,"y":2240,"wires":[]},{"id":"d3482e86.9d4d5","type":"ui_button","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"","group":"eb661a32.5e64e8","order":1,"width":0,"height":0,"passthru":false,"label":"Local/Remoto","tooltip":"","color":"","bgcolor":"","icon":"","payload":"Desea cambiar el modo de control a:","payloadType":"str","topic":"","x":260,"y":1220,"wires":[["ce30a63b.0bdbd8"]]},{"id":"2e03fe57.8c60b2","type":"change","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"Local/Remoto","rules":[{"t":"set","p":"Local/Remoto","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":620,"y":1220,"wires":[["463cab1e.a805d4","8f8e4fb5.2d9b2"]]},{"id":"463cab1e.a805d4","type":"ui_text","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","group":"eb661a32.5e64e8","order":2,"width":0,"height":0,"name":"","label":"L/R:","format":"{{msg.payload}}","layout":"row-spread","x":770,"y":1220,"wires":[]},{"id":"ce30a63b.0bdbd8","type":"ui_toast","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","position":"dialog","displayTime":"3","highlight":"","sendall":true,"outputs":1,"ok":"Local","cancel":"Remoto","raw":false,"topic":"","name":"","x":430,"y":1220,"wires":[["2e03fe57.8c60b2"]]},{"id":"938aa2d6.74dae","type":"link in","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"Local/Remoto","links":["ad87cee4.7dbb5"],"x":475,"y":1140,"wires":[["5f8495ce.db632c"]]},{"id":"7b33059d.fa394c","type":"inject","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":450,"y":1180,"wires":[["5f8495ce.db632c"]]},{"id":"5f8495ce.db632c","type":"change","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Local/Remoto","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":620,"y":1180,"wires":[["2e03fe57.8c60b2"]]},{"id":"1995f952.35b347","type":"link out","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"Enable","links":["ba3ec3f7.7f116"],"x":1035,"y":1160,"wires":[]},{"id":"8f8e4fb5.2d9b2","type":"switch","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"Local","vt":"str"},{"t":"cont","v":"Remoto","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":810,"y":1180,"wires":[["17133f68.94e5f1"],["935ca480.525e98"]]},{"id":"935ca480.525e98","type":"link out","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"Disable","links":["bf656c1e.ff84"],"x":895,"y":1200,"wires":[]},{"id":"17133f68.94e5f1","type":"switch","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"User","property":"UserStatus","propertyType":"global","rules":[{"t":"neq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":940,"y":1160,"wires":[["1995f952.35b347"]]},{"id":"40c12bb3.ead9f4","type":"link in","z":"5f404c88.fa75a4","g":"c57d2588.a42f68","name":"","links":["6d40adaa.11d2c4"],"x":475,"y":1260,"wires":[["5f8495ce.db632c"]]},{"id":"f4f581a.cfeba8","type":"ui_template","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","group":"d6b9a19.933576","name":"Navbar Monitoreo Datos eléctrico","order":1,"width":"12","height":"1","format":"<div ng-bind-html=\"msg.payload | trusted\"></div>","storeOutMessages":true,"fwdInMessages":true,"resendOnRefresh":true,"templateScope":"local","x":440,"y":1940,"wires":[[]]},{"id":"a8914523.bc9e68","type":"inject","z":"5ef5b1ce.d3899","g":"ac1f5c0.f7b06a","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":140,"y":540,"wires":[["49fc1b59.51f164"]]},{"id":"39217f0f.71278","type":"debug","z":"e86f0ca4.7feb5","g":"15ca143a.56aa5c","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","statusVal":"","statusType":"auto","x":2160,"y":1680,"wires":[]},{"id":"4a10466c.0f815","type":"delay","z":"e86f0ca4.7feb5","g":"15ca143a.56aa5c","name":"","pauseType":"delay","timeout":"200","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1490,"y":1670,"wires":[["a95021da.6a8c1","d48327f0.4900d8"]]},{"id":"d48327f0.4900d8","type":"delay","z":"e86f0ca4.7feb5","g":"15ca143a.56aa5c","name":"","pauseType":"delay","timeout":"200","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1490,"y":1720,"wires":[["e733e0b4.8726a"]]},{"id":"ba8d784f.d7bd58","type":"exec","z":"5f404c88.fa75a4","command":"sudo systemctl restart kiosk.service","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":540,"y":1420,"wires":[[],[],[]]},{"id":"22d93289.2a284e","type":"inject","z":"5f404c88.fa75a4","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":310,"y":1420,"wires":[["ba8d784f.d7bd58"]]},{"id":"58c877e3.2f2798","type":"exec","z":"5f404c88.fa75a4","command":"pkill chromium","addpay":true,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":480,"y":1360,"wires":[[],[],[]]},{"id":"791e485c.50abb","type":"inject","z":"5f404c88.fa75a4","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":300,"y":1360,"wires":[["58c877e3.2f2798"]]},{"id":"3724defddc128482","type":"change","z":"e86f0ca4.7feb5","g":"b974d4b3.9e3f78","name":"Dirección RS-485","rules":[{"t":"set","p":"payload.address","pt":"msg","to":"28692","tot":"num"}],"action":"","property":"","from":"","to":"","reg":false,"x":1620,"y":2470,"wires":[["d2ef2515.318b48"]]},{"id":"e396b64.3472f48","type":"delay","z":"e86f0ca4.7feb5","g":"b974d4b3.9e3f78","name":"","pauseType":"delay","timeout":"100","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1590,"y":2380,"wires":[["8feada40.18166"]]},{"id":"7552fd27.c9dacc","type":"function","z":"e86f0ca4.7feb5","g":"b974d4b3.9e3f78","name":"simulacion","func":"\n// Vector mapa Modbus\nvar Mapa = [];\n\n\nMapa[0]   = 69;\nMapa[1]   = 70;\nMapa[2]   = 71;\nMapa[3]   = 71;\nMapa[4]   = 76;\n\n// Recorrer el mapa para evitar valores indefinidos\nfor(var i=0; i<Mapa.length; i+=1){\n    Mapa[i] = val(Mapa[i]);\n}\ncontext.set('Mapa',Mapa,'memoryOnly');\n// Escribir Mapa\nmsg.payload = { \n    value: Mapa, \n    'fc': 16,\n    'unitid': 1, \n    'address': 0 , \n    'quantity': Mapa.length \n}\nreturn msg;\n\n// Ajustar datos |definded X|\nfunction val(X){\n    return typeof X != 'undefined' ? parseInt(Math.abs(X)):0;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1590,"y":2510,"wires":[["3724defddc128482"]]},{"id":"b26d4786.27c158","type":"function","z":"e86f0ca4.7feb5","g":"d22a2793.24a988","name":"test de Valores no existentes","func":"//Definición de objeto C2S\nvar myCar = {};\nmyCar.make = 'Ford';\nmyCar.model = 'Mustang';\nmyCar.year = 1969;\n\nvar C2S         = global.get('C2S.Implicit','memoryOnly')       || [];\nvar Np          = global.get('C2S.Motor_Control.Nameplate')     || [];\nvar LR          = global.get('Input.Operation.ControlMode')     || [];     \nvar SC          = global.get('C2S.Speed_Control')               || [];\nvar Status      = global.get('C2S.Drive_Status','memoryOnly')   || [];\nvar PQA         = global.get('PQA','memoryOnly')                || [];\nvar DHSelect    = global.get('Process_data.DHS.Number')         || 0;\nvar DHSData     = global.get('Process_data.DHS','memoryOnly')   || [];\nvar DHSData2    = global.get('Process_data.AI','memoryOnly')    || [];\nvar Rtx         = global.get(\"C2S.RelTx\") || 1;\n\nvar MtrVoltage = C2S.Output_Voltage * Rtx;\nvar MtrCurrent = C2S.Output_Current / Rtx;\n\nvar Nameplate = global.get(\"C2S.Motor_Control.Nameplate\");\nvar Output_Frequency    = global.get(\"C2S.Implicit.Output_Frequency\",'memoryOnly')||0;\nvar Rel = global.get(\"Relacion_Reduccion\")||1;\n\nNr      = Nameplate.RPM;\nF       = Nameplate.Hertz;\nP       = Nameplate.Poles;\nNs      = 120*F/P;\nslip    = (Ns - Nr)/Ns;\n\nvar RPMOut = Math.round((120 * C2S.Output_Frequency * (1-slip))/(P*Rel));\n\n// Vector mapa Modbus\nvar Mapa = [];\n\nMapa[0]   = C2S.Output_Frequency*10;\nMapa[1]   = MtrVoltage*10;\nMapa[2]   = C2S.Output_Current*10;\nMapa[8]   = C2S.Output_Power*10;\nMapa[10]  = C2S.Output_Voltage*10;\nMapa[12]  = RPMOut*10;\nMapa[14]  = C2S.Commanded_SpdRef;\nMapa[15]  = 1;                                        // No se ha definido. Estados Re-Arranque\nMapa[16]  = C2S.Bus_DC_Volts;\nMapa[17]  = 1;                                        // No se ha definido. Potencia aparente.\nMapa[18]  = C2S.Drive_Temp_C;\nMapa[20]  = 1;                                        // No se ha definido. Relación TX Elevador.\nMapa[21]  = 1;                                        // No se ha definido. Delta Voltaje de caida actual.\nMapa[22]  = val(DHSData[\"Vibración X\"]);                                        \nMapa[23]  = val(DHSData[\"Vibración Z\"]);                                        \nMapa[24]  = 1;                                        // No se ha definido. Vibración bomba lado acople.\nMapa[47]  = 1;                                        // No se ha definido. Referencia prolongada.\n\n// Datos placa de motor.\nMapa[3]   = MtrCurrent*10;\n\n// Datos comando Local/Remoto.\nMapa[4]   = DHSelect;\n\n// Datos control de velocidad\nMapa[5]   = SC.Accel;\nMapa[6]   = SC.Decel;\nMapa[9]   = SC.MinLimit*10;\nMapa[11]  = SC.MaxLimit*10;\n\n// Datos estado C2S\nMapa[7]   = Status.Active == 1 ? 0:1;\nMapa[13]  = Status.Actual_dir == 1 ? 1:0;\n\n// Datos PQA\nMapa[19]  = PQA.Real_Time_Parameters.Total_Power_Factor*100;\nMapa[25]  = 1;\nMapa[26]  = 1;\nMapa[27]  = PQA.Real_Time_Parameters.Average_Phase_Current*10;\nMapa[28]  = PQA.Real_Time_Parameters.Frequency*10;\nMapa[29]  = PQA.Real_Time_Parameters.Total_System_Power*10;\nMapa[30]  = PQA.Real_Time_Parameters.Total_Apparent_Power*10;\nMapa[31]  = PQA.Real_Time_Parameters.Total_Reactive_Power*10;\nMapa[32]  = PQA.Real_Time_Parameters.Total_Power_Factor*100;\nMapa[33]  = PQA.Real_Time_Parameters.Line_Voltage_1_2*10;\nMapa[34]  = PQA.Real_Time_Parameters.Line_Voltage_2_3*10;\nMapa[35]  = PQA.Real_Time_Parameters.Line_Voltage_3_1*10;\nMapa[36]  = PQA.Real_Time_Parameters.Phase_1_Voltage*10;\nMapa[37]  = PQA.Real_Time_Parameters.Phase_2_Voltage*10;\nMapa[38]  = PQA.Real_Time_Parameters.Phase_3_Voltage*10;\nMapa[39]  = PQA.Real_Time_Parameters.Total_Phase_A_Current*10;\nMapa[40]  = PQA.Real_Time_Parameters.Total_Phase_B_Current*10;\nMapa[41]  = PQA.Real_Time_Parameters.Total_Phase_C_Current*10;\nMapa[42]  = PQA.Real_Time_Parameters.Phase_A_Power*10;\nMapa[43]  = PQA.Real_Time_Parameters.Phase_B_Power*10;\nMapa[44]  = PQA.Real_Time_Parameters.Phase_C_Power*10;\nMapa[45]  = PQA.Harmonics.Power_Quality.THD_Iavg*10;\nMapa[46]  = PQA.Harmonics.Power_Quality.THD_avg*10;\n\n// Datos Sensor de fondo\nMapa[47]  = DHSData[\"Presión de entrada\"];\nMapa[48]  = DHSData[\"Presión de descarga\"];\nMapa[49]  = DHSData[\"Temperatura de entrada\"];\nMapa[50]  = DHSData[\"Temperatura de descarga\"];\nMapa[51]  = DHSData[\"Temperatura de motor\"];\nMapa[52]  = DHSData2[\"Presión de casing\"];\nMapa[53]  = DHSData2[\"Presión de cabeza THP\"];\nMapa[54]  = DHSData2[\"Temperatura de cabeza THT\"];\n\nMapa[0]   = 69;\nMapa[1]   = 70;\nMapa[2]   = 71;\nMapa[3]   = 71;\n\n// Recorrer el mapa para evitar valores indefinidos\nfor(var i=0; i<Mapa.length; i+=1){\n    Mapa[i] = val(Mapa[i]);\n}\ncontext.set('Mapa',Mapa,'memoryOnly');\n// Escribir Mapa\nmsg.payload = { \n    value: Mapa, \n    'fc': 16,\n    'unitid': 1, \n    'address': 0 , \n    'quantity': Mapa.length \n}\nreturn msg;\n\n// Ajustar datos |definded X|\nfunction val(X){\n    return typeof X != 'undefined' ? parseInt(Math.abs(X)):0;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1750,"y":2590,"wires":[[]]},{"id":"916a2c85.b65b1","type":"inject","z":"e86f0ca4.7feb5","g":"d22a2793.24a988","name":"","props":[{"p":"payload"},{"p":"topic","vt":"str"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"","payloadType":"date","x":1530,"y":2650,"wires":[["b26d4786.27c158","3cc3e7d6.d2f05"]]},{"id":"3cc3e7d6.d2f05","type":"function","z":"e86f0ca4.7feb5","g":"d22a2793.24a988","name":"funcion","func":"var C2S         = global.get('C2S.Implicit','memoryOnly')       || {};\nvar Np          = global.get('C2S.Motor_Control.Nameplate')     || {};\nvar LR          = global.get('Input.Operation.ControlMode')     || {};     \nvar SC          = global.get('C2S.Speed_Control')               || {};\nvar Status      = global.get('C2S.Drive_Status','memoryOnly')   || {};\nvar PQA         = global.get('PQA','memoryOnly')                || {};\nvar DHSelect    = global.get('Process_data.DHS.Number')         || 0;\nvar DHSData     = global.get('Process_data.DHS','memoryOnly')   || {};\nvar DHSData2    = global.get('Process_data.AI','memoryOnly')    || {};\nvar Rtx         = global.get(\"C2S.RelTx\") || 1;\n\nvar MtrVoltage =  val(C2S.Output_Voltage) * Rtx;\nvar MtrCurrent = val(C2S.Output_Current) / Rtx;\n\nvar Nameplate = global.get(\"C2S.Motor_Control.Nameplate\");\nvar Output_Frequency    = global.get(\"C2S.Implicit.Output_Frequency\",'memoryOnly')||0;\nvar Rel = global.get(\"Relacion_Reduccion\")||1;\n\nNr      = val(Nameplate.RPM);\nF       = val(Nameplate.Hertz);\nP       = val(Nameplate.Poles);\nif(P == 0){//condicion para evitar a cero\n    P == 1;\n}\nNs      = val(120*F/P);\nslip    = val((Ns - Nr)/Ns);\n\nvar RPMOut = Math.round((120 * val(C2S.Output_Frequency) * (1-slip))/(P*Rel));\n\n// Vector mapa Modbus\nvar Mapa = [];\n\nMapa[0]   = val(C2S.Output_Frequency)*10;\n//Mapa[1]   = val(MtrVoltage)*10;\n//Mapa[2]   = val(C2S.Output_Current)*10;\n//Mapa[8]   = val(C2S.Output_Power)*10;\n//Mapa[10]  = val(C2S.Output_Voltage)*10;\n//Mapa[12]  = val(RPMOut)*10;\n//Mapa[14]  = val(C2S.Commanded_SpdRef);\n//Mapa[15]  = 1;                                        // No se ha definido. Estados Re-Arranque\n//Mapa[16]  = val(C2S.Bus_DC_Volts);\n//Mapa[17]  = 1;                                        // No se ha definido. Potencia aparente.\n//Mapa[18]  = val(C2S.Drive_Temp_C);\n//Mapa[20]  = 1;                                        // No se ha definido. Relación TX Elevador.\n//Mapa[21]  = 1;                                        // No se ha definido. Delta Voltaje de caida actual.\n//Mapa[22]  = val(DHSData[\"Vibración X\"]);                                        \n//Mapa[23]  = val(DHSData[\"Vibración Z\"]);                                        \n//Mapa[24]  = 1;                                        // No se ha definido. Vibración bomba lado acople.\n//Mapa[47]  = 1;                                        // No se ha definido. Referencia prolongada.\n//\n//// Datos placa de motor.\n//Mapa[3]   = MtrCurrent*10;\n//\n//// Datos comando Local/Remoto.\n//Mapa[4]   = DHSelect;\n//\n//// Datos control de velocidad\n//Mapa[5]   = val(SC.Accel);\n//Mapa[6]   = val(SC.Decel);\n//Mapa[9]   = val(SC.MinLimit)*10;\n//Mapa[11]  = val(SC.MaxLimit)*10;\n//\n//// Datos estado C2S\n//Mapa[7]   = Status.Active == 1 ? 0:1;\n//Mapa[13]  = Status.Actual_dir == 1 ? 1:0;\n//\n//// Datos PQA\n//Mapa[19]  = val(PQA.Real_Time_Parameters.Total_Power_Factor)*100;\n//Mapa[25]  = 1;\n//Mapa[26]  = 1;\n//Mapa[27]  = val(PQA.Real_Time_Parameters.Average_Phase_Current)*10;\n//Mapa[28]  = val(PQA.Real_Time_Parameters.Frequency)*10;\n//Mapa[29]  = val(PQA.Real_Time_Parameters.Total_System_Power)*10;\n//Mapa[30]  = val(PQA.Real_Time_Parameters.Total_Apparent_Power)*10;\n//Mapa[31]  = val(PQA.Real_Time_Parameters.Total_Reactive_Power)*10;\n//Mapa[32]  = val(PQA.Real_Time_Parameters.Total_Power_Factor)*100;\n//Mapa[33]  = val(PQA.Real_Time_Parameters.Line_Voltage_1_2)*10;\n//Mapa[34]  = val(PQA.Real_Time_Parameters.Line_Voltage_2_3)*10;\n//Mapa[35]  = val(PQA.Real_Time_Parameters.Line_Voltage_3_1)*10;\n//Mapa[36]  = val(PQA.Real_Time_Parameters.Phase_1_Voltage)*10;\n//Mapa[37]  = val(PQA.Real_Time_Parameters.Phase_2_Voltage)*10;\n//Mapa[38]  = val(PQA.Real_Time_Parameters.Phase_3_Voltage)*10;\n//Mapa[39]  = val(PQA.Real_Time_Parameters.Total_Phase_A_Current)*10;\n//Mapa[40]  = val(PQA.Real_Time_Parameters.Total_Phase_B_Current)*10;\n//Mapa[41]  = val(PQA.Real_Time_Parameters.Total_Phase_C_Current)*10;\n//Mapa[42]  = val(PQA.Real_Time_Parameters.Phase_A_Power)*10;\n//Mapa[43]  = val(PQA.Real_Time_Parameters.Phase_B_Power)*10;\n//Mapa[44]  = val(PQA.Real_Time_Parameters.Phase_C_Power)*10;\n//Mapa[45]  = val(PQA.Harmonics.Power_Quality.THD_Iavg)*10;\n//Mapa[46]  = val(PQA.Harmonics.Power_Quality.THD_avg)*10;\n//\n//// Datos Sensor de fondo\n////Mapa[47]  = val(DHSData[\"Presión de entrada\"]);\n//Mapa[47]  = 1;\n////Mapa[48]  = val(DHSData[\"Presión de descarga\"]);\n//Mapa[48]  = 1;\n////Mapa[49]  = val(DHSData[\"Temperatura de entrada\"]);\n//Mapa[49]  = 1;\n////Mapa[50]  = val(DHSData[\"Temperatura de descarga\"]);\n//Mapa[50]  = 1;\n////Mapa[51]  = val(DHSData[\"Temperatura de motor\"]);\n//Mapa[51]  = 1;\n////Mapa[52]  = val(DHSData2[\"Presión de casing\"]);\n//Mapa[52]  = 1;\n////Mapa[53]  = val(DHSData2[\"Presión de cabeza THP\"]);\n//Mapa[53]  = 1;\n////Mapa[54]  = val(DHSData2[\"Temperatura de cabeza THT\"]);\n//\n//// Recorrer el mapa para evitar valores indefinidos\nfor(var i=0; i<Mapa.length; i+=1){\n    Mapa[i] = val(Mapa[i]);\n}\ncontext.set('Mapa',Mapa,'memoryOnly');\n// Escribir Mapa\nmsg.payload = { \n    value: Mapa, \n    'fc': 16,\n    'unitid': 1, \n    'address': 0 , \n    'quantity': Mapa.length \n}\nreturn msg;\n\n// Ajustar datos |definded X|\nfunction val(X){\n    return typeof X != 'undefined' ? parseInt(Math.abs(X)):0;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1710,"y":2700,"wires":[[]]},{"id":"8feada40.18166","type":"function","z":"e86f0ca4.7feb5","g":"b974d4b3.9e3f78","name":"Mapa","func":"var C2S         = global.get('C2S','memoryOnly')       || {};\nvar Np          = global.get('C2S.Motor_Control.Nameplate')     || {};\nvar LR          = global.get('Input.Operation.ControlMode')     || {};     \nvar SC          = global.get('Speed_Control')               || {};\nvar Status      = global.get('Drive_Status','memoryOnly')   || {};\nvar StatusVSDModbus = global.get('StatusVSDModbus','memoryOnly')||0;\n//valores del PQA\nvar PQA           = global.get('PQA.Real_Time_Parameters','memoryOnly')||{};\nvar Power_Quality = global.get('PQA.Harmonics.Power_Quality','memoryOnly')||{};\n\nvar DHSelect    = global.get('Process_data.DHS.Number')         || 0;\nvar DHSData     = global.get('Process_data.DHS','memoryOnly')   || {};\nvar DHSData2    = global.get('Process_data.AI','memoryOnly')    || {};\nvar Rtx         = global.get(\"C2S.RelTx\") || 1;\n\nvar MtrVoltage =  val(C2S.Output_Voltage) * Rtx;\nvar MtrCurrent = val(C2S.Output_Current) / Rtx;\n\nvar Nameplate = global.get(\"C2S.Motor_Control.Nameplate\")||{};\nvar Output_Frequency    = global.get(\"C2S.Implicit.Output_Frequency\",'memoryOnly')||0;\nvar Rel = global.get(\"Relacion_Reduccion\")||1;\n\nNr      = val(Nameplate.RPM);\nF       = val(Nameplate.Hertz);\nP       = val(Nameplate.Poles);\nif(P == 0){//condicion para evitar a cero\n    P == 1;\n}\nNs      = val(120*F/P);\nslip    = val((Ns - Nr)/Ns);\n\nvar RPMOut = Math.round((120 * val(C2S.Output_Frequency) * (1-slip))/(P*Rel));\n\n// Vector mapa Modbus\nvar Mapa = [];\nvar variables = {'C2S.Output_Frequency':C2S.Output_Frecuency}\n\nMapa[0]   = val(parseInt(C2S.Output_Frecuency))*10;\nMapa[1]   = val(MtrVoltage)*10;\nMapa[2]   = val(C2S.Output_Current)*10;\nMapa[3]   = val(C2S.Output_Current)*10;\nMapa[4]   = 0;//selector sensor de fondo\nMapa[8]   = val(C2S.Output_Power)*10;\nMapa[10]  = val(C2S.Output_Voltage)*10;\nMapa[12]  = val(RPMOut)*10;\nMapa[14]  = val(C2S.Commanded_SpdRef);\nMapa[15]  = 1;                                        // No se ha definido. Estados Re-Arranque\nMapa[16]  = val(C2S.Bus_DC_Volts);\nMapa[17]  = 1;                                        // No se ha definido. Potencia aparente.\nMapa[18]  = val(C2S.Drive_Temp_C);\nMapa[20]  = 1;                                        // No se ha definido. Relación TX Elevador.\nMapa[21]  = 1;                                        // No se ha definido. Delta Voltaje de caida actual.\n//Mapa[22]  = val(DHSData[\"Vibración X\"]);                                        \nMapa[22]  = 1;                                        \n//Mapa[23]  = val(DHSData[\"Vibración Z\"]);                                        \nMapa[23]  = 1;                                        \nMapa[24]  = 1;                                        // No se ha definido. Vibración bomba lado acople.\nMapa[47]  = 1;                                        // No se ha definido. Referencia prolongada.\n\n\n//\n//// Datos control de velocidad\nMapa[5]   = val(SC.Accel);\nMapa[6]   = val(SC.Decel);\nMapa[9]   = val(SC.MinLimit)*10;\nMapa[11]  = val(SC.MaxLimit)*10;\n//\nMapa[7]   = StatusVSDModbus;\n\n\n\nMapa[13]  = Status.Actual_dir == 1 ? 1:0;\n//\n//// Datos PQA\nMapa[19]  = val(PQA.Total_Power_Factor)*100;\nMapa[25]  = 1;\nMapa[26]  = 1;\nMapa[27]  = val(PQA.Average_Phase_Current)*10;\nMapa[28]  = val(PQA.Frequency)*10;\nMapa[29]  = val(PQA.Total_System_Power)*10;\nMapa[30]  = val(PQA.Total_Apparent_Power)*10;\nMapa[31]  = val(PQA.Total_Reactive_Power)*10;\nMapa[32]  = val(PQA.Total_Power_Factor)*100;\nMapa[33]  = val(PQA.Line_Voltage_1_2)*10;\nMapa[34]  = val(PQA.Line_Voltage_2_3)*10;\nMapa[35]  = val(PQA.Line_Voltage_3_1)*10;\nMapa[36]  = val(PQA.Phase_1_Voltage)*10;\nMapa[37]  = val(PQA.Phase_2_Voltage)*10;\nMapa[38]  = val(PQA.Phase_3_Voltage)*10;\nMapa[39]  = val(PQA.Total_Phase_A_Current)*10;\nMapa[40]  = val(PQA.Total_Phase_B_Current)*10;\nMapa[41]  = val(PQA.Total_Phase_C_Current)*10;\nMapa[42]  = val(PQA.Phase_A_Power)*10;\nMapa[43]  = val(PQA.Phase_B_Power)*10;\nMapa[44]  = val(PQA.Phase_C_Power)*10;\nMapa[45]  = val(Power_Quality.THD_Iavg)*10;//Data del PQA\nMapa[46]  = val(Power_Quality.THD_avg)*10;//Data del PQA\n\n//// Datos Sensor de fondo\n////Mapa[47]  = val(DHSData[\"Presión de entrada\"]);\nMapa[47]  = 4;\nMapa[48]  = val(DHSData[\"Presión de descarga\"]);\nMapa[48]  = 4;\n//Mapa[49]  = val(DHSData[\"Temperatura de entrada\"]);\nMapa[49]  = 4;\n////Mapa[50]  = val(DHSData[\"Temperatura de descarga\"]);\nMapa[50]  = 4;\n////Mapa[51]  = val(DHSData[\"Temperatura de motor\"]);\nMapa[51]  = 4;\n///Mapa[52]  = val(DHSData2[\"Presión de casing\"]);\nMapa[52]  = 4;\n////Mapa[53]  = val(DHSData2[\"Presión de cabeza THP\"]);\nMapa[53]  = 4;\n////Mapa[54]  = val(DHSData2[\"Temperatura de cabeza THT\"]);\nMapa[53]  = 4;\n//\n//// Recorrer el mapa para evitar valores indefinidos\n\n\n//prueba de Scada\n\n\nfor(var i=0; i<Mapa.length; i+=1){\n    Mapa[i] = val(Mapa[i]);\n}\ncontext.set('Mapa',Mapa,'memoryOnly');\ncontext.set('variables',variables,'memoryOnly');\n// Escribir Mapa\nmsg.payload = { \n    value: Mapa, \n    'fc': 16,\n    'unitid': 1, \n    'address': 0 , \n    'quantity': Mapa.length \n}\nreturn msg;\n\n// Ajustar datos |definded X|\nfunction val(X){\n    if (isNaN(X)) {// si es un valor numero\n        return 0;\n   }else{// si esta definido \n        return typeof X != 'undefined' ? parseInt(Math.abs(X)):0;\n   }\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1580,"y":2420,"wires":[["3724defddc128482"]]},{"id":"94aaa245.44c278","type":"inject","z":"e86f0ca4.7feb5","name":"","props":[],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":150,"y":2980,"wires":[["28cd24c9.fd0d9c"]]},{"id":"28cd24c9.fd0d9c","type":"function","z":"e86f0ca4.7feb5","d":true,"name":"Permisivo de remoto","func":"var entradas = flow.get('ActFunctions','memoryOnly');\nif(entradas[4].Estado == false){\n    global.set('Local/Remoto',\"Remoto\")\n    return msg;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":320,"y":2980,"wires":[[]]},{"id":"99ba8dae.66de7","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"","label":"Corriente nominal","tooltip":"","group":"13bf819a.65c586","order":1,"width":"6","height":"1","passthru":true,"mode":"number","delay":"0","topic":"","x":600,"y":3100,"wires":[["63023b7d.6c0a8c"]]},{"id":"83ad2d47.6536c8","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"","label":"Corriente Bypass","tooltip":"","group":"13bf819a.65c586","order":2,"width":"6","height":"1","passthru":true,"mode":"number","delay":"0","topic":"","x":600,"y":3140,"wires":[["c4e8c6f.5e40b38"]]},{"id":"c186e2d4.e656a","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"","label":"% Bypass","tooltip":"","group":"13bf819a.65c586","order":3,"width":"6","height":"1","passthru":true,"mode":"number","delay":"0","topic":"","x":580,"y":3180,"wires":[["e8a4c965.84cf58"]]},{"id":"63023b7d.6c0a8c","type":"change","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"F.A. Corriente nominal","rules":[{"t":"set","p":"Filtro_armonicos.Corriente_nominal","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3100,"wires":[[]]},{"id":"c4e8c6f.5e40b38","type":"change","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"F.A. Corriente bypass","rules":[{"t":"set","p":"Filtro_armonicos.Corriente_bypass","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":810,"y":3140,"wires":[["15c579d8.16795e"]]},{"id":"e8a4c965.84cf58","type":"change","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"F.A. % bypass","rules":[{"t":"set","p":"Filtro_armonicos.Porcentaje_bypass","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":790,"y":3180,"wires":[["70b71704.d5b21"]]},{"id":"15c579d8.16795e","type":"function","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"Cálculo %","func":"CN          = flow.get('Filtro_armonicos.Corriente_nominal')||null;\n\nif(msg.topic != '% Bypass'){\n    msg.payload = 100 * msg.payload / CN;\n    msg.topic   = 'Corriente Bypass';\n    return msg;\n}\nreturn;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1000,"y":3140,"wires":[["c186e2d4.e656a"]]},{"id":"70b71704.d5b21","type":"function","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"Cálculo Corriente","func":"CN          = flow.get('Filtro_armonicos.Corriente_nominal')||null;\nif(msg.topic !='Corriente Bypass'){\n    msg.payload = CN*msg.payload/100;\n    msg.topic = '% Bypass';\n    return msg;\n}\nreturn;\n","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1020,"y":3180,"wires":[["83ad2d47.6536c8"]]},{"id":"cf19cdf5.5c63b8","type":"link in","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"Inicializar F.A","links":["ad87cee4.7dbb5"],"x":175,"y":3140,"wires":[["e1a7ebe7.07176","1b85ab91.41ca2c","374a05ca.665b6a","b35aa859.4e68d8"]]},{"id":"e1a7ebe7.07176","type":"change","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"F.A. Corriente nominal","rules":[{"t":"set","p":"payload","pt":"msg","to":"Filtro_armonicos.Corriente_nominal","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":3100,"wires":[["99ba8dae.66de7"]]},{"id":"1b85ab91.41ca2c","type":"change","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"F.A. Corriente bypass","rules":[{"t":"set","p":"payload","pt":"msg","to":"Filtro_armonicos.Corriente_bypass","tot":"flow"},{"t":"set","p":"topic","pt":"msg","to":"% Bypass","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":3140,"wires":[["83ad2d47.6536c8"]]},{"id":"374a05ca.665b6a","type":"change","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"F.A. Corriente bypass","rules":[{"t":"set","p":"payload","pt":"msg","to":"Filtro_armonicos.Porcentaje_bypass","tot":"flow"},{"t":"set","p":"topic","pt":"msg","to":"Corriente Bypass","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":3180,"wires":[["c186e2d4.e656a"]]},{"id":"34f0c776.dcc38","type":"inject","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":140,"y":3180,"wires":[["e1a7ebe7.07176","1b85ab91.41ca2c","374a05ca.665b6a","b35aa859.4e68d8"]]},{"id":"21c8167a.dc0f0a","type":"ui_text_input","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"","label":"Tiempo muerto Bypass (s)","tooltip":"","group":"13bf819a.65c586","order":4,"width":"6","height":"1","passthru":true,"mode":"number","delay":"0","topic":"","x":630,"y":3220,"wires":[["fa7e1f13.631d68"]]},{"id":"fa7e1f13.631d68","type":"change","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"F.A. Tiempo muerto","rules":[{"t":"set","p":"Filtro_armonicos.Tiempo_muerto","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":860,"y":3220,"wires":[[]]},{"id":"b35aa859.4e68d8","type":"change","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"F.A. Corriente bypass","rules":[{"t":"set","p":"payload","pt":"msg","to":"Filtro_armonicos.Tiempo_muerto","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":360,"y":3220,"wires":[["21c8167a.dc0f0a"]]},{"id":"2d37969b.f5a5d2","type":"ui_button","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"","group":"13bf819a.65c586","order":6,"width":"3","height":"1","passthru":false,"label":"Habilitar bypass","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":740,"y":3300,"wires":[["12e87c11.1b9a9c"]]},{"id":"ae6b83d0.08bcc","type":"ui_button","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"","group":"13bf819a.65c586","order":7,"width":"3","height":"1","passthru":false,"label":"Deshabilitar bypass","tooltip":"","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":750,"y":3340,"wires":[["3974b514.0fac1a"]]},{"id":"12e87c11.1b9a9c","type":"change","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"Habilitar","rules":[{"t":"set","p":"Filtro_armonicos.Habilitar","pt":"flow","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":920,"y":3300,"wires":[[]]},{"id":"3974b514.0fac1a","type":"change","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"Deshabilitar","rules":[{"t":"set","p":"Filtro_armonicos.Habilitar","pt":"flow","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":930,"y":3340,"wires":[[]]},{"id":"2e727d30.ac4db2","type":"complete","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"","scope":["12e87c11.1b9a9c","3974b514.0fac1a"],"uncaught":false,"x":260,"y":3300,"wires":[["6bf55df4.d10704"]]},{"id":"6bf55df4.d10704","type":"switch","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"","property":"Filtro_armonicos.Habilitar","propertyType":"flow","rules":[{"t":"true"},{"t":"false"}],"checkall":"true","repair":false,"outputs":2,"x":410,"y":3320,"wires":[["c302a8c4.2b49f8","54a7490b.2797"],["644e5e06.3306d","1598cab6.8a12fd"]]},{"id":"c302a8c4.2b49f8","type":"change","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":560,"y":3260,"wires":[["2d37969b.f5a5d2"]]},{"id":"54a7490b.2797","type":"change","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":560,"y":3300,"wires":[["ae6b83d0.08bcc"]]},{"id":"1598cab6.8a12fd","type":"change","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"true","rules":[{"t":"set","p":"enabled","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":560,"y":3340,"wires":[["2d37969b.f5a5d2"]]},{"id":"644e5e06.3306d","type":"change","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"False","rules":[{"t":"set","p":"enabled","pt":"msg","to":"false","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":560,"y":3380,"wires":[["ae6b83d0.08bcc"]]},{"id":"a7671f5c.c6f4a8","type":"link in","z":"e86f0ca4.7feb5","g":"7d786b12.6e23b4","name":"Bypass filtro armónicos","links":["ad87cee4.7dbb5"],"x":315,"y":3340,"wires":[["6bf55df4.d10704"]]},{"id":"67cd1756.68cc7","type":"function","z":"e86f0ca4.7feb5","g":"425cfe7f.80b058","name":"Filtro de armónicos","func":"var Corriente = flow.get('Filtro_armonicos.Corriente_bypass')||0;\nvar payload = msg.payload;\nmsg.payload = TON(parseFloat(msg.payload) >= Corriente ? true:false,msg.delay);\nnode.status({fill:msg.payload === true? 'red':'green',shape:\"dot\",text: parseFloat(payload)+\" >= \"+Corriente });\nreturn msg;\n\nfunction TON(val,delay){\n    var Ant = context.get(\"Anterior\")||false;\n    // Actualizar el contexto\n    context.set(\"Anterior\", val);\n    //Flanco de subida\n    if(val === true && Ant === false){\n        context.set(\"RefTime\", Date.now());\n    }\n    else if(val === true && Ant === true){\n        if(Date.now() - context.get(\"RefTime\") >= delay*1000){\n            return true;\n        }\n    }\n    return false;\n}","outputs":1,"noerr":0,"initialize":"","finalize":"","x":400,"y":3470,"wires":[["a7000289.b8cb2"]]},{"id":"e36c0499.7b3e08","type":"inject","z":"e86f0ca4.7feb5","g":"425cfe7f.80b058","name":"Corriente de entrada","props":[{"p":"payload"},{"p":"delay","v":"Filtro_armonicos.Tiempo_muerto","vt":"flow"}],"repeat":"0.5","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"#:(memoryOnly)::PQA.Real_Time_Parameters.Average_Phase_Current","payloadType":"global","x":190,"y":3470,"wires":[["67cd1756.68cc7"]]},{"id":"a7000289.b8cb2","type":"change","z":"e86f0ca4.7feb5","g":"425cfe7f.80b058","name":"","rules":[{"t":"set","p":"#:(memoryOnly)::Filtro_armonicos.Estado","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":650,"y":3470,"wires":[[]]},{"id":"e1426513.b6ead8","type":"function","z":"e86f0ca4.7feb5","g":"b974d4b3.9e3f78","name":"Salidas Digitales","func":"var ES = flow.get('ES')||null;\nvar Drive_Status = global.get('Drive_Status','memoryOnly') || null;\nvar ActFunctions = flow.get('ActFunctions','memoryOnly') || null;\nvar Prot = global.get('Protections.RFlag','memoryOnly') || false;\nvar FA = global.get('Filtro_armonicos.Estado','memoryOnly')||false;\nvar Local_remoto= global.get('Local/Remoto','file')||null;\n\n// Arreglo de Canales\nvar Data    = { \n    32:false, 33:false, 34:false, 35:false, \n    36:false, 37:false, 38:false, 39:false, \n    40:false, 41:false, 42:false, 43:false\n};\n\n// Obtener llaves del objeto Data\nvar Canal = Object.keys(Data);\n// Declaración del string con \nvar canalmsg;\n\n//Objeto con las funciones del CILA2S\nvar FuncionC2S = {\n    \"CILA2S_EN_MARCHA\"          : Drive_Status != null ? (Drive_Status.Active == 1 ? true:false): false ,\n    \"FALLA_GENERAL\"             : Drive_Status != null ? (Drive_Status.Fault  == 1 ? true:false|| Prot):false, \n    //\"FALLA_GENERAL\"             : Drive_Status != null ? (Drive_Status.Fault  == 1 ? true:true || Prot):true, \n    \"DISPARO_BREAKER_MODULO_ESD\": InFunction(ActFunctions,'Stop_ESD') || InFunction(ActFunctions,'Disparo_bajo_bajo_aceite_SUT') || InFunction(ActFunctions,'Disparo_valvula_sobrepresion') ||InFunction(ActFunctions,'Disparo_alta_temperatura_SUT') || InFunction(ActFunctions,'Disparo_alta_temperatura_filtros') || InFunction(ActFunctions,'Disparo_Alta_presión_THP')|| InFunction(ActFunctions,'Disparo_sobre_tensión_SUT') || InFunction(ActFunctions,'ESD_Remoto')|| InFunction(ActFunctions,'Proteccion_termica_de_motor') ,\n    \"BYPASS_FILTRO_ARMONICOS\"   : FA,\n    \"SIMULACION\"                : InFunction(ActFunctions,'Simulación'),\n    \"Local/Remoto\"              : Local_remoto == 'Remoto' ? true:false\n}\n\n// Funciones que se activan desde una entrada digital\nfunction InFunction(Var,Str){\n    for(var j = 0; j < Var.length; j++){\n        if(Var[j].Funcion == Str){\n            return Var[j].Estado;\n        }\n    }\n}\n\n// Llaves del vector FuncionesC2S\nvar Keys = Object.keys(FuncionC2S);\n\n// Para cada canal de salida\nfor(var i=0; i <Canal.length; i++){\n    canalmsg ='Canal'+ Canal[i];\n    // Si la configuración del canal está declarada\n    if(typeof ES.SD[canalmsg] != 'undefined'){\n        // Para cada llave del vector FuncionesC2S que coincida con la configuración del canal\n        for(var j=0; j<Keys.length; j++){\n            if(ES.SD[canalmsg].Funcion == Keys[j]){\n                // Asignar el valor contenido en el vector de funciones al canal de salida\n                Data[Canal[i]] = ES.SD[canalmsg].Tipo == \"NO\" ? FuncionC2S[Keys[j]]:!FuncionC2S[Keys[j]];\n            } \n        }\n    }\n}\n\n// Asignar variable con los valores a escribir  (Se puede eliminar al asignar directamente).\nvar values = Object.values(Data);\ncontext.set('values',values,'memoryOnly')\n\n// Escribir datos en el Cubloc\nmsg.payload = { \n    value: values, \n    'fc': 15, \n    'unitid': 1, \n    'address': 4096, \n    'quantity': 12 \n}\n\n// Retorno del mensaje\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1600,"y":2300,"wires":[["d2ef2515.318b48"]],"inputLabels":["Activar función"],"outputLabels":["Canal32"]},{"id":"05ca317db8d0e3da","type":"modbus-read","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"PyModbusServer","topic":"","showStatusActivities":false,"logIOActivities":false,"showErrors":false,"unitid":"1","dataType":"HoldingRegister","adr":"55","quantity":"1","rate":"1","rateUnit":"s","delayOnStart":false,"startDelayTime":"","server":"4cac86d3154c67c1","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"x":410,"y":250,"wires":[["63cf0ba4fdc55484"],[]]},{"id":"052b4ad7694f4e17","type":"switch","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"","property":"payload[0]","propertyType":"msg","rules":[{"t":"eq","v":"1","vt":"num"},{"t":"eq","v":"2","vt":"num"},{"t":"eq","v":"4","vt":"num"}],"checkall":"true","repair":false,"outputs":3,"x":890,"y":250,"wires":[["40a7a5e88d4d7930"],["9e8a82afc942c4f1"],["722b128ccd16575f"]]},{"id":"486becd32fe0c840","type":"rbe","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload[0]","x":770,"y":250,"wires":[["052b4ad7694f4e17"]]},{"id":"40a7a5e88d4d7930","type":"switch","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"Remoto","property":"Local/Remoto","propertyType":"global","rules":[{"t":"eq","v":"Remoto","vt":"str"},{"t":"eq","v":"Local","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1190,"y":130,"wires":[["ae2142a6eae4a65a"],["ee13d90e8bca9376"]]},{"id":"9e8a82afc942c4f1","type":"switch","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"Remoto","property":"Local/Remoto","propertyType":"global","rules":[{"t":"eq","v":"Local","vt":"str"},{"t":"eq","v":"Remoto","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1190,"y":250,"wires":[["f42a15c7869ba675"],["3ef2bbb7933b1fd6"]]},{"id":"ee13d90e8bca9376","type":"change","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"Arranque remoto bloqueado","rules":[{"t":"set","p":"payload","pt":"msg","to":"Intento de arranque remoto bloqueado","tot":"str"},{"t":"delete","p":"topic","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1250,"y":170,"wires":[["6026f9a1fb67d99c"]]},{"id":"f42a15c7869ba675","type":"change","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"Parada remota bloqueada","rules":[{"t":"set","p":"payload","pt":"msg","to":"Intento de parada remota bloqueada","tot":"str"},{"t":"delete","p":"topic","pt":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1260,"y":210,"wires":[["6026f9a1fb67d99c"]]},{"id":"6026f9a1fb67d99c","type":"link out","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"Evento Arranque/Parada Bloqueado Link Out","links":["59e817c2.295b38"],"x":1425,"y":190,"wires":[]},{"id":"63cf0ba4fdc55484","type":"switch","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"SCADA TCP","property":"SCADA.Type","propertyType":"global","rules":[{"t":"eq","v":"TCP","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":580,"y":250,"wires":[["486becd32fe0c840","618cf993e767dd2e"]]},{"id":"8c7033596c8c0db0","type":"switch","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"SCADA RTU","property":"SCADA.Type","propertyType":"global","rules":[{"t":"eq","v":"RTU","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":580,"y":300,"wires":[["486becd32fe0c840","36ce91758a343c02"]]},{"id":"36ce91758a343c02","type":"debug","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"payload[0]","targetType":"msg","statusVal":"payload[50]","statusType":"auto","x":750,"y":300,"wires":[]},{"id":"4c92ff039447c86b","type":"modbus-flex-getter","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"Leer Cubloc RS-232","showStatusActivities":true,"showErrors":false,"logIOActivities":false,"server":"f630cb55.8d18e8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":390,"y":300,"wires":[["8c7033596c8c0db0"],[]]},{"id":"75902e961c65b5a6","type":"function","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"Registro Modbus","func":"msg.payload = { \n    'fc': 4, \n    'unitid': 1, \n    'address': 28672+20+55, \n    'quantity':1   \n} \nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":180,"y":300,"wires":[["4c92ff039447c86b"]]},{"id":"618cf993e767dd2e","type":"debug","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"","active":true,"tosidebar":false,"console":false,"tostatus":true,"complete":"payload[0]","targetType":"msg","statusVal":"payload[50]","statusType":"auto","x":750,"y":200,"wires":[]},{"id":"ae2142a6eae4a65a","type":"change","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"Arranque Remoto","rules":[{"t":"set","p":"payload","pt":"msg","to":"Start","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Basic","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1380,"y":130,"wires":[["f420430a.f9f0b8","4883178.e533168"]]},{"id":"3ef2bbb7933b1fd6","type":"change","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"Parada Remoto","rules":[{"t":"set","p":"payload","pt":"msg","to":"Stop","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"Basic","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1370,"y":250,"wires":[["a3e811e4.91fd8","8a472971.04acc8"]]},{"id":"722b128ccd16575f","type":"change","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"Reset remoto","rules":[{"t":"set","p":"payload","pt":"msg","to":"Reset","tot":"str"},{"t":"set","p":"payload","pt":"msg","to":"Basic","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1010,"y":290,"wires":[["cf9a5b02.cc9d38","fb9a21fc.261818"]]},{"id":"5a4a7320ef1bc1dc","type":"change","z":"e6c9d18.fc90f3","g":"588e07663b907a82","name":"SCADA TCP","rules":[{"t":"set","p":"SCADA.Type","pt":"global","to":"TCP","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":710,"wires":[[]]},{"id":"bd124bb4da2e2bd9","type":"change","z":"e6c9d18.fc90f3","g":"588e07663b907a82","name":"SCADA RTU","rules":[{"t":"set","p":"SCADA.Type","pt":"global","to":"RTU","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":390,"y":750,"wires":[[]]},{"id":"7b6c6918c8a7e81a","type":"inject","z":"e6c9d18.fc90f3","g":"588e07663b907a82","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":250,"y":710,"wires":[["5a4a7320ef1bc1dc"]]},{"id":"eac9944e8b1fc5d1","type":"inject","z":"e6c9d18.fc90f3","g":"588e07663b907a82","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":250,"y":750,"wires":[["bd124bb4da2e2bd9"]]},{"id":"f420430a.f9f0b8","type":"link out","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"ModbusComandosArranque","links":["c581c8dc.d013e8"],"x":1645,"y":120,"wires":[]},{"id":"a3e811e4.91fd8","type":"link out","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"","links":["e0c911fe.aaa9"],"x":1635,"y":410,"wires":[]},{"id":"4486e1dc.7b1c6","type":"inject","z":"2f52b784.7e042","g":"23c99fd.b16886","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":160,"y":110,"wires":[["17475ea4.e2c431"]]},{"id":"17475ea4.e2c431","type":"exec","z":"2f52b784.7e042","g":"23c99fd.b16886","command":"sudo rm ~/.node-red/node_modules/nodepccc/nodePCCC.js","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Eliminar librería PCCC actual","x":450,"y":110,"wires":[[],[],[]]},{"id":"699f8e75.52924","type":"complete","z":"2f52b784.7e042","g":"23c99fd.b16886","name":"","scope":["17475ea4.e2c431"],"uncaught":false,"x":140,"y":150,"wires":[["f375ab1b.6713c8"]]},{"id":"f375ab1b.6713c8","type":"exec","z":"2f52b784.7e042","g":"23c99fd.b16886","command":"sudo cp ~/Documents/PCCC/PowerFlex755/nodePCCC.js ~/.node-red/node_modules/nodepccc/nodePCCC.js","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Reemplazar librería PowerFlex755","x":430,"y":170,"wires":[[],[],[]]},{"id":"d057c895.aae998","type":"inject","z":"2f52b784.7e042","g":"23c99fd.b16886","name":"","props":[{"p":"payload"}],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","payload":"true","payloadType":"bool","x":160,"y":190,"wires":[["f375ab1b.6713c8"]]},{"id":"daeaa5f3.b6c508","type":"exec","z":"2f52b784.7e042","g":"23c99fd.b16886","command":"sudo reboot now","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"Reiniciar controlador","x":470,"y":230,"wires":[[],[],[]]},{"id":"3b8a4863.32b688","type":"complete","z":"2f52b784.7e042","g":"23c99fd.b16886","name":"","scope":["f375ab1b.6713c8"],"uncaught":false,"x":140,"y":230,"wires":[["c099a844.31d128"]]},{"id":"c099a844.31d128","type":"delay","z":"2f52b784.7e042","g":"23c99fd.b16886","name":"","pauseType":"delay","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":290,"y":230,"wires":[["daeaa5f3.b6c508"]]},{"id":"9166d8c5.4d55f","type":"inject","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"","props":[],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":1510,"y":390,"wires":[["a3e811e4.91fd8"]]},{"id":"e48289f3.fd3b88","type":"inject","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"","props":[],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":1710,"y":80,"wires":[["f420430a.f9f0b8"]]},{"id":"424a0e7c.8bd648","type":"inject","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"","props":[],"repeat":"1","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":120,"y":250,"wires":[["75902e961c65b5a6","221e07e6.15b638"]]},{"id":"cf9a5b02.cc9d38","type":"link out","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"resetScadaComunicacion","links":["1fdf355.5b5f8cb"],"x":1225,"y":300,"wires":[]},{"id":"8c2db83a.10fd58","type":"change","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"Reset Remoto","rules":[{"t":"set","p":"payload","pt":"msg","to":"Reset Remoto","tot":"str"},{"t":"set","p":"topic","pt":"msg","to":"ScadaRemoto","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1000,"y":400,"wires":[["ebd426c6.92c6a"]]},{"id":"fb9a21fc.261818","type":"delay","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1050,"y":340,"wires":[["8c2db83a.10fd58"]]},{"id":"ebd426c6.92c6a","type":"link out","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"Reset Remoto","links":["59e817c2.295b38"],"x":1275,"y":400,"wires":[]},{"id":"c522ff06.267f78","type":"inject","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"","props":[],"repeat":"","crontab":"","once":false,"onceDelay":0.1,"topic":"","x":1260,"y":360,"wires":[["cf9a5b02.cc9d38"]]},{"id":"5bd517bbe4a200f8","type":"switch","z":"e6c9d18.fc90f3","name":"SCADA RTU","property":"SCADA.Type","propertyType":"global","rules":[{"t":"eq","v":"RTU","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":750,"y":570,"wires":[["ccfa18b9.60a778","a85ec2c5.3071f8"]]},{"id":"5c46f3f3.d91c2c","type":"modbus-flex-getter","z":"e6c9d18.fc90f3","name":"Leer Cubloc RS-232","showStatusActivities":true,"showErrors":false,"logIOActivities":false,"server":"f630cb55.8d18e8","useIOFile":false,"ioFile":"","useIOForPayload":false,"emptyMsgOnFail":false,"keepMsgProperties":false,"x":420,"y":540,"wires":[["ac9a2873.eab418","dcdd73e9.4ef8"],[]]},{"id":"ed7c11bb.af37f","type":"function","z":"e6c9d18.fc90f3","name":"Registro Modbus","func":"msg.payload = { \n    'fc': 4, \n    'unitid': 1, \n    'address': 28672+20+55 +1, //Referencia\n    'quantity':1   \n} \nreturn msg","outputs":1,"noerr":0,"initialize":"","finalize":"","x":210,"y":540,"wires":[["5c46f3f3.d91c2c"]]},{"id":"29a7322b.2db096","type":"pccc out","z":"e6c9d18.fc90f3","endpoint":"bdf717d2.f19ae8","variable":"Speed_Reference","name":"Referencia de velocidad","x":950,"y":520,"wires":[]},{"id":"ccfa18b9.60a778","type":"function","z":"e6c9d18.fc90f3","name":"Referencia","func":"var referencia = msg.payload[0]/10;\nmsg.payload = parseInt(referencia*10000);\nnode.status({fill:\"green\",shape:\"dot\",text:msg.payload});\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":910,"y":570,"wires":[["29a7322b.2db096"]]},{"id":"ac9a2873.eab418","type":"debug","z":"e6c9d18.fc90f3","name":"","active":false,"tosidebar":true,"console":false,"tostatus":true,"complete":"payload","targetType":"msg","statusVal":"payload","statusType":"auto","x":630,"y":490,"wires":[]},{"id":"221e07e6.15b638","type":"delay","z":"e6c9d18.fc90f3","name":"","pauseType":"delay","timeout":"100","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":190,"y":500,"wires":[["ed7c11bb.af37f"]]},{"id":"dcdd73e9.4ef8","type":"rbe","z":"e6c9d18.fc90f3","name":"","func":"rbe","gap":"","start":"","inout":"out","property":"payload[0]","x":610,"y":570,"wires":[["5bd517bbe4a200f8"]]},{"id":"a85ec2c5.3071f8","type":"function","z":"e6c9d18.fc90f3","name":"msg","func":"var referencia = (parseInt(msg.payload[0]))/10;\nmsg.payload = 'Cambio de Velocidad Remota a : ' + referencia + 'Hz'\nmsg.topic = 'Referencia Remota'\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":880,"y":680,"wires":[["28226887.ceff9"]]},{"id":"c0e3d04e.90e108","type":"ui_toast","z":"e6c9d18.fc90f3","position":"top right","displayTime":"3","highlight":"","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1070,"y":720,"wires":[]},{"id":"9fb65d7a.6ca43","type":"link out","z":"e6c9d18.fc90f3","name":"Evento Referencia Remota","links":["59e817c2.295b38"],"x":1215,"y":660,"wires":[]},{"id":"97cf3dc4.ab7cd8","type":"ui_toast","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","position":"top right","displayTime":"3","highlight":"","sendall":true,"outputs":0,"ok":"OK","cancel":"","raw":false,"topic":"","name":"","x":1760,"y":340,"wires":[]},{"id":"8a472971.04acc8","type":"function","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"msg","func":"msg.payload = 'Envio Parada Remota Comunicación'\nmsg.topic = 'Parada Remota'\nglobal.set('Source_for_events.Stop',2)\nvar Fuente = global.get(\"Source_for_events.Stop\")||0;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1540,"y":300,"wires":[["97cf3dc4.ab7cd8","d5fc3fb.27a824"]]},{"id":"d5fc3fb.27a824","type":"link out","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"Evento Referencia Remota","links":["59e817c2.295b38"],"x":1695,"y":300,"wires":[]},{"id":"4883178.e533168","type":"function","z":"e6c9d18.fc90f3","g":"5993c0f75c8aaf11","name":"msg","func":"msg.payload = 'Envio Arranque Remota Comunicación'\nmsg.topic = 'Arraque Remota'\nglobal.set('Source_for_events.Stop',2)\nvar Fuente = global.get(\"Source_for_events.Stop\")||0;\n\nreturn msg;","outputs":1,"noerr":0,"initialize":"","finalize":"","x":1550,"y":180,"wires":[["d5fc3fb.27a824","97cf3dc4.ab7cd8"]]},{"id":"28226887.ceff9","type":"delay","z":"e6c9d18.fc90f3","name":"","pauseType":"delay","timeout":"1","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1060,"y":670,"wires":[["9fb65d7a.6ca43","c0e3d04e.90e108"]]}]